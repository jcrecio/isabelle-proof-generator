{"file_name": "/home/qj213/afp-2021-10-22/thys/Iptables_Semantics/Semantics_Goto.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Iptables_Semantics", "problem_names": ["lemma deny:\n      \"matches \\<gamma> m p \\<Longrightarrow> a = Drop \\<or> a = Reject \\<Longrightarrow> iptables_goto_bigstep \\<Gamma> \\<gamma> p [Rule m a] Undecided (Decision FinalDeny)\"", "lemma iptables_goto_bigstep_induct\n      [case_names\n        Skip Allow Deny Log Nomatch Decision Seq Call_return Call_result Goto_Decision Goto_no_Decision,\n       induct pred: iptables_goto_bigstep]:\n    \"\\<lbrakk> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t;\n       \\<And>t. P [] t t;\n       \\<And>m a. matches \\<gamma> m p \\<Longrightarrow> a = Accept \\<Longrightarrow> P [Rule m a] Undecided (Decision FinalAllow);\n       \\<And>m a. matches \\<gamma> m p \\<Longrightarrow> a = Drop \\<or> a = Reject \\<Longrightarrow> P [Rule m a] Undecided (Decision FinalDeny);\n       \\<And>m a. matches \\<gamma> m p \\<Longrightarrow> a = Log \\<or> a = Empty \\<Longrightarrow> P [Rule m a] Undecided Undecided;\n       \\<And>m a. \\<not> matches \\<gamma> m p \\<Longrightarrow> P [Rule m a] Undecided Undecided;\n       \\<And>rs X. P rs (Decision X) (Decision X);\n       \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t'. rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> P rs\\<^sub>1 Undecided t \\<Longrightarrow> \n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t\\<rangle> \\<Rightarrow> t' \\<Longrightarrow> P rs\\<^sub>2 t t' \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow> \n                          P rs Undecided t';\n       \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2. matches \\<gamma> m p \\<Longrightarrow> a = Call chain \\<Longrightarrow>\n                              \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2) \\<Longrightarrow>\n                              matches \\<gamma> m' p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n                              no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>  P rs\\<^sub>1 Undecided Undecided \\<Longrightarrow>\n                              P [Rule m a] Undecided Undecided;\n       \\<And>m a chain rs t. matches \\<gamma> m p \\<Longrightarrow> a = Call chain \\<Longrightarrow> \\<Gamma> chain = Some rs \\<Longrightarrow>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> P rs Undecided t \\<Longrightarrow> P [Rule m a] Undecided t;\n       \\<And>m a chain rs rest X. matches \\<gamma> m p \\<Longrightarrow> a = Goto chain \\<Longrightarrow> \\<Gamma> chain = Some rs \\<Longrightarrow>\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,Undecided\\<rangle> \\<Rightarrow> (Decision X) \\<Longrightarrow> P rs Undecided (Decision X) \\<Longrightarrow>\n                              P (Rule m a#rest) Undecided (Decision X);\n       \\<And>m a chain rs rest. matches \\<gamma> m p \\<Longrightarrow> a = Goto chain \\<Longrightarrow> \\<Gamma> chain = Some rs \\<Longrightarrow>\n                           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow> P rs Undecided Undecided \\<Longrightarrow>\n                           P (Rule m a#rest) Undecided Undecided\\<rbrakk> \\<Longrightarrow>\n     P rs s t\"", "lemma decisionD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> s = Decision X \\<Longrightarrow> t = Decision X\"", "lemma iptables_goto_bigstep_to_undecided: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow> s = Undecided\"", "lemma iptables_goto_bigstep_to_decision: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Decision Y\\<rangle> \\<Rightarrow> Decision X \\<Longrightarrow> Y = X\"", "lemma skipD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [] \\<Longrightarrow> s = t\"", "lemma gotoD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m (Goto chain)] \\<Longrightarrow> s = Undecided \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow>\n                    \\<exists> rs. \\<Gamma> chain = Some rs \\<and> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t\"", "lemma not_no_matching_Goto_singleton_cases: \"\\<not> no_matching_Goto \\<gamma> p [Rule m a] \\<longleftrightarrow> (\\<exists> chain. a = (Goto chain)) \\<and> matches \\<gamma> m p\"", "lemma no_matching_Goto_Cons: \"no_matching_Goto \\<gamma> p [r] \\<Longrightarrow> no_matching_Goto \\<gamma> p rs \\<Longrightarrow> no_matching_Goto \\<gamma> p (r#rs)\"", "lemma no_matching_Goto_head: \"no_matching_Goto \\<gamma> p (r#rs) \\<Longrightarrow> no_matching_Goto \\<gamma> p [r]\"", "lemma no_matching_Goto_tail: \"no_matching_Goto \\<gamma> p (r#rs) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\"", "lemma not_no_matching_Goto_cases:\n      assumes \"\\<not> no_matching_Goto \\<gamma> p rs\" \"rs \\<noteq> []\"\n      shows \"\\<exists>rs1 m chain rs2. rs = rs1@(Rule m (Goto chain))#rs2 \\<and> no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\"", "lemma seq_cons_Goto_Undecided: \n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\"\n      and \"\\<not> matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) # rs, Undecided\\<rangle> \\<Rightarrow> Undecided\"", "lemma seq_cons_Goto_t: \n      \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) # rs, Undecided\\<rangle> \\<Rightarrow> t\"", "lemma no_matching_Goto_append: \"no_matching_Goto \\<gamma> p (rs1@rs2) \\<longleftrightarrow> no_matching_Goto \\<gamma> p rs1 \\<and>  no_matching_Goto \\<gamma> p rs2\"", "lemma no_matching_Goto_append1: \"no_matching_Goto \\<gamma> p (rs1@rs2) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs1\"", "lemma no_matching_Goto_append2: \"no_matching_Goto \\<gamma> p (rs1@rs2) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs2\"", "lemma seq_cons:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],Undecided\\<rangle> \\<Rightarrow> t\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,t\\<rangle> \\<Rightarrow> t'\" and \"no_matching_Goto \\<gamma> p [r]\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, Undecided\\<rangle> \\<Rightarrow> t'\"", "lemma acceptD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Accept] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Decision FinalAllow\"", "lemma dropD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Drop] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Decision FinalDeny\"", "lemma rejectD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Reject] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Decision FinalDeny\"", "lemma logD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Log] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Undecided\"", "lemma emptyD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Empty] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Undecided\"", "lemma nomatchD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m a] \\<Longrightarrow> s = Undecided \\<Longrightarrow> \\<not> matches \\<gamma> m p \\<Longrightarrow> t = Undecided\"", "lemma callD:\n        assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t\" \"r = [Rule m (Call chain)]\" \"s = Undecided\" \"matches \\<gamma> m p\" \"\\<Gamma> chain = Some rs\"\n        obtains \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t\"\n              | rs\\<^sub>1 rs\\<^sub>2 m' where \"rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2\" \"matches \\<gamma> m' p\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> Undecided\" \"no_matching_Goto \\<gamma> p rs\\<^sub>1\" \"t = Undecided\"", "lemmas iptables_goto_bigstepD = skipD acceptD dropD rejectD logD emptyD nomatchD decisionD callD gotoD", "lemma seq':\n      assumes \"rs = rs\\<^sub>1 @ rs\\<^sub>2\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t\\<rangle> \\<Rightarrow> t'\" and \"no_matching_Goto \\<gamma> p rs\\<^sub>1\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t'\"", "lemma seq'_cons: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,t\\<rangle> \\<Rightarrow> t' \\<Longrightarrow> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, s\\<rangle> \\<Rightarrow> t'\"", "lemma no_matching_Goto_take: \"no_matching_Goto \\<gamma> p rs \\<Longrightarrow> no_matching_Goto \\<gamma> p  (take n rs)\"", "lemma seq_split:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\" \"rs = rs\\<^sub>1@rs\\<^sub>2\"\n      obtains (no_matching_Goto) t' where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t'\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t'\\<rangle> \\<Rightarrow> t\" \"no_matching_Goto \\<gamma> p rs\\<^sub>1\"\n            | (matching_Goto) \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t\" \"\\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\"", "lemma seqE:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1@rs\\<^sub>2, s\\<rangle> \\<Rightarrow> t\"\n      obtains (no_matching_Goto) ti where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> ti\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,ti\\<rangle> \\<Rightarrow> t\" \"no_matching_Goto \\<gamma> p rs\\<^sub>1\"\n            | (matching_Goto) \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t\" \"\\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\"", "lemma seqE_cons:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, s\\<rangle> \\<Rightarrow> t\"\n      obtains (no_matching_Goto) ti where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],s\\<rangle> \\<Rightarrow> ti\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,ti\\<rangle> \\<Rightarrow> t\" \"no_matching_Goto \\<gamma> p [r]\"\n            | (matching_Goto) \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],s\\<rangle> \\<Rightarrow> t\" \"\\<not> no_matching_Goto \\<gamma> p [r]\"", "lemma seqE_cons_Undecided:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, Undecided\\<rangle> \\<Rightarrow> t\"\n      obtains (no_matching_Goto) ti where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],Undecided\\<rangle> \\<Rightarrow> ti\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,ti\\<rangle> \\<Rightarrow> t\" and \"no_matching_Goto \\<gamma> p [r]\"\n            | (matching_Goto) m chain rs' where \"r = Rule m (Goto chain)\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)],Undecided\\<rangle> \\<Rightarrow> t\" and \"matches \\<gamma> m p\" \"\\<Gamma> chain = Some rs'\"", "lemma nomatch':\n      assumes \"\\<And>r. r \\<in> set rs \\<Longrightarrow> \\<not> matches \\<gamma> (get_match r) p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s\"", "lemma no_free_return: assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m Return], Undecided\\<rangle> \\<Rightarrow> t\" and \"matches \\<gamma> m p\" shows \"False\"", "lemma iptables_goto_bigstep_Undecided_Undecided_deterministic: \n      \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> t = Undecided\"", "lemma iptables_goto_bigstep_Undecided_deterministic:\n      \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>  t' = t\"", "theorem iptables_goto_bigstep_deterministic: assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t'\" shows \"t = t'\"", "lemma matches_rule_and_simp_help:\n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m' a'], s\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow>?r\")", "lemma matches_MatchNot_simp: \n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m) a], Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow> ?r\")", "lemma matches_MatchNotAnd_simp:\n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd (MatchNot m) m') a], Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow> ?r\")", "lemma matches_rule_and_simp:\n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m' a'], s\\<rangle> \\<Rightarrow> t\"", "lemma add_match_split: \"add_match m (rs1@rs2) = add_match m rs1 @ add_match m rs2\"", "lemma add_match_split_fst: \"add_match m (Rule m' a' # rs) = Rule (MatchAnd m m') a' # add_match m rs\"", "lemma matches_add_match_no_matching_Goto_simp: \"matches \\<gamma> m p \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m rs) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\"", "lemma matches_add_match_no_matching_Goto_simp2: \"matches \\<gamma> m p \\<Longrightarrow>  no_matching_Goto \\<gamma> p rs \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m rs)\"", "lemma matches_add_match_MatchNot_no_matching_Goto_simp: \"\\<not> matches \\<gamma> m p \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m rs)\"", "lemma not_matches_add_match_simp:\n      assumes \"\\<not> matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\"", "lemma matches_add_match_MatchNot_simp:\n      assumes m: \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\" (is \"?l s \\<longleftrightarrow> ?r s\")", "lemma just_show_all_bigstep_semantics_equalities_with_start_Undecided: \n          \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t\"", "lemma matches_add_match_simp_helper:\n      assumes m: \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow> ?r\")", "lemma matches_add_match_simp:\n      \"matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\"", "lemma not_matches_add_matchNot_simp:\n      \"\\<not> matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\"", "lemma unfold_Goto_Undecided:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and no_matching_Goto_rs: \"no_matching_Goto \\<gamma> p rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>(Rule m (Goto chain))#rest, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @ add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\"\n              (is \"?l \\<longleftrightarrow> ?r\")", "theorem unfold_Goto:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and no_matching_Goto_rs: \"no_matching_Goto \\<gamma> p rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>(Rule m (Goto chain))#rest, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @ add_match (MatchNot m) rest, s\\<rangle> \\<Rightarrow> t\"", "lemma terminal_chain_no_matching_Goto: \"terminal_chain rs \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\"", "lemma \"terminal_chain rs \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<exists>X. t = Decision X\"", "lemma replace_Goto_with_Call_in_terminal_chain_Undecided:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and terminal_chain: \"terminal_chain rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\"\n              (is \"?l \\<longleftrightarrow> ?r\")", "theorem replace_Goto_with_Call_in_terminal_chain:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and terminal_chain: \"terminal_chain rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], s\\<rangle> \\<Rightarrow> t\"", "lemma step_IH_cong: \"(\\<And>s. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t = \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t) \\<Longrightarrow>\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs1, s\\<rangle> \\<Rightarrow> t = \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs2, s\\<rangle> \\<Rightarrow> t\"", "lemma terminal_chain_decision: \n    \"terminal_chain rs \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<exists>X. t = Decision X\"", "lemma terminal_chain_Goto_decision: \"\\<Gamma> chain = Some rs \\<Longrightarrow> terminal_chain rs \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<exists>X. t = Decision X\"", "theorem rewrite_Goto_chain_safe:\n    \"rewrite_Goto_chain_safe \\<Gamma> rs = Some rs' \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\"", "lemma defines \"\\<gamma> \\<equiv> (\\<lambda>_ _. True)\" and \"m \\<equiv> MatchAny\"\n  shows \"[''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n          ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n          ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject],\n          ''baz'' \\<mapsto> [(Rule m Accept)]],\n      \\<gamma>,p\\<turnstile>\\<^sub>g\\<langle>[Rule MatchAny (Call ''FORWARD'')], Undecided\\<rangle> \\<Rightarrow> (Decision FinalAllow)\""], "translations": [["", "lemma deny:\n      \"matches \\<gamma> m p \\<Longrightarrow> a = Drop \\<or> a = Reject \\<Longrightarrow> iptables_goto_bigstep \\<Gamma> \\<gamma> p [Rule m a] Undecided (Decision FinalDeny)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m a], Undecided\\<rangle> \\<Rightarrow> Decision\n                                     FinalDeny", "by (auto intro: drop reject)"], ["", "private"], ["", "lemma iptables_goto_bigstep_induct\n      [case_names\n        Skip Allow Deny Log Nomatch Decision Seq Call_return Call_result Goto_Decision Goto_no_Decision,\n       induct pred: iptables_goto_bigstep]:\n    \"\\<lbrakk> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t;\n       \\<And>t. P [] t t;\n       \\<And>m a. matches \\<gamma> m p \\<Longrightarrow> a = Accept \\<Longrightarrow> P [Rule m a] Undecided (Decision FinalAllow);\n       \\<And>m a. matches \\<gamma> m p \\<Longrightarrow> a = Drop \\<or> a = Reject \\<Longrightarrow> P [Rule m a] Undecided (Decision FinalDeny);\n       \\<And>m a. matches \\<gamma> m p \\<Longrightarrow> a = Log \\<or> a = Empty \\<Longrightarrow> P [Rule m a] Undecided Undecided;\n       \\<And>m a. \\<not> matches \\<gamma> m p \\<Longrightarrow> P [Rule m a] Undecided Undecided;\n       \\<And>rs X. P rs (Decision X) (Decision X);\n       \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t'. rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> P rs\\<^sub>1 Undecided t \\<Longrightarrow> \n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t\\<rangle> \\<Rightarrow> t' \\<Longrightarrow> P rs\\<^sub>2 t t' \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow> \n                          P rs Undecided t';\n       \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2. matches \\<gamma> m p \\<Longrightarrow> a = Call chain \\<Longrightarrow>\n                              \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2) \\<Longrightarrow>\n                              matches \\<gamma> m' p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n                              no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>  P rs\\<^sub>1 Undecided Undecided \\<Longrightarrow>\n                              P [Rule m a] Undecided Undecided;\n       \\<And>m a chain rs t. matches \\<gamma> m p \\<Longrightarrow> a = Call chain \\<Longrightarrow> \\<Gamma> chain = Some rs \\<Longrightarrow>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> P rs Undecided t \\<Longrightarrow> P [Rule m a] Undecided t;\n       \\<And>m a chain rs rest X. matches \\<gamma> m p \\<Longrightarrow> a = Goto chain \\<Longrightarrow> \\<Gamma> chain = Some rs \\<Longrightarrow>\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,Undecided\\<rangle> \\<Rightarrow> (Decision X) \\<Longrightarrow> P rs Undecided (Decision X) \\<Longrightarrow>\n                              P (Rule m a#rest) Undecided (Decision X);\n       \\<And>m a chain rs rest. matches \\<gamma> m p \\<Longrightarrow> a = Goto chain \\<Longrightarrow> \\<Gamma> chain = Some rs \\<Longrightarrow>\n                           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow> P rs Undecided Undecided \\<Longrightarrow>\n                           P (Rule m a#rest) Undecided Undecided\\<rbrakk> \\<Longrightarrow>\n     P rs s t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<And>t. P [] t t;\n     \\<And>m a.\n        \\<lbrakk>matches \\<gamma> m p; a = Accept\\<rbrakk>\n        \\<Longrightarrow> P [Rule m a] Undecided (Decision FinalAllow);\n     \\<And>m a.\n        \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject\\<rbrakk>\n        \\<Longrightarrow> P [Rule m a] Undecided (Decision FinalDeny);\n     \\<And>m a.\n        \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty\\<rbrakk>\n        \\<Longrightarrow> P [Rule m a] Undecided Undecided;\n     \\<And>m a.\n        \\<not> matches \\<gamma> m p \\<Longrightarrow>\n        P [Rule m a] Undecided Undecided;\n     \\<And>rs X. P rs (Decision X) (Decision X);\n     \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t'.\n        \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n         P rs\\<^sub>1 Undecided t;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n         P rs\\<^sub>2 t t'; no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> P rs Undecided t';\n     \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n         \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n         matches \\<gamma> m' p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         P rs\\<^sub>1 Undecided Undecided\\<rbrakk>\n        \\<Longrightarrow> P [Rule m a] Undecided Undecided;\n     \\<And>m a chain rs t.\n        \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n         P rs Undecided t\\<rbrakk>\n        \\<Longrightarrow> P [Rule m a] Undecided t;\n     \\<And>m a chain rs rest X.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                    X;\n         P rs Undecided (Decision X)\\<rbrakk>\n        \\<Longrightarrow> P (Rule m a # rest) Undecided (Decision X);\n     \\<And>m a chain rs rest.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         P rs Undecided Undecided\\<rbrakk>\n        \\<Longrightarrow> P (Rule m a # rest) Undecided Undecided\\<rbrakk>\n    \\<Longrightarrow> P rs s t", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "subsubsection\\<open>Forward reasoning\\<close>"], ["", "private"], ["", "lemma decisionD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> s = Decision X \\<Longrightarrow> t = Decision X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     s = Decision X\\<rbrakk>\n    \\<Longrightarrow> t = Decision X", "by (induction rule: iptables_goto_bigstep_induct) auto"], ["", "private"], ["", "lemma iptables_goto_bigstep_to_undecided: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow> s = Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n    s = Undecided", "by (metis decisionD state.exhaust)"], ["", "private"], ["", "lemma iptables_goto_bigstep_to_decision: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Decision Y\\<rangle> \\<Rightarrow> Decision X \\<Longrightarrow> Y = X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Decision\n                    Y\\<rangle> \\<Rightarrow> Decision X \\<Longrightarrow>\n    Y = X", "by (metis decisionD state.inject)"], ["", "private"], ["", "lemma skipD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [] \\<Longrightarrow> s = t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = []\\<rbrakk>\n    \\<Longrightarrow> s = t", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "private"], ["", "lemma gotoD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m (Goto chain)] \\<Longrightarrow> s = Undecided \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow>\n                    \\<exists> rs. \\<Gamma> chain = Some rs \\<and> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = [Rule m (Goto chain)]; s = Undecided; matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<exists>rs.\n                         \\<Gamma> chain = Some rs \\<and>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t", "by (induction rule: iptables_goto_bigstep.induct) (auto dest: skipD elim: list_app_singletonE)"], ["", "private"], ["", "lemma not_no_matching_Goto_singleton_cases: \"\\<not> no_matching_Goto \\<gamma> p [Rule m a] \\<longleftrightarrow> (\\<exists> chain. a = (Goto chain)) \\<and> matches \\<gamma> m p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<not> no_matching_Goto \\<gamma> p [Rule m a]) =\n    ((\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p)", "by(case_tac a) (simp_all)"], ["", "private"], ["", "lemma no_matching_Goto_Cons: \"no_matching_Goto \\<gamma> p [r] \\<Longrightarrow> no_matching_Goto \\<gamma> p rs \\<Longrightarrow> no_matching_Goto \\<gamma> p (r#rs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>no_matching_Goto \\<gamma> p [r];\n     no_matching_Goto \\<gamma> p rs\\<rbrakk>\n    \\<Longrightarrow> no_matching_Goto \\<gamma> p (r # rs)", "by(cases r)(rename_tac m a, case_tac a, simp_all)"], ["", "private"], ["", "lemma no_matching_Goto_head: \"no_matching_Goto \\<gamma> p (r#rs) \\<Longrightarrow> no_matching_Goto \\<gamma> p [r]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (r # rs) \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p [r]", "by(cases r)(rename_tac m a, case_tac a, simp_all)"], ["", "private"], ["", "lemma no_matching_Goto_tail: \"no_matching_Goto \\<gamma> p (r#rs) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (r # rs) \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p rs", "by(cases r)(rename_tac m a, case_tac a, simp_all)"], ["", "private"], ["", "lemma not_no_matching_Goto_cases:\n      assumes \"\\<not> no_matching_Goto \\<gamma> p rs\" \"rs \\<noteq> []\"\n      shows \"\\<exists>rs1 m chain rs2. rs = rs1@(Rule m (Goto chain))#rs2 \\<and> no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "using assms"], ["proof (prove)\nusing this:\n  \\<not> no_matching_Goto \\<gamma> p rs\n  rs \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "proof(induction rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p []; [] \\<noteq> []\\<rbrakk>\n    \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                         [] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                         no_matching_Goto \\<gamma> p rs1 \\<and>\n                         matches \\<gamma> m p\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs;\n                 rs \\<noteq> []\\<rbrakk>\n                \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                                     rs =\n                                     rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                                     no_matching_Goto \\<gamma> p rs1 \\<and>\n                                     matches \\<gamma> m p;\n        \\<not> no_matching_Goto \\<gamma> p (a # rs);\n        a # rs \\<noteq> []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                            a # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                            no_matching_Goto \\<gamma> p rs1 \\<and>\n                            matches \\<gamma> m p", "case Nil"], ["proof (state)\nthis:\n  \\<not> no_matching_Goto \\<gamma> p []\n  [] \\<noteq> []\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p []; [] \\<noteq> []\\<rbrakk>\n    \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                         [] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                         no_matching_Goto \\<gamma> p rs1 \\<and>\n                         matches \\<gamma> m p\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs;\n                 rs \\<noteq> []\\<rbrakk>\n                \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                                     rs =\n                                     rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                                     no_matching_Goto \\<gamma> p rs1 \\<and>\n                                     matches \\<gamma> m p;\n        \\<not> no_matching_Goto \\<gamma> p (a # rs);\n        a # rs \\<noteq> []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                            a # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                            no_matching_Goto \\<gamma> p rs1 \\<and>\n                            matches \\<gamma> m p", "thus ?case"], ["proof (prove)\nusing this:\n  \\<not> no_matching_Goto \\<gamma> p []\n  [] \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       [] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "by simp"], ["proof (state)\nthis:\n  \\<exists>rs1 m chain rs2.\n     [] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs;\n                 rs \\<noteq> []\\<rbrakk>\n                \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                                     rs =\n                                     rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                                     no_matching_Goto \\<gamma> p rs1 \\<and>\n                                     matches \\<gamma> m p;\n        \\<not> no_matching_Goto \\<gamma> p (a # rs);\n        a # rs \\<noteq> []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                            a # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                            no_matching_Goto \\<gamma> p rs1 \\<and>\n                            matches \\<gamma> m p", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs;\n                 rs \\<noteq> []\\<rbrakk>\n                \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                                     rs =\n                                     rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                                     no_matching_Goto \\<gamma> p rs1 \\<and>\n                                     matches \\<gamma> m p;\n        \\<not> no_matching_Goto \\<gamma> p (a # rs);\n        a # rs \\<noteq> []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                            a # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                            no_matching_Goto \\<gamma> p rs1 \\<and>\n                            matches \\<gamma> m p", "case (Cons r rs)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs; rs \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                       no_matching_Goto \\<gamma> p rs1 \\<and>\n                       matches \\<gamma> m p\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  r # rs \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs;\n                 rs \\<noteq> []\\<rbrakk>\n                \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                                     rs =\n                                     rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                                     no_matching_Goto \\<gamma> p rs1 \\<and>\n                                     matches \\<gamma> m p;\n        \\<not> no_matching_Goto \\<gamma> p (a # rs);\n        a # rs \\<noteq> []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                            a # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                            no_matching_Goto \\<gamma> p rs1 \\<and>\n                            matches \\<gamma> m p", "note Cons_outer=this"], ["proof (state)\nthis:\n  \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs; rs \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                       no_matching_Goto \\<gamma> p rs1 \\<and>\n                       matches \\<gamma> m p\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  r # rs \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs;\n                 rs \\<noteq> []\\<rbrakk>\n                \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                                     rs =\n                                     rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                                     no_matching_Goto \\<gamma> p rs1 \\<and>\n                                     matches \\<gamma> m p;\n        \\<not> no_matching_Goto \\<gamma> p (a # rs);\n        a # rs \\<noteq> []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                            a # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                            no_matching_Goto \\<gamma> p rs1 \\<and>\n                            matches \\<gamma> m p", "from Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs; rs \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                       no_matching_Goto \\<gamma> p rs1 \\<and>\n                       matches \\<gamma> m p\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  r # rs \\<noteq> []", "have \"\\<not> no_matching_Goto \\<gamma> p (r # rs)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs; rs \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                       no_matching_Goto \\<gamma> p rs1 \\<and>\n                       matches \\<gamma> m p\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  r # rs \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p (r # rs)", "by simp"], ["proof (state)\nthis:\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs;\n                 rs \\<noteq> []\\<rbrakk>\n                \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                                     rs =\n                                     rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                                     no_matching_Goto \\<gamma> p rs1 \\<and>\n                                     matches \\<gamma> m p;\n        \\<not> no_matching_Goto \\<gamma> p (a # rs);\n        a # rs \\<noteq> []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                            a # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                            no_matching_Goto \\<gamma> p rs1 \\<and>\n                            matches \\<gamma> m p", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "proof(cases rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. rs = [] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "case Nil"], ["proof (state)\nthis:\n  rs = []\n\ngoal (2 subgoals):\n 1. rs = [] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "obtain m a where \"r = Rule m a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m a. r = Rule m a \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases r) simp"], ["proof (state)\nthis:\n  r = Rule m a\n\ngoal (2 subgoals):\n 1. rs = [] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "with \\<open>\\<not> no_matching_Goto \\<gamma> p (r # rs)\\<close> Nil not_no_matching_Goto_singleton_cases"], ["proof (chain)\npicking this:\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  rs = []\n  (\\<not> no_matching_Goto ?\\<gamma> ?p [Rule ?m ?a]) =\n  ((\\<exists>chain. ?a = Goto chain) \\<and> matches ?\\<gamma> ?m ?p)\n  r = Rule m a", "have \"(\\<exists> chain. a = (Goto chain)) \\<and> matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  rs = []\n  (\\<not> no_matching_Goto ?\\<gamma> ?p [Rule ?m ?a]) =\n  ((\\<exists>chain. ?a = Goto chain) \\<and> matches ?\\<gamma> ?m ?p)\n  r = Rule m a\n\ngoal (1 subgoal):\n 1. (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p", "by metis"], ["proof (state)\nthis:\n  (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. rs = [] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "from this"], ["proof (chain)\npicking this:\n  (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p", "obtain chain where \"a = (Goto chain)\" and \"matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. (\\<And>chain.\n        \\<lbrakk>a = Goto chain; matches \\<gamma> m p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a = Goto chain\n  matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. rs = [] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "have \"r # rs = [] @ Rule m (Goto chain) # []\" \"no_matching_Goto \\<gamma> p []\" \"matches \\<gamma> m p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r # rs = [] @ [Rule m (Goto chain)] &&&\n    no_matching_Goto \\<gamma> p [] &&& matches \\<gamma> m p", "by (simp_all add: \\<open>a = Goto chain\\<close> \\<open>r = Rule m a\\<close> Nil \\<open>matches \\<gamma> m p\\<close>)"], ["proof (state)\nthis:\n  r # rs = [] @ [Rule m (Goto chain)]\n  no_matching_Goto \\<gamma> p []\n  matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. rs = [] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "thus ?thesis"], ["proof (prove)\nusing this:\n  r # rs = [] @ [Rule m (Goto chain)]\n  no_matching_Goto \\<gamma> p []\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "by blast"], ["proof (state)\nthis:\n  \\<exists>rs1 m chain rs2.\n     r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "case(Cons r' rs')"], ["proof (state)\nthis:\n  rs = r' # rs'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "with Cons_outer"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs; rs \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                       no_matching_Goto \\<gamma> p rs1 \\<and>\n                       matches \\<gamma> m p\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  r # rs \\<noteq> []\n  rs = r' # rs'", "have \"r # rs =  r # r' # rs'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<not> no_matching_Goto \\<gamma> p rs; rs \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs1 m chain rs2.\n                       rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n                       no_matching_Goto \\<gamma> p rs1 \\<and>\n                       matches \\<gamma> m p\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  r # rs \\<noteq> []\n  rs = r' # rs'\n\ngoal (1 subgoal):\n 1. r # rs = r # r' # rs'", "by simp"], ["proof (state)\nthis:\n  r # rs = r # r' # rs'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs = a # list \\<Longrightarrow>\n       \\<exists>rs1 m chain rs2.\n          r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n          no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "proof(cases\"no_matching_Goto \\<gamma> p [r]\")"], ["proof (state)\ngoal (2 subgoals):\n 1. no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "case True"], ["proof (state)\nthis:\n  no_matching_Goto \\<gamma> p [r]\n\ngoal (2 subgoals):\n 1. no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "with \\<open>\\<not> no_matching_Goto \\<gamma> p (r # rs)\\<close>"], ["proof (chain)\npicking this:\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  no_matching_Goto \\<gamma> p [r]", "have \"\\<not> no_matching_Goto \\<gamma> p rs\""], ["proof (prove)\nusing this:\n  \\<not> no_matching_Goto \\<gamma> p (r # rs)\n  no_matching_Goto \\<gamma> p [r]\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p rs", "by (meson no_matching_Goto_Cons)"], ["proof (state)\nthis:\n  \\<not> no_matching_Goto \\<gamma> p rs\n\ngoal (2 subgoals):\n 1. no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "have \"rs \\<noteq> []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rs \\<noteq> []", "using Cons"], ["proof (prove)\nusing this:\n  rs = r' # rs'\n\ngoal (1 subgoal):\n 1. rs \\<noteq> []", "by simp"], ["proof (state)\nthis:\n  rs \\<noteq> []\n\ngoal (2 subgoals):\n 1. no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "from Cons_outer(1)[OF \\<open>\\<not> no_matching_Goto \\<gamma> p rs\\<close> \\<open>rs \\<noteq> []\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>rs1 m chain rs2.\n     rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "obtain rs1 m chain rs2 where \"rs = rs1 @ Rule m (Goto chain) # rs2\" \"no_matching_Goto \\<gamma> p rs1\" \"matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  \\<exists>rs1 m chain rs2.\n     rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. (\\<And>rs1 m chain rs2.\n        \\<lbrakk>rs = rs1 @ Rule m (Goto chain) # rs2;\n         no_matching_Goto \\<gamma> p rs1; matches \\<gamma> m p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  rs = rs1 @ Rule m (Goto chain) # rs2\n  no_matching_Goto \\<gamma> p rs1\n  matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "with \\<open>r # rs =  r # r' # rs'\\<close> \\<open>no_matching_Goto \\<gamma> p [r]\\<close> no_matching_Goto_Cons"], ["proof (chain)\npicking this:\n  r # rs = r # r' # rs'\n  no_matching_Goto \\<gamma> p [r]\n  \\<lbrakk>no_matching_Goto ?\\<gamma> ?p [?r];\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<rbrakk>\n  \\<Longrightarrow> no_matching_Goto ?\\<gamma> ?p (?r # ?rs)\n  rs = rs1 @ Rule m (Goto chain) # rs2\n  no_matching_Goto \\<gamma> p rs1\n  matches \\<gamma> m p", "have \"r # rs = r # rs1 @ Rule m (Goto chain) # rs2 \\<and> no_matching_Goto \\<gamma> p (r#rs1) \\<and> matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  r # rs = r # r' # rs'\n  no_matching_Goto \\<gamma> p [r]\n  \\<lbrakk>no_matching_Goto ?\\<gamma> ?p [?r];\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<rbrakk>\n  \\<Longrightarrow> no_matching_Goto ?\\<gamma> ?p (?r # ?rs)\n  rs = rs1 @ Rule m (Goto chain) # rs2\n  no_matching_Goto \\<gamma> p rs1\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. r # rs = r # rs1 @ Rule m (Goto chain) # rs2 \\<and>\n    no_matching_Goto \\<gamma> p (r # rs1) \\<and> matches \\<gamma> m p", "by fast"], ["proof (state)\nthis:\n  r # rs = r # rs1 @ Rule m (Goto chain) # rs2 \\<and>\n  no_matching_Goto \\<gamma> p (r # rs1) \\<and> matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n 2. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "thus ?thesis"], ["proof (prove)\nusing this:\n  r # rs = r # rs1 @ Rule m (Goto chain) # rs2 \\<and>\n  no_matching_Goto \\<gamma> p (r # rs1) \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "apply(rule_tac x=\"r#rs1\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. r # rs = r # rs1 @ Rule m (Goto chain) # rs2 \\<and>\n    no_matching_Goto \\<gamma> p (r # rs1) \\<and>\n    matches \\<gamma> m p \\<Longrightarrow>\n    \\<exists>m chain rs2.\n       r # rs = (r # rs1) @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p (r # rs1) \\<and> matches \\<gamma> m p", "by auto"], ["proof (state)\nthis:\n  \\<exists>rs1 m chain rs2.\n     r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "case False"], ["proof (state)\nthis:\n  \\<not> no_matching_Goto \\<gamma> p [r]\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "obtain m a where \"r = Rule m a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m a. r = Rule m a \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases r) simp"], ["proof (state)\nthis:\n  r = Rule m a\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "with False not_no_matching_Goto_singleton_cases"], ["proof (chain)\npicking this:\n  \\<not> no_matching_Goto \\<gamma> p [r]\n  (\\<not> no_matching_Goto ?\\<gamma> ?p [Rule ?m ?a]) =\n  ((\\<exists>chain. ?a = Goto chain) \\<and> matches ?\\<gamma> ?m ?p)\n  r = Rule m a", "have \"(\\<exists> chain. a = (Goto chain)) \\<and> matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  \\<not> no_matching_Goto \\<gamma> p [r]\n  (\\<not> no_matching_Goto ?\\<gamma> ?p [Rule ?m ?a]) =\n  ((\\<exists>chain. ?a = Goto chain) \\<and> matches ?\\<gamma> ?m ?p)\n  r = Rule m a\n\ngoal (1 subgoal):\n 1. (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p", "by metis"], ["proof (state)\nthis:\n  (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "from this"], ["proof (chain)\npicking this:\n  (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p", "obtain chain where \"a = (Goto chain)\" and \"matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  (\\<exists>chain. a = Goto chain) \\<and> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. (\\<And>chain.\n        \\<lbrakk>a = Goto chain; matches \\<gamma> m p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a = Goto chain\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "have \"r # rs = [] @ Rule m (Goto chain) # rs\" \"no_matching_Goto \\<gamma> p []\" \"matches \\<gamma> m p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r # rs = [] @ Rule m (Goto chain) # rs &&&\n    no_matching_Goto \\<gamma> p [] &&& matches \\<gamma> m p", "by (simp_all add: \\<open>a = Goto chain\\<close> \\<open>r = Rule m a\\<close> \\<open>matches \\<gamma> m p\\<close>)"], ["proof (state)\nthis:\n  r # rs = [] @ Rule m (Goto chain) # rs\n  no_matching_Goto \\<gamma> p []\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow>\n    \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "thus ?thesis"], ["proof (prove)\nusing this:\n  r # rs = [] @ Rule m (Goto chain) # rs\n  no_matching_Goto \\<gamma> p []\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<exists>rs1 m chain rs2.\n       r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n       no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p", "by blast"], ["proof (state)\nthis:\n  \\<exists>rs1 m chain rs2.\n     r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>rs1 m chain rs2.\n     r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>rs1 m chain rs2.\n     r # rs = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n     no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma seq_cons_Goto_Undecided: \n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\"\n      and \"\\<not> matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) # rs, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "proof(cases \"matches \\<gamma> m p\")"], ["proof (state)\ngoal (2 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n 2. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "case True"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n 2. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "from True assms"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "have \"\\<exists>rs. \\<Gamma> chain = Some rs \\<and> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<exists>rs.\n       \\<Gamma> chain = Some rs \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "by(auto dest: gotoD)"], ["proof (state)\nthis:\n  \\<exists>rs.\n     \\<Gamma> chain = Some rs \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (2 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n 2. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "with True"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<exists>rs.\n     \\<Gamma> chain = Some rs \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "show ?thesis"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<exists>rs.\n     \\<Gamma> chain = Some rs \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "using goto_no_decision"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<exists>rs.\n     \\<Gamma> chain = Some rs \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<lbrakk>matches ?\\<gamma> ?m ?p; ?\\<Gamma> ?chain = Some ?rs;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> Undecided\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                   ?m (Goto ?chain) #\n                                  ?rest, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "case False"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "with assms"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p", "have \" \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)] @ rs, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)] @\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "by(auto dest: seq)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)] @\n             rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "with False"], ["proof (chain)\npicking this:\n  \\<not> matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)] @\n             rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)] @\n             rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma seq_cons_Goto_t: \n      \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) # rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(frule gotoD)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> [Rule m (Goto chain)] = [Rule ?m (Goto ?chain)]\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> Undecided = Undecided\n 3. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> matches \\<gamma> ?m p\n 4. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p;\n     \\<exists>rs.\n        \\<Gamma> ?chain = Some rs \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p;\n     \\<exists>rs.\n        \\<Gamma> chain = Some rs \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>rsa.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rsa;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(cases t)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rsa.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rsa;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t;\n        t = Undecided\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>rsa x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rsa;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t;\n        t = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(auto intro: iptables_goto_bigstep.intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "private"], ["", "lemma no_matching_Goto_append: \"no_matching_Goto \\<gamma> p (rs1@rs2) \\<longleftrightarrow> no_matching_Goto \\<gamma> p rs1 \\<and>  no_matching_Goto \\<gamma> p rs2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (rs1 @ rs2) =\n    (no_matching_Goto \\<gamma> p rs1 \\<and> no_matching_Goto \\<gamma> p rs2)", "by(induction \\<gamma> p rs1 rule: no_matching_Goto.induct) (simp_all)"], ["", "private"], ["", "lemma no_matching_Goto_append1: \"no_matching_Goto \\<gamma> p (rs1@rs2) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (rs1 @ rs2) \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p rs1", "using no_matching_Goto_append"], ["proof (prove)\nusing this:\n  no_matching_Goto ?\\<gamma> ?p (?rs1.0 @ ?rs2.0) =\n  (no_matching_Goto ?\\<gamma> ?p ?rs1.0 \\<and>\n   no_matching_Goto ?\\<gamma> ?p ?rs2.0)\n\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (rs1 @ rs2) \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p rs1", "by fast"], ["", "private"], ["", "lemma no_matching_Goto_append2: \"no_matching_Goto \\<gamma> p (rs1@rs2) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (rs1 @ rs2) \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p rs2", "using no_matching_Goto_append"], ["proof (prove)\nusing this:\n  no_matching_Goto ?\\<gamma> ?p (?rs1.0 @ ?rs2.0) =\n  (no_matching_Goto ?\\<gamma> ?p ?rs1.0 \\<and>\n   no_matching_Goto ?\\<gamma> ?p ?rs2.0)\n\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (rs1 @ rs2) \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p rs2", "by fast"], ["", "private"], ["", "lemma seq_cons:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],Undecided\\<rangle> \\<Rightarrow> t\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,t\\<rangle> \\<Rightarrow> t'\" and \"no_matching_Goto \\<gamma> p [r]\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, Undecided\\<rangle> \\<Rightarrow> t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs, Undecided\\<rangle> \\<Rightarrow> t'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs, Undecided\\<rangle> \\<Rightarrow> t'", "from assms"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p [r]", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r] @ rs, Undecided\\<rangle> \\<Rightarrow> t'\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p [r]\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r] @\n               rs, Undecided\\<rangle> \\<Rightarrow> t'", "by (rule seq)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r] @\n             rs, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs, Undecided\\<rangle> \\<Rightarrow> t'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r] @\n             rs, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs, Undecided\\<rangle> \\<Rightarrow> t'", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal:\nNo subgoals!", "qed"], ["", "context\n      notes skipD[dest] list_app_singletonE[elim]\n    begin"], ["", "lemma acceptD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Accept] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Decision FinalAllow\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = [Rule m Accept]; matches \\<gamma> m p; s = Undecided\\<rbrakk>\n    \\<Longrightarrow> t = Decision FinalAllow", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "lemma dropD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Drop] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Decision FinalDeny\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = [Rule m Drop]; matches \\<gamma> m p; s = Undecided\\<rbrakk>\n    \\<Longrightarrow> t = Decision FinalDeny", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "lemma rejectD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Reject] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Decision FinalDeny\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = [Rule m Reject]; matches \\<gamma> m p; s = Undecided\\<rbrakk>\n    \\<Longrightarrow> t = Decision FinalDeny", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "lemma logD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Log] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = [Rule m Log]; matches \\<gamma> m p; s = Undecided\\<rbrakk>\n    \\<Longrightarrow> t = Undecided", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "lemma emptyD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m Empty] \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow> s = Undecided \\<Longrightarrow> t = Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = [Rule m Empty]; matches \\<gamma> m p; s = Undecided\\<rbrakk>\n    \\<Longrightarrow> t = Undecided", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "lemma nomatchD: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> r = [Rule m a] \\<Longrightarrow> s = Undecided \\<Longrightarrow> \\<not> matches \\<gamma> m p \\<Longrightarrow> t = Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t;\n     r = [Rule m a]; s = Undecided; \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> t = Undecided", "by (induction rule: iptables_goto_bigstep.induct) auto"], ["", "lemma callD:\n        assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t\" \"r = [Rule m (Call chain)]\" \"s = Undecided\" \"matches \\<gamma> m p\" \"\\<Gamma> chain = Some rs\"\n        obtains \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t\"\n              | rs\\<^sub>1 rs\\<^sub>2 m' where \"rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2\" \"matches \\<gamma> m' p\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> Undecided\" \"no_matching_Goto \\<gamma> p rs\\<^sub>1\" \"t = Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n             thesis;\n     \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n        \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n         matches \\<gamma> m' p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> Undecided;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r, s\\<rangle> \\<Rightarrow> t\n  r = [Rule m (Call chain)]\n  s = Undecided\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n             thesis;\n     \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n        \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n         matches \\<gamma> m' p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> Undecided;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "proof (induction r s t arbitrary: rs rule: iptables_goto_bigstep.induct)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>t rs.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [] = [Rule m (Call chain)]; t = Undecided; matches \\<gamma> m p;\n        \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalAllow \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalAllow = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Accept] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 3. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalDeny \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalDeny = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Drop] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 4. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalDeny \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalDeny = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Reject] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 5. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Log] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 6. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Empty] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 7. \\<And>ma a rs.\n       \\<lbrakk>\\<not> matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma a] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 8. \\<And>rs X rsa.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Decision\n                                 X\\<rangle> \\<Rightarrow> Decision\n                     X \\<Longrightarrow>\n                thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rsa = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                    X\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision X = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        rs = [Rule m (Call chain)]; Decision X = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rsa\\<rbrakk>\n       \\<Longrightarrow> thesis\n 9. \\<And>rs\\<^sub>1 t rs\\<^sub>2 t' rs.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs.\n           \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                    thesis;\n            \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n               \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                matches \\<gamma> m' p;\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n                no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                t = Undecided\\<rbrakk>\n               \\<Longrightarrow> thesis;\n            rs\\<^sub>1 = [Rule m (Call chain)]; Undecided = Undecided;\n            matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs.\n           \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n                    thesis;\n            \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n               \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                matches \\<gamma> m' p;\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> Undecided;\n                no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                t' = Undecided\\<rbrakk>\n               \\<Longrightarrow> thesis;\n            rs\\<^sub>2 = [Rule m (Call chain)]; t = Undecided;\n            matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1; t' = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        rs\\<^sub>1 @ rs\\<^sub>2 = [Rule m (Call chain)];\n        Undecided = Undecided; matches \\<gamma> m p;\n        \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 10. \\<And>ma chaina rs\\<^sub>1 m' rs\\<^sub>2 rs.\n        \\<lbrakk>matches \\<gamma> ma p;\n         \\<Gamma> chaina =\n         Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n         matches \\<gamma> m' p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<And>rs.\n            \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n                     thesis;\n             \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n                \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                 matches \\<gamma> m' p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                 Undecided = Undecided\\<rbrakk>\n                \\<Longrightarrow> thesis;\n             rs\\<^sub>1 = [Rule m (Call chain)]; Undecided = Undecided;\n             matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n            \\<Longrightarrow> thesis;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n         thesis;\n         \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n            \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n             matches \\<gamma> m' p;\n             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n             no_matching_Goto \\<gamma> p rs\\<^sub>1;\n             Undecided = Undecided\\<rbrakk>\n            \\<Longrightarrow> thesis;\n         [Rule ma (Call chaina)] = [Rule m (Call chain)];\n         Undecided = Undecided; matches \\<gamma> m p;\n         \\<Gamma> chain = Some rs\\<rbrakk>\n        \\<Longrightarrow> thesis\nA total of 13 subgoals...", "case (seq rs\\<^sub>1)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> t'_\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> t_ \\<Longrightarrow>\n           thesis;\n   \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n      \\<lbrakk>?rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n       matches \\<gamma> m' p;\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n       no_matching_Goto \\<gamma> p rs\\<^sub>1; t_ = Undecided\\<rbrakk>\n      \\<Longrightarrow> thesis;\n   rs\\<^sub>1 = [Rule m (Call chain)]; Undecided = Undecided;\n   matches \\<gamma> m p; \\<Gamma> chain = Some ?rs\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, t_\\<rangle> \\<Rightarrow> t'_ \\<Longrightarrow>\n           thesis;\n   \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n      \\<lbrakk>?rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n       matches \\<gamma> m' p;\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t_\\<rangle> \\<Rightarrow> Undecided;\n       no_matching_Goto \\<gamma> p rs\\<^sub>1; t'_ = Undecided\\<rbrakk>\n      \\<Longrightarrow> thesis;\n   rs\\<^sub>2_ = [Rule m (Call chain)]; t_ = Undecided;\n   matches \\<gamma> m p; \\<Gamma> chain = Some ?rs\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'_ \\<Longrightarrow>\n  thesis\n  \\<lbrakk>rs = ?rs\\<^sub>1 @ Rule ?m' Return # ?rs\\<^sub>2;\n   matches \\<gamma> ?m' p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n   no_matching_Goto \\<gamma> p ?rs\\<^sub>1; t'_ = Undecided\\<rbrakk>\n  \\<Longrightarrow> thesis\n  rs\\<^sub>1 @ rs\\<^sub>2_ = [Rule m (Call chain)]\n  Undecided = Undecided\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs\n\ngoal (13 subgoals):\n 1. \\<And>t rs.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [] = [Rule m (Call chain)]; t = Undecided; matches \\<gamma> m p;\n        \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalAllow \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalAllow = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Accept] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 3. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalDeny \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalDeny = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Drop] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 4. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalDeny \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalDeny = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Reject] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 5. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Log] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 6. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Empty] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 7. \\<And>ma a rs.\n       \\<lbrakk>\\<not> matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma a] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 8. \\<And>rs X rsa.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Decision\n                                 X\\<rangle> \\<Rightarrow> Decision\n                     X \\<Longrightarrow>\n                thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rsa = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                    X\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision X = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        rs = [Rule m (Call chain)]; Decision X = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rsa\\<rbrakk>\n       \\<Longrightarrow> thesis\n 9. \\<And>rs\\<^sub>1 t rs\\<^sub>2 t' rs.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs.\n           \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                    thesis;\n            \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n               \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                matches \\<gamma> m' p;\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n                no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                t = Undecided\\<rbrakk>\n               \\<Longrightarrow> thesis;\n            rs\\<^sub>1 = [Rule m (Call chain)]; Undecided = Undecided;\n            matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs.\n           \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n                    thesis;\n            \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n               \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                matches \\<gamma> m' p;\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> Undecided;\n                no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                t' = Undecided\\<rbrakk>\n               \\<Longrightarrow> thesis;\n            rs\\<^sub>2 = [Rule m (Call chain)]; t = Undecided;\n            matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1; t' = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        rs\\<^sub>1 @ rs\\<^sub>2 = [Rule m (Call chain)];\n        Undecided = Undecided; matches \\<gamma> m p;\n        \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 10. \\<And>ma chaina rs\\<^sub>1 m' rs\\<^sub>2 rs.\n        \\<lbrakk>matches \\<gamma> ma p;\n         \\<Gamma> chaina =\n         Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n         matches \\<gamma> m' p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<And>rs.\n            \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n                     thesis;\n             \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n                \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                 matches \\<gamma> m' p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                 Undecided = Undecided\\<rbrakk>\n                \\<Longrightarrow> thesis;\n             rs\\<^sub>1 = [Rule m (Call chain)]; Undecided = Undecided;\n             matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n            \\<Longrightarrow> thesis;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n         thesis;\n         \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n            \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n             matches \\<gamma> m' p;\n             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n             no_matching_Goto \\<gamma> p rs\\<^sub>1;\n             Undecided = Undecided\\<rbrakk>\n            \\<Longrightarrow> thesis;\n         [Rule ma (Call chaina)] = [Rule m (Call chain)];\n         Undecided = Undecided; matches \\<gamma> m p;\n         \\<Gamma> chain = Some rs\\<rbrakk>\n        \\<Longrightarrow> thesis\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> t'_\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> t_ \\<Longrightarrow>\n           thesis;\n   \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n      \\<lbrakk>?rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n       matches \\<gamma> m' p;\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n       no_matching_Goto \\<gamma> p rs\\<^sub>1; t_ = Undecided\\<rbrakk>\n      \\<Longrightarrow> thesis;\n   rs\\<^sub>1 = [Rule m (Call chain)]; Undecided = Undecided;\n   matches \\<gamma> m p; \\<Gamma> chain = Some ?rs\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, t_\\<rangle> \\<Rightarrow> t'_ \\<Longrightarrow>\n           thesis;\n   \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n      \\<lbrakk>?rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n       matches \\<gamma> m' p;\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t_\\<rangle> \\<Rightarrow> Undecided;\n       no_matching_Goto \\<gamma> p rs\\<^sub>1; t'_ = Undecided\\<rbrakk>\n      \\<Longrightarrow> thesis;\n   rs\\<^sub>2_ = [Rule m (Call chain)]; t_ = Undecided;\n   matches \\<gamma> m p; \\<Gamma> chain = Some ?rs\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'_ \\<Longrightarrow>\n  thesis\n  \\<lbrakk>rs = ?rs\\<^sub>1 @ Rule ?m' Return # ?rs\\<^sub>2;\n   matches \\<gamma> ?m' p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n   no_matching_Goto \\<gamma> p ?rs\\<^sub>1; t'_ = Undecided\\<rbrakk>\n  \\<Longrightarrow> thesis\n  rs\\<^sub>1 @ rs\\<^sub>2_ = [Rule m (Call chain)]\n  Undecided = Undecided\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs\n\ngoal (1 subgoal):\n 1. thesis", "by (cases rs\\<^sub>1) auto"], ["proof (state)\nthis:\n  thesis\n\ngoal (12 subgoals):\n 1. \\<And>t rs.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [] = [Rule m (Call chain)]; t = Undecided; matches \\<gamma> m p;\n        \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalAllow \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalAllow = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Accept] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 3. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalDeny \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalDeny = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Drop] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 4. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   FinalDeny \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision FinalDeny = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Reject] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 5. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Log] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 6. \\<And>ma rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma Empty] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 7. \\<And>ma a rs.\n       \\<lbrakk>\\<not> matches \\<gamma> ma p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma a] = [Rule m (Call chain)]; Undecided = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 8. \\<And>rs X rsa.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Decision\n                                 X\\<rangle> \\<Rightarrow> Decision\n                     X \\<Longrightarrow>\n                thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rsa = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                    X\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Decision X = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        rs = [Rule m (Call chain)]; Decision X = Undecided;\n        matches \\<gamma> m p; \\<Gamma> chain = Some rsa\\<rbrakk>\n       \\<Longrightarrow> thesis\n 9. \\<And>ma chaina rs\\<^sub>1 m' rs\\<^sub>2 rs.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma> chaina = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs.\n           \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n                    thesis;\n            \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n               \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                matches \\<gamma> m' p;\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n                no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                Undecided = Undecided\\<rbrakk>\n               \\<Longrightarrow> thesis;\n            rs\\<^sub>1 = [Rule m (Call chain)]; Undecided = Undecided;\n            matches \\<gamma> m p; \\<Gamma> chain = Some rs\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow>\n        thesis;\n        \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n           \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n            matches \\<gamma> m' p;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n            no_matching_Goto \\<gamma> p rs\\<^sub>1;\n            Undecided = Undecided\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        [Rule ma (Call chaina)] = [Rule m (Call chain)];\n        Undecided = Undecided; matches \\<gamma> m p;\n        \\<Gamma> chain = Some rs\\<rbrakk>\n       \\<Longrightarrow> thesis\n 10. \\<And>ma chaina rs t rsa.\n        \\<lbrakk>matches \\<gamma> ma p; \\<Gamma> chaina = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n         \\<And>rsa.\n            \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                     thesis;\n             \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n                \\<lbrakk>rsa = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n                 matches \\<gamma> m' p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1;\n                 t = Undecided\\<rbrakk>\n                \\<Longrightarrow> thesis;\n             rs = [Rule m (Call chain)]; Undecided = Undecided;\n             matches \\<gamma> m p; \\<Gamma> chain = Some rsa\\<rbrakk>\n            \\<Longrightarrow> thesis;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n         thesis;\n         \\<And>rs\\<^sub>1 m' rs\\<^sub>2.\n            \\<lbrakk>rsa = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n             matches \\<gamma> m' p;\n             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n             no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n            \\<Longrightarrow> thesis;\n         [Rule ma (Call chaina)] = [Rule m (Call chain)];\n         Undecided = Undecided; matches \\<gamma> m p;\n         \\<Gamma> chain = Some rsa\\<rbrakk>\n        \\<Longrightarrow> thesis\nA total of 12 subgoals...", "qed auto"], ["", "end"], ["", "private"], ["", "lemmas iptables_goto_bigstepD = skipD acceptD dropD rejectD logD emptyD nomatchD decisionD callD gotoD"], ["", "private"], ["", "lemma seq':\n      assumes \"rs = rs\\<^sub>1 @ rs\\<^sub>2\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t\\<rangle> \\<Rightarrow> t'\" and \"no_matching_Goto \\<gamma> p rs\\<^sub>1\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,s\\<rangle> \\<Rightarrow> t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t'", "using assms"], ["proof (prove)\nusing this:\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t'", "by (cases s) (auto intro: seq decision dest: decisionD)"], ["", "private"], ["", "lemma seq'_cons: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,t\\<rangle> \\<Rightarrow> t' \\<Longrightarrow> no_matching_Goto \\<gamma> p [r] \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, s\\<rangle> \\<Rightarrow> t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t';\n     no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs, s\\<rangle> \\<Rightarrow> t'", "by (metis decision decisionD state.exhaust seq_cons)"], ["", "private"], ["", "lemma no_matching_Goto_take: \"no_matching_Goto \\<gamma> p rs \\<Longrightarrow> no_matching_Goto \\<gamma> p  (take n rs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p (take n rs)", "apply(induction n arbitrary: rs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rs.\n       no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n       no_matching_Goto \\<gamma> p (take 0 rs)\n 2. \\<And>n rs.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take n rs);\n        no_matching_Goto \\<gamma> p rs\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (take (Suc n) rs)", "apply(simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n rs.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take n rs);\n        no_matching_Goto \\<gamma> p rs\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (take (Suc n) rs)", "apply(rename_tac r rs)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p rs\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (take (Suc r) rs)", "apply(case_tac rs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>r rs.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p rs; rs = []\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (take (Suc r) rs)\n 2. \\<And>r rs a list.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p rs; rs = a # list\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (take (Suc r) rs)", "apply(simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs a list.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p (a # list); rs = a # list\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (a # take r list)", "apply(rename_tac r' rs')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs r' rs'.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p (r' # rs'); rs = r' # rs'\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (r' # take r rs')", "apply(case_tac r')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs r' rs' x1 x2.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p (r' # rs'); rs = r' # rs';\n        r' = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (r' # take r rs')", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs r' rs' x1 x2.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p (Rule x1 x2 # rs');\n        rs = Rule x1 x2 # rs'; r' = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule x1 x2 # take r rs')", "apply(rename_tac m a)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs r' rs' m a.\n       \\<lbrakk>\\<And>rs.\n                   no_matching_Goto \\<gamma> p rs \\<Longrightarrow>\n                   no_matching_Goto \\<gamma> p (take r rs);\n        no_matching_Goto \\<gamma> p (Rule m a # rs'); rs = Rule m a # rs';\n        r' = Rule m a\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m a # take r rs')", "by(case_tac a) (simp_all)"], ["", "private"], ["", "lemma seq_split:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\" \"rs = rs\\<^sub>1@rs\\<^sub>2\"\n      obtains (no_matching_Goto) t' where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t'\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t'\\<rangle> \\<Rightarrow> t\" \"no_matching_Goto \\<gamma> p rs\\<^sub>1\"\n            | (matching_Goto) \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t\" \"\\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t'.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t';\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t;\n      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t'.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t';\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t;\n      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "have \"(\\<exists>t'. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t' \\<and> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t'\\<rangle> \\<Rightarrow> t \\<and> no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or> (\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t \\<and> \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "using assms"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "proof (induction rs s t arbitrary: rs\\<^sub>1 rs\\<^sub>2 rule: iptables_goto_bigstep_induct)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>t rs\\<^sub>1 rs\\<^sub>2.\n       [] = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalAllow \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalAllow \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 8. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 9. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 10. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                    X;\n         \\<And>rs\\<^sub>1 rs\\<^sub>2.\n            rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n            (\\<exists>t'.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                            X \\<and>\n                no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                               X \\<and>\n            \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> (\\<exists>t'.\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n    X \\<and>\n                              no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n       X \\<and>\n                          \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\nA total of 11 subgoals...", "case Skip"], ["proof (state)\nthis:\n  [] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (11 subgoals):\n 1. \\<And>t rs\\<^sub>1 rs\\<^sub>2.\n       [] = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalAllow \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalAllow \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 8. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 9. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 10. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                    X;\n         \\<And>rs\\<^sub>1 rs\\<^sub>2.\n            rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n            (\\<exists>t'.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                            X \\<and>\n                no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                               X \\<and>\n            \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> (\\<exists>t'.\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n    X \\<and>\n                              no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n       X \\<and>\n                          \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  [] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t_\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t_ \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t_\\<rangle> \\<Rightarrow> t_ \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (auto intro: iptables_goto_bigstep.intros simp add: accept)"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t_\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t_ \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t_\\<rangle> \\<Rightarrow> t_ \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (10 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalAllow \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalAllow \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 7. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 8. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 9. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 10. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<And>rs\\<^sub>1 rs\\<^sub>2.\n            rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n            (\\<exists>t'.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n            \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> (\\<exists>t'.\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                              no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                          \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalAllow \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalAllow \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 7. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 8. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 9. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 10. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<And>rs\\<^sub>1 rs\\<^sub>2.\n            rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n            (\\<exists>t'.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n            \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> (\\<exists>t'.\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                              no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                          \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Allow"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Accept\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (10 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalAllow \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalAllow \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 7. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 8. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 9. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 10. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<And>rs\\<^sub>1 rs\\<^sub>2.\n            rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n            (\\<exists>t'.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n            \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n         Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> (\\<exists>t'.\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                              no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                          \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Accept\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                    FinalAllow \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                       FinalAllow \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (cases rs\\<^sub>1) (auto intro: iptables_goto_bigstep.intros simp add: accept)"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                  FinalAllow \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                     FinalAllow \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (9 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 6. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 7. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 8. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 9. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 6. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 7. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 8. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 9. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Deny"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Drop \\<or> a_ = Reject\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (9 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   FinalDeny \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      FinalDeny \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 6. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 7. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 8. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 9. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Drop \\<or> a_ = Reject\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                    FinalDeny \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                       FinalDeny \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (cases rs\\<^sub>1) (auto intro: iptables_goto_bigstep.intros simp add: deny)"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                  FinalDeny \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                     FinalDeny \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (8 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 6. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 8. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 6. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 8. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Log"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Log \\<or> a_ = Empty\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (8 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 6. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 8. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Log \\<or> a_ = Empty\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (cases rs\\<^sub>1) (auto intro: iptables_goto_bigstep.intros simp add: log empty)"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (7 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 5. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 5. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Nomatch"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m_ p\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (7 subgoals):\n 1. \\<And>m a rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 5. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 7. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?case"], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m_ p\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (cases rs\\<^sub>1)\n          (auto intro: iptables_goto_bigstep.intros simp add: not_no_matching_Goto_singleton_cases, meson nomatch not_no_matching_Goto_singleton_cases skip)"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (6 subgoals):\n 1. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 4. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 4. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Decision"], ["proof (state)\nthis:\n  rs_ = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (6 subgoals):\n 1. \\<And>rs X rs\\<^sub>1 rs\\<^sub>2.\n       rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                   X\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                               X\\<rangle> \\<Rightarrow> Decision X \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 4. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 6. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?case"], ["proof (prove)\nusing this:\n  rs_ = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                                X_\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                    X_ \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                            X_\\<rangle> \\<Rightarrow> Decision X_ \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (auto intro: iptables_goto_bigstep.intros)"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                              X_\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                  X_ \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Decision\n                          X_\\<rangle> \\<Rightarrow> Decision X_ \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case (Seq rs rsa rsb t t')"], ["proof (state)\nthis:\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa\n  rsa = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rsb = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "hence rs: \"rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2\""], ["proof (prove)\nusing this:\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa\n  rsa = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rsb = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "note List.append_eq_append_conv_if[simp]"], ["proof (state)\nthis:\n  (?xs\\<^sub>1 @ ?xs\\<^sub>2 = ?ys\\<^sub>1 @ ?ys\\<^sub>2) =\n  (if length ?xs\\<^sub>1 \\<le> length ?ys\\<^sub>1\n   then ?xs\\<^sub>1 = take (length ?xs\\<^sub>1) ?ys\\<^sub>1 \\<and>\n        ?xs\\<^sub>2 = drop (length ?xs\\<^sub>1) ?ys\\<^sub>1 @ ?ys\\<^sub>2\n   else take (length ?ys\\<^sub>1) ?xs\\<^sub>1 = ?ys\\<^sub>1 \\<and>\n        drop (length ?ys\\<^sub>1) ?xs\\<^sub>1 @ ?xs\\<^sub>2 = ?ys\\<^sub>2)\n\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>rs\\<^sub>1 rs\\<^sub>2'.\n           rs\\<^sub>2 = rs\\<^sub>1 @ rs\\<^sub>2' \\<Longrightarrow>\n           (\\<exists>t'a.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        rs = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'a.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 3. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from rs"], ["proof (chain)\npicking this:\n  rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2", "show ?case"], ["proof (prove)\nusing this:\n  rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "proof (cases rule: list_app_eq_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>rsa = take (length rsa) rs\\<^sub>1;\n     rsb = drop (length rsa) rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case longer"], ["proof (state)\nthis:\n  rsa = take (length rsa) rs\\<^sub>1\n  rsb = drop (length rsa) rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>rsa = take (length rsa) rs\\<^sub>1;\n     rsb = drop (length rsa) rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with Seq"], ["proof (chain)\npicking this:\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa\n  rsa = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rsb = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n  rsa = take (length rsa) rs\\<^sub>1\n  rsb = drop (length rsa) rs\\<^sub>1 @ rs\\<^sub>2", "have t1: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa) rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa\n  rsa = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rsb = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n  rsa = take (length rsa) rs\\<^sub>1\n  rsb = drop (length rsa) rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n                rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n              rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>rsa = take (length rsa) rs\\<^sub>1;\n     rsb = drop (length rsa) rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from Seq.IH(2)[OF longer(2)]"], ["proof (chain)\npicking this:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                  rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)", "have IH:\n              \"(\\<exists>t'a. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa) rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)) \\<or>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa) rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and> \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\" (is \"?IH_no_Goto \\<or> ?IH_Goto\")"], ["proof (prove)\nusing this:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                  rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                    rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)", "by simp"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                  rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>rsa = take (length rsa) rs\\<^sub>1;\n     rsb = drop (length rsa) rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                  rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "proof(rule disjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>t'a.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                   rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n       no_matching_Goto \\<gamma> p\n        (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "assume IH: ?IH_no_Goto"], ["proof (state)\nthis:\n  \\<exists>t'a.\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                 rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n     no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (2 subgoals):\n 1. \\<exists>t'a.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                   rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n       no_matching_Goto \\<gamma> p\n        (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from IH"], ["proof (chain)\npicking this:\n  \\<exists>t'a.\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                 rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n     no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)", "obtain t2\n                  where t2a: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa) rs\\<^sub>1,t\\<rangle> \\<Rightarrow> t2\"\n                    and rs_part2: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t2\\<rangle> \\<Rightarrow> t'\"\n                    and \"no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\""], ["proof (prove)\nusing this:\n  \\<exists>t'a.\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                 rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n     no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<And>t2.\n        \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop\n                             (length rsa)\n                             rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t2;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t';\n         no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (2 subgoals):\n 1. \\<exists>t'a.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                   rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n       no_matching_Goto \\<gamma> p\n        (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with t1 rs_part2"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n              rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)", "have rs_part1: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa) rs\\<^sub>1 @ drop (length rsa) rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t2\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n              rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n                rs\\<^sub>1 @\n               drop (length rsa)\n                rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t2", "using Seq.hyps(4) longer(1) seq"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n              rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n  no_matching_Goto \\<gamma> p rsa\n  rsa = take (length rsa) rs\\<^sub>1\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ?t;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, ?t\\<rangle> \\<Rightarrow> ?t';\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1 @\n                                  ?rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ?t'\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n                rs\\<^sub>1 @\n               drop (length rsa)\n                rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t2", "by fastforce"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n              rs\\<^sub>1 @\n             drop (length rsa)\n              rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t2\n\ngoal (2 subgoals):\n 1. \\<exists>t'a.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                   rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n       no_matching_Goto \\<gamma> p\n        (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "have \"no_matching_Goto \\<gamma> p (take (length rsa) rs\\<^sub>1 @ drop (length rsa) rs\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p\n     (take (length rsa) rs\\<^sub>1 @ drop (length rsa) rs\\<^sub>1)", "using Seq.hyps(4) \\<open>no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\\<close> longer(1)\n                        no_matching_Goto_append"], ["proof (prove)\nusing this:\n  no_matching_Goto \\<gamma> p rsa\n  no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n  rsa = take (length rsa) rs\\<^sub>1\n  no_matching_Goto ?\\<gamma> ?p (?rs1.0 @ ?rs2.0) =\n  (no_matching_Goto ?\\<gamma> ?p ?rs1.0 \\<and>\n   no_matching_Goto ?\\<gamma> ?p ?rs2.0)\n\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p\n     (take (length rsa) rs\\<^sub>1 @ drop (length rsa) rs\\<^sub>1)", "by fastforce"], ["proof (state)\nthis:\n  no_matching_Goto \\<gamma> p\n   (take (length rsa) rs\\<^sub>1 @ drop (length rsa) rs\\<^sub>1)\n\ngoal (2 subgoals):\n 1. \\<exists>t'a.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                   rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n       no_matching_Goto \\<gamma> p\n        (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with Seq rs_part1 rs_part2"], ["proof (chain)\npicking this:\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa\n  rsa = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rsb = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n              rs\\<^sub>1 @\n             drop (length rsa)\n              rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p\n   (take (length rsa) rs\\<^sub>1 @ drop (length rsa) rs\\<^sub>1)", "show ?thesis"], ["proof (prove)\nusing this:\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa\n  rsa = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rsb = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  rs = rs\\<^sub>1 @ rs\\<^sub>2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa)\n              rs\\<^sub>1 @\n             drop (length rsa)\n              rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t2\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p\n   (take (length rsa) rs\\<^sub>1 @ drop (length rsa) rs\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "assume ?IH_Goto"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n                rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p\n            (drop (length rsa) rs\\<^sub>1) \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa)\n              rs\\<^sub>1, t\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p (drop (length rsa) rs\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (metis Seq.hyps(2) Seq.hyps(4) append_take_drop_id longer(1) no_matching_Goto_append2 seq')"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case shorter"], ["proof (state)\nthis:\n  rs\\<^sub>1 = take (length rs\\<^sub>1) rsa\n  rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\n\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from shorter rs"], ["proof (chain)\npicking this:\n  rs\\<^sub>1 = take (length rs\\<^sub>1) rsa\n  rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\n  rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2", "have rsa': \"rsa = rs\\<^sub>1 @ take (length rsa - length rs\\<^sub>1) rs\\<^sub>2\""], ["proof (prove)\nusing this:\n  rs\\<^sub>1 = take (length rs\\<^sub>1) rsa\n  rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\n  rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. rsa = rs\\<^sub>1 @ take (length rsa - length rs\\<^sub>1) rs\\<^sub>2", "by (metis append_eq_conv_conj length_drop)"], ["proof (state)\nthis:\n  rsa = rs\\<^sub>1 @ take (length rsa - length rs\\<^sub>1) rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from shorter rs"], ["proof (chain)\npicking this:\n  rs\\<^sub>1 = take (length rs\\<^sub>1) rsa\n  rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\n  rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2", "have rsb': \"rsb = drop (length rsa - length rs\\<^sub>1) rs\\<^sub>2\""], ["proof (prove)\nusing this:\n  rs\\<^sub>1 = take (length rs\\<^sub>1) rsa\n  rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\n  rsa @ rsb = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. rsb = drop (length rsa - length rs\\<^sub>1) rs\\<^sub>2", "by (metis append_eq_conv_conj length_drop)"], ["proof (state)\nthis:\n  rsb = drop (length rsa - length rs\\<^sub>1) rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from Seq.hyps(4) rsa' no_matching_Goto_append2"], ["proof (chain)\npicking this:\n  no_matching_Goto \\<gamma> p rsa\n  rsa = rs\\<^sub>1 @ take (length rsa - length rs\\<^sub>1) rs\\<^sub>2\n  no_matching_Goto ?\\<gamma> ?p (?rs1.0 @ ?rs2.0) \\<Longrightarrow>\n  no_matching_Goto ?\\<gamma> ?p ?rs2.0", "have\n                no_matching_Goto_rs2: \"no_matching_Goto \\<gamma> p (take (length rsa - length rs\\<^sub>1) rs\\<^sub>2)\""], ["proof (prove)\nusing this:\n  no_matching_Goto \\<gamma> p rsa\n  rsa = rs\\<^sub>1 @ take (length rsa - length rs\\<^sub>1) rs\\<^sub>2\n  no_matching_Goto ?\\<gamma> ?p (?rs1.0 @ ?rs2.0) \\<Longrightarrow>\n  no_matching_Goto ?\\<gamma> ?p ?rs2.0\n\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p\n     (take (length rsa - length rs\\<^sub>1) rs\\<^sub>2)", "by metis"], ["proof (state)\nthis:\n  no_matching_Goto \\<gamma> p\n   (take (length rsa - length rs\\<^sub>1) rs\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from rsb' Seq.hyps"], ["proof (chain)\npicking this:\n  rsb = drop (length rsa - length rs\\<^sub>1) rs\\<^sub>2\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa", "have t2: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop (length rsa - length rs\\<^sub>1) rs\\<^sub>2,t\\<rangle> \\<Rightarrow> t'\""], ["proof (prove)\nusing this:\n  rsb = drop (length rsa - length rs\\<^sub>1) rs\\<^sub>2\n  rs = rsa @ rsb\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsa, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rsb, t\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rsa\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop\n                (length rsa - length rs\\<^sub>1)\n                rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t'", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop\n              (length rsa - length rs\\<^sub>1)\n              rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from Seq.IH(1)[OF rsa']"], ["proof (chain)\npicking this:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                  (length rsa - length rs\\<^sub>1)\n                  rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "have IH:\n              \"(\\<exists>t'. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa - length rs\\<^sub>1) rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and> no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and> \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\" (is \"?IH_no_Goto \\<or> ?IH_Goto\")"], ["proof (prove)\nusing this:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                  (length rsa - length rs\\<^sub>1)\n                  rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                    (length rsa - length rs\\<^sub>1)\n                    rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by simp"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                  (length rsa - length rs\\<^sub>1)\n                  rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>rs\\<^sub>1 = take (length rs\\<^sub>1) rsa;\n     rs\\<^sub>2 = drop (length rs\\<^sub>1) rsa @ rsb\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'a.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                  (length rsa - length rs\\<^sub>1)\n                  rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "proof(rule disjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>t'.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                   (length rsa - length rs\\<^sub>1)\n                   rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n       no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "assume IH: ?IH_no_Goto"], ["proof (state)\nthis:\n  \\<exists>t'.\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                 (length rsa - length rs\\<^sub>1)\n                 rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n     no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<exists>t'.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                   (length rsa - length rs\\<^sub>1)\n                   rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n       no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from IH"], ["proof (chain)\npicking this:\n  \\<exists>t'.\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                 (length rsa - length rs\\<^sub>1)\n                 rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n     no_matching_Goto \\<gamma> p rs\\<^sub>1", "obtain t1\n                  where t1a: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,Undecided\\<rangle> \\<Rightarrow> t1\"\n                    and t1b: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take (length rsa - length rs\\<^sub>1) rs\\<^sub>2,t1\\<rangle> \\<Rightarrow> t\"\n                    and \"no_matching_Goto \\<gamma> p rs\\<^sub>1\""], ["proof (prove)\nusing this:\n  \\<exists>t'.\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                 (length rsa - length rs\\<^sub>1)\n                 rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n     no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>t1.\n        \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t1;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                     (length rsa - length rs\\<^sub>1)\n                     rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n              (length rsa - length rs\\<^sub>1)\n              rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<exists>t'.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                   (length rsa - length rs\\<^sub>1)\n                   rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n       no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from no_matching_Goto_rs2 t2 seq' t1b"], ["proof (chain)\npicking this:\n  no_matching_Goto \\<gamma> p\n   (take (length rsa - length rs\\<^sub>1) rs\\<^sub>2)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop\n              (length rsa - length rs\\<^sub>1)\n              rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t'\n  \\<lbrakk>?rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, ?t\\<rangle> \\<Rightarrow> ?t';\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs, ?s\\<rangle> \\<Rightarrow> ?t'\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n              (length rsa - length rs\\<^sub>1)\n              rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t", "have rs2: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,t1\\<rangle> \\<Rightarrow> t'\""], ["proof (prove)\nusing this:\n  no_matching_Goto \\<gamma> p\n   (take (length rsa - length rs\\<^sub>1) rs\\<^sub>2)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>drop\n              (length rsa - length rs\\<^sub>1)\n              rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t'\n  \\<lbrakk>?rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, ?t\\<rangle> \\<Rightarrow> ?t';\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs, ?s\\<rangle> \\<Rightarrow> ?t'\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n              (length rsa - length rs\\<^sub>1)\n              rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t'", "by  fastforce"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t'\n\ngoal (2 subgoals):\n 1. \\<exists>t'.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>take\n                   (length rsa - length rs\\<^sub>1)\n                   rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n       no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from t1a rs2 \\<open>no_matching_Goto \\<gamma> p rs\\<^sub>1\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rs\\<^sub>1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t1\\<rangle> \\<Rightarrow> t'\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by fast"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "assume ?IH_Goto"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1 \\<Longrightarrow>\n    (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<exists>t'a.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (metis Seq.hyps(4) no_matching_Goto_append1 rsa')"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>t'a.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t'a \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'a\\<rangle> \\<Rightarrow> t' \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (4 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Call_return"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some (rs\\<^sub>1_ @ [Rule m'_ Return] @ rs\\<^sub>2_)\n  matches \\<gamma> m'_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  rs\\<^sub>1_ = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (4 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "hence \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some (rs\\<^sub>1_ @ [Rule m'_ Return] @ rs\\<^sub>2_)\n  matches \\<gamma> m'_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  rs\\<^sub>1_ = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided &&&\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided", "by (case_tac [!] rs\\<^sub>1) (auto intro: iptables_goto_bigstep.skip iptables_goto_bigstep.call_return)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (4 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 rs\\<^sub>1' rs\\<^sub>2'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>rs\\<^sub>1' rs\\<^sub>2.\n           rs\\<^sub>1 = rs\\<^sub>1' @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1';\n        [Rule m a] = rs\\<^sub>1' @ rs\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2', t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1') \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1', Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1'\n 2. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 4. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by fast"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (3 subgoals):\n 1. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case (Call_result _ _ _ _ t)"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t\n  rs_ = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (3 subgoals):\n 1. \\<And>m a chain rs t rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        [Rule m a] = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 3. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "proof (cases rs\\<^sub>1)"], ["proof (state)\ngoal (2 subgoals):\n 1. rs\\<^sub>1 = [] \\<Longrightarrow>\n    (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Nil"], ["proof (state)\nthis:\n  rs\\<^sub>1 = []\n\ngoal (2 subgoals):\n 1. rs\\<^sub>1 = [] \\<Longrightarrow>\n    (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with Call_result"], ["proof (chain)\npicking this:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t\n  rs_ = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = []", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t\n  rs_ = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  [Rule m_ a_] = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = []\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided &&&\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t", "by (auto intro: iptables_goto_bigstep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. rs\\<^sub>1 = [] \\<Longrightarrow>\n    (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "using local.Nil"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t\n  rs\\<^sub>1 = []\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Cons"], ["proof (state)\nthis:\n  rs\\<^sub>1 = a_ # list_\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with Call_result"], ["proof (chain)\npicking this:\n  matches \\<gamma> m_ p\n  a___ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t\n  rs_ = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  [Rule m_ a___] = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = a_ # list_", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a___ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t\n  rs_ = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  [Rule m_ a___] = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = a_ # list_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t &&&\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t", "by (auto intro: iptables_goto_bigstep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by fast"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case (Goto_Decision m a chain rs rest X)"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n             X\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                   X \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                      X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>m a chain rs rest X rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n             X\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                   X \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                      X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                    X \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "proof (cases rs\\<^sub>1)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p; a = Goto chain; \\<Gamma> chain = Some rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                X;\n     \\<And>rs\\<^sub>1 rs\\<^sub>2.\n        rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n        (\\<exists>t'.\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                        X \\<and>\n            no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n        \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2; rs\\<^sub>1 = []\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\nX \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>aa list.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2;\n        rs\\<^sub>1 = aa # list\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Nil"], ["proof (state)\nthis:\n  rs\\<^sub>1 = []\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p; a = Goto chain; \\<Gamma> chain = Some rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                X;\n     \\<And>rs\\<^sub>1 rs\\<^sub>2.\n        rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n        (\\<exists>t'.\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                        X \\<and>\n            no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n        \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2; rs\\<^sub>1 = []\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\nX \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>aa list.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2;\n        rs\\<^sub>1 = aa # list\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with Goto_Decision"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n             X\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                   X \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                      X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = []", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Decision X\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n             X\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                   X \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                      X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = []\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided &&&\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Decision\n                       X", "by (auto intro: iptables_goto_bigstep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p; a = Goto chain; \\<Gamma> chain = Some rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                X;\n     \\<And>rs\\<^sub>1 rs\\<^sub>2.\n        rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n        (\\<exists>t'.\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                        X \\<and>\n            no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n        \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2; rs\\<^sub>1 = []\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>t'.\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\nX \\<and>\n                          no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>aa list.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2;\n        rs\\<^sub>1 = aa # list\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                    X \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "using local.Nil"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X\n  rs\\<^sub>1 = []\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                    X \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                  X \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2;\n        rs\\<^sub>1 = aa # list\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2;\n        rs\\<^sub>1 = aa # list\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Cons"], ["proof (state)\nthis:\n  rs\\<^sub>1 = a_ # list_\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2;\n        rs\\<^sub>1 = aa # list\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with Goto_Decision"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n             X\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                   X \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                      X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = a_ # list_", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision X\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Decision X\\<rangle> \\<Rightarrow> Decision X\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n             X\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                   X \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                      X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = a_ # list_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                       X &&&\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Decision\n                            X\\<rangle> \\<Rightarrow> Decision X", "by (auto intro: iptables_goto_bigstep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Decision\n                          X\\<rangle> \\<Rightarrow> Decision X\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                           X \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                              X \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2;\n        rs\\<^sub>1 = aa # list\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n   X \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n      X \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Decision\n                          X\\<rangle> \\<Rightarrow> Decision X\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                    X \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                       X \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by fast"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                  X \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Decision\n                  X \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Decision\n                     X \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case (Goto_no_Decision m a chain rs rest rs\\<^sub>1)"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from Goto_no_Decision"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2", "have rs1rs2: \"Rule m (Goto chain) # rest = rs\\<^sub>1 @ rs\\<^sub>2\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. Rule m (Goto chain) # rest = rs\\<^sub>1 @ rs\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  Rule m (Goto chain) # rest = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from goto_no_decision[OF Goto_no_Decision(1)]  Goto_no_Decision(3)  Goto_no_Decision(4)"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs;\n   ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> Undecided\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                                 (Goto ?chain) #\n                                ?rest, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "have x: \"\\<And>rest. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) # rest, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs;\n   ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> Undecided\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                                 (Goto ?chain) #\n                                ?rest, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<And>rest.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                   (Goto chain) #\n                  rest, Undecided\\<rangle> \\<Rightarrow> Undecided", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             ?rest, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest rs\\<^sub>1 rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>rs\\<^sub>1 rs\\<^sub>2.\n           rs = rs\\<^sub>1 @ rs\\<^sub>2 \\<Longrightarrow>\n           (\\<exists>t'.\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n               \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n               no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n           \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>t'.\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n                             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n                             no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n                         \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "proof (cases rs\\<^sub>1)"], ["proof (state)\ngoal (2 subgoals):\n 1. rs\\<^sub>1 = [] \\<Longrightarrow>\n    (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case Nil"], ["proof (state)\nthis:\n  rs\\<^sub>1 = []\n\ngoal (2 subgoals):\n 1. rs\\<^sub>1 = [] \\<Longrightarrow>\n    (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with Goto_no_Decision"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = []", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = []\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided &&&\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided", "by (auto intro: iptables_goto_bigstep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (2 subgoals):\n 1. rs\\<^sub>1 = [] \\<Longrightarrow>\n    (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 2. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by fast"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "case (Cons rs\\<^sub>1a rs\\<^sub>1s)"], ["proof (state)\nthis:\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "with rs1rs2"], ["proof (chain)\npicking this:\n  Rule m (Goto chain) # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s", "have \"rs\\<^sub>1 = Rule m (Goto chain) # (take (length rs\\<^sub>1s) rest)\""], ["proof (prove)\nusing this:\n  Rule m (Goto chain) # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s\n\ngoal (1 subgoal):\n 1. rs\\<^sub>1 = Rule m (Goto chain) # take (length rs\\<^sub>1s) rest", "by simp"], ["proof (state)\nthis:\n  rs\\<^sub>1 = Rule m (Goto chain) # take (length rs\\<^sub>1s) rest\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from Cons rs1rs2"], ["proof (chain)\npicking this:\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s\n  Rule m (Goto chain) # rest = rs\\<^sub>1 @ rs\\<^sub>2", "have\"rs\\<^sub>2 = drop (length rs\\<^sub>1s) rest\""], ["proof (prove)\nusing this:\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s\n  Rule m (Goto chain) # rest = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. rs\\<^sub>2 = drop (length rs\\<^sub>1s) rest", "by simp"], ["proof (state)\nthis:\n  rs\\<^sub>2 = drop (length rs\\<^sub>1s) rest\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from Cons Goto_no_Decision"], ["proof (chain)\npicking this:\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2", "have 1: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided", "using x"], ["proof (prove)\nusing this:\n  rs\\<^sub>1 = rs\\<^sub>1a # rs\\<^sub>1s\n  matches \\<gamma> m p\n  a = Goto chain\n  \\<Gamma> chain = Some rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  rs = ?rs\\<^sub>1 @ ?rs\\<^sub>2 \\<Longrightarrow>\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p ?rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p ?rs\\<^sub>1\n  Rule m a # rest = rs\\<^sub>1 @ rs\\<^sub>2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             ?rest, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided", "by auto[1]"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "have 2: \"\\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by (simp add: Goto_no_Decision.hyps(1) \\<open>rs\\<^sub>1 = Rule m (Goto chain) # take (length rs\\<^sub>1s) rest\\<close>)"], ["proof (state)\nthis:\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       rs\\<^sub>1 = a # list \\<Longrightarrow>\n       (\\<exists>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n           no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n       \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "from 1 2"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<exists>t'.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n        no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n    \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1", "by fast"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> Undecided \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t'.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t';\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t;\n      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n\ngoal (1 subgoal):\n 1. thesis", "using matching_Goto no_matching_Goto"], ["proof (prove)\nusing this:\n  (\\<exists>t'.\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t' \\<and>\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t'\\<rangle> \\<Rightarrow> t \\<and>\n      no_matching_Goto \\<gamma> p rs\\<^sub>1) \\<or>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t \\<and>\n  \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t;\n   \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> ?t';\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, ?t'\\<rangle> \\<Rightarrow> t;\n   no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma seqE:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1@rs\\<^sub>2, s\\<rangle> \\<Rightarrow> t\"\n      obtains (no_matching_Goto) ti where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> ti\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2,ti\\<rangle> \\<Rightarrow> t\" \"no_matching_Goto \\<gamma> p rs\\<^sub>1\"\n            | (matching_Goto) \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1,s\\<rangle> \\<Rightarrow> t\" \"\\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t;\n      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1 @\n             rs\\<^sub>2, s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, s\\<rangle> \\<Rightarrow> t;\n      \\<not> no_matching_Goto \\<gamma> p rs\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by (force elim: seq_split)"], ["", "private"], ["", "lemma seqE_cons:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, s\\<rangle> \\<Rightarrow> t\"\n      obtains (no_matching_Goto) ti where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],s\\<rangle> \\<Rightarrow> ti\" \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,ti\\<rangle> \\<Rightarrow> t\" \"no_matching_Goto \\<gamma> p [r]\"\n            | (matching_Goto) \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],s\\<rangle> \\<Rightarrow> t\" \"\\<not> no_matching_Goto \\<gamma> p [r]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n      \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n      \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by (metis append_Cons append_Nil seqE)"], ["", "private"], ["", "lemma seqE_cons_Undecided:\n      assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs, Undecided\\<rangle> \\<Rightarrow> t\"\n      obtains (no_matching_Goto) ti where \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r],Undecided\\<rangle> \\<Rightarrow> ti\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs,ti\\<rangle> \\<Rightarrow> t\" and \"no_matching_Goto \\<gamma> p [r]\"\n            | (matching_Goto) m chain rs' where \"r = Rule m (Goto chain)\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)],Undecided\\<rangle> \\<Rightarrow> t\" and \"matches \\<gamma> m p\" \"\\<Gamma> chain = Some rs'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "proof(cases rule: seqE_cons)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<And>ti.\n                   \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                    no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>m chain rs'.\n           \\<lbrakk>r = Rule m (Goto chain);\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                         (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n            matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "case no_matching_Goto"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti_\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [r]\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<And>ti.\n                   \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                    no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>m chain rs'.\n           \\<lbrakk>r = Rule m (Goto chain);\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                         (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n            matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti_\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [r]\n\ngoal (1 subgoal):\n 1. thesis", "using local.that"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti_\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [r]\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ?ti;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?ti\\<rangle> \\<Rightarrow> t;\n   no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>r = Rule ?m (Goto ?chain);\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                (Goto ?chain)], Undecided\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> ?m p; \\<Gamma> ?chain = Some ?rs'\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by simp"], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "case matching_Goto"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> no_matching_Goto \\<gamma> p [r]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "from this(2) not_no_matching_Goto_singleton_cases[of \\<gamma> p \"(get_match r)\" \"(get_action r)\", simplified]"], ["proof (chain)\npicking this:\n  \\<not> no_matching_Goto \\<gamma> p [r]\n  (\\<not> no_matching_Goto \\<gamma> p [r]) =\n  ((\\<exists>chain. get_action r = Goto chain) \\<and>\n   matches \\<gamma> (get_match r) p)", "have\n          \"((\\<exists>chain. (get_action r) = Goto chain) \\<and> matches \\<gamma> (get_match r) p)\""], ["proof (prove)\nusing this:\n  \\<not> no_matching_Goto \\<gamma> p [r]\n  (\\<not> no_matching_Goto \\<gamma> p [r]) =\n  ((\\<exists>chain. get_action r = Goto chain) \\<and>\n   matches \\<gamma> (get_match r) p)\n\ngoal (1 subgoal):\n 1. (\\<exists>chain. get_action r = Goto chain) \\<and>\n    matches \\<gamma> (get_match r) p", "by simp"], ["proof (state)\nthis:\n  (\\<exists>chain. get_action r = Goto chain) \\<and>\n  matches \\<gamma> (get_match r) p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "from this"], ["proof (chain)\npicking this:\n  (\\<exists>chain. get_action r = Goto chain) \\<and>\n  matches \\<gamma> (get_match r) p", "obtain chain m where r: \"r = Rule m (Goto chain)\" \"matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  (\\<exists>chain. get_action r = Goto chain) \\<and>\n  matches \\<gamma> (get_match r) p\n\ngoal (1 subgoal):\n 1. (\\<And>m chain.\n        \\<lbrakk>r = Rule m (Goto chain); matches \\<gamma> m p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(cases r) auto"], ["proof (state)\nthis:\n  r = Rule m (Goto chain)\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "from matching_Goto r"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> no_matching_Goto \\<gamma> p [r]\n  r = Rule m (Goto chain)\n  matches \\<gamma> m p", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)],Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> no_matching_Goto \\<gamma> p [r]\n  r = Rule m (Goto chain)\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "from gotoD[OF matching_Goto(1)] r \\<open>matches \\<gamma> m p\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>[r] = [Rule ?m (Goto ?chain)]; Undecided = Undecided;\n   matches \\<gamma> ?m p\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs.\n                       \\<Gamma> ?chain = Some rs \\<and>\n                       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  r = Rule m (Goto chain)\n  matches \\<gamma> m p\n  matches \\<gamma> m p", "obtain rs' where \"\\<Gamma> chain = Some rs'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>[r] = [Rule ?m (Goto ?chain)]; Undecided = Undecided;\n   matches \\<gamma> ?m p\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs.\n                       \\<Gamma> ?chain = Some rs \\<and>\n                       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  r = Rule m (Goto chain)\n  matches \\<gamma> m p\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. (\\<And>rs'.\n        \\<Gamma> chain = Some rs' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Gamma> chain = Some rs'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>ti.\n                \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ti;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n                 no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>m chain rs'.\n        \\<lbrakk>r = Rule m (Goto chain);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                      (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n         matches \\<gamma> m p; \\<Gamma> chain = Some rs'\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> thesis", "from local.that"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ?ti;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?ti\\<rangle> \\<Rightarrow> t;\n   no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>r = Rule ?m (Goto ?chain);\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                (Goto ?chain)], Undecided\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> ?m p; \\<Gamma> ?chain = Some ?rs'\\<rbrakk>\n  \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ?ti;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?ti\\<rangle> \\<Rightarrow> t;\n   no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>r = Rule ?m (Goto ?chain);\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                (Goto ?chain)], Undecided\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> ?m p; \\<Gamma> ?chain = Some ?rs'\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "using \\<open>\\<Gamma> chain = Some rs'\\<close> \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\\<close> r(1) r(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> ?ti;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?ti\\<rangle> \\<Rightarrow> t;\n   no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>r = Rule ?m (Goto ?chain);\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                (Goto ?chain)], Undecided\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> ?m p; \\<Gamma> ?chain = Some ?rs'\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<Gamma> chain = Some rs'\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  r = Rule m (Goto chain)\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma nomatch':\n      assumes \"\\<And>r. r \\<in> set rs \\<Longrightarrow> \\<not> matches \\<gamma> (get_match r) p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s", "proof(cases s)"], ["proof (state)\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s", "case Undecided"], ["proof (state)\nthis:\n  s = Undecided\n\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s", "have \"\\<forall>r\\<in>set rs. \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>r\\<in>set rs.\n       \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "proof(induction rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>r\\<in>set [].\n       \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> Undecided\n 2. \\<And>a rs.\n       \\<lbrakk>\\<forall>r\\<in>set rs.\n                   \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<forall>r\\<in>set (a # rs).\n           \\<not> matches \\<gamma> (get_match r) p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "case Nil"], ["proof (state)\nthis:\n  \\<forall>r\\<in>set []. \\<not> matches \\<gamma> (get_match r) p\n\ngoal (2 subgoals):\n 1. \\<forall>r\\<in>set [].\n       \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> Undecided\n 2. \\<And>a rs.\n       \\<lbrakk>\\<forall>r\\<in>set rs.\n                   \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<forall>r\\<in>set (a # rs).\n           \\<not> matches \\<gamma> (get_match r) p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>r\\<in>set []. \\<not> matches \\<gamma> (get_match r) p\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> Undecided", "by (fast intro: skip)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<forall>r\\<in>set rs.\n                   \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<forall>r\\<in>set (a # rs).\n           \\<not> matches \\<gamma> (get_match r) p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<forall>r\\<in>set rs.\n                   \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<forall>r\\<in>set (a # rs).\n           \\<not> matches \\<gamma> (get_match r) p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "case (Cons r rs)"], ["proof (state)\nthis:\n  \\<forall>r\\<in>set rs.\n     \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<forall>r\\<in>set (r # rs). \\<not> matches \\<gamma> (get_match r) p\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<forall>r\\<in>set rs.\n                   \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<forall>r\\<in>set (a # rs).\n           \\<not> matches \\<gamma> (get_match r) p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "hence \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  \\<forall>r\\<in>set rs.\n     \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<forall>r\\<in>set (r # rs). \\<not> matches \\<gamma> (get_match r) p\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> Undecided", "by (cases r) (auto intro: nomatch)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<forall>r\\<in>set rs.\n                   \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<forall>r\\<in>set (a # rs).\n           \\<not> matches \\<gamma> (get_match r) p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "with Cons"], ["proof (chain)\npicking this:\n  \\<forall>r\\<in>set rs.\n     \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<forall>r\\<in>set (r # rs). \\<not> matches \\<gamma> (get_match r) p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> Undecided", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>r\\<in>set rs.\n     \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<forall>r\\<in>set (r # rs). \\<not> matches \\<gamma> (get_match r) p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "by (metis list.set_intros(1) list.set_intros(2) not_no_matching_Goto_singleton_cases rule.collapse seq'_cons)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>r\\<in>set rs.\n     \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s", "with assms Undecided"], ["proof (chain)\npicking this:\n  ?r \\<in> set rs \\<Longrightarrow> \\<not> matches \\<gamma> (get_match ?r) p\n  s = Undecided\n  \\<forall>r\\<in>set rs.\n     \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "show ?thesis"], ["proof (prove)\nusing this:\n  ?r \\<in> set rs \\<Longrightarrow> \\<not> matches \\<gamma> (get_match ?r) p\n  s = Undecided\n  \\<forall>r\\<in>set rs.\n     \\<not> matches \\<gamma> (get_match r) p \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> s", "qed (blast intro: decision)"], ["", "private"], ["", "lemma no_free_return: assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m Return], Undecided\\<rangle> \\<Rightarrow> t\" and \"matches \\<gamma> m p\" shows \"False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "fix a s"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "have no_free_return_hlp: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a,s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow>  s = Undecided \\<Longrightarrow> a = [Rule m Return] \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a, s\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p; s = Undecided; a = [Rule m Return]\\<rbrakk>\n    \\<Longrightarrow> False", "proof (induction rule: iptables_goto_bigstep.induct)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>t.\n       \\<lbrakk>matches \\<gamma> m p; t = Undecided;\n        [] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Accept] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 3. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Drop] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 4. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Reject] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 5. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Log] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 6. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Empty] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 7. \\<And>ma a.\n       \\<lbrakk>\\<not> matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma a] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 8. \\<And>rs X.\n       \\<lbrakk>matches \\<gamma> m p; Decision X = Undecided;\n        rs = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 9. \\<And>rs\\<^sub>1 t rs\\<^sub>2 t'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n         rs\\<^sub>1 = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<lbrakk>matches \\<gamma> m p; t = Undecided;\n         rs\\<^sub>2 = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1; matches \\<gamma> m p;\n        Undecided = Undecided;\n        rs\\<^sub>1 @ rs\\<^sub>2 = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 10. \\<And>ma chain rs\\<^sub>1 m' rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> ma p;\n         \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n         matches \\<gamma> m' p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n          rs\\<^sub>1 = [Rule m Return]\\<rbrakk>\n         \\<Longrightarrow> False;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1; matches \\<gamma> m p;\n         Undecided = Undecided;\n         [Rule ma (Call chain)] = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False\nA total of 13 subgoals...", "case (seq rs\\<^sub>1)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> t'_\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n   rs\\<^sub>1 = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False\n  \\<lbrakk>matches \\<gamma> m p; t_ = Undecided;\n   rs\\<^sub>2_ = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False\n  matches \\<gamma> m p\n  Undecided = Undecided\n  rs\\<^sub>1 @ rs\\<^sub>2_ = [Rule m Return]\n\ngoal (13 subgoals):\n 1. \\<And>t.\n       \\<lbrakk>matches \\<gamma> m p; t = Undecided;\n        [] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Accept] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 3. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Drop] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 4. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Reject] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 5. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Log] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 6. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Empty] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 7. \\<And>ma a.\n       \\<lbrakk>\\<not> matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma a] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 8. \\<And>rs X.\n       \\<lbrakk>matches \\<gamma> m p; Decision X = Undecided;\n        rs = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 9. \\<And>rs\\<^sub>1 t rs\\<^sub>2 t'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n         rs\\<^sub>1 = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<lbrakk>matches \\<gamma> m p; t = Undecided;\n         rs\\<^sub>2 = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1; matches \\<gamma> m p;\n        Undecided = Undecided;\n        rs\\<^sub>1 @ rs\\<^sub>2 = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 10. \\<And>ma chain rs\\<^sub>1 m' rs\\<^sub>2.\n        \\<lbrakk>matches \\<gamma> ma p;\n         \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n         matches \\<gamma> m' p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n          rs\\<^sub>1 = [Rule m Return]\\<rbrakk>\n         \\<Longrightarrow> False;\n         no_matching_Goto \\<gamma> p rs\\<^sub>1; matches \\<gamma> m p;\n         Undecided = Undecided;\n         [Rule ma (Call chain)] = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> t'_\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n   rs\\<^sub>1 = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False\n  \\<lbrakk>matches \\<gamma> m p; t_ = Undecided;\n   rs\\<^sub>2_ = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False\n  matches \\<gamma> m p\n  Undecided = Undecided\n  rs\\<^sub>1 @ rs\\<^sub>2_ = [Rule m Return]\n\ngoal (1 subgoal):\n 1. False", "by (cases rs\\<^sub>1) (auto dest: skipD)"], ["proof (state)\nthis:\n  False\n\ngoal (12 subgoals):\n 1. \\<And>t.\n       \\<lbrakk>matches \\<gamma> m p; t = Undecided;\n        [] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Accept] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 3. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Drop] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 4. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Reject] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 5. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Log] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 6. \\<And>ma.\n       \\<lbrakk>matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma Empty] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 7. \\<And>ma a.\n       \\<lbrakk>\\<not> matches \\<gamma> ma p; matches \\<gamma> m p;\n        Undecided = Undecided; [Rule ma a] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 8. \\<And>rs X.\n       \\<lbrakk>matches \\<gamma> m p; Decision X = Undecided;\n        rs = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 9. \\<And>ma chain rs\\<^sub>1 m' rs\\<^sub>2.\n       \\<lbrakk>matches \\<gamma> ma p;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n         rs\\<^sub>1 = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1; matches \\<gamma> m p;\n        Undecided = Undecided;\n        [Rule ma (Call chain)] = [Rule m Return]\\<rbrakk>\n       \\<Longrightarrow> False\n 10. \\<And>ma chain rs t.\n        \\<lbrakk>matches \\<gamma> ma p; \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n         \\<lbrakk>matches \\<gamma> m p; Undecided = Undecided;\n          rs = [Rule m Return]\\<rbrakk>\n         \\<Longrightarrow> False;\n         matches \\<gamma> m p; Undecided = Undecided;\n         [Rule ma (Call chain)] = [Rule m Return]\\<rbrakk>\n        \\<Longrightarrow> False\nA total of 12 subgoals...", "qed simp_all"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a, s\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> m p; s = Undecided; a = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?a2, ?s2\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> m p; ?s2 = Undecided; ?a2 = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "with assms"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               Return], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?a2, ?s2\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> m p; ?s2 = Undecided; ?a2 = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               Return], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?a2, ?s2\\<rangle> \\<Rightarrow> t;\n   matches \\<gamma> m p; ?s2 = Undecided; ?a2 = [Rule m Return]\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Determinism\\<close>"], ["", "private"], ["", "lemma iptables_goto_bigstep_Undecided_Undecided_deterministic: \n      \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> t = Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> t = Undecided", "proof(induction rs Undecided Undecided arbitrary: t rule: iptables_goto_bigstep_induct)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>t.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       t = Undecided\n 2. \\<And>m a t.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 6. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 7. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "case Skip"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (7 subgoals):\n 1. \\<And>t.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       t = Undecided\n 2. \\<And>m a t.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 6. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 7. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by(fastforce  dest: skipD logD emptyD nomatchD decisionD)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (6 subgoals):\n 1. \\<And>m a t.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 5. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 6. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>m a t.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 5. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 6. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "case Log"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Log \\<or> a_ = Empty\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (6 subgoals):\n 1. \\<And>m a t.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 5. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 6. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Log \\<or> a_ = Empty\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by(fastforce  dest: skipD logD emptyD nomatchD decisionD)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (5 subgoals):\n 1. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 5. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 5. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "case Nomatch"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (5 subgoals):\n 1. \\<And>m a t.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 5. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by(fastforce  dest: skipD logD emptyD nomatchD decisionD)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (4 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "case Seq"], ["proof (state)\nthis:\n  rs_ = rs\\<^sub>1_ @ rs\\<^sub>2_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<lbrakk>t_ = Undecided;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> ?t\\<rbrakk>\n  \\<Longrightarrow> ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> Undecided\n  \\<lbrakk>t_ = Undecided;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, Undecided\\<rangle> \\<Rightarrow> ?t\\<rbrakk>\n  \\<Longrightarrow> ?t = Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (4 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t ta.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>ta.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n           \\<Longrightarrow> ta = Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> ta\\<rbrakk>\n       \\<Longrightarrow> ta = Undecided\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 4. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  rs_ = rs\\<^sub>1_ @ rs\\<^sub>2_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<lbrakk>t_ = Undecided;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> ?t\\<rbrakk>\n  \\<Longrightarrow> ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> Undecided\n  \\<lbrakk>t_ = Undecided;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, Undecided\\<rangle> \\<Rightarrow> ?t\\<rbrakk>\n  \\<Longrightarrow> ?t = Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by (metis iptables_goto_bigstep_to_undecided seqE)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (3 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "case (Call_return m a chain rs\\<^sub>1 m' rs\\<^sub>2)"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n  a = Call chain\n  \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2)\n  matches \\<gamma> m' p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (3 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "from Call_return"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  a = Call chain\n  \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2)\n  matches \\<gamma> m' p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               a], Undecided\\<rangle> \\<Rightarrow> t", "have \" \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  a = Call chain\n  \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2)\n  matches \\<gamma> m' p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided", "apply(frule_tac rs\\<^sub>1=rs\\<^sub>1 and m'=m' and chain=chain in call_return)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n     \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n     matches \\<gamma> m' p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n     no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     \\<And>t.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        t = Undecided;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> ?\\<Gamma>9 chain =\n                      Some (rs\\<^sub>1 @ [Rule m' Return] @ ?rs\\<^sub>29)\n 2. \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n     \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n     matches \\<gamma> m' p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n     no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     \\<And>t.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        t = Undecided;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> matches \\<gamma> m' p\n 3. \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n     \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n     matches \\<gamma> m' p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n     no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     \\<And>t.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        t = Undecided;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> ?\\<Gamma>9,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n 4. \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n     \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n     matches \\<gamma> m' p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n     no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     \\<And>t.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        t = Undecided;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\\<^sub>1\n 5. \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n     \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n     matches \\<gamma> m' p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n     no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     \\<And>t.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        t = Undecided;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  a], Undecided\\<rangle> \\<Rightarrow> t;\n     ?\\<Gamma>9,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Call\n                      chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Call\n chain)], Undecided\\<rangle> \\<Rightarrow> Undecided", "by(simp_all)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (3 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 3. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "with Call_return"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  a = Call chain\n  \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2)\n  matches \\<gamma> m' p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               a], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided", "show ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  a = Call chain\n  \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2)\n  matches \\<gamma> m' p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               a], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. t = Undecided", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n     \\<Gamma> chain = Some (rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2);\n     matches \\<gamma> m' p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n     no_matching_Goto \\<gamma> p rs\\<^sub>1;\n     \\<And>t.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        t = Undecided;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Call\n                    chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\\<rbrakk>\n    \\<Longrightarrow> t = Undecided", "apply (metis callD no_free_return seqE seqE_cons)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (2 subgoals):\n 1. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "case Call_result"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>m a chain rs t.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided\n 2. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by (meson callD)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "case Goto_no_Decision"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Goto chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m_ a_ #\n             rest_, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest t.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n           t = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> t = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Goto chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t \\<Longrightarrow>\n  ?t = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m_ a_ #\n             rest_, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by (metis gotoD no_matching_Goto.simps(2) option.sel seqE_cons)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma iptables_goto_bigstep_Undecided_deterministic:\n      \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>  t' = t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n    \\<Longrightarrow> t' = t", "proof(induction rs Undecided t arbitrary: t' rule: iptables_goto_bigstep_induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>t'.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n       t' = Undecided\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalAllow\n 3. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 4. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 6. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 7. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 8. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 9. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 10. \\<And>m a chain rs rest t'.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<And>t'.\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n            t' = Undecided;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                    rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n        \\<Longrightarrow> t' = Undecided", "case Skip"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (10 subgoals):\n 1. \\<And>t'.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n       t' = Undecided\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalAllow\n 3. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 4. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 6. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 7. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 8. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 9. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 10. \\<And>m a chain rs rest t'.\n        \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n         \\<Gamma> chain = Some rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n         \\<And>t'.\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n            t' = Undecided;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                    rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n        \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Undecided", "by(fastforce  dest: skipD logD emptyD nomatchD decisionD)"], ["proof (state)\nthis:\n  t' = Undecided\n\ngoal (9 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalAllow\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 3. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 6. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 7. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 8. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 9. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalAllow\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 3. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 6. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 7. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 8. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 9. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Allow"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Accept\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (9 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Accept;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalAllow\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 3. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 6. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 7. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 8. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 9. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Accept\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Decision FinalAllow", "by (auto dest: iptables_goto_bigstepD)"], ["proof (state)\nthis:\n  t' = Decision FinalAllow\n\ngoal (8 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 6. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 7. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 8. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 6. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 7. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 8. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Deny"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Drop \\<or> a_ = Reject\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (8 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Drop \\<or> a = Reject;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision FinalDeny\n 2. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 5. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 6. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 7. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 8. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Drop \\<or> a_ = Reject\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Decision FinalDeny", "by (auto dest: iptables_goto_bigstepD)"], ["proof (state)\nthis:\n  t' = Decision FinalDeny\n\ngoal (7 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 6. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 7. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 6. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 7. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Log"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Log \\<or> a_ = Empty\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (7 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Log \\<or> a = Empty;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 4. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 5. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 6. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 7. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Log \\<or> a_ = Empty\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Undecided", "by (auto dest: iptables_goto_bigstepD)"], ["proof (state)\nthis:\n  t' = Undecided\n\ngoal (6 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 5. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 6. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 5. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 6. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Nomatch"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (6 subgoals):\n 1. \\<And>m a t'.\n       \\<lbrakk>\\<not> matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 3. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 4. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 5. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 6. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Undecided", "by (auto dest: iptables_goto_bigstepD)"], ["proof (state)\nthis:\n  t' = Undecided\n\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 4. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 5. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 4. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 5. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Seq"], ["proof (state)\nthis:\n  rs_ = rs\\<^sub>1_ @ rs\\<^sub>2_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> t'_\n  \\<lbrakk>t_ = Undecided;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, Undecided\\<rangle> \\<Rightarrow> ?t'\\<rbrakk>\n  \\<Longrightarrow> ?t' = t'_\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (5 subgoals):\n 1. \\<And>rs rs\\<^sub>1 rs\\<^sub>2 t t' t'a.\n       \\<lbrakk>rs = rs\\<^sub>1 @ rs\\<^sub>2;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, t\\<rangle> \\<Rightarrow> t';\n        \\<And>t'a.\n           \\<lbrakk>t = Undecided;\n            \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n           \\<Longrightarrow> t'a = t';\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t'a\\<rbrakk>\n       \\<Longrightarrow> t'a = t'\n 2. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 3. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 4. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 5. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  rs_ = rs\\<^sub>1_ @ rs\\<^sub>2_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, t_\\<rangle> \\<Rightarrow> t'_\n  \\<lbrakk>t_ = Undecided;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>2_, Undecided\\<rangle> \\<Rightarrow> ?t'\\<rbrakk>\n  \\<Longrightarrow> ?t' = t'_\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = t'_", "by (metis decisionD seqE state.exhaust)"], ["proof (state)\nthis:\n  t' = t'_\n\ngoal (4 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 3. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 4. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 3. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 4. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Call_return"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some (rs\\<^sub>1_ @ [Rule m'_ Return] @ rs\\<^sub>2_)\n  matches \\<gamma> m'_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (4 subgoals):\n 1. \\<And>m a chain rs\\<^sub>1 m' rs\\<^sub>2 t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some (rs\\<^sub>1 @ [Rule m' Return] @ rs\\<^sub>2);\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided\n 2. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 3. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 4. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some (rs\\<^sub>1_ @ [Rule m'_ Return] @ rs\\<^sub>2_)\n  matches \\<gamma> m'_ p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  no_matching_Goto \\<gamma> p rs\\<^sub>1_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Undecided", "by (meson call_return iptables_goto_bigstep_Undecided_Undecided_deterministic)"], ["proof (state)\nthis:\n  t' = Undecided\n\ngoal (3 subgoals):\n 1. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 2. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 3. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 2. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 3. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Call_result"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (3 subgoals):\n 1. \\<And>m a chain rs t t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Call chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     a], Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = t\n 2. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 3. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Call chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = t_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               a_], Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = t_", "by (metis callD call_result iptables_goto_bigstep_Undecided_Undecided_deterministic)"], ["proof (state)\nthis:\n  t' = t_\n\ngoal (2 subgoals):\n 1. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 2. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 2. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Goto_Decision"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Goto chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Decision\n              X_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = Decision X_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m_ a_ #\n             rest_, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (2 subgoals):\n 1. \\<And>m a chain rs rest X t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                   X;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Decision X;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Decision X\n 2. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Goto chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Decision\n              X_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = Decision X_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m_ a_ #\n             rest_, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Decision X_", "by (metis gotoD no_matching_Goto.simps(2) option.sel seqE_cons)"], ["proof (state)\nthis:\n  t' = Decision X_\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "case Goto_no_Decision"], ["proof (state)\nthis:\n  matches \\<gamma> m_ p\n  a_ = Goto chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m_ a_ #\n             rest_, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. \\<And>m a chain rs rest t'.\n       \\<lbrakk>matches \\<gamma> m p; a = Goto chain;\n        \\<Gamma> chain = Some rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        \\<And>t'.\n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t' \\<Longrightarrow>\n           t' = Undecided;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rest, Undecided\\<rangle> \\<Rightarrow> t'\\<rbrakk>\n       \\<Longrightarrow> t' = Undecided", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m_ p\n  a_ = Goto chain_\n  \\<Gamma> chain_ = Some rs_\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs_, Undecided\\<rangle> \\<Rightarrow> ?t' \\<Longrightarrow>\n  ?t' = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m_ a_ #\n             rest_, Undecided\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t' = Undecided", "by (meson goto_no_decision iptables_goto_bigstep_Undecided_Undecided_deterministic)"], ["proof (state)\nthis:\n  t' = Undecided\n\ngoal:\nNo subgoals!", "qed"], ["", "qualified"], ["", "theorem iptables_goto_bigstep_deterministic: assumes \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\" and \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t'\" shows \"t = t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t = t'", "using assms"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t'\n\ngoal (1 subgoal):\n 1. t = t'", "apply(cases s)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t';\n     s = Undecided\\<rbrakk>\n    \\<Longrightarrow> t = t'\n 2. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t';\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> t = t'", "apply(simp add: iptables_goto_bigstep_Undecided_deterministic)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t';\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> t = t'", "by(auto dest: decisionD)"], ["", "subsection\\<open>Matching\\<close>"], ["", "private"], ["", "lemma matches_rule_and_simp_help:\n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m' a'], s\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow>?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t", "assume ?l"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t", "thus ?r"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t", "by (induction \"[Rule (MatchAnd m m') a']\" s t rule: iptables_goto_bigstep_induct)\n             (auto intro: iptables_goto_bigstep.intros simp: assms Cons_eq_append_conv dest: skipD)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t", "assume ?r"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t", "thus ?l"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t", "by (induction \"[Rule m' a']\" s t rule: iptables_goto_bigstep_induct)\n             (auto intro: iptables_goto_bigstep.intros simp: assms Cons_eq_append_conv dest: skipD)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma matches_MatchNot_simp: \n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m) a], Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "assume ?l"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "thus ?r"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by (induction \"[Rule (MatchNot m) a]\" \"Undecided\" t rule: iptables_goto_bigstep_induct)\n             (auto intro: iptables_goto_bigstep.intros simp: assms Cons_eq_append_conv dest: skipD)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "assume ?r"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "hence \"t = Undecided\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by (metis skipD)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "with assms"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  t = Undecided", "show ?l"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "by (fastforce intro: nomatch)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchNot m)\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma matches_MatchNotAnd_simp:\n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd (MatchNot m) m') a], Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "assume ?l"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n               (MatchAnd (MatchNot m) m')\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "thus ?r"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n               (MatchAnd (MatchNot m) m')\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by (induction \"[Rule (MatchAnd (MatchNot m) m') a]\" \"Undecided\" t rule: iptables_goto_bigstep_induct)\n             (auto intro: iptables_goto_bigstep.intros simp add: assms Cons_eq_append_conv dest: skipD)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "assume ?r"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "hence \"t = Undecided\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by (metis skipD)"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "with assms"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  t = Undecided", "show ?l"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                 (MatchAnd (MatchNot m) m')\n                 a], Undecided\\<rangle> \\<Rightarrow> t", "by (fastforce intro: nomatch)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n               (MatchAnd (MatchNot m) m')\n               a], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma matches_rule_and_simp:\n      assumes \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m' a'], s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t", "proof (cases s)"], ["proof (state)\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                    (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                    a'], s\\<rangle> \\<Rightarrow> t", "case Undecided"], ["proof (state)\nthis:\n  s = Undecided\n\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                    (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                    a'], s\\<rangle> \\<Rightarrow> t", "with assms"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  s = Undecided", "show ?thesis"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  s = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t", "by (simp add: matches_rule_and_simp_help)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a'], s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                    (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                    a'], s\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                    (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                    a'], s\\<rangle> \\<Rightarrow> t", "case Decision"], ["proof (state)\nthis:\n  s = Decision x2_\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                    (MatchAnd m m') a'], s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                    a'], s\\<rangle> \\<Rightarrow> t", "thus ?thesis"], ["proof (prove)\nusing this:\n  s = Decision x2_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a'], s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                 a'], s\\<rangle> \\<Rightarrow> t", "by (metis decision decisionD)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a'], s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a'], s\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "qualified"], ["", "definition add_match :: \"'a match_expr \\<Rightarrow> 'a rule list \\<Rightarrow> 'a rule list\" where\n      \"add_match m rs = map (\\<lambda>r. case r of Rule m' a' \\<Rightarrow> Rule (MatchAnd m m') a') rs\""], ["", "private"], ["", "lemma add_match_split: \"add_match m (rs1@rs2) = add_match m rs1 @ add_match m rs2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. add_match m (rs1 @ rs2) = add_match m rs1 @ add_match m rs2", "unfolding add_match_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. map (case_rule (\\<lambda>m'. Rule (MatchAnd m m'))) (rs1 @ rs2) =\n    map (case_rule (\\<lambda>m'. Rule (MatchAnd m m'))) rs1 @\n    map (case_rule (\\<lambda>m'. Rule (MatchAnd m m'))) rs2", "by (fact map_append)"], ["", "private"], ["", "lemma add_match_split_fst: \"add_match m (Rule m' a' # rs) = Rule (MatchAnd m m') a' # add_match m rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. add_match m (Rule m' a' # rs) = Rule (MatchAnd m m') a' # add_match m rs", "unfolding add_match_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. map (case_rule (\\<lambda>m'. Rule (MatchAnd m m'))) (Rule m' a' # rs) =\n    Rule (MatchAnd m m') a' #\n    map (case_rule (\\<lambda>m'. Rule (MatchAnd m m'))) rs", "by simp"], ["", "private"], ["", "lemma matches_add_match_no_matching_Goto_simp: \"matches \\<gamma> m p \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m rs) \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     no_matching_Goto \\<gamma> p (add_match m rs)\\<rbrakk>\n    \\<Longrightarrow> no_matching_Goto \\<gamma> p rs", "apply(induction rs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     no_matching_Goto \\<gamma> p (add_match m [])\\<rbrakk>\n    \\<Longrightarrow> no_matching_Goto \\<gamma> p []\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 no_matching_Goto \\<gamma> p (add_match m rs)\\<rbrakk>\n                \\<Longrightarrow> no_matching_Goto \\<gamma> p rs;\n        matches \\<gamma> m p;\n        no_matching_Goto \\<gamma> p (add_match m (a # rs))\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (a # rs)", "apply(simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>no_matching_Goto \\<gamma> p\n                 (add_match m rs) \\<Longrightarrow>\n                no_matching_Goto \\<gamma> p rs;\n        matches \\<gamma> m p;\n        no_matching_Goto \\<gamma> p (add_match m (a # rs))\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (a # rs)", "apply(rename_tac r rs)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs.\n       \\<lbrakk>no_matching_Goto \\<gamma> p\n                 (add_match m rs) \\<Longrightarrow>\n                no_matching_Goto \\<gamma> p rs;\n        matches \\<gamma> m p;\n        no_matching_Goto \\<gamma> p (add_match m (r # rs))\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (r # rs)", "apply(case_tac r)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>no_matching_Goto \\<gamma> p\n                 (add_match m rs) \\<Longrightarrow>\n                no_matching_Goto \\<gamma> p rs;\n        matches \\<gamma> m p;\n        no_matching_Goto \\<gamma> p (add_match m (r # rs));\n        r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (r # rs)", "apply(simp add: add_match_split_fst no_matching_Goto_tail)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        no_matching_Goto \\<gamma> p\n         (Rule (MatchAnd m x1) x2 # add_match m rs);\n        r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule x1 x2 # rs)", "apply(drule no_matching_Goto_head)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule x1 x2;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m x1) x2]\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule x1 x2 # rs)", "apply(rename_tac m' a')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a']\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)", "apply(case_tac a')"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Accept\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 2. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Drop\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 3. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Log\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 4. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Reject\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 5. \\<And>r rs m' a' x5.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Call x5\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 6. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Return\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 7. \\<And>r rs m' a' x7.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Goto x7\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 8. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Empty\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)\n 9. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p rs; matches \\<gamma> m p;\n        r = Rule m' a';\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a'];\n        a' = Unknown\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (Rule m' a' # rs)", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "private"], ["", "lemma matches_add_match_no_matching_Goto_simp2: \"matches \\<gamma> m p \\<Longrightarrow>  no_matching_Goto \\<gamma> p rs \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m rs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>matches \\<gamma> m p; no_matching_Goto \\<gamma> p rs\\<rbrakk>\n    \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m rs)", "apply(induction rs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p; no_matching_Goto \\<gamma> p []\\<rbrakk>\n    \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m [])\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 no_matching_Goto \\<gamma> p rs\\<rbrakk>\n                \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                                   (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (a # rs)\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (a # rs))", "apply(simp add: add_match_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 no_matching_Goto \\<gamma> p rs\\<rbrakk>\n                \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                                   (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (a # rs)\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (a # rs))", "apply(rename_tac r rs)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 no_matching_Goto \\<gamma> p rs\\<rbrakk>\n                \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                                   (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (r # rs)\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (r # rs))", "apply(case_tac r)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 no_matching_Goto \\<gamma> p rs\\<rbrakk>\n                \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                                   (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (r # rs);\n        r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (r # rs))", "apply(simp add: add_match_split_fst no_matching_Goto_tail)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule x1 x2 # rs);\n        r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m x1) x2 # add_match m rs)", "apply(rename_tac m' a')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)", "apply(case_tac a')"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Accept\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 2. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Drop\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 3. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Log\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 4. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Reject\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 5. \\<And>r rs m' a' x5.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Call x5\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 6. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Return\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 7. \\<And>r rs m' a' x7.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Goto x7\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 8. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Empty\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 9. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        matches \\<gamma> m p; no_matching_Goto \\<gamma> p (Rule m' a' # rs);\n        r = Rule m' a'; a' = Unknown\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "private"], ["", "lemma matches_add_match_MatchNot_no_matching_Goto_simp: \"\\<not> matches \\<gamma> m p \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m rs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p (add_match m rs)", "apply(induction rs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p (add_match m [])\n 2. \\<And>a rs.\n       \\<lbrakk>\\<not> matches \\<gamma> m p \\<Longrightarrow>\n                no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (a # rs))", "apply(simp add: add_match_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<not> matches \\<gamma> m p \\<Longrightarrow>\n                no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (a # rs))", "apply(rename_tac r rs)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs.\n       \\<lbrakk>\\<not> matches \\<gamma> m p \\<Longrightarrow>\n                no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (r # rs))", "apply(case_tac r)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>\\<not> matches \\<gamma> m p \\<Longrightarrow>\n                no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p (add_match m (r # rs))", "apply(simp add: add_match_split_fst no_matching_Goto_tail)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m x1) x2 # add_match m rs)", "apply(rename_tac m' a')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)", "apply(case_tac a')"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Accept\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 2. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Drop\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 3. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Log\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 4. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Reject\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 5. \\<And>r rs m' a' x5.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Call x5\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 6. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Return\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 7. \\<And>r rs m' a' x7.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Goto x7\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 8. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Empty\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)\n 9. \\<And>r rs m' a'.\n       \\<lbrakk>no_matching_Goto \\<gamma> p (add_match m rs);\n        \\<not> matches \\<gamma> m p; r = Rule m' a'; a' = Unknown\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p\n                          (Rule (MatchAnd m m') a' # add_match m rs)", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "private"], ["", "lemma not_matches_add_match_simp:\n      assumes \"\\<not> matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "proof(induction rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                [], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                [], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                [], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "unfolding add_match_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>map\n                (case_rule (\\<lambda>m'. Rule (MatchAnd m m')))\n                [], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              [], Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "case (Cons r rs)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "obtain m' a where r: \"r = Rule m' a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m' a. r = Rule m' a \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(cases r, simp)"], ["proof (state)\nthis:\n  r = Rule m' a\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "let ?lhs=\"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a # add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "let ?rhs=\"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "assume ?lhs"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "from \\<open>?lhs\\<close> Cons"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "have ?rhs"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "proof(cases  \\<Gamma> \\<gamma> p \"Rule (MatchAnd m m') a\" \"add_match m rs\"  t rule: seqE_cons_Undecided)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "case (no_matching_Goto ti)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "hence \"ti = Undecided\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n\ngoal (1 subgoal):\n 1. ti = Undecided", "by (simp add: assms nomatchD)"], ["proof (state)\nthis:\n  ti = Undecided\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "with no_matching_Goto Cons"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  ti = Undecided", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  ti = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "case (matching_Goto)"], ["proof (state)\nthis:\n  Rule (MatchAnd m m') a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_\n\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                            rs, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "with Cons assms"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> matches \\<gamma> m p\n  Rule (MatchAnd m m') a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> matches \\<gamma> m p\n  Rule (MatchAnd m m') a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by force"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "}"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "note 1=this"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "{"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "assume ?rhs"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "hence \"t = Undecided\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "using skipD"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = []\\<rbrakk>\n  \\<Longrightarrow> ?s = ?t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by metis"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "with Cons.IH \\<open>?rhs\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  t = Undecided", "have ?lhs"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m')\n                a #\n               add_match m rs, Undecided\\<rangle> \\<Rightarrow> t", "by (meson assms matches.simps(1) nomatch not_no_matching_Goto_singleton_cases seq_cons)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "}"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   rs, Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                   (a # rs), Undecided\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "with 1"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                (r # rs), Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by(auto simp add: r add_match_split_fst)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma matches_add_match_MatchNot_simp:\n      assumes m: \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\" (is \"?l s \\<longleftrightarrow> ?r s\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "proof (cases s)"], ["proof (state)\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                   (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "case Undecided"], ["proof (state)\nthis:\n  s = Undecided\n\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                   (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "have \"?l Undecided \\<longleftrightarrow> ?r Undecided\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "assume \"?l Undecided\""], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "with m"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, Undecided\\<rangle> \\<Rightarrow> t", "show \"?r Undecided\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "proof (induction rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                 [], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             (MatchNot m)\n                             rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                    (MatchNot m)\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "case Nil"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                 [], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             (MatchNot m)\n                             rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                    (MatchNot m)\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "unfolding add_match_def"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>map\n              (case_rule (\\<lambda>m'. Rule (MatchAnd (MatchNot m) m')))\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             (MatchNot m)\n                             rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                    (MatchNot m)\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             (MatchNot m)\n                             rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                    (MatchNot m)\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "case (Cons r rs)"], ["proof (state)\nthis:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             (MatchNot m)\n                             rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                    (MatchNot m)\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by (cases r) (metis matches_MatchNotAnd_simp skipD seqE_cons add_match_split_fst)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "assume \"?r Undecided\""], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "with m"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "show \"?l Undecided\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "proof (induction rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                  (MatchNot m)\n                                  [], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        (MatchNot m) rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     (MatchNot m)\n                                     (a #\nrs), Undecided\\<rangle> \\<Rightarrow> t", "case Nil"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                  (MatchNot m)\n                                  [], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        (MatchNot m) rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     (MatchNot m)\n                                     (a #\nrs), Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                [], Undecided\\<rangle> \\<Rightarrow> t", "unfolding add_match_def"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>map\n                (case_rule (\\<lambda>m'. Rule (MatchAnd (MatchNot m) m')))\n                [], Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        (MatchNot m) rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     (MatchNot m)\n                                     (a #\nrs), Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        (MatchNot m) rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     (MatchNot m)\n                                     (a #\nrs), Undecided\\<rangle> \\<Rightarrow> t", "case (Cons r rs)"], ["proof (state)\nthis:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                (MatchNot m)\n                                rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        (MatchNot m) rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     (MatchNot m)\n                                     (a #\nrs), Undecided\\<rangle> \\<Rightarrow> t", "hence \"t = Undecided\""], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                (MatchNot m)\n                                rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. t = Undecided", "using skipD"], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                (MatchNot m)\n                                rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = []\\<rbrakk>\n  \\<Longrightarrow> ?s = ?t\n\ngoal (1 subgoal):\n 1. t = Undecided", "by metis"], ["proof (state)\nthis:\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        (MatchNot m) rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     (MatchNot m)\n                                     (a #\nrs), Undecided\\<rangle> \\<Rightarrow> t", "with Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                (MatchNot m)\n                                rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  t = Undecided", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                (MatchNot m)\n                                rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n  t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                (r # rs), Undecided\\<rangle> \\<Rightarrow> t", "apply (cases r)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        (MatchNot m) rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t;\n        t = Undecided; r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     (MatchNot m)\n                                     (r #\nrs), Undecided\\<rangle> \\<Rightarrow> t", "apply(simp add: add_match_split_fst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                            (MatchNot m)\n                            rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> Undecided;\n        t = Undecided; r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd (MatchNot m) x1) x2 #\n                                    add_match (MatchNot m)\n                                     rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "by (metis matches.simps(1) matches.simps(2) matches_MatchNotAnd_simp not_no_matching_Goto_singleton_cases seq_cons)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. s = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                   (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "with Undecided"], ["proof (chain)\npicking this:\n  s = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "show ?thesis"], ["proof (prove)\nusing this:\n  s = Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                   (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                   (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "case (Decision d)"], ["proof (state)\nthis:\n  s = Decision d\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       s = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                   (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t =\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "thus ?thesis"], ["proof (prove)\nusing this:\n  s = Decision d\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "by(metis decision decisionD)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rs, s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma just_show_all_bigstep_semantics_equalities_with_start_Undecided: \n          \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \n           \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t", "apply(cases s)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t =\n             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t;\n     s = Undecided\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Decision\n    x2\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Decision\n    x2\\<rangle> \\<Rightarrow> t", "using decision decisionD"], ["proof (prove)\nusing this:\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs, Decision\n                      ?X\\<rangle> \\<Rightarrow> Decision ?X\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?s = Decision ?X\\<rbrakk>\n  \\<Longrightarrow> ?t = Decision ?X\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Undecided\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Undecided\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, Decision\n    x2\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, Decision\n    x2\\<rangle> \\<Rightarrow> t", "by fastforce"], ["", "private"], ["", "lemma matches_add_match_simp_helper:\n      assumes m: \"matches \\<gamma> m p\"\n      shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\" (is \"?l \\<longleftrightarrow> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "assume ?l"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "with m"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t", "show ?r"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "proof (induction rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 [], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "case Nil"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 [], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "unfolding add_match_def"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>map\n              (case_rule (\\<lambda>m'. Rule (MatchAnd m m')))\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "case (Cons r rs)"], ["proof (state)\nthis:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "obtain m' a where r: \"r = Rule m' a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m' a. r = Rule m' a \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(cases r, simp)"], ["proof (state)\nthis:\n  r = Rule m' a\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "from Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t", "have \" \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a # add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m')\n                a #\n               add_match m rs, Undecided\\<rangle> \\<Rightarrow> t", "by(simp add: r add_match_split_fst)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "from this Cons"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a # rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "proof(cases rule: seqE_cons_Undecided)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "case (no_matching_Goto ti)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "from no_matching_Goto(3) Cons.prems(1) not_no_matching_Goto_singleton_cases"], ["proof (chain)\npicking this:\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n  matches \\<gamma> m p\n  (\\<not> no_matching_Goto ?\\<gamma> ?p [Rule ?m ?a]) =\n  ((\\<exists>chain. ?a = Goto chain) \\<and> matches ?\\<gamma> ?m ?p)", "have \"no_matching_Goto \\<gamma> p [Rule m' a]\""], ["proof (prove)\nusing this:\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n  matches \\<gamma> m p\n  (\\<not> no_matching_Goto ?\\<gamma> ?p [Rule ?m ?a]) =\n  ((\\<exists>chain. ?a = Goto chain) \\<and> matches ?\\<gamma> ?m ?p)\n\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p [Rule m' a]", "by (metis matches.simps(1))"], ["proof (state)\nthis:\n  no_matching_Goto \\<gamma> p [Rule m' a]\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "with no_matching_Goto Cons"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m' a]", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a]\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m' a]\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(simp add: matches_rule_and_simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                          a], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 rs, ti\\<rangle> \\<Rightarrow> t;\n     no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a];\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n     no_matching_Goto \\<gamma> p [Rule m' a]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m' a #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(cases ti)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                          a], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 rs, ti\\<rangle> \\<Rightarrow> t;\n     no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a];\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n     no_matching_Goto \\<gamma> p [Rule m' a]; ti = Undecided\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m' a #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                             a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m' a]; ti = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "apply (simp add: seq'_cons)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                             a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule (MatchAnd m m') a];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m' a]; ti = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "by (metis decision decisionD seq'_cons)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "case (matching_Goto)"], ["proof (state)\nthis:\n  Rule (MatchAnd m m') a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_\n\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n        Rule (MatchAnd m m') a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m' a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "with Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n  Rule (MatchAnd m m') a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n               rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n  Rule (MatchAnd m m') a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n              \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                          rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n             \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                  (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> (MatchAnd m m') p; \\<Gamma> chain_ = Some rs'_;\n     a = Goto chain_; m_ = MatchAnd m m'\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m' (Goto chain_) #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(simp add: matches_rule_and_simp_help)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n             \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                 (r # rs), Undecided\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                  (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m' p; \\<Gamma> chain_ = Some rs'_; a = Goto chain_;\n     m_ = MatchAnd m m'\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m' (Goto chain_) #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t", "by (simp add: seq_cons_Goto_t)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                             m rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                    (a # rs), Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                                    rs, Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "by(simp add: r)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "assume ?r"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "with m"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "show ?l"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "proof (induction rs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                  m [], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "case Nil"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                  m [], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                [], Undecided\\<rangle> \\<Rightarrow> t", "unfolding add_match_def"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>map\n                (case_rule (\\<lambda>m'. Rule (MatchAnd m m')))\n                [], Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              [], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "case (Cons r rs)"], ["proof (state)\nthis:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                m rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "obtain m' a where r: \"r = Rule m' a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m' a. r = Rule m' a \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(cases r, simp)"], ["proof (state)\nthis:\n  r = Rule m' a\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "from Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                m rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a # rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                m rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "by(simp add: r)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "from this"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n             rs, Undecided\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a # add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m' a #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m')\n                a #\n               add_match m rs, Undecided\\<rangle> \\<Rightarrow> t", "proof(cases \\<Gamma> \\<gamma> p \"Rule m' a\" rs t rule: seqE_cons_Undecided)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                             a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m' a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>Rule m' a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "case (no_matching_Goto ti)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m' a]\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                             a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m' a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>Rule m' a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "from no_matching_Goto Cons.prems matches_rule_and_simp[symmetric]"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m' a]\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m'\n                  ?a'], ?s\\<rangle> \\<Rightarrow> ?t =\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                  (MatchAnd ?m ?m') ?a'], ?s\\<rangle> \\<Rightarrow> ?t", "have\n                    \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m') a], Undecided\\<rangle> \\<Rightarrow> ti\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m' a]\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m'\n                  ?a'], ?s\\<rangle> \\<Rightarrow> ?t =\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                  (MatchAnd ?m ?m') ?a'], ?s\\<rangle> \\<Rightarrow> ?t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                 a], Undecided\\<rangle> \\<Rightarrow> ti", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                             a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m' a]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chain rs'.\n       \\<lbrakk>Rule m' a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "with Cons.prems Cons.IH no_matching_Goto"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                m rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m' a]\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti", "show ?thesis"], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                m rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m' a]\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n               a], Undecided\\<rangle> \\<Rightarrow> ti\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m')\n                a #\n               add_match m rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(cases ti)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<lbrakk>matches \\<gamma> m p;\n      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n     \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                   m rs, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                  a], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     no_matching_Goto \\<gamma> p [Rule m' a];\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule (MatchAnd m m')\n                  a], Undecided\\<rangle> \\<Rightarrow> ti;\n     ti = Undecided\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  (MatchAnd m m') a #\n                                 add_match m\n                                  rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       \\<lbrakk>matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>matches \\<gamma> m p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\nm rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m' a];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        ti = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "apply (metis matches.simps(1) not_no_matching_Goto_singleton_cases seq_cons)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<lbrakk>matches \\<gamma> m p;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\nm rs, Undecided\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m'\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m' a];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                     (MatchAnd m m')\n                     a], Undecided\\<rangle> \\<Rightarrow> ti;\n        ti = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "apply (metis decision decisionD matches.simps(1) not_no_matching_Goto_singleton_cases seq_cons)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>Rule m' a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>Rule m' a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "case (matching_Goto)"], ["proof (state)\nthis:\n  Rule m' a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_\n\ngoal (1 subgoal):\n 1. \\<And>ma chain rs'.\n       \\<lbrakk>Rule m' a = Rule ma (Goto chain);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chain = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     (MatchAnd m m') a #\n                                    add_match m\n                                     rs, Undecided\\<rangle> \\<Rightarrow> t", "with Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                m rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n  Rule m' a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>matches \\<gamma> m p;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                m rs, Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n  Rule m' a = Rule m_ (Goto chain_)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m_\n               (Goto chain_)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m_ p\n  \\<Gamma> chain_ = Some rs'_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m')\n                a #\n               add_match m rs, Undecided\\<rangle> \\<Rightarrow> t", "by (simp add: matches_rule_and_simp_help seq_cons_Goto_t)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>matches \\<gamma> m p;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n        m rs, Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m (a #\n  rs), Undecided\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchAnd m m') a #\n             add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                (r # rs), Undecided\\<rangle> \\<Rightarrow> t", "by(simp add: r add_match_split_fst)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              (r # rs), Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma matches_add_match_simp:\n      \"matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t", "apply(rule just_show_all_bigstep_semantics_equalities_with_start_Undecided)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "by(simp add: matches_add_match_simp_helper)"], ["", "private"], ["", "lemma not_matches_add_matchNot_simp:\n      \"\\<not> matches \\<gamma> m p \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rs, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rs, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t", "by (simp add: matches_add_match_simp)"], ["", "subsection\\<open>Goto Unfolding\\<close>"], ["", "private"], ["", "lemma unfold_Goto_Undecided:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and no_matching_Goto_rs: \"no_matching_Goto \\<gamma> p rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>(Rule m (Goto chain))#rest, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @ add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\"\n              (is \"?l \\<longleftrightarrow> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "assume ?l"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "thus ?r"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "proof(cases rule: seqE_cons_Undecided)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "case (no_matching_Goto ti)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "from no_matching_Goto"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]", "have \"\\<not> matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p", "by simp"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "with no_matching_Goto"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n  \\<not> matches \\<gamma> m p", "have ti: \"ti = Undecided\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. ti = Undecided", "using nomatchD"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n  \\<not> matches \\<gamma> m p\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = [Rule ?m ?a]; ?s = Undecided;\n   \\<not> matches ?\\<gamma> ?m ?p\\<rbrakk>\n  \\<Longrightarrow> ?t = Undecided\n\ngoal (1 subgoal):\n 1. ti = Undecided", "by metis"], ["proof (state)\nthis:\n  ti = Undecided\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "from \\<open>\\<not> matches \\<gamma> m p\\<close>"], ["proof (chain)\npicking this:\n  \\<not> matches \\<gamma> m p", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "using not_matches_add_match_simp skip"], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>add_match ?m\n                 ?rs, Undecided\\<rangle> \\<Rightarrow> ?t =\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> ?t\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[], ?t\\<rangle> \\<Rightarrow> ?t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> Undecided", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "from \\<open>\\<not> matches \\<gamma> m p\\<close> matches_add_match_MatchNot_no_matching_Goto_simp"], ["proof (chain)\npicking this:\n  \\<not> matches \\<gamma> m p\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  no_matching_Goto ?\\<gamma> ?p (add_match ?m ?rs)", "have \"no_matching_Goto \\<gamma> p (add_match m rs)\""], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  no_matching_Goto ?\\<gamma> ?p (add_match ?m ?rs)\n\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (add_match m rs)", "by force"], ["proof (state)\nthis:\n  no_matching_Goto \\<gamma> p (add_match m rs)\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "from no_matching_Goto ti"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n  ti = Undecided", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n  ti = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "with not_matches_add_matchNot_simp[OF \\<open>\\<not> matches \\<gamma> m p\\<close>]"], ["proof (chain)\npicking this:\n  ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n               ?rs, ?s\\<rangle> \\<Rightarrow> ?t =\n  ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n               ?rs, ?s\\<rangle> \\<Rightarrow> ?t =\n  ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "by (meson \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\\<close> \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, Undecided\\<rangle> \\<Rightarrow> Undecided\\<close> \\<open>no_matching_Goto \\<gamma> p (add_match m rs)\\<close> seq)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n             add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "case (matching_Goto m chain rs')"], ["proof (state)\nthis:\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "from matching_Goto gotoD assms"], ["proof (chain)\npicking this:\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = [Rule ?m (Goto ?chain)]; ?s = Undecided;\n   matches ?\\<gamma> ?m ?p\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs.\n                       ?\\<Gamma> ?chain = Some rs \\<and>\n                       ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma> chain = Some rs\n  no_matching_Goto \\<gamma> p rs", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = [Rule ?m (Goto ?chain)]; ?s = Undecided;\n   matches ?\\<gamma> ?m ?p\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs.\n                       ?\\<Gamma> ?chain = Some rs \\<and>\n                       ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma> chain = Some rs\n  no_matching_Goto \\<gamma> p rs\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "by fastforce"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "hence 1: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                rs, Undecided\\<rangle> \\<Rightarrow> t", "by (simp add: matches_add_match_simp matching_Goto(3))"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "have 2: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rest, t\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rest, t\\<rangle> \\<Rightarrow> t", "by (simp add: matches_add_match_MatchNot_simp matching_Goto(3) skip)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, t\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "from no_matching_Goto_rs matches_add_match_no_matching_Goto_simp2 matching_Goto"], ["proof (chain)\npicking this:\n  no_matching_Goto \\<gamma> p rs\n  \\<lbrakk>matches ?\\<gamma> ?m ?p;\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<rbrakk>\n  \\<Longrightarrow> no_matching_Goto ?\\<gamma> ?p (add_match ?m ?rs)\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'", "have 3: \"no_matching_Goto \\<gamma> p (add_match m rs)\""], ["proof (prove)\nusing this:\n  no_matching_Goto \\<gamma> p rs\n  \\<lbrakk>matches ?\\<gamma> ?m ?p;\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<rbrakk>\n  \\<Longrightarrow> no_matching_Goto ?\\<gamma> ?p (add_match ?m ?rs)\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'\n\ngoal (1 subgoal):\n 1. no_matching_Goto \\<gamma> p (add_match m rs)", "by fast"], ["proof (state)\nthis:\n  no_matching_Goto \\<gamma> p (add_match m rs)\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                     m rs @\n                                    add_match (MatchNot m)\n                                     rest, Undecided\\<rangle> \\<Rightarrow> t", "from 1 2 3"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, t\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p (add_match m rs)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, t\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p (add_match m rs)\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "using matching_Goto(1) seq"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n              rs, Undecided\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, t\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p (add_match m rs)\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> ?t;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>2, ?t\\<rangle> \\<Rightarrow> ?t';\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs\\<^sub>1 @\n                                  ?rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> ?t'\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "by fastforce"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n             add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n             add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "assume ?r"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n             add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "thus ?l"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n             add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "proof(cases \"matches \\<gamma> m p\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "case True"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "by (metis True \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @ add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\\<close>\n                matches_add_match_MatchNot_simp matches_add_match_simp_helper self_append_conv seq' seqE)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "show ?l"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "apply(cases t)"], ["proof (prove)\ngoal (2 subgoals):\n 1. t = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                   (Goto chain) #\n                  rest, Undecided\\<rangle> \\<Rightarrow> t", "using goto_no_decision[OF True] chain_defined"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs;\n   ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> Undecided\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                                 (Goto ?chain) #\n                                ?rest, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma> chain = Some rs\n\ngoal (2 subgoals):\n 1. t = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                   (Goto chain) #\n                  rest, Undecided\\<rangle> \\<Rightarrow> t", "apply (metis \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                   (Goto chain) #\n                  rest, Undecided\\<rangle> \\<Rightarrow> t", "using goto_decision[OF True, of \\<Gamma> chain rs _ rest] chain_defined"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Gamma> chain = Some rs;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n              ?X\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                                (Goto chain) #\n                               rest, Undecided\\<rangle> \\<Rightarrow> Decision\n                                 ?X\n  \\<Gamma> chain = Some rs\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                   (Goto chain) #\n                  rest, Undecided\\<rangle> \\<Rightarrow> t", "apply (metis \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<close>)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "case False"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "with \\<open>?r\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n             add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> matches \\<gamma> m p", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n             add_match (MatchNot m) rest, Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "by (metis matches_add_match_MatchNot_no_matching_Goto_simp not_matches_add_match_simp seqE skipD)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "with False"], ["proof (chain)\npicking this:\n  \\<not> matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, Undecided\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match (MatchNot m)\n              rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t", "by (meson not_matches_add_matchNot_simp)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m\n                         rs @\n                        add_match (MatchNot m)\n                         rest, Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rest, Undecided\\<rangle> \\<Rightarrow> t", "show ?l"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t", "by (meson False \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rest, Undecided\\<rangle> \\<Rightarrow> t\\<close> nomatch not_no_matching_Goto_singleton_cases seq_cons)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rest, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "(*\n    This theorem allows us to unfold the deepest goto in a ruleset.\n    This can be iterated to get to the higher-level gotos.\n    *)\n    qualified"], ["", "theorem unfold_Goto:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and no_matching_Goto_rs: \"no_matching_Goto \\<gamma> p rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>(Rule m (Goto chain))#rest, s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @ add_match (MatchNot m) rest, s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m) rest, s\\<rangle> \\<Rightarrow> t", "apply(rule just_show_all_bigstep_semantics_equalities_with_start_Undecided)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "using assms unfold_Goto_Undecided"], ["proof (prove)\nusing this:\n  \\<Gamma> chain = Some rs\n  no_matching_Goto \\<gamma> p rs\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs;\n   no_matching_Goto ?\\<gamma> ?p ?rs\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                   ?m (Goto ?chain) #\n                                  ?rest, Undecided\\<rangle> \\<Rightarrow> ?t =\n                    ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>add_match\n                                   ?m ?rs @\n                                  add_match (MatchNot ?m)\n                                   ?rest, Undecided\\<rangle> \\<Rightarrow> ?t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rest, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>add_match m rs @\n               add_match (MatchNot m)\n                rest, Undecided\\<rangle> \\<Rightarrow> t", "by fast"], ["", "text\\<open>A chain that will definitely come to a direct decision\\<close>"], ["", "qualified"], ["", "fun terminal_chain :: \"'a rule list \\<Rightarrow> bool\" where\n      \"terminal_chain [] = False\" |\n      \"terminal_chain [Rule MatchAny Accept] = True\" |\n      \"terminal_chain [Rule MatchAny Drop] = True\" |\n      \"terminal_chain [Rule MatchAny Reject] = True\" |\n      \"terminal_chain ((Rule _ (Goto _))#rs) = False\" |\n      \"terminal_chain ((Rule _ (Call _))#rs) = False\" |\n      \"terminal_chain ((Rule _ Return)#rs) = False\" |\n      \"terminal_chain ((Rule _ Unknown)#rs) = False\" |\n      \"terminal_chain (_#rs) = terminal_chain rs\""], ["", "private"], ["", "lemma terminal_chain_no_matching_Goto: \"terminal_chain rs \\<Longrightarrow> no_matching_Goto \\<gamma> p rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. terminal_chain rs \\<Longrightarrow> no_matching_Goto \\<gamma> p rs", "by(induction rs rule: terminal_chain.induct)  simp_all"], ["", "text\\<open>A terminal chain means (if the semantics are actually defined) that the chain will\n         ultimately yield a final filtering decision, for all packets.\\<close>"], ["", "qualified"], ["", "lemma \"terminal_chain rs \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<exists>X. t = Decision X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>terminal_chain rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(induction rs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>terminal_chain [];\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a rs.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(rename_tac r rs)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (r # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(case_tac r)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs x1 x2.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (r # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(rename_tac m a)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (r # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(frule_tac \\<gamma>=\\<gamma> and p=p in terminal_chain_no_matching_Goto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(case_tac a)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Accept\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Drop\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 3. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Log\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 4. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Reject\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 5. \\<And>r rs m a x5.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Call x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 6. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Return\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 7. \\<And>r rs m a x7.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Goto x7\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 8. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Empty\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 9. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m a # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m a #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m a; no_matching_Goto \\<gamma> p (Rule m a # rs);\n        a = Unknown\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(simp_all)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m Accept # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m Accept #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m Accept; no_matching_Goto \\<gamma> p rs;\n        a = Accept\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m Drop # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m Drop #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m Drop; no_matching_Goto \\<gamma> p rs; a = Drop\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 3. \\<And>r rs m a.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m Log #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m Log; no_matching_Goto \\<gamma> p rs; a = Log\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 4. \\<And>r rs m a.\n       \\<lbrakk>\\<lbrakk>terminal_chain rs;\n                 \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule m Reject # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m Reject #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m Reject; no_matching_Goto \\<gamma> p rs;\n        a = Reject\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 5. \\<And>r rs m a.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m Empty #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t;\n        r = Rule m Empty; no_matching_Goto \\<gamma> p rs; a = Empty\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(erule seqE_cons, simp_all,\n                       metis iptables_goto_bigstepD matches.elims terminal_chain.simps terminal_chain.simps terminal_chain.simps)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "private"], ["", "lemma replace_Goto_with_Call_in_terminal_chain_Undecided:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and terminal_chain: \"terminal_chain rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\"\n              (is \"?l \\<longleftrightarrow> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto\n                   chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call\n                   chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "assume ?l"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto\n                   chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call\n                   chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "thus ?r"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "proof(cases rule: seqE_cons_Undecided)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "case (no_matching_Goto ti)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "from no_matching_Goto"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]", "have \"\\<not> matches \\<gamma> m p\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t\n  no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\n\ngoal (1 subgoal):\n 1. \\<not> matches \\<gamma> m p", "by simp"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "with nomatch"], ["proof (chain)\npicking this:\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                  ?a], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p", "have 1: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                  ?a], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "from \\<open>\\<not> matches \\<gamma> m p\\<close> nomatch"], ["proof (chain)\npicking this:\n  \\<not> matches \\<gamma> m p\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                  ?a], Undecided\\<rangle> \\<Rightarrow> Undecided", "have 2: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\""], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                  ?a], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                             (Goto\n                               chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "from 1 2"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "using \\<open>?l\\<close> iptables_goto_bigstep_Undecided_Undecided_deterministic"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> Undecided;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> ?t\\<rbrakk>\n  \\<Longrightarrow> ?t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "by fastforce"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "case (matching_Goto m chain rs')"], ["proof (state)\nthis:\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "from matching_Goto gotoD assms"], ["proof (chain)\npicking this:\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = [Rule ?m (Goto ?chain)]; ?s = Undecided;\n   matches ?\\<gamma> ?m ?p\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs.\n                       ?\\<Gamma> ?chain = Some rs \\<and>\n                       ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma> chain = Some rs\n  terminal_chain rs", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  Rule m (Goto chain) = Rule m (Goto chain)\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some rs'\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = [Rule ?m (Goto ?chain)]; ?s = Undecided;\n   matches ?\\<gamma> ?m ?p\\<rbrakk>\n  \\<Longrightarrow> \\<exists>rs.\n                       ?\\<Gamma> ?chain = Some rs \\<and>\n                       ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma> chain = Some rs\n  terminal_chain rs\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "by fastforce"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<And>ma chaina rs'.\n       \\<lbrakk>Rule m (Goto chain) = Rule ma (Goto chaina);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule ma\n                     (Goto chaina)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> ma p; \\<Gamma> chaina = Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\nm (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "from call_result[OF \\<open>matches \\<gamma> m p\\<close> chain_defined \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<close>]"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "by (metis matching_Goto(1) rule.sel(1))"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call\n                   chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call\n                   chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "assume ?r"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call\n                   chain)], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "thus ?l"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "proof(cases \"matches \\<gamma> m p\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "case True"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "{"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "fix rs1::\"'a rule list\" and  m' and rs2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "have \"terminal_chain (rs1 @ Rule m' Return # rs2) \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. terminal_chain (rs1 @ Rule m' Return # rs2) \\<Longrightarrow> False", "apply(induction rs1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. terminal_chain ([] @ Rule m' Return # rs2) \\<Longrightarrow> False\n 2. \\<And>a rs1.\n       \\<lbrakk>terminal_chain\n                 (rs1 @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain ((a # rs1) @ Rule m' Return # rs2)\\<rbrakk>\n       \\<Longrightarrow> False", "apply(simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a rs1.\n       \\<lbrakk>terminal_chain\n                 (rs1 @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (a # rs1 @ Rule m' Return # rs2)\\<rbrakk>\n       \\<Longrightarrow> False", "apply(rename_tac r' rs')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r' rs'.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (r' # rs' @ Rule m' Return # rs2)\\<rbrakk>\n       \\<Longrightarrow> False", "apply(case_tac r')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r' rs' x1 x2.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (r' # rs' @ Rule m' Return # rs2);\n        r' = Rule x1 x2\\<rbrakk>\n       \\<Longrightarrow> False", "apply(rename_tac m a)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (r' # rs' @ Rule m' Return # rs2);\n        r' = Rule m a\\<rbrakk>\n       \\<Longrightarrow> False", "apply(simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a\\<rbrakk>\n       \\<Longrightarrow> False", "apply(case_tac a)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Accept\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Drop\\<rbrakk>\n       \\<Longrightarrow> False\n 3. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Log\\<rbrakk>\n       \\<Longrightarrow> False\n 4. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Reject\\<rbrakk>\n       \\<Longrightarrow> False\n 5. \\<And>r' rs' m a x5.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Call x5\\<rbrakk>\n       \\<Longrightarrow> False\n 6. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Return\\<rbrakk>\n       \\<Longrightarrow> False\n 7. \\<And>r' rs' m a x7.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Goto x7\\<rbrakk>\n       \\<Longrightarrow> False\n 8. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Empty\\<rbrakk>\n       \\<Longrightarrow> False\n 9. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m a # rs' @ Rule m' Return # rs2);\n        r' = Rule m a; a = Unknown\\<rbrakk>\n       \\<Longrightarrow> False", "apply(simp_all)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m Accept # rs' @ Rule m' Return # rs2);\n        r' = Rule m Accept; a = Accept\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m Drop # rs' @ Rule m' Return # rs2);\n        r' = Rule m Drop; a = Drop\\<rbrakk>\n       \\<Longrightarrow> False\n 3. \\<And>r' rs' m a.\n       \\<lbrakk>terminal_chain\n                 (rs' @ Rule m' Return # rs2) \\<Longrightarrow>\n                False;\n        terminal_chain (Rule m Reject # rs' @ Rule m' Return # rs2);\n        r' = Rule m Reject; a = Reject\\<rbrakk>\n       \\<Longrightarrow> False", "apply (metis append_is_Nil_conv hd_Cons_tl terminal_chain.simps)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  terminal_chain (rs1 @ Rule m' Return # rs2) \\<Longrightarrow> False\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "}"], ["proof (state)\nthis:\n  terminal_chain (?rs1.2 @ Rule ?m'2 Return # ?rs2.2) \\<Longrightarrow>\n  False\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "note no_return=this"], ["proof (state)\nthis:\n  terminal_chain (?rs1.2 @ Rule ?m'2 Return # ?rs2.2) \\<Longrightarrow>\n  False\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(rule callD[OF \\<open>?r\\<close> _ _ True chain_defined])"], ["proof (prove)\ngoal (4 subgoals):\n 1. [Rule m (Call chain)] = [Rule m (Call chain)]\n 2. Undecided = Undecided\n 3. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n 4. \\<And>rs\\<^sub>1 rs\\<^sub>2 m'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>rs\\<^sub>1 rs\\<^sub>2 m'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1 @\n                                    Rule m' Return #\n                                    rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided", "using no_return terminal_chain"], ["proof (prove)\nusing this:\n  terminal_chain (?rs1.2 @ Rule ?m'2 Return # ?rs2.2) \\<Longrightarrow>\n  False\n  terminal_chain rs\n\ngoal (1 subgoal):\n 1. \\<And>rs\\<^sub>1 rs\\<^sub>2 m'.\n       \\<lbrakk>rs = rs\\<^sub>1 @ Rule m' Return # rs\\<^sub>2;\n        matches \\<gamma> m' p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1, Undecided\\<rangle> \\<Rightarrow> Undecided;\n        no_matching_Goto \\<gamma> p rs\\<^sub>1; t = Undecided\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs\\<^sub>1 @\n                                    Rule m' Return #\n                                    rs\\<^sub>2, Undecided\\<rangle> \\<Rightarrow> Undecided", "by blast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "show ?l"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "apply(cases t)"], ["proof (prove)\ngoal (2 subgoals):\n 1. t = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "using goto_no_decision[OF True] chain_defined"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs;\n   ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> Undecided\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m\n                                 (Goto ?chain) #\n                                ?rest, Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<Gamma> chain = Some rs\n\ngoal (2 subgoals):\n 1. t = Undecided \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "apply (metis \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "using goto_decision[OF True, of \\<Gamma> chain rs _ \"[]\"] chain_defined"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Gamma> chain = Some rs;\n   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> Decision\n              ?X\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                                 (Goto\n                                   chain)], Undecided\\<rangle> \\<Rightarrow> Decision\n  ?X\n  \\<Gamma> chain = Some rs\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       t = Decision x2 \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "apply (metis \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<close>)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "case False"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Goto\n chain)], Undecided\\<rangle> \\<Rightarrow> t", "show ?l"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "using False \\<open>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\\<close> nomatch nomatchD"], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> t\n  \\<not> matches ?\\<gamma> ?m ?p \\<Longrightarrow>\n  ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule ?m\n                  ?a], Undecided\\<rangle> \\<Rightarrow> Undecided\n  \\<lbrakk>?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?r, ?s\\<rangle> \\<Rightarrow> ?t;\n   ?r = [Rule ?m ?a]; ?s = Undecided;\n   \\<not> matches ?\\<gamma> ?m ?p\\<rbrakk>\n  \\<Longrightarrow> ?t = Undecided\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t", "by fastforce"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["", "qualified"], ["", "theorem replace_Goto_with_Call_in_terminal_chain:\n        assumes chain_defined: \"\\<Gamma> chain = Some rs\" and terminal_chain: \"terminal_chain rs\"\n        shows \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], s\\<rangle> \\<Rightarrow> t", "apply(rule just_show_all_bigstep_semantics_equalities_with_start_Undecided)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "using assms replace_Goto_with_Call_in_terminal_chain_Undecided"], ["proof (prove)\nusing this:\n  \\<Gamma> chain = Some rs\n  terminal_chain rs\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs; terminal_chain ?rs\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Goto\n   ?chain)], Undecided\\<rangle> \\<Rightarrow> ?t =\n                    ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Call\n   ?chain)], Undecided\\<rangle> \\<Rightarrow> ?t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> t", "by fast"], ["", "qualified"], ["", "fun rewrite_Goto_chain_safe :: \"(string \\<rightharpoonup> 'a rule list) \\<Rightarrow> 'a rule list \\<Rightarrow> ('a rule list) option\" where\n    \"rewrite_Goto_chain_safe _ [] = Some []\" |\n    \"rewrite_Goto_chain_safe \\<Gamma> ((Rule m (Goto chain))#rs) =\n      (case (\\<Gamma> chain) of None     \\<Rightarrow> None\n                      |  Some rs' \\<Rightarrow> (if\n                                         \\<not> terminal_chain rs'\n                                      then\n                                         None\n                                      else\n                                         map_option (\\<lambda>rs. Rule m (Call chain) # rs) (rewrite_Goto_chain_safe \\<Gamma> rs)\n                                     )\n      )\" |\n    \"rewrite_Goto_chain_safe \\<Gamma> (r#rs) = map_option (\\<lambda>rs. r # rs) (rewrite_Goto_chain_safe \\<Gamma> rs)\""], ["", "private"], ["", "fun rewrite_Goto_safe_internal\n    :: \"(string \\<times> 'a rule list) list \\<Rightarrow> (string \\<times> 'a rule list) list \\<Rightarrow> (string \\<times> 'a rule list) list option\" where\n    \"rewrite_Goto_safe_internal _ [] = Some []\" |\n    \"rewrite_Goto_safe_internal \\<Gamma> ((chain_name, rs)#cs) = \n                (case rewrite_Goto_chain_safe (map_of \\<Gamma>) rs of\n                         None \\<Rightarrow> None\n                       | Some rs' \\<Rightarrow> map_option (\\<lambda>rst. (chain_name, rs')#rst) (rewrite_Goto_safe_internal \\<Gamma> cs)\n                )\""], ["", "qualified"], ["", "fun rewrite_Goto_safe :: \"(string \\<times> 'a rule list) list \\<Rightarrow> (string \\<times> 'a rule list) list option\" where\n    \"rewrite_Goto_safe cs = rewrite_Goto_safe_internal cs cs\""], ["", "(*use rewrite_Goto_chain_safe whenever possible!*)\n  qualified"], ["", "definition rewrite_Goto :: \"(string \\<times> 'a rule list) list \\<Rightarrow> (string \\<times> 'a rule list) list\" where\n    \"rewrite_Goto cs = the (rewrite_Goto_safe cs)\""], ["", "private"], ["", "lemma step_IH_cong: \"(\\<And>s. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t = \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t) \\<Longrightarrow>\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs1, s\\<rangle> \\<Rightarrow> t = \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r#rs2, s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t) \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs1, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n               rs2, s\\<rangle> \\<Rightarrow> t", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs1, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(erule seqE_cons)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs2, s\\<rangle> \\<Rightarrow> t\n 3. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(rule seq'_cons)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ?t6\n                             ti\n 2. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, ?t6\n    ti\\<rangle> \\<Rightarrow> t\n 3. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p [r]\n 4. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs2, s\\<rangle> \\<Rightarrow> t\n 5. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply simp_all"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(drule not_no_matching_Goto_cases)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> [r] \\<noteq> []\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<exists>rs1 m chain rs2.\n        [r] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n        no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs2, s\\<rangle> \\<Rightarrow> t\n 3. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(simp; fail)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<exists>rs1 m chain rs2.\n        [r] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n        no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(elim exE conjE, rename_tac rs1a m chain rs2a)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(subgoal_tac \"r = Rule m (Goto chain)\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> r = Rule m (Goto chain)\n 3. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "prefer 2"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> r = Rule m (Goto chain)\n 2. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs2, s\\<rangle> \\<Rightarrow> t\n 3. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     [r] = rs1a_ @ Rule m_ (Goto chain_) # rs2a_;\n     no_matching_Goto \\<gamma> p rs1a_; matches \\<gamma> m_ p\\<rbrakk>\n    \\<Longrightarrow> r = Rule m_ (Goto chain_)", "by (simp add: Cons_eq_append_conv)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(thin_tac \"[r] = _ @ Rule m (Goto chain) # _\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rs1a m chain.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], s\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs2, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply (metis decision decisionD seq_cons_Goto_t state.exhaust)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                rs2, s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(erule seqE_cons)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs1, s\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(rule seq'_cons)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ?t33\n                             ti\n 2. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, ?t33\n    ti\\<rangle> \\<Rightarrow> t\n 3. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n       \\<Longrightarrow> no_matching_Goto \\<gamma> p [r]\n 4. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [r]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(drule not_no_matching_Goto_cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> [r] \\<noteq> []\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<exists>rs1 m chain rs2.\n        [r] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n        no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(simp; fail)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     \\<exists>rs1 m chain rs2.\n        [r] = rs1 @ Rule m (Goto chain) # rs2 \\<and>\n        no_matching_Goto \\<gamma> p rs1 \\<and> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                 rs1, s\\<rangle> \\<Rightarrow> t", "apply(elim exE conjE, rename_tac rs1a m chain rs2a)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs1, s\\<rangle> \\<Rightarrow> t", "apply(subgoal_tac \"r = Rule m (Goto chain)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs1, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> r = Rule m (Goto chain)", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p\\<rbrakk>\n       \\<Longrightarrow> r = Rule m (Goto chain)\n 2. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs1, s\\<rangle> \\<Rightarrow> t", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n     [r] = rs1a_ @ Rule m_ (Goto chain_) # rs2a_;\n     no_matching_Goto \\<gamma> p rs1a_; matches \\<gamma> m_ p\\<rbrakk>\n    \\<Longrightarrow> r = Rule m_ (Goto chain_)", "by (simp add: Cons_eq_append_conv)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        [r] = rs1a @ Rule m (Goto chain) # rs2a;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs1, s\\<rangle> \\<Rightarrow> t", "apply(thin_tac \"[r] = _ @ Rule m (Goto chain) # _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>rs1a m chain rs2a.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[r], s\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>r #\n                                    rs1, s\\<rangle> \\<Rightarrow> t", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>rs1a m chain.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs1, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs2, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], s\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p rs1a; matches \\<gamma> m p;\n        r = Rule m (Goto chain)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs1, s\\<rangle> \\<Rightarrow> t", "apply (metis decision decisionD seq_cons_Goto_t state.exhaust)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "private"], ["", "lemma terminal_chain_decision: \n    \"terminal_chain rs \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<exists>X. t = Decision X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>terminal_chain rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(induction rs arbitrary: t rule: terminal_chain.induct)"], ["proof (prove)\ngoal (38 subgoals):\n 1. \\<And>t.\n       \\<lbrakk>terminal_chain [];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>t.\n       \\<lbrakk>terminal_chain [Rule MatchAny Accept];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                     Accept], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 3. \\<And>t.\n       \\<lbrakk>terminal_chain [Rule MatchAny Drop];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                     Drop], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 4. \\<And>t.\n       \\<lbrakk>terminal_chain [Rule MatchAny Reject];\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                     Reject], Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 5. \\<And>uu_ uv_ rs t.\n       \\<lbrakk>terminal_chain (Rule uu_ (Goto uv_) # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule uu_\n                    (Goto uv_) #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 6. \\<And>uw_ ux_ rs t.\n       \\<lbrakk>terminal_chain (Rule uw_ (Call ux_) # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule uw_\n                    (Call ux_) #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 7. \\<And>uy_ rs t.\n       \\<lbrakk>terminal_chain (Rule uy_ Return # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule uy_ Return #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 8. \\<And>uz_ rs t.\n       \\<lbrakk>terminal_chain (Rule uz_ Unknown # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule uz_ Unknown #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 9. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<lbrakk>terminal_chain rs;\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>X. t = Decision X;\n        terminal_chain (Rule (Match vc) Accept # rs);\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Accept #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 10. \\<And>vc rs t.\n        \\<lbrakk>\\<And>t.\n                    \\<lbrakk>terminal_chain rs;\n                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n                    \\<Longrightarrow> \\<exists>X. t = Decision X;\n         terminal_chain (Rule (Match vc) Drop # rs);\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                     Drop #\n                    rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>X. t = Decision X\nA total of 38 subgoals...", "apply simp_all"], ["proof (prove)\ngoal (33 subgoals):\n 1. \\<And>t.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                    Accept], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<exists>X. t = Decision X\n 2. \\<And>t.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                    Drop], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<exists>X. t = Decision X\n 3. \\<And>t.\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                    Reject], Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n       \\<exists>X. t = Decision X\n 4. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Accept #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 5. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Drop #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 6. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Log #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 7. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Reject #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 8. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Empty #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 9. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchNot vc)\n                    Accept #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 10. \\<And>vc rs t.\n        \\<lbrakk>\\<And>t.\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                    \\<exists>X. t = Decision X;\n         terminal_chain rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchNot vc)\n                     Drop #\n                    rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>X. t = Decision X\nA total of 33 subgoals...", "apply(auto dest: iptables_goto_bigstepD)[3]"], ["proof (prove)\ngoal (30 subgoals):\n 1. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Accept #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Drop #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 3. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Log #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 4. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Reject #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 5. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (Match vc)\n                    Empty #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 6. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchNot vc)\n                    Accept #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 7. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchNot vc)\n                    Drop #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 8. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchNot vc)\n                    Log #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 9. \\<And>vc rs t.\n       \\<lbrakk>\\<And>t.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                   \\<exists>X. t = Decision X;\n        terminal_chain rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchNot vc)\n                    Reject #\n                   rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X\n 10. \\<And>vc rs t.\n        \\<lbrakk>\\<And>t.\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n                    \\<exists>X. t = Decision X;\n         terminal_chain rs;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule (MatchNot vc)\n                     Empty #\n                    rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>X. t = Decision X\nA total of 30 subgoals...", "apply(erule seqE_cons, simp_all, blast dest: iptables_goto_bigstepD)+"], ["proof (prove)\ngoal:\nNo subgoals!", "(*6s*)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "private"], ["", "lemma terminal_chain_Goto_decision: \"\\<Gamma> chain = Some rs \\<Longrightarrow> terminal_chain rs \\<Longrightarrow> matches \\<gamma> m p \\<Longrightarrow>\n       \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], s\\<rangle> \\<Rightarrow> t \\<Longrightarrow> \\<exists>X. t = Decision X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n     matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], s\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(cases s)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n     matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], s\\<rangle> \\<Rightarrow> t;\n     s = Undecided\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>x2.\n       \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], s\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(drule gotoD, simp_all)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n     matches \\<gamma> m p; s = Undecided;\n     \\<exists>rs.\n        \\<Gamma> chain = Some rs \\<and>\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>x2.\n       \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], Decision x2\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply(elim exE conjE, simp_all)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>terminal_chain rs; matches \\<gamma> m p; s = Undecided;\n     \\<Gamma> chain = Some rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>x2.\n       \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], Decision x2\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "using terminal_chain_decision"], ["proof (prove)\nusing this:\n  \\<lbrakk>terminal_chain ?rs;\n   ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>?rs, Undecided\\<rangle> \\<Rightarrow> ?t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>X. ?t = Decision X\n\ngoal (2 subgoals):\n 1. \\<lbrakk>terminal_chain rs; matches \\<gamma> m p; s = Undecided;\n     \\<Gamma> chain = Some rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<exists>X. t = Decision X\n 2. \\<And>x2.\n       \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], Decision x2\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "apply fast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>\\<Gamma> chain = Some rs; terminal_chain rs;\n        matches \\<gamma> m p;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], Decision x2\\<rangle> \\<Rightarrow> t;\n        s = Decision x2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>X. t = Decision X", "by (meson decisionD)"], ["", "qualified"], ["", "theorem rewrite_Goto_chain_safe:\n    \"rewrite_Goto_chain_safe \\<Gamma> rs = Some rs' \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rewrite_Goto_chain_safe \\<Gamma> rs = Some rs' \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t", "proof(induction \\<Gamma> rs arbitrary: rs' s rule: rewrite_Goto_chain_safe.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>uu_ rs' s.\n       rewrite_Goto_chain_safe uu_ [] = Some rs' \\<Longrightarrow>\n       uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n       uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 10. \\<And>\\<Gamma> v rs rs' s.\n        \\<lbrakk>\\<And>rs' s.\n                    rewrite_Goto_chain_safe \\<Gamma> rs =\n                    Some rs' \\<Longrightarrow>\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n         rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n         Some rs'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\nv Unknown #\n                                     rs, s\\<rangle> \\<Rightarrow> t", "case 1"], ["proof (state)\nthis:\n  rewrite_Goto_chain_safe uu_ [] = Some rs'\n\ngoal (10 subgoals):\n 1. \\<And>uu_ rs' s.\n       rewrite_Goto_chain_safe uu_ [] = Some rs' \\<Longrightarrow>\n       uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n       uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 10. \\<And>\\<Gamma> v rs rs' s.\n        \\<lbrakk>\\<And>rs' s.\n                    rewrite_Goto_chain_safe \\<Gamma> rs =\n                    Some rs' \\<Longrightarrow>\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n         rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n         Some rs'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                          \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\nv Unknown #\n                                     rs, s\\<rangle> \\<Rightarrow> t", "thus ?case"], ["proof (prove)\nusing this:\n  rewrite_Goto_chain_safe uu_ [] = Some rs'\n\ngoal (1 subgoal):\n 1. uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n    uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t", "by (simp split: option.split_asm if_split_asm)"], ["proof (state)\nthis:\n  uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n  uu_,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[], s\\<rangle> \\<Rightarrow> t\n\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Unknown #\n                                    rs, s\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Unknown #\n                                    rs, s\\<rangle> \\<Rightarrow> t", "case (2 \\<Gamma> m chain rs)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Gamma> chain = Some ?x2.0; \\<not> \\<not> terminal_chain ?x2.0;\n   rewrite_Goto_chain_safe \\<Gamma> rs = Some ?rs'\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs', ?s\\<rangle> \\<Rightarrow> t =\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n  rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) = Some rs'\n\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Unknown #\n                                    rs, s\\<rangle> \\<Rightarrow> t", "from 2(2)"], ["proof (chain)\npicking this:\n  rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) = Some rs'", "obtain z x2 where \"\\<Gamma> chain = Some x2\" and \"terminal_chain x2\"\n            and \"rs' = Rule m (Call chain) # z\"\n            and \"Some z = rewrite_Goto_chain_safe \\<Gamma> rs\""], ["proof (prove)\nusing this:\n  rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) = Some rs'\n\ngoal (1 subgoal):\n 1. (\\<And>x2 z.\n        \\<lbrakk>\\<Gamma> chain = Some x2; terminal_chain x2;\n         rs' = Rule m (Call chain) # z;\n         Some z = rewrite_Goto_chain_safe \\<Gamma> rs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto split: option.split_asm if_split_asm)"], ["proof (state)\nthis:\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  rs' = Rule m (Call chain) # z\n  Some z = rewrite_Goto_chain_safe \\<Gamma> rs\n\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Unknown #\n                                    rs, s\\<rangle> \\<Rightarrow> t", "from 2(1) \\<open>\\<Gamma> chain = Some x2\\<close> \\<open>terminal_chain x2\\<close> \\<open>Some z = rewrite_Goto_chain_safe \\<Gamma> rs\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Gamma> chain = Some ?x2.0; \\<not> \\<not> terminal_chain ?x2.0;\n   rewrite_Goto_chain_safe \\<Gamma> rs = Some ?rs'\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs', ?s\\<rangle> \\<Rightarrow> t =\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  Some z = rewrite_Goto_chain_safe \\<Gamma> rs", "have IH: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t = \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t\" for s"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Gamma> chain = Some ?x2.0; \\<not> \\<not> terminal_chain ?x2.0;\n   rewrite_Goto_chain_safe \\<Gamma> rs = Some ?rs'\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs', ?s\\<rangle> \\<Rightarrow> t =\n                    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  Some z = rewrite_Goto_chain_safe \\<Gamma> rs\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, ?s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Unknown #\n                                    rs, s\\<rangle> \\<Rightarrow> t", "have \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) # z, Undecided\\<rangle> \\<Rightarrow> t \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) # rs, Undecided\\<rangle> \\<Rightarrow> t\"\n          (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "proof(intro iffI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t", "assume ?lhs"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n             z, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t", "with IH"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, ?s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n             z, Undecided\\<rangle> \\<Rightarrow> t", "obtain ti where ti1: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti\" and ti2: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, ?s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n             z, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. (\\<And>ti.\n        \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                              (Call\n                                chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto elim: seqE_cons)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n\ngoal (2 subgoals):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t", "show ?rhs"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "proof(cases \"matches \\<gamma> m p\")"], ["proof (state)\ngoal (2 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "case False"], ["proof (state)\nthis:\n  \\<not> matches \\<gamma> m p\n\ngoal (2 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "from replace_Goto_with_Call_in_terminal_chain \\<open>\\<Gamma> chain = Some x2\\<close> \\<open>terminal_chain x2\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs; terminal_chain ?rs\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Goto\n   ?chain)], ?s\\<rangle> \\<Rightarrow> ?t =\n                    ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Call\n   ?chain)], ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2", "have \" \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti \\<longleftrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs; terminal_chain ?rs\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Goto\n   ?chain)], ?s\\<rangle> \\<Rightarrow> ?t =\n                    ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Call\n   ?chain)], ?s\\<rangle> \\<Rightarrow> ?t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti", "by fast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n\ngoal (2 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<not> matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "with False ti1 ti2"], ["proof (chain)\npicking this:\n  \\<not> matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "by(rule_tac t=ti in seq'_cons) simp+"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "case True"], ["proof (state)\nthis:\n  matches \\<gamma> m p\n\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "from ti1 \\<open>\\<Gamma> chain = Some x2\\<close> \\<open>terminal_chain x2\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma> chain = Some x2\n  terminal_chain x2", "have g: \"\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Call chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                 (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti", "by(subst(asm) replace_Goto_with_Call_in_terminal_chain[symmetric]) simp+"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "with True \\<open>\\<Gamma> chain = Some x2\\<close> \\<open>terminal_chain x2\\<close>"], ["proof (chain)\npicking this:\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti", "obtain X where X: \"ti = Decision X\""], ["proof (prove)\nusing this:\n  matches \\<gamma> m p\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n\ngoal (1 subgoal):\n 1. (\\<And>X. ti = Decision X \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: terminal_chain_Goto_decision)"], ["proof (state)\nthis:\n  ti = Decision X\n\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "with this ti2"], ["proof (chain)\npicking this:\n  ti = Decision X\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  ti = Decision X", "have \"t = Decision X\""], ["proof (prove)\nusing this:\n  ti = Decision X\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  ti = Decision X\n\ngoal (1 subgoal):\n 1. t = Decision X", "by(simp add: decisionD)"], ["proof (state)\nthis:\n  t = Decision X\n\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "with g X True ti2 \\<open>\\<Gamma> chain = Some x2\\<close> \\<open>terminal_chain x2\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  ti = Decision X\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  t = Decision X", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n               (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti\n  ti = Decision X\n  matches \\<gamma> m p\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  t = Decision X\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                          (Goto\n                            chain)], Undecided\\<rangle> \\<Rightarrow> Decision\n                                 X;\n     ti = Decision X; matches \\<gamma> m p;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, Decision\n                     X\\<rangle> \\<Rightarrow> Decision X;\n     \\<Gamma> chain = Some x2; terminal_chain x2; t = Decision X\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> Decision\n                                 X", "apply(rule seq_cons_Goto_t, simp_all)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t", "assume ?rhs"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, Undecided\\<rangle> \\<Rightarrow> t \\<Longrightarrow>\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t", "with IH \\<open>\\<Gamma> chain = Some x2\\<close> \\<open>terminal_chain x2\\<close> \\<open>Some z = rewrite_Goto_chain_safe \\<Gamma> rs\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, ?s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  Some z = rewrite_Goto_chain_safe \\<Gamma> rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t", "show ?lhs"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, ?s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ?s\\<rangle> \\<Rightarrow> t\n  \\<Gamma> chain = Some x2\n  terminal_chain x2\n  Some z = rewrite_Goto_chain_safe \\<Gamma> rs\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n               z, Undecided\\<rangle> \\<Rightarrow> t", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n                rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "apply(erule seqE_cons)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma> chain = Some x2; terminal_chain x2;\n        Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n        no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Call chain) #\n                                    z, Undecided\\<rangle> \\<Rightarrow> t\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "subgoal for ti"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "apply(rule_tac t=ti in seq'_cons)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Call\n chain)], Undecided\\<rangle> \\<Rightarrow> ti\n 2. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, ti\\<rangle> \\<Rightarrow> t\n 3. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> no_matching_Goto \\<gamma> p [Rule m (Call chain)]", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Call\n chain)], Undecided\\<rangle> \\<Rightarrow> ti", "using replace_Goto_with_Call_in_terminal_chain"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Gamma> ?chain = Some ?rs; terminal_chain ?rs\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Goto\n   ?chain)], ?s\\<rangle> \\<Rightarrow> ?t =\n                    ?\\<Gamma>,?\\<gamma>,?p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                    ?m (Call\n   ?chain)], ?s\\<rangle> \\<Rightarrow> ?t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> ti;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, ti\\<rangle> \\<Rightarrow> t;\n     \\<not> matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule\n                                   m (Call\n chain)], Undecided\\<rangle> \\<Rightarrow> ti", "by fast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     \\<not> no_matching_Goto \\<gamma> p [Rule m (Goto chain)]\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "apply(frule(3) terminal_chain_Goto_decision)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Goto chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p; \\<exists>X. t = Decision X\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "apply(subst(asm) replace_Goto_with_Call_in_terminal_chain, simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p; \\<exists>X. t = Decision X\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Call chain) #\n                                 z, Undecided\\<rangle> \\<Rightarrow> t", "apply(rule seq'_cons, simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n     \\<Gamma> chain = Some x2; terminal_chain x2;\n     Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                  (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n     matches \\<gamma> m p; \\<exists>X. t = Decision X\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t", "apply(elim exE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>\\<And>s.\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>z, s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        \\<Gamma> chain = Some x2; terminal_chain x2;\n        Some z = rewrite_Goto_chain_safe \\<Gamma> rs;\n        \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                     (Call chain)], Undecided\\<rangle> \\<Rightarrow> t;\n        matches \\<gamma> m p; t = Decision X\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, t\\<rangle> \\<Rightarrow> t", "by (simp add: decision)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n             z, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n             z, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> m chain rs rs' s.\n       \\<lbrakk>\\<And>x2 rs' s.\n                   \\<lbrakk>\\<Gamma> chain = Some x2;\n                    \\<not> \\<not> terminal_chain x2;\n                    rewrite_Goto_chain_safe \\<Gamma> rs = Some rs'\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                                     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule m (Goto chain) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     m (Goto chain) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 9. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Unknown #\n                                    rs, s\\<rangle> \\<Rightarrow> t", "with \\<open>rs' = Rule m (Call chain) # z\\<close>"], ["proof (chain)\npicking this:\n  rs' = Rule m (Call chain) # z\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n             z, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t", "show ?case"], ["proof (prove)\nusing this:\n  rs' = Rule m (Call chain) # z\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n             z, Undecided\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, Undecided\\<rangle> \\<Rightarrow> t\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n    \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n               rs, s\\<rangle> \\<Rightarrow> t", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>rs' = Rule m (Call chain) # z;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n                z, Undecided\\<rangle> \\<Rightarrow> t =\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n                rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rs, s\\<rangle> \\<Rightarrow> t", "apply(rule just_show_all_bigstep_semantics_equalities_with_start_Undecided)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>rs' = Rule m (Call chain) # z;\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Call chain) #\n                z, Undecided\\<rangle> \\<Rightarrow> t =\n     \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n                rs, Undecided\\<rangle> \\<Rightarrow> t\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', Undecided\\<rangle> \\<Rightarrow> t =\n                      \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                  m (Goto chain) #\n                                 rs, Undecided\\<rangle> \\<Rightarrow> t", "by simp"], ["proof (state)\nthis:\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n  \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule m (Goto chain) #\n             rs, s\\<rangle> \\<Rightarrow> t\n\ngoal (8 subgoals):\n 1. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Accept # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Accept #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 2. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Drop # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Drop #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 3. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Log # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Log #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 4. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Reject # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Reject #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 5. \\<And>\\<Gamma> v vb rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v (Call vb) # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v (Call vb) #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 6. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Return # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Return #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 7. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Empty # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Empty #\n                                    rs, s\\<rangle> \\<Rightarrow> t\n 8. \\<And>\\<Gamma> v rs rs' s.\n       \\<lbrakk>\\<And>rs' s.\n                   rewrite_Goto_chain_safe \\<Gamma> rs =\n                   Some rs' \\<Longrightarrow>\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                   \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs, s\\<rangle> \\<Rightarrow> t;\n        rewrite_Goto_chain_safe \\<Gamma> (Rule v Unknown # rs) =\n        Some rs'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>rs', s\\<rangle> \\<Rightarrow> t =\n                         \\<Gamma>,\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>Rule\n                                     v Unknown #\n                                    rs, s\\<rangle> \\<Rightarrow> t", "qed(auto cong: step_IH_cong)"], ["", "text\\<open>Example: The semantics are actually defined (for this example).\\<close>"], ["", "lemma defines \"\\<gamma> \\<equiv> (\\<lambda>_ _. True)\" and \"m \\<equiv> MatchAny\"\n  shows \"[''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n          ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n          ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject],\n          ''baz'' \\<mapsto> [(Rule m Accept)]],\n      \\<gamma>,p\\<turnstile>\\<^sub>g\\<langle>[Rule MatchAny (Call ''FORWARD'')], Undecided\\<rangle> \\<Rightarrow> (Decision FinalAllow)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                    (Call\n                      ''FORWARD'')], Undecided\\<rangle> \\<Rightarrow> Decision\n                                 FinalAllow", "apply(subgoal_tac \"matches \\<gamma> m p\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                    (Call\n                      ''FORWARD'')], Undecided\\<rangle> \\<Rightarrow> Decision\n                                 FinalAllow\n 2. matches \\<gamma> m p", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. matches \\<gamma> m p\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                    (Call\n                      ''FORWARD'')], Undecided\\<rangle> \\<Rightarrow> Decision\n                                 FinalAllow", "apply(simp add: \\<gamma>_def m_def; fail)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule MatchAny\n                    (Call\n                      ''FORWARD'')], Undecided\\<rangle> \\<Rightarrow> Decision\n                                 FinalAllow", "apply(rule call_result)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow> matches \\<gamma> MatchAny p\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto> [Rule m Accept]]\n     ''FORWARD'' =\n    Some ?rs3\n 3. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs3, Undecided\\<rangle> \\<Rightarrow> Decision\n                    FinalAllow", "apply(auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m Log,\n                   Rule m (Call ''foo''),\n                   Rule m\n                    Drop], Undecided\\<rangle> \\<Rightarrow> Decision\n                       FinalAllow", "apply(rule_tac t=Undecided in seq_cons)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    Log], Undecided\\<rangle> \\<Rightarrow> Undecided\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Call ''foo''),\n                   Rule m\n                    Drop], Undecided\\<rangle> \\<Rightarrow> Decision\n                       FinalAllow\n 3. matches \\<gamma> m p \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p [Rule m Log]", "apply(auto intro: log)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Call ''foo''),\n                   Rule m\n                    Drop], Undecided\\<rangle> \\<Rightarrow> Decision\n                       FinalAllow", "apply(rule_tac t=\"Decision FinalAllow\" in seq_cons)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Call\n                      ''foo'')], Undecided\\<rangle> \\<Rightarrow> Decision\n                             FinalAllow\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    Drop], Decision\n                            FinalAllow\\<rangle> \\<Rightarrow> Decision\n                         FinalAllow\n 3. matches \\<gamma> m p \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p [Rule m (Call ''foo'')]", "apply(auto intro: decision)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Call\n                      ''foo'')], Undecided\\<rangle> \\<Rightarrow> Decision\n                             FinalAllow", "apply(rule call_result)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow> matches \\<gamma> m p\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto> [Rule m Accept]]\n     ''foo'' =\n    Some ?rs24\n 3. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs24, Undecided\\<rangle> \\<Rightarrow> Decision\n                     FinalAllow", "apply(simp)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m Log,\n                   Rule m (Goto ''bar''),\n                   Rule m\n                    Reject], Undecided\\<rangle> \\<Rightarrow> Decision\n                         FinalAllow", "apply(rule_tac t=Undecided in seq_cons)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    Log], Undecided\\<rangle> \\<Rightarrow> Undecided\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Goto ''bar''),\n                   Rule m\n                    Reject], Undecided\\<rangle> \\<Rightarrow> Decision\n                         FinalAllow\n 3. matches \\<gamma> m p \\<Longrightarrow>\n    no_matching_Goto \\<gamma> p [Rule m Log]", "apply(auto intro: log)"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Goto ''bar''),\n                   Rule m\n                    Reject], Undecided\\<rangle> \\<Rightarrow> Decision\n                         FinalAllow", "apply(rule goto_decision)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow> matches \\<gamma> m p\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto> [Rule m Accept]]\n     ''bar'' =\n    Some ?rs37\n 3. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs37, Undecided\\<rangle> \\<Rightarrow> Decision\n                     FinalAllow", "apply(simp)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    (Goto ''baz''),\n                   Rule m\n                    Reject], Undecided\\<rangle> \\<Rightarrow> Decision\n                         FinalAllow", "apply(rule goto_decision)"], ["proof (prove)\ngoal (3 subgoals):\n 1. matches \\<gamma> m p \\<Longrightarrow> matches \\<gamma> m p\n 2. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto> [Rule m Accept]]\n     ''baz'' =\n    Some ?rs42\n 3. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>?rs42, Undecided\\<rangle> \\<Rightarrow> Decision\n                     FinalAllow", "apply(simp)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. matches \\<gamma> m p \\<Longrightarrow>\n    [''FORWARD'' \\<mapsto> [Rule m Log, Rule m (Call ''foo''), Rule m Drop],\n     ''foo'' \\<mapsto> [Rule m Log, Rule m (Goto ''bar''), Rule m Reject],\n     ''bar'' \\<mapsto> [Rule m (Goto ''baz''), Rule m Reject], ''baz'' \n     \\<mapsto>\n     [Rule m\n       Accept]],\\<gamma>,p\\<turnstile>\\<^sub>g \\<langle>[Rule m\n                    Accept], Undecided\\<rangle> \\<Rightarrow> Decision\n                         FinalAllow", "apply(auto intro: accept)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"], ["", "end"]]}