{"file_name": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus/Weak_Early_Sim_Pres.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus", "problem_names": ["lemma tauPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"\\<tau>.(P) \\<leadsto><Rel> \\<tau>.(Q)\"", "lemma inputPres:\n  fixes P    :: pi\n  and   x    :: name\n  and   Q    :: pi\n  and   a    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"\\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"a<x>.P \\<leadsto><Rel> a<x>.Q\"", "lemma outputPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"a{b}.P \\<leadsto><Rel> a{b}.Q\"", "lemma matchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto><Rel> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     RelStay: \"\\<And>R S c. (R, S) \\<in> Rel \\<Longrightarrow> ([c\\<frown>c]R, S) \\<in> Rel\"\n\n  shows \"[a\\<frown>b]P \\<leadsto><Rel'> [a\\<frown>b]Q\"", "lemma mismatchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto><Rel> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     RelStay: \"\\<And>R S c d. \\<lbrakk>(R, S) \\<in> Rel; c \\<noteq> d\\<rbrakk> \\<Longrightarrow> ([c\\<noteq>d]R, S) \\<in> Rel\"\n\n  shows \"[a\\<noteq>b]P \\<leadsto><Rel'> [a\\<noteq>b]Q\"", "lemma parCompose:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   S     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n  and   Rel'' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto><Rel> Q\"\n  and     RSimT:    \"R \\<leadsto><Rel'> S\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     RRel'T:   \"(R, S) \\<in> Rel'\"\n  and     Par:      \"\\<And>P' Q' R' S'. \\<lbrakk>(P', Q') \\<in> Rel; (R', S') \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\"\n  and     Res:      \"\\<And>T U x. (T, U) \\<in> Rel'' \\<Longrightarrow> (<\\<nu>x>T, <\\<nu>x>U) \\<in> Rel''\"\n\n  shows \"P \\<parallel> R \\<leadsto><Rel''> Q \\<parallel> S\"", "lemma parPres:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   R   :: pi\n  and   a   :: name\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto><Rel> Q\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Par:      \"\\<And>S T U. (S, T) \\<in> Rel \\<Longrightarrow> (S \\<parallel> U, T \\<parallel> U) \\<in> Rel'\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel'\"\n\n  shows \"P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R\"", "lemma resPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   x    :: name\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto><Rel> Q\"\n  and     ResRel: \"\\<And>R S y. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>y>R, <\\<nu>y>S) \\<in> Rel'\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     EqvtRel: \"eqvt Rel\"\n  and     EqvtRel': \"eqvt Rel'\"\n\n  shows \"<\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q\"", "lemma resChainI:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   lst :: \"name list\"\n\n  assumes eqvtRel: \"eqvt Rel\"\n  and     Res:     \"\\<And>R S y. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>y>R, <\\<nu>y>S) \\<in> Rel\"\n  and     PRelQ:   \"P \\<leadsto><Rel> Q\"\n\n  shows \"(resChain lst) P \\<leadsto><Rel> (resChain lst) Q\"", "lemma bangPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n \n  assumes PRelQ:       \"(P, Q) \\<in> Rel\"\n  and     Sim:         \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto><Rel> S\"\n\n  and     ParComp:     \"\\<And>R S T U. \\<lbrakk>(R, S) \\<in> Rel; (T, U) \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (R \\<parallel> T, S \\<parallel> U) \\<in> Rel'\"\n  and     Res:         \"\\<And>R S x. (R, S) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel'\"\n\n  and     RelStay:        \"\\<And>R S. (R \\<parallel> !R, S) \\<in> Rel' \\<Longrightarrow> (!R, S) \\<in> Rel'\"\n  and     BangRelRel': \"(bangRel Rel) \\<subseteq> Rel'\"\n  and     eqvtRel':    \"eqvt Rel'\"\n\n  shows \"!P \\<leadsto><Rel'> !Q\"", "lemma bangRelSim:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel'l :: \"(pi \\<times> pi) set\"\n\n  assumes PBangRelQ: \"(P, Q) \\<in> bangRel Rel\"\n  and     Sim:       \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto><Rel> S\"\n\n  and     ParComp:     \"\\<And>R S T U. \\<lbrakk>(R, S) \\<in> Rel; (T, U) \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (R \\<parallel> T, S \\<parallel> U) \\<in> Rel'\"\n  and     Res:         \"\\<And>R S x. (R, S) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel'\"\n\n  and     RelStay:        \"\\<And>R S. (R \\<parallel> !R, S) \\<in> Rel' \\<Longrightarrow> (!R, S) \\<in> Rel'\"\n  and     BangRelRel': \"(bangRel Rel) \\<subseteq> Rel'\"\n  and     eqvtRel':    \"eqvt Rel'\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"P \\<leadsto><Rel'> Q\""], "translations": [["", "lemma tauPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"\\<tau>.(P) \\<leadsto><Rel> \\<tau>.(Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.P \\<leadsto><Rel> \\<tau>.Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Bound Q' a x)"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> \\<tau>.P\n\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"\\<tau>.(Q) \\<longmapsto>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "hence False"], ["proof (prove)\nusing this:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. False", "by(induct rule: tauCases', auto)"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Free Q' \\<alpha>)"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"\\<tau>.(Q) \\<longmapsto>(\\<alpha> \\<prec> Q')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "proof(induct rule: tauCases', auto simp only: pi.inject residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>True; \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q;\n     \\<alpha> = \\<tau>; Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "have \"\\<tau>.(P) \\<Longrightarrow>\\<^sup>^ \\<tau> \\<prec> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P", "by(rule Tau)"], ["proof (state)\nthis:\n  \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>True; \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q;\n     \\<alpha> = \\<tau>; Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P", "show \"\\<exists>P'. \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and> (P', Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', Q) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma inputPres:\n  fixes P    :: pi\n  and   x    :: name\n  and   Q    :: pi\n  and   a    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"\\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"a<x>.P \\<leadsto><Rel> a<x>.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a<x>.P \\<leadsto><Rel> a<x>.Q", "using Eqvt"], ["proof (prove)\nusing this:\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. a<x>.P \\<leadsto><Rel> a<x>.Q", "proof(induct rule: simCasesCont[where C=\"(x, a, P, Q)\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa xa Q'.\n       \\<lbrakk>a<x>.Q \\<longmapsto> aa<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> a<x>.P; xa \\<sharp> a<x>.Q; xa \\<noteq> aa;\n        xa \\<sharp> (x, a, P, Q)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Bound b y Q')"], ["proof (state)\nthis:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<sharp> a<x>.P\n  y \\<sharp> a<x>.Q\n  y \\<noteq> b\n  y \\<sharp> (x, a, P, Q)\n\ngoal (2 subgoals):\n 1. \\<And>aa xa Q'.\n       \\<lbrakk>a<x>.Q \\<longmapsto> aa<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> a<x>.P; xa \\<sharp> a<x>.Q; xa \\<noteq> aa;\n        xa \\<sharp> (x, a, P, Q)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "from \\<open>y \\<sharp> (x, a, P, Q)\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> (x, a, P, Q)", "have \"y \\<noteq> x\" \"y \\<noteq> a\" \"y \\<sharp> P\" \"y \\<sharp> Q\""], ["proof (prove)\nusing this:\n  y \\<sharp> (x, a, P, Q)\n\ngoal (1 subgoal):\n 1. (y \\<noteq> x &&& y \\<noteq> a) &&& y \\<sharp> P &&& y \\<sharp> Q", "by simp+"], ["proof (state)\nthis:\n  y \\<noteq> x\n  y \\<noteq> a\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (2 subgoals):\n 1. \\<And>aa xa Q'.\n       \\<lbrakk>a<x>.Q \\<longmapsto> aa<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> a<x>.P; xa \\<sharp> a<x>.Q; xa \\<noteq> aa;\n        xa \\<sharp> (x, a, P, Q)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "from \\<open>a<x>.Q \\<longmapsto>b<\\<nu>y> \\<prec> Q'\\<close> \\<open>y \\<noteq> a\\<close> \\<open>y \\<noteq> x\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> Q", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<Longrightarrow>b<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "by(erule_tac inputCases') auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<Longrightarrow>b<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "from \\<open>a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "proof(induct rule: inputCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "case(cInput u)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "have \"a<x>.P \\<Longrightarrow>\\<^sup>^(a<u>) \\<prec> P[x::=u]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P[x::=u]", "by(rule Input)"], ["proof (state)\nthis:\n  a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P[x::=u]\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P[x::=u]\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  \\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel", "have \"(P[x::=u], Q[x::=u]) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P[x::=u], Q[x::=u]) \\<in> Rel", "by auto"], ["proof (state)\nthis:\n  (P[x::=u], Q[x::=u]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P[x::=u]\n  (P[x::=u], Q[x::=u]) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P[x::=u]\n  (P[x::=u], Q[x::=u]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P' \\<and>\n       (P', Q[x::=u]) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<Longrightarrow>\\<^sup>^a<u> \\<prec> P' \\<and>\n     (P', Q[x::=u]) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma outputPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"a{b}.P \\<leadsto><Rel> a{b}.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.P \\<leadsto><Rel> a{b}.Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Bound Q' c x)"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  x \\<sharp> a{b}.P\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"a{b}.Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "hence False"], ["proof (prove)\nusing this:\n  a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. False", "by(induct rule: outputCases', auto)"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Free Q' \\<alpha>)"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"a{b}.Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus \"\\<exists>P'. a{b}.P \\<Longrightarrow>\\<^sup>^ \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "proof(induct rule: outputCases', auto simp add: pi.inject residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a{b}.Q \\<longmapsto> a[b] \\<prec> Q; \\<alpha> = a[b];\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "have \"a{b}.P \\<Longrightarrow>\\<^sup>^ a[b] \\<prec> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P", "by(rule Output)"], ["proof (state)\nthis:\n  a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a{b}.Q \\<longmapsto> a[b] \\<prec> Q; \\<alpha> = a[b];\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P", "show \"\\<exists>P'. a{b}.P \\<Longrightarrow>\\<^sup>^ a[b] \\<prec> P' \\<and> (P', Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P' \\<and>\n       (P', Q) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<Longrightarrow>\\<^sup>^a[b] \\<prec> P' \\<and>\n     (P', Q) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto><Rel> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     RelStay: \"\\<And>R S c. (R, S) \\<in> Rel \\<Longrightarrow> ([c\\<frown>c]R, S) \\<in> Rel\"\n\n  shows \"[a\\<frown>b]P \\<leadsto><Rel'> [a\\<frown>b]Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]P \\<leadsto><Rel'> [a\\<frown>b]Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound Q' c x)"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  x \\<sharp> [a\\<frown>b]P\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"x \\<sharp> [a\\<frown>b]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> [a\\<frown>b]P", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> [a\\<frown>b]P\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence xFreshP: \"(x::name) \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> [a\\<frown>b]P\n\ngoal (1 subgoal):\n 1. x \\<sharp> P", "by simp"], ["proof (state)\nthis:\n  x \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<frown>b]Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: matchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Match"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with PSimQ xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\"\n                                   and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>c<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'", "have \"[a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Match)"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free Q' \\<alpha>)"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<frown>b]Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: matchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Match"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where \"P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\" and \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: transitionCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Step"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by fact"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "hence \"[a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Match)"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with RelRel' \\<open>(P', Q') \\<in> Rel\\<close>"], ["proof (chain)\npicking this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by(force simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Stay"], ["proof (state)\nthis:\n  (P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"[a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<frown>a]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<frown>a]P", "by(simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<frown>a]P\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<frown>a]P\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from \\<open>(P, Q') \\<in> Rel\\<close>"], ["proof (chain)\npicking this:\n  (P, Q') \\<in> Rel", "have \"([a\\<frown>a]P, Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. ([a\\<frown>a]P, Q') \\<in> Rel", "by(blast intro: RelStay)"], ["proof (state)\nthis:\n  ([a\\<frown>a]P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<frown>a]P\n  ([a\\<frown>a]P, Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<frown>a]P\n  ([a\\<frown>a]P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "using RelRel'"], ["proof (prove)\nusing this:\n  [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<frown>a]P\n  ([a\\<frown>a]P, Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mismatchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto><Rel> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     RelStay: \"\\<And>R S c d. \\<lbrakk>(R, S) \\<in> Rel; c \\<noteq> d\\<rbrakk> \\<Longrightarrow> ([c\\<noteq>d]R, S) \\<in> Rel\"\n\n  shows \"[a\\<noteq>b]P \\<leadsto><Rel'> [a\\<noteq>b]Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<leadsto><Rel'> [a\\<noteq>b]Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound Q' c x)"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"x \\<sharp> [a\\<noteq>b]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> [a\\<noteq>b]P", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence xFreshP: \"(x::name) \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (1 subgoal):\n 1. x \\<sharp> P", "by simp"], ["proof (state)\nthis:\n  x \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<noteq>b]Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>Q' aa x.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: mismatchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "case Mismatch"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have aineqb: \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by fact"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with PSimQ xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\"\n                                   and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>c<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from PTrans aineqb"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  a \\<noteq> b", "have \"[a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Mismatch)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free Q' \\<alpha>)"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<noteq>b]Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: mismatchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "case Mismatch"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have aineqb: \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by fact"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where \"P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\" and \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: transitionCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Step"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by fact"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "hence \"[a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "using aineqb"], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Mismatch)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with RelRel' \\<open>(P', Q') \\<in> Rel\\<close>"], ["proof (chain)\npicking this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by(force simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Stay"], ["proof (state)\nthis:\n  (P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"[a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<noteq>b]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<noteq>b]P", "by(simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<noteq>b]P\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<noteq>b]P\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from \\<open>(P, Q') \\<in> Rel\\<close> aineqb"], ["proof (chain)\npicking this:\n  (P, Q') \\<in> Rel\n  a \\<noteq> b", "have \"([a\\<noteq>b]P, Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q') \\<in> Rel\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ([a\\<noteq>b]P, Q') \\<in> Rel", "by(blast intro: RelStay)"], ["proof (state)\nthis:\n  ([a\\<noteq>b]P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P, Q') \\<in> Rel \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<noteq>b]P\n  ([a\\<noteq>b]P, Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<noteq>b]P\n  ([a\\<noteq>b]P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "using RelRel'"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> [a\\<noteq>b]P\n  ([a\\<noteq>b]P, Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma parCompose:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   S     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n  and   Rel'' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto><Rel> Q\"\n  and     RSimT:    \"R \\<leadsto><Rel'> S\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     RRel'T:   \"(R, S) \\<in> Rel'\"\n  and     Par:      \"\\<And>P' Q' R' S'. \\<lbrakk>(P', Q') \\<in> Rel; (R', S') \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\"\n  and     Res:      \"\\<And>T U x. (T, U) \\<in> Rel'' \\<Longrightarrow> (<\\<nu>x>T, <\\<nu>x>U) \\<in> Rel''\"\n\n  shows \"P \\<parallel> R \\<leadsto><Rel''> Q \\<parallel> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel''> Q \\<parallel> S", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel''> Q \\<parallel> S", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel''> Q \\<parallel> S", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "case(Bound Q' a x)"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "have \"Q \\<parallel> S \\<longmapsto>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>Q' a x.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel''", "proof(induct rule: parCasesB)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "case(cPar1 Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> S\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\" and xFreshT: \"x \\<sharp> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' &&& x \\<sharp> S", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> S\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from xFreshP PSimQ QTrans"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans:\"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                                            and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from PTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Step_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from P'RelQ' RRel'T"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'", "have \"(P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "case(cPar2 S')"], ["proof (state)\nthis:\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "have STrans: \"S \\<longmapsto> a<\\<nu>x> \\<prec> S'\" and xFreshQ: \"x \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> a<\\<nu>x> \\<prec> S' &&& x \\<sharp> Q", "by fact+"], ["proof (state)\nthis:\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from xFreshR RSimT STrans"], ["proof (chain)\npicking this:\n  x \\<sharp> R\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'", "obtain R' where RTrans:\"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\"\n                                            and R'Rel'T': \"(R', S') \\<in>  Rel'\""], ["proof (prove)\nusing this:\n  x \\<sharp> R\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>x> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from RTrans xFreshP xFreshR"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n  x \\<sharp> R", "have ParTrans: \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'", "by(blast intro: Weak_Early_Step_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from PRelQ R'Rel'T'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P \\<parallel> R', Q \\<parallel>  S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q \\<parallel> S') \\<in> Rel''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "case(Free QT' \\<alpha>)"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "have \"Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'", "by fact"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\n\ngoal (1 subgoal):\n 1. \\<And>Q' \\<alpha>.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', QT') \\<in> Rel''", "proof(induct rule: parCasesF[of _ _ _ _ _ \"(P, R)\"])"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cPar1 Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>\\<^sup>^ \\<alpha> \\<prec> P'\" and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'", "have Trans: \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^ \\<alpha> \\<prec> P' \\<parallel> R\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Semantics.Par1F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PRel RRel'T"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'", "have \"(P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "by(blast intro: Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S) \\<in> Rel''\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cPar2 S')"], ["proof (state)\nthis:\n  S \\<longmapsto> \\<alpha> \\<prec> S'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"S \\<longmapsto> \\<alpha> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> \\<alpha> \\<prec> S'", "by fact"], ["proof (state)\nthis:\n  S \\<longmapsto> \\<alpha> \\<prec> S'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with RSimT"], ["proof (chain)\npicking this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> \\<alpha> \\<prec> S'", "obtain R' where RTrans: \"R \\<Longrightarrow>\\<^sup>^ \\<alpha> \\<prec> R'\" and RRel: \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> \\<alpha> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R'", "have Trans: \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^ \\<alpha> \\<prec> P \\<parallel> R'\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'", "by(rule Weak_Early_Semantics.Par2F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PRelQ RRel"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "by(blast intro: Par)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q \\<parallel> S') \\<in> Rel''\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cComm1 Q' S' a b)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  S \\<longmapsto> a[b] \\<prec> S'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have QTrans: \"Q \\<longmapsto> a<b> \\<prec> Q'\" and STrans: \"S \\<longmapsto> a[b] \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<b> \\<prec> Q' &&& S \\<longmapsto> a[b] \\<prec> S'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  S \\<longmapsto> a[b] \\<prec> S'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<b> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a<b> \\<prec> P'\"\n                                    and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<b> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<b> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from RSimT STrans"], ["proof (chain)\npicking this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a[b] \\<prec> S'", "obtain R' where RTrans: \"R \\<Longrightarrow>a[b] \\<prec> R'\"\n                                    and RRel: \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a[b] \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a[b] \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a[b] \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'", "by(auto simp add: trancl_into_rtrancl dest: Weak_Early_Step_Semantics.tauTransitionChain)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from P'RelQ' RRel"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cComm2 Q' S' a b)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  S \\<longmapsto> a<b> \\<prec> S'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have QTrans: \"Q \\<longmapsto>a[b] \\<prec> Q'\" and STrans: \"S \\<longmapsto>a<b> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[b] \\<prec> Q' &&& S \\<longmapsto> a<b> \\<prec> S'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  S \\<longmapsto> a<b> \\<prec> S'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a[b] \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a[b] \\<prec> P'\"\n                                    and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a[b] \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a[b] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from RSimT STrans"], ["proof (chain)\npicking this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<b> \\<prec> S'", "obtain R' where RTrans: \"R \\<Longrightarrow>a<b> \\<prec> R'\"\n                                   and R'Rel'T': \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<b> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<b> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<b> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'", "by(auto simp add: trancl_into_rtrancl dest: Weak_Early_Step_Semantics.tauTransitionChain)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PRel R'Rel'T'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cClose1 Q' S' a x)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n  x \\<sharp> Q\n  x \\<sharp> (P, R)\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have QTrans: \"Q \\<longmapsto>a<x> \\<prec> Q'\" and STrans: \"S \\<longmapsto>a<\\<nu>x> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<x> \\<prec> Q' &&& S \\<longmapsto> a<\\<nu>x> \\<prec> S'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"x \\<sharp> (P, R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> (P, R)", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> (P, R)\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by(simp add: fresh_prod)+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a<x> \\<prec> P'\"\n                                    and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from RSimT STrans xFreshR"], ["proof (chain)\npicking this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n  x \\<sharp> R", "obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\" \n                                            and R'Rel'T': \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>x> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have Trans: \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close1)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(auto simp add: trancl_into_rtrancl dest: Weak_Early_Step_Semantics.tauTransitionChain)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from P'RelQ' R'Rel'T'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by(blast intro: Par Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cClose2 Q' S' a x)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  S \\<longmapsto> a<x> \\<prec> S'\n  x \\<sharp> S\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have QTrans: \"Q \\<longmapsto>a<\\<nu>x> \\<prec> Q'\" and STrans: \"S \\<longmapsto>a<x> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' &&& S \\<longmapsto> a<x> \\<prec> S'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  S \\<longmapsto> a<x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"x \\<sharp> (P, R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> (P, R)", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence xFreshR: \"x \\<sharp> R\" and xFreshP: \"x \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. x \\<sharp> R &&& x \\<sharp> P", "by(simp add: fresh_prod)+"], ["proof (state)\nthis:\n  x \\<sharp> R\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PSimQ QTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                                            and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from RSimT STrans"], ["proof (chain)\npicking this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<x> \\<prec> S'", "obtain R' where RTrans: \"R \\<Longrightarrow>a<x> \\<prec> R'\"\n                                    and R'Rel'T': \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto><Rel'> S\n  S \\<longmapsto> a<x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<x> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  x \\<sharp> R", "have Trans: \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close2)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(auto simp add: trancl_into_rtrancl dest: Weak_Early_Step_Semantics.tauTransitionChain)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from P'RelQ' R'Rel'T'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by(blast intro: Par Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', QT') \\<in> Rel''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<parallel> R \\<leadsto><Rel''> Q \\<parallel> S\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma parPres:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   R   :: pi\n  and   a   :: name\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto><Rel> Q\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Par:      \"\\<And>S T U. (S, T) \\<in> Rel \\<Longrightarrow> (S \\<parallel> U, T \\<parallel> U) \\<in> Rel'\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel'\"\n\n  shows \"P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "note PSimQ"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "have RSimR: \"R \\<leadsto><Id> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R \\<leadsto><Id> R", "by(auto intro: reflexive)"], ["proof (state)\nthis:\n  R \\<leadsto><Id> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  R \\<leadsto><Id> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "note PRelQ"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "have \"(R, R) \\<in> Id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (R, R) \\<in> Id", "by auto"], ["proof (state)\nthis:\n  (R, R) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  (R, R) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "from Par"], ["proof (chain)\npicking this:\n  (?S, ?T) \\<in> Rel \\<Longrightarrow>\n  (?S \\<parallel> ?U, ?T \\<parallel> ?U) \\<in> Rel'", "have \"\\<And>P Q R T. \\<lbrakk>(P, Q) \\<in> Rel; (R, T) \\<in> Id\\<rbrakk> \\<Longrightarrow> (P \\<parallel> R, Q \\<parallel> T) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (?S, ?T) \\<in> Rel \\<Longrightarrow>\n  (?S \\<parallel> ?U, ?T \\<parallel> ?U) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R T.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, T) \\<in> Id\\<rbrakk>\n       \\<Longrightarrow> (P \\<parallel> R, Q \\<parallel> T) \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "ultimately"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  R \\<leadsto><Id> R\n  (P, Q) \\<in> Rel\n  (R, R) \\<in> Id\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  R \\<leadsto><Id> R\n  (P, Q) \\<in> Rel\n  (R, R) \\<in> Id\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "using Res"], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  R \\<leadsto><Id> R\n  (P, Q) \\<in> Rel\n  (R, R) \\<in> Id\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'\n  (?S, ?T) \\<in> Rel' \\<Longrightarrow>\n  (<\\<nu>?x>?S, <\\<nu>?x>?T) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R", "by(rule parCompose)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   x    :: name\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto><Rel> Q\"\n  and     ResRel: \"\\<And>R S y. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>y>R, <\\<nu>y>S) \\<in> Rel'\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     EqvtRel: \"eqvt Rel\"\n  and     EqvtRel': \"eqvt Rel'\"\n\n  shows \"<\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q", "from EqvtRel'"], ["proof (chain)\npicking this:\n  eqvt Rel'", "show ?thesis"], ["proof (prove)\nusing this:\n  eqvt Rel'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q", "proof(induct rule: simCasesCont[where C=\"(P, x)\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> <\\<nu>x>P; xa \\<sharp> <\\<nu>x>Q; xa \\<noteq> a;\n        xa \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound a y Q')"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<sharp> <\\<nu>x>P\n  y \\<sharp> <\\<nu>x>Q\n  y \\<noteq> a\n  y \\<sharp> (P, x)\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> <\\<nu>x>P; xa \\<sharp> <\\<nu>x>Q; xa \\<noteq> a;\n        xa \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have Trans: \"<\\<nu>x>Q \\<longmapsto>a<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> <\\<nu>x>P; xa \\<sharp> <\\<nu>x>Q; xa \\<noteq> a;\n        xa \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"y \\<sharp> (P, x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sharp> (P, x)", "by fact"], ["proof (state)\nthis:\n  y \\<sharp> (P, x)\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> <\\<nu>x>P; xa \\<sharp> <\\<nu>x>Q; xa \\<noteq> a;\n        xa \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence yineqx: \"y \\<noteq> x\" and yFreshP: \"y \\<sharp> P\""], ["proof (prove)\nusing this:\n  y \\<sharp> (P, x)\n\ngoal (1 subgoal):\n 1. y \\<noteq> x &&& y \\<sharp> P", "by(simp add: fresh_prod)+"], ["proof (state)\nthis:\n  y \\<noteq> x\n  y \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q';\n        xa \\<sharp> <\\<nu>x>P; xa \\<sharp> <\\<nu>x>Q; xa \\<noteq> a;\n        xa \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from Trans yineqx"], ["proof (chain)\npicking this:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<noteq> x", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: resCasesB)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "case(Open Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[x] \\<prec> Q'\n  a \\<noteq> x\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a[x] \\<prec> Q'\" and aineqx: \"a \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[x] \\<prec> Q' &&& a \\<noteq> x", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[x] \\<prec> Q'\n  a \\<noteq> x\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a[x] \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>\\<^sup>^a[x] \\<prec> P'\"\n                                    and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a[x] \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<^sup>^a[x] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<^sup>^a[x] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PTrans aineqx"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<^sup>^a[x] \\<prec> P'\n  a \\<noteq> x", "have \"<\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<^sup>^a[x] \\<prec> P'\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "by(force intro: Weak_Early_Step_Semantics.Open simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "with \\<open>y \\<sharp> P\\<close> \\<open>y \\<noteq> x\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> P\n  y \\<noteq> x\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "have \"<\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\""], ["proof (prove)\nusing this:\n  y \\<sharp> P\n  y \\<noteq> x\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'", "by(force intro: weakTransitionAlpha simp add: abs_fresh name_swap)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from EqvtRel P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  eqvt Rel\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  eqvt Rel\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "by(blast intro: eqvtRelI)"], ["proof (state)\nthis:\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "case(Res Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a<\\<nu>y> \\<prec> Q'\" and xineqa: \"x \\<noteq> a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' &&& x \\<noteq> a", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PSimQ yFreshP QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\"\n                                            and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PTrans xineqa yineqx yFreshP"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  x \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> P", "have ResTrans: \"<\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> (<\\<nu>x>P')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  x \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'", "by(blast intro: Weak_Early_Step_Semantics.ResB)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"((<\\<nu>x>P'), (<\\<nu>x>Q')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'", "by(rule ResRel)"], ["proof (state)\nthis:\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', <\\<nu>x>Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have QTrans: \"<\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"\\<exists>c::name. c \\<sharp> (P, Q, Q', \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)", "by(blast intro: name_exists_fresh)"], ["proof (state)\nthis:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)", "obtain c::name where cFreshQ: \"c \\<sharp> Q\" and cFreshAlpha: \"c \\<sharp> \\<alpha>\" and cFreshQ': \"c \\<sharp> Q'\" and cFreshP: \"c \\<sharp> P\""], ["proof (prove)\nusing this:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>c \\<sharp> Q; c \\<sharp> \\<alpha>; c \\<sharp> Q';\n         c \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(force simp add: fresh_prod)"], ["proof (state)\nthis:\n  c \\<sharp> Q\n  c \\<sharp> \\<alpha>\n  c \\<sharp> Q'\n  c \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from cFreshP"], ["proof (chain)\npicking this:\n  c \\<sharp> P", "have \"<\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  c \\<sharp> P\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)", "by(simp add: alphaRes)"], ["proof (state)\nthis:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"\\<exists>P'.<\\<nu>c>([(x, c)] \\<bullet> P) \\<Longrightarrow>\\<^sup>^ \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from QTrans cFreshQ"], ["proof (chain)\npicking this:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> Q", "have \"<\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> Q\n\ngoal (1 subgoal):\n 1. <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'", "by(simp add: alphaRes)"], ["proof (state)\nthis:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"c \\<sharp> \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<sharp> \\<alpha>", "by(rule cFreshAlpha)"], ["proof (state)\nthis:\n  c \\<sharp> \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  c \\<sharp> \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PSimQ EqvtRel"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  eqvt Rel", "have \"([(x, c)] \\<bullet> P) \\<leadsto><Rel> ([(x, c)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. [(x, c)] \\<bullet> P \\<leadsto><Rel> [(x, c)] \\<bullet> Q", "by(blast intro: eqvtI)"], ["proof (state)\nthis:\n  [(x, c)] \\<bullet> P \\<leadsto><Rel> [(x, c)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> \\<alpha>\n  [(x, c)] \\<bullet> P \\<leadsto><Rel> [(x, c)] \\<bullet> Q", "show ?thesis"], ["proof (prove)\nusing this:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> \\<alpha>\n  [(x, c)] \\<bullet> P \\<leadsto><Rel> [(x, c)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "apply(induct rule: resCasesF, auto simp add: residual.inject pi.inject name_abs_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>[(x, c)] \\<bullet> Q \\<longmapsto> \\<alpha> \\<prec> P';\n        <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q';\n        c \\<sharp> \\<alpha>;\n        [(x, c)] \\<bullet> P \\<leadsto><Rel> [(x, c)] \\<bullet> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>c>([(x, c)] \\<bullet>\n                                     P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>c>P') \\<in> Rel'", "by(blast intro: ResF ResRel dest: simE)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by force"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resChainI:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   lst :: \"name list\"\n\n  assumes eqvtRel: \"eqvt Rel\"\n  and     Res:     \"\\<And>R S y. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>y>R, <\\<nu>y>S) \\<in> Rel\"\n  and     PRelQ:   \"P \\<leadsto><Rel> Q\"\n\n  shows \"(resChain lst) P \\<leadsto><Rel> (resChain lst) Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resChain lst P \\<leadsto><Rel> resChain lst Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. resChain lst P \\<leadsto><Rel> resChain lst Q", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. resChain lst P \\<leadsto><Rel> resChain lst Q", "proof(induct lst)"], ["proof (state)\ngoal (2 subgoals):\n 1. resChain [] P \\<leadsto><Rel> resChain [] Q\n 2. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "(* Base case *)"], ["proof (state)\ngoal (2 subgoals):\n 1. resChain [] P \\<leadsto><Rel> resChain [] Q\n 2. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "from PRelQ"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q", "show \"resChain [] P \\<leadsto><Rel> resChain [] Q\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. resChain [] P \\<leadsto><Rel> resChain [] Q", "by simp"], ["proof (state)\nthis:\n  resChain [] P \\<leadsto><Rel> resChain [] Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "(* Inductive step *)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "fix a lst"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "assume IH: \"(resChain lst P) \\<leadsto><Rel> (resChain lst Q)\""], ["proof (state)\nthis:\n  resChain lst P \\<leadsto><Rel> resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "moreover"], ["proof (state)\nthis:\n  resChain lst P \\<leadsto><Rel> resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "from Res"], ["proof (chain)\npicking this:\n  (?R, ?S) \\<in> Rel \\<Longrightarrow> (<\\<nu>?y>?R, <\\<nu>?y>?S) \\<in> Rel", "have \"\\<And>P Q a. (P, Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>a>P, <\\<nu>a>Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (?R, ?S) \\<in> Rel \\<Longrightarrow> (<\\<nu>?y>?R, <\\<nu>?y>?S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q a.\n       (P, Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>a>P, <\\<nu>a>Q) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "moreover"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "have \"Rel \\<subseteq> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Rel \\<subseteq> Rel", "by simp"], ["proof (state)\nthis:\n  Rel \\<subseteq> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "ultimately"], ["proof (chain)\npicking this:\n  resChain lst P \\<leadsto><Rel> resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel", "have \"<\\<nu>a>(resChain lst P) \\<leadsto><Rel> <\\<nu>a>(resChain lst Q)\""], ["proof (prove)\nusing this:\n  resChain lst P \\<leadsto><Rel> resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel\n\ngoal (1 subgoal):\n 1. <\\<nu>a>resChain lst P \\<leadsto><Rel> <\\<nu>a>resChain lst Q", "using eqvtRel"], ["proof (prove)\nusing this:\n  resChain lst P \\<leadsto><Rel> resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. <\\<nu>a>resChain lst P \\<leadsto><Rel> <\\<nu>a>resChain lst Q", "by(rule_tac resPres)"], ["proof (state)\nthis:\n  <\\<nu>a>resChain lst P \\<leadsto><Rel> <\\<nu>a>resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto><Rel> resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "thus \"resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q\""], ["proof (prove)\nusing this:\n  <\\<nu>a>resChain lst P \\<leadsto><Rel> <\\<nu>a>resChain lst Q\n\ngoal (1 subgoal):\n 1. resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q", "by simp"], ["proof (state)\nthis:\n  resChain (a # lst) P \\<leadsto><Rel> resChain (a # lst) Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  resChain lst P \\<leadsto><Rel> resChain lst Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bangPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n \n  assumes PRelQ:       \"(P, Q) \\<in> Rel\"\n  and     Sim:         \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto><Rel> S\"\n\n  and     ParComp:     \"\\<And>R S T U. \\<lbrakk>(R, S) \\<in> Rel; (T, U) \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (R \\<parallel> T, S \\<parallel> U) \\<in> Rel'\"\n  and     Res:         \"\\<And>R S x. (R, S) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel'\"\n\n  and     RelStay:        \"\\<And>R S. (R \\<parallel> !R, S) \\<in> Rel' \\<Longrightarrow> (!R, S) \\<in> Rel'\"\n  and     BangRelRel': \"(bangRel Rel) \\<subseteq> Rel'\"\n  and     eqvtRel':    \"eqvt Rel'\"\n\n  shows \"!P \\<leadsto><Rel'> !Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "let ?Sim = \"\\<lambda>P Rs. (\\<forall>a x Q'. Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow> x \\<sharp> P \\<longrightarrow> (\\<exists>P'. P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> Rel')) \\<and>\n                     (\\<forall>\\<alpha> Q'. Rs = \\<alpha> \\<prec> Q' \\<longrightarrow> (\\<exists>P'. P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'))\""], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "fix Rs P"], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "assume \"!Q \\<longmapsto> Rs\" and \"(P, !Q) \\<in> bangRel Rel\""], ["proof (state)\nthis:\n  !Q \\<longmapsto> Rs\n  (P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "hence \"?Sim P Rs\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> Rs\n  (P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "using PRelQ"], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> Rs\n  (P, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "proof(nominal_induct avoiding: P rule: bangInduct)"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel;\n        (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 9. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Par1B a x Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> P\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel;\n        (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 9. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have QTrans: \"Q \\<longmapsto>a<\\<nu>x> \\<prec> Q'\" and xFreshQ: \"x \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' &&& x \\<sharp> Q", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel;\n        (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 9. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> P", "by fact+"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel;\n        (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 9. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelT: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have PSimQ: \"P \\<leadsto><Rel> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "from \\<open>x \\<sharp> P\\<close> \\<open>x \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  x \\<sharp> Q", "show ?case"], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject alpha' name_fresh_fresh)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "from PSimQ QTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                                                and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "from PTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x>\\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Step_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "from P'RelQ' RBangRelT BangRelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  bangRel Rel \\<subseteq> Rel'", "have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  bangRel Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> Rel'", "by(blast intro: Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q' \\<parallel> !Q) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> !Q) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "assume \"(y::name) \\<sharp> Q'\" and \"y \\<sharp> P\" and \"y \\<sharp> R\""], ["proof (state)\nthis:\n  y \\<sharp> Q'\n  y \\<sharp> P\n  y \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "from QTrans \\<open>y \\<sharp> Q'\\<close>"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  y \\<sharp> Q'", "have \"Q \\<longmapsto>a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  y \\<sharp> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')", "by(simp add: alphaBoundOutput)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "with PSimQ \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  P \\<leadsto><Rel> Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\"\n                                         and P'RelQ': \"(P', [(x, y)] \\<bullet> Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel> Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P';\n         (P', [(x, y)] \\<bullet> Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "from PTrans \\<open>y \\<sharp> R\\<close>"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  y \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>y>\\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  y \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Step_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "from P'RelQ' RBangRelT BangRelRel'"], ["proof (chain)\npicking this:\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  bangRel Rel \\<subseteq> Rel'", "have \"(P' \\<parallel> R, ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  bangRel Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'", "by(fastforce intro: Rel.BRPar simp add: name_swap)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> P; x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q';\n        xa \\<sharp> Q; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', ([(xa, x)] \\<bullet> Q') \\<parallel> !Q)\n                            \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and> (P', ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', ([(y, x)] \\<bullet> Q') \\<parallel> !Q) \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Par1F \\<alpha> Q' P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have QTrans: \"Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 8. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto><Rel> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  P \\<leadsto><Rel> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'", "have \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Semantics.Par1F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "from P'RelQ' RBangRelQ"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel", "have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and> (P', Q' \\<parallel> !Q) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "using BangRelRel'"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\n  bangRel Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> !Q) \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Par2B a x Q' P)"], ["proof (state)\nthis:\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "hence IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim P (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa xa Q'a.\n           a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n           xa \\<sharp> P \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'a.\n           a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> Rel'))", "by simp"], ["proof (state)\nthis:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have xFreshQ: \"x \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> Q", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> Q\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> P", "by fact+"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 7. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "using \\<open>x \\<sharp> Q\\<close>"], ["proof (prove)\nusing this:\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject alpha' name_fresh_fresh)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "from IH RBangRelQ"], ["proof (chain)\npicking this:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "by blast"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "with xFreshR"], ["proof (chain)\npicking this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\" and R'BangRelQ': \"(R', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>x> \\<prec> R';\n         (R', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  (R', Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "from RTrans xFreshP"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'", "by(auto intro: Weak_Early_Step_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "from PRelQ R'BangRelQ'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'", "by(rule ParComp)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> Q; x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q \\<parallel> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q \\<parallel> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "assume \"(y::name) \\<sharp> Q'\" and \"y \\<sharp> R\" and \"y \\<sharp> P\""], ["proof (state)\nthis:\n  y \\<sharp> Q'\n  y \\<sharp> R\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "from IH RBangRelQ"], ["proof (chain)\npicking this:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "by blast"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "with \\<open>y \\<sharp> Q'\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Q'\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))", "have  \"?Sim R (a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q'))\""], ["proof (prove)\nusing this:\n  y \\<sharp> Q'\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "by(simp add: alphaBoundOutput)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "with \\<open>y \\<sharp> R\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\" and R'BangRelQ': \"(R', [(x, y)] \\<bullet> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  y \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>y> \\<prec> R';\n         (R', [(x, y)] \\<bullet> Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\n  (R', [(x, y)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "from RTrans \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\n  y \\<sharp> P", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'", "by(auto intro: Weak_Early_Step_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "from PRelQ R'BangRelQ'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', [(x, y)] \\<bullet> Q') \\<in> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', [(x, y)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'", "by(fastforce intro: ParComp simp add: name_swap)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<sharp> Q; x \\<noteq> xa; xa \\<sharp> Q; xa \\<sharp> Q';\n        xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> ([(xa, x)] \\<bullet> Q'))\n                            \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and> (P', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Par2F \\<alpha> Q' P)"], ["proof (state)\nthis:\n  !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha>' Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "hence IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim P (\\<alpha> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha>' Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>a x Q'a.\n           \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n           x \\<sharp> P \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha>' Q'a.\n           \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n               (P', Q'a) \\<in> Rel'))", "by simp"], ["proof (state)\nthis:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 6. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "from RBangRelQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (\\<alpha> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R'\" and R'RelQ': \"(R', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R';\n         (R', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R'\n  (R', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'", "by(rule Weak_Early_Semantics.Par2F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "from PRelQ R'RelQ'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'", "by(rule ParComp)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and> (P', Q \\<parallel> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q \\<parallel> Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Comm1 a Q' b Q'' P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  !Q \\<longmapsto> a[b] \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a[b] \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a[b] \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "hence IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim P (a[b] \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  !Q \\<longmapsto> a[b] \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a[b] \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a[b] \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa x Q'.\n           a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> P \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "by simp"], ["proof (state)\nthis:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have QTrans: \"Q \\<longmapsto> a<b> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<b> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 5. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto><Rel> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  P \\<leadsto><Rel> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<b> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<b> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from RBangRelQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a[b] \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa x Q'.\n        a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a[b] \\<prec> R'\"\n                           and R'RelQ'': \"(R', Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a[b] \\<prec> R';\n         (R', Q'') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a[b] \\<prec> R'\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> (P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "hence \"P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'", "by(auto simp add: trancl_into_rtrancl dest: Weak_Early_Step_Semantics.tauTransitionChain)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'", "by(rule ParComp)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'", "show \"\\<exists>P'. (P \\<parallel> R, P') \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and> (P', Q' \\<parallel> Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     (P \\<parallel> R, P')\n     \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n     (P', Q' \\<parallel> Q'') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Comm2 a b Q' Q'' P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  !Q \\<longmapsto> a<b> \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a<b> \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<b> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "hence IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim P (a<b> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  !Q \\<longmapsto> a<b> \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a<b> \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<b> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa x Q'.\n           a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> P \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "by simp"], ["proof (state)\nthis:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have QTrans: \"Q \\<longmapsto>a[b] \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[b] \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 4. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto><Rel> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  P \\<leadsto><Rel> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a[b] \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a[b] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from RBangRelQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<b> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa x Q'.\n        a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a<b> \\<prec> R'\" and R'BangRelQ'': \"(R', Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<b> \\<prec> R';\n         (R', Q'') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<b> \\<prec> R'\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> (P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "hence \"P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'", "by(auto simp add: trancl_into_rtrancl dest: Weak_Early_Step_Semantics.tauTransitionChain)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "from P'RelQ' R'BangRelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'", "by(rule ParComp)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'", "show \"\\<exists>P'. (P \\<parallel> R, P') \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and> (P', Q' \\<parallel> Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<^sub>\\<tau> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     (P \\<parallel> R, P')\n     \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n     (P', Q' \\<parallel> Q'') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Close1 a x Q' Q'' P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "hence IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim P (a<\\<nu>x> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa xa Q'.\n           a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n           xa \\<sharp> P \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "by simp"], ["proof (state)\nthis:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have QTrans: \"Q \\<longmapsto> a<x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> P", "by fact+"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 3. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "hence xFreshR: \"x \\<sharp> R\" and xFreshP: \"x \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> R &&& x \\<sharp> P", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> R\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto><Rel> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  P \\<leadsto><Rel> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest: simE simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from RBangRelQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<\\<nu>x> \\<prec> Q'') \""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'.\n        a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "with xFreshR"], ["proof (chain)\npicking this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\"\n                                   and R'RelQ'': \"(R', Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>x> \\<prec> R';\n         (R', Q'') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from PTrans RTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close1)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "by(force intro: ParComp Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "show \"\\<exists>P'. (P \\<parallel> R, P') \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and> (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     (P \\<parallel> R, P')\n     \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Close2 a x Q' Q'' P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  !Q \\<longmapsto> a<x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "hence IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim P (a<x> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  !Q \\<longmapsto> a<x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa xa Q'.\n           a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n           xa \\<sharp> P \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "by simp"], ["proof (state)\nthis:\n  (?P, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> P", "by fact+"], ["proof (state)\nthis:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        \\<And>b.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))\n 2. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto><Rel> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "with QTrans xFreshP"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto><Rel> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                                          and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto><Rel> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from RBangRelQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<x> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'.\n        a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "with xFreshR"], ["proof (chain)\npicking this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a<x> \\<prec> R'\"\n                                       and R'RelQ'': \"(R', Q'') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<x> \\<prec> R';\n         (R', Q'') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from PTrans RTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close2)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "by(force intro: ParComp Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "show \"\\<exists>P'. (P \\<parallel> R, P') \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and> (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       (P \\<parallel> R, P')\n       \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     (P \\<parallel> R, P')\n     \\<in> {(P, P'). P \\<longmapsto> \\<tau> \\<prec> P'}\\<^sup>* \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          R \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "case(Bang Rs)"], ["proof (state)\nthis:\n  Q \\<parallel> !Q \\<longmapsto> Rs\n  \\<lbrakk>(?b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n   (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "hence IH: \"\\<And>P. (P, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim P Rs\""], ["proof (prove)\nusing this:\n  Q \\<parallel> !Q \\<longmapsto> Rs\n  \\<lbrakk>(?b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n   (P, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (P, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> P \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "by simp"], ["proof (state)\nthis:\n  (?P, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?P \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "have \"(P, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (P, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "proof(induct rule: BRBangCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "case(BRBang P)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "hence \"(!P, !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (!P, !Q) \\<in> bangRel Rel", "by(rule Rel.BRBang)"], ["proof (state)\nthis:\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (!P, !Q) \\<in> bangRel Rel", "have \"(P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "hence IH: \"?Sim (P \\<parallel> !P) Rs\""], ["proof (prove)\nusing this:\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel>\n            !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> !P \\<longrightarrow>\n        (\\<exists>P'.\n            !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> Rel'))", "proof(intro conjI allI impI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Rs = a<\\<nu>x> \\<prec> Q'; x \\<sharp> !P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "fix Q' a x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Rs = a<\\<nu>x> \\<prec> Q'; x \\<sharp> !P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "assume \"Rs = a<\\<nu>x> \\<prec> Q'\" and \"x \\<sharp> !P\""], ["proof (state)\nthis:\n  Rs = a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> !P\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Rs = a<\\<nu>x> \\<prec> Q'; x \\<sharp> !P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  Rs = a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> !P", "obtain P' where PTrans: \"(P \\<parallel> !P) \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                           and P'RelQ': \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Rs = a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> !P\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH"], ["proof (prove)\nusing this:\n  Rs = a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> !P\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto simp add: residual.inject)"], ["proof (state)\nthis:\n  P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Rs = a<\\<nu>x> \\<prec> Q'; x \\<sharp> !P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "have \"!P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "by(force intro: Weak_Early_Step_Semantics.Bang simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Rs = a<\\<nu>x> \\<prec> Q'; x \\<sharp> !P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "with P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "show \"\\<exists>P'. !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "fix Q' \\<alpha>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "assume \"Rs = \\<alpha> \\<prec> Q'\""], ["proof (state)\nthis:\n  Rs = \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  Rs = \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"(P \\<parallel> !P) \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\"\n                           and P'RelQ': \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Rs = \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<parallel>\n                 !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH"], ["proof (prove)\nusing this:\n  Rs = \\<alpha> \\<prec> Q'\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel>\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<parallel>\n                 !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P \\<parallel> !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Rs = \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<parallel> !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'", "show \"\\<exists>P'. !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "using P'RelQ'"], ["proof (prove)\nusing this:\n  P \\<parallel> !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: transitionCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Step"], ["proof (state)\nthis:\n  P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by fact"], ["proof (state)\nthis:\n  P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "hence \"!P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. !P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Bang)"], ["proof (state)\nthis:\n  !P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P';\n     (P', Q') \\<in> Rel'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'\n 2. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  !P \\<Longrightarrow>\\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  !P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by(force simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Stay"], ["proof (state)\nthis:\n  (P \\<parallel> !P, Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"!P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> !P", "by(simp add: weakFreeTransition_def)"], ["proof (state)\nthis:\n  !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> !P\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> !P\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "assume \"(P \\<parallel> !P, Q') \\<in> Rel'\""], ["proof (state)\nthis:\n  (P \\<parallel> !P, Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "hence \"(!P, Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P \\<parallel> !P, Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (!P, Q') \\<in> Rel'", "by(blast intro: RelStay)"], ["proof (state)\nthis:\n  (!P, Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q') \\<in> Rel' \\<Longrightarrow>\n    \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> !P\n  (!P, Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> !P\n  (!P, Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     !P \\<Longrightarrow>\\<^sup>^\\<tau> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> !P \\<longrightarrow>\n      (\\<exists>P'.\n          !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          !P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "}"], ["proof (state)\nthis:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"(!P, !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (!P, !Q) \\<in> bangRel Rel", "by(rule Rel.BRBang)"], ["proof (state)\nthis:\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (!P, !Q) \\<in> bangRel Rel", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<^sup>^\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'))\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "by(auto simp add: weakSimulation_def)"], ["proof (state)\nthis:\n  !P \\<leadsto><Rel'> !Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bangRelSim:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel'l :: \"(pi \\<times> pi) set\"\n\n  assumes PBangRelQ: \"(P, Q) \\<in> bangRel Rel\"\n  and     Sim:       \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto><Rel> S\"\n\n  and     ParComp:     \"\\<And>R S T U. \\<lbrakk>(R, S) \\<in> Rel; (T, U) \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (R \\<parallel> T, S \\<parallel> U) \\<in> Rel'\"\n  and     Res:         \"\\<And>R S x. (R, S) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel'\"\n\n  and     RelStay:        \"\\<And>R S. (R \\<parallel> !R, S) \\<in> Rel' \\<Longrightarrow> (!R, S) \\<in> Rel'\"\n  and     BangRelRel': \"(bangRel Rel) \\<subseteq> Rel'\"\n  and     eqvtRel':    \"eqvt Rel'\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"P \\<leadsto><Rel'> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel'> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel'> Q", "from PBangRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> bangRel Rel", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel'> Q", "proof(induct rule: bangRel.induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>P Q. (P, Q) \\<in> Rel \\<Longrightarrow> !P \\<leadsto><Rel'> !Q\n 2. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 3. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "case(BRBang P Q)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>P Q. (P, Q) \\<in> Rel \\<Longrightarrow> !P \\<leadsto><Rel'> !Q\n 2. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 3. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "have PRelQ: \"(P, Q) \\<in> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>P Q. (P, Q) \\<in> Rel \\<Longrightarrow> !P \\<leadsto><Rel'> !Q\n 2. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 3. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "using ParComp Res BangRelRel' eqvtRel' Eqvt RelStay Sim"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  \\<lbrakk>(?R, ?S) \\<in> Rel; (?T, ?U) \\<in> Rel'\\<rbrakk>\n  \\<Longrightarrow> (?R \\<parallel> ?T, ?S \\<parallel> ?U) \\<in> Rel'\n  (?R, ?S) \\<in> Rel' \\<Longrightarrow>\n  (<\\<nu>?x>?R, <\\<nu>?x>?S) \\<in> Rel'\n  bangRel Rel \\<subseteq> Rel'\n  eqvt Rel'\n  eqvt Rel\n  (?R \\<parallel> !?R, ?S) \\<in> Rel' \\<Longrightarrow> (!?R, ?S) \\<in> Rel'\n  (?R, ?S) \\<in> Rel \\<Longrightarrow> ?R \\<leadsto><Rel> ?S\n\ngoal (1 subgoal):\n 1. !P \\<leadsto><Rel'> !Q", "by(rule_tac bangPres)"], ["proof (state)\nthis:\n  !P \\<leadsto><Rel'> !Q\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "case(BRPar P Q R T)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, T) \\<in> bangRel Rel\n  R \\<leadsto><Rel'> T\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "have \"(P, Q) \\<in> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "moreover"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "hence \"P \\<leadsto><Rel> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "moreover"], ["proof (state)\nthis:\n  P \\<leadsto><Rel> Q\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "have \"R \\<leadsto><Rel'> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R \\<leadsto><Rel'> T", "by fact"], ["proof (state)\nthis:\n  R \\<leadsto><Rel'> T\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "moreover"], ["proof (state)\nthis:\n  R \\<leadsto><Rel'> T\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "have \"(R, T) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (R, T) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (R, T) \\<in> bangRel Rel\n\ngoal (2 subgoals):\n 1. \\<And>R T P Q.\n       \\<lbrakk>(R, T) \\<in> Rel; (P, Q) \\<in> bangRel Rel;\n        P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> R \\<parallel> P \\<leadsto><Rel'> T \\<parallel> Q\n 2. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "ultimately"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  P \\<leadsto><Rel> Q\n  R \\<leadsto><Rel'> T\n  (R, T) \\<in> bangRel Rel", "show ?case"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  P \\<leadsto><Rel> Q\n  R \\<leadsto><Rel'> T\n  (R, T) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> T", "using ParComp eqvtRel' Res Eqvt BangRelRel'"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  P \\<leadsto><Rel> Q\n  R \\<leadsto><Rel'> T\n  (R, T) \\<in> bangRel Rel\n  \\<lbrakk>(?R, ?S) \\<in> Rel; (?T, ?U) \\<in> Rel'\\<rbrakk>\n  \\<Longrightarrow> (?R \\<parallel> ?T, ?S \\<parallel> ?U) \\<in> Rel'\n  eqvt Rel'\n  (?R, ?S) \\<in> Rel' \\<Longrightarrow>\n  (<\\<nu>?x>?R, <\\<nu>?x>?S) \\<in> Rel'\n  eqvt Rel\n  bangRel Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> T", "by(blast intro: parCompose)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<leadsto><Rel'> Q \\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "case(BRRes P Q x)"], ["proof (state)\nthis:\n  (P, Q) \\<in> bangRel Rel\n  P \\<leadsto><Rel'> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "have \"P \\<leadsto><Rel'> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<leadsto><Rel'> Q", "by fact"], ["proof (state)\nthis:\n  P \\<leadsto><Rel'> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q a.\n       \\<lbrakk>(P, Q) \\<in> bangRel Rel; P \\<leadsto><Rel'> Q\\<rbrakk>\n       \\<Longrightarrow> <\\<nu>a>P \\<leadsto><Rel'> <\\<nu>a>Q", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel'> Q\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q", "using BangRelRel' eqvtRel' Res"], ["proof (prove)\nusing this:\n  P \\<leadsto><Rel'> Q\n  bangRel Rel \\<subseteq> Rel'\n  eqvt Rel'\n  (?R, ?S) \\<in> Rel' \\<Longrightarrow>\n  (<\\<nu>?x>?R, <\\<nu>?x>?S) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q", "by(blast intro: resPres)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<leadsto><Rel'> <\\<nu>x>Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<leadsto><Rel'> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}