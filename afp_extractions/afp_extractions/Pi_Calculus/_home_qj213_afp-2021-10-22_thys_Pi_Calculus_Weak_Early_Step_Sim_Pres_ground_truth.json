{"file_name": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus/Weak_Early_Step_Sim_Pres.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus", "problem_names": ["lemma tauPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"\\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.(Q)\"", "lemma inputPres:\n  fixes P    :: pi\n  and   x    :: name\n  and   Q    :: pi\n  and   a    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"\\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"a<x>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> a<x>.Q\"", "lemma outputPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"a{b}.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> a{b}.Q\"", "lemma matchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n\n  shows \"[a\\<frown>b]P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> [a\\<frown>b]Q\"", "lemma mismatchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n\n  shows \"[a\\<noteq>b]P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> [a\\<noteq>b]Q\"", "lemma sumPres:\n  fixes P :: pi\n  and   Q :: pi\n  and   R :: pi\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     C: \"Id \\<subseteq> Rel'\"\n\n  shows \"P \\<oplus> R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<oplus> R\"", "lemma parPres:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   T     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n  and   Rel'' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Par:      \"\\<And>S T U. (S, T) \\<in> Rel \\<Longrightarrow> (S \\<parallel> U, T \\<parallel> U) \\<in> Rel'\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel'\"\n\n  shows \"P \\<parallel> R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<parallel> R\"", "lemma resPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   x    :: name\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     C1: \"\\<And>R S x. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel'\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     EqvtRel: \"eqvt Rel\"\n  and     EqvtRel': \"eqvt Rel'\"\n\n  shows \"<\\<nu>x>P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> <\\<nu>x>Q\"", "lemma resChainI:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   lst :: \"name list\"\n\n  assumes eqvtRel: \"eqvt Rel\"\n  and     Res:     \"\\<And>R S x. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel\"\n  and     PRelQ:   \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n\n  shows \"(resChain lst) P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> (resChain lst) Q\"", "lemma bangPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n \n  assumes PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Sim:      \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> S\"\n  and     C1:       \"Rel \\<subseteq> Rel'\"\n  and     eqvtRel:  \"eqvt Rel'\"\n\n  shows \"!P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q\""], "translations": [["", "lemma tauPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"\\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.(Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Bound a x Q')"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> \\<tau>.P\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"\\<tau>.(Q) \\<longmapsto>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "hence False"], ["proof (prove)\nusing this:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. False", "by(induct rule: tauCases', auto)"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"\\<tau>.(Q) \\<longmapsto>(\\<alpha> \\<prec> Q')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "proof(induct rule: tauCases', auto simp add: pi.inject residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q; \\<alpha> = \\<tau>;\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "have \"\\<tau>.(P) \\<Longrightarrow> \\<tau> \\<prec> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P", "by(rule Weak_Early_Step_Semantics.Tau)"], ["proof (state)\nthis:\n  \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q; \\<alpha> = \\<tau>;\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P", "show \"\\<exists>P'. \\<tau>.(P) \\<Longrightarrow> \\<tau> \\<prec> P' \\<and> (P', Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P' \\<and> (P', Q) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<Longrightarrow>\\<tau> \\<prec> P' \\<and> (P', Q) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma inputPres:\n  fixes P    :: pi\n  and   x    :: name\n  and   Q    :: pi\n  and   a    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"\\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"a<x>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> a<x>.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a<x>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> a<x>.Q", "using Eqvt"], ["proof (prove)\nusing this:\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. a<x>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> a<x>.Q", "proof(induct rule: simCasesCont[where C=\"(x, a, P, Q)\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa xa Q'.\n       \\<lbrakk>xa \\<sharp> (x, a, P, Q);\n        a<x>.Q \\<longmapsto> aa<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Bound b y Q')"], ["proof (state)\nthis:\n  y \\<sharp> (x, a, P, Q)\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>aa xa Q'.\n       \\<lbrakk>xa \\<sharp> (x, a, P, Q);\n        a<x>.Q \\<longmapsto> aa<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "from \\<open>y \\<sharp> (x, a, P, Q)\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> (x, a, P, Q)", "have \"y \\<noteq> x\" \"y \\<noteq> a\" \"y \\<sharp> P\" \"y \\<sharp> Q\""], ["proof (prove)\nusing this:\n  y \\<sharp> (x, a, P, Q)\n\ngoal (1 subgoal):\n 1. (y \\<noteq> x &&& y \\<noteq> a) &&& y \\<sharp> P &&& y \\<sharp> Q", "by simp+"], ["proof (state)\nthis:\n  y \\<noteq> x\n  y \\<noteq> a\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (2 subgoals):\n 1. \\<And>aa xa Q'.\n       \\<lbrakk>xa \\<sharp> (x, a, P, Q);\n        a<x>.Q \\<longmapsto> aa<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "from \\<open>a<x>.Q \\<longmapsto>b<\\<nu>y> \\<prec> Q'\\<close> \\<open>y \\<noteq> a\\<close> \\<open>y \\<noteq> x\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> Q", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<Longrightarrow>b<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "by(erule_tac inputCases') auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<Longrightarrow>b<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "from \\<open>a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "proof(induct rule: inputCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "case(cInput u)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "have \"a<x>.P \\<Longrightarrow>(a<u>) \\<prec> (P[x::=u])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a<x>.P \\<Longrightarrow>a<u> \\<prec> P[x::=u]", "by(rule Weak_Early_Step_Semantics.Input)"], ["proof (state)\nthis:\n  a<x>.P \\<Longrightarrow>a<u> \\<prec> P[x::=u]\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  a<x>.P \\<Longrightarrow>a<u> \\<prec> P[x::=u]\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  \\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel", "have \"(P[x::=u], Q[x::=u]) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P[x::=u], Q[x::=u]) \\<in> Rel", "by auto"], ["proof (state)\nthis:\n  (P[x::=u], Q[x::=u]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<Longrightarrow>a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  a<x>.P \\<Longrightarrow>a<u> \\<prec> P[x::=u]\n  (P[x::=u], Q[x::=u]) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.P \\<Longrightarrow>a<u> \\<prec> P[x::=u]\n  (P[x::=u], Q[x::=u]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<Longrightarrow>a<u> \\<prec> P' \\<and>\n       (P', Q[x::=u]) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<Longrightarrow>a<u> \\<prec> P' \\<and> (P', Q[x::=u]) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma outputPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"a{b}.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> a{b}.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> a{b}.Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Bound c x Q')"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  x \\<sharp> a{b}.P\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"a{b}.Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "hence False"], ["proof (prove)\nusing this:\n  a{b}.Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. False", "by(induct rule: outputCases', auto)"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"a{b}.Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus \"\\<exists>P'. a{b}.P \\<Longrightarrow> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "proof(induct rule: outputCases', auto simp add: pi.inject residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a{b}.Q \\<longmapsto> a[b] \\<prec> Q; \\<alpha> = a[b];\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         a{b}.P \\<Longrightarrow>a[b] \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "have \"a{b}.P \\<Longrightarrow> a[b] \\<prec> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.P \\<Longrightarrow>a[b] \\<prec> P", "by(rule Weak_Early_Step_Semantics.Output)"], ["proof (state)\nthis:\n  a{b}.P \\<Longrightarrow>a[b] \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a{b}.Q \\<longmapsto> a[b] \\<prec> Q; \\<alpha> = a[b];\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         a{b}.P \\<Longrightarrow>a[b] \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  a{b}.P \\<Longrightarrow>a[b] \\<prec> P", "show \"\\<exists>P'. a{b}.P \\<Longrightarrow> a[b] \\<prec> P' \\<and> (P', Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  a{b}.P \\<Longrightarrow>a[b] \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<Longrightarrow>a[b] \\<prec> P' \\<and> (P', Q) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<Longrightarrow>a[b] \\<prec> P' \\<and> (P', Q) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n\n  shows \"[a\\<frown>b]P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> [a\\<frown>b]Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> [a\\<frown>b]Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound c x Q')"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  x \\<sharp> [a\\<frown>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"x \\<sharp> [a\\<frown>b]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> [a\\<frown>b]P", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> [a\\<frown>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence xFreshP: \"(x::name) \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> [a\\<frown>b]P\n\ngoal (1 subgoal):\n 1. x \\<sharp> P", "by simp"], ["proof (state)\nthis:\n  x \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<frown>b]Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: matchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Match"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with PSimQ xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\"\n                                   and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>c<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'", "have \"[a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Match)"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<frown>b]Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: matchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Match"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>\\<alpha> \\<prec> P'\" and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'", "have \"[a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Match)"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with RelRel' PRel"], ["proof (chain)\npicking this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mismatchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n\n  shows \"[a\\<noteq>b]P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> [a\\<noteq>b]Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> [a\\<noteq>b]Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound c x Q')"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"x \\<sharp> [a\\<noteq>b]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> [a\\<noteq>b]P", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence xFreshP: \"(x::name) \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (1 subgoal):\n 1. x \\<sharp> P", "by simp"], ["proof (state)\nthis:\n  x \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<noteq>b]Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>aa x Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>x> \\<prec> Q';\n        x \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: mismatchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "case Mismatch"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have aineqb: \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by fact"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with PSimQ xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\"\n                                   and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>c<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from PTrans aineqb"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  a \\<noteq> b", "have \"[a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Mismatch)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<noteq>b]Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: mismatchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "case Mismatch"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>\\<alpha> \\<prec> P'\" and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from PTrans \\<open>a \\<noteq> b\\<close>"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  a \\<noteq> b", "have \"[a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Mismatch)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with RelRel' PRel"], ["proof (chain)\npicking this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sumPres:\n  fixes P :: pi\n  and   Q :: pi\n  and   R :: pi\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     C: \"Id \\<subseteq> Rel'\"\n\n  shows \"P \\<oplus> R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<oplus> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<oplus>\n    R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<oplus> R", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound a x Q')"], ["proof (state)\nthis:\n  Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P \\<oplus> R\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"x \\<sharp> P \\<oplus> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<oplus> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<oplus> R\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence xFreshP: \"(x::name) \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<oplus> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"Q \\<oplus> R \\<longmapsto>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum1"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with xFreshP PSimQ"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "have \"P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Sum1)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum2"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from \\<open>R \\<longmapsto>a<\\<nu>x> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "have \"P \\<oplus> R \\<longmapsto>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by(rule Early_Semantics.Sum2)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "hence \"P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> Q'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from C"], ["proof (chain)\npicking this:\n  Id \\<subseteq> Rel'", "have \"(Q', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Id \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (Q', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>x> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> Q'\n  (Q', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> Q'\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"Q \\<oplus> R \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum1"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>\\<alpha> \\<prec> P'\" and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'", "have \"P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Sum1)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with RelRel' PRel"], ["proof (chain)\npicking this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum2"], ["proof (state)\nthis:\n  R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from \\<open>R \\<longmapsto>\\<alpha> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  R \\<longmapsto> \\<alpha> \\<prec> Q'", "have \"P \\<oplus> R \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'", "by(rule Early_Semantics.Sum2)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "hence \"P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> Q'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from C"], ["proof (chain)\npicking this:\n  Id \\<subseteq> Rel'", "have \"(Q', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Id \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (Q', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> Q'\n  (Q', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> Q'\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma parPres:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   T     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n  and   Rel'' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Par:      \"\\<And>S T U. (S, T) \\<in> Rel \\<Longrightarrow> (S \\<parallel> U, T \\<parallel> U) \\<in> Rel'\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel'\"\n\n  shows \"P \\<parallel> R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<parallel> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<parallel> R", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<parallel> R", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound a x Q')"], ["proof (state)\nthis:\n  Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"Q \\<parallel> R \\<longmapsto>a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a x Q'.\n       \\<lbrakk>Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q';\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: parCasesB)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "case(cPar1 Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "from xFreshP PSimQ QTrans"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans:\"P \\<Longrightarrow> a<\\<nu>x> \\<prec> P'\"\n                                            and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "from PTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Step_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"(P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> R) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> R) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "case(cPar2 R')"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "from \\<open>R \\<longmapsto> a<\\<nu>x> \\<prec> R'\\<close> \\<open>x \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<longmapsto>a<\\<nu>x> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')", "by(rule Early_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "hence \"P \\<parallel> R \\<Longrightarrow> a<\\<nu>x> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"(P \\<parallel> R', Q \\<parallel>  R') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'", "by(rule Par)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q \\<parallel> R') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q \\<parallel> R') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> QR')"], ["proof (state)\nthis:\n  Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> QR'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> QR'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> QR'", "by fact"], ["proof (state)\nthis:\n  Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> QR'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> QR'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', QR') \\<in> Rel'", "proof(induct rule: parCasesF[of _ _ _ _ _ \"(P, R)\"])"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "case(cPar1 Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow> \\<alpha> \\<prec> P'\" and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'", "have Trans: \"P \\<parallel> R \\<Longrightarrow> \\<alpha> \\<prec> P' \\<parallel> R\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Step_Semantics.Par1F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from PRel"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"(P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'", "by(blast intro: Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> R) \\<in> Rel'\n 2. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> R) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> R) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> R) \\<in> Rel'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "case(cPar2 R')"], ["proof (state)\nthis:\n  R \\<longmapsto> \\<alpha> \\<prec> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from \\<open>R \\<longmapsto>\\<alpha> \\<prec> R'\\<close>"], ["proof (chain)\npicking this:\n  R \\<longmapsto> \\<alpha> \\<prec> R'", "have \"P \\<parallel> R \\<longmapsto>\\<alpha> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> \\<alpha> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'", "by(rule Early_Semantics.Par2F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "hence \"P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"(P \\<parallel> R', Q \\<parallel>  R') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'", "by(rule Par)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> R') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> R') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q \\<parallel> R') \\<in> Rel'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "case(cComm1 Q' R' a b)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  R \\<longmapsto> a[b] \\<prec> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "have QTrans: \"Q \\<longmapsto> a<b> \\<prec> Q'\" and RTrans: \"R \\<longmapsto> a[b] \\<prec> R'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<b> \\<prec> Q' &&& R \\<longmapsto> a[b] \\<prec> R'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  R \\<longmapsto> a[b] \\<prec> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<b> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a<b> \\<prec> P'\"\n                                    and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<b> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<b> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a[b] \\<prec> R'", "have \"R \\<Longrightarrow>a[b] \\<prec> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a[b] \\<prec> R'\n\ngoal (1 subgoal):\n 1. R \\<Longrightarrow>a[b] \\<prec> R'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a[b] \\<prec> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "with PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow> \\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"(P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        R \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> R') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> R') \\<in> Rel'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "case(cComm2 Q' R' a b)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  R \\<longmapsto> a<b> \\<prec> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a[b] \\<prec> Q'\" and RTrans: \"R \\<longmapsto>a<b> \\<prec> R'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[b] \\<prec> Q' &&& R \\<longmapsto> a<b> \\<prec> R'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  R \\<longmapsto> a<b> \\<prec> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a[b] \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a[b] \\<prec> P'\"\n                                    and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a[b] \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a[b] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<b> \\<prec> R'", "have \"R \\<Longrightarrow>a<b> \\<prec> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<b> \\<prec> R'\n\ngoal (1 subgoal):\n 1. R \\<Longrightarrow>a<b> \\<prec> R'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<b> \\<prec> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "with PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow> \\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"(P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        R \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> R') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> R') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> R') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "case(cClose1 Q' R' a x)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> Q\n  x \\<sharp> (P, R)\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a<x> \\<prec> Q'\" and RTrans: \"R \\<longmapsto>a<\\<nu>x> \\<prec> R'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<x> \\<prec> Q' &&& R \\<longmapsto> a<\\<nu>x> \\<prec> R'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "have \"x \\<sharp> (P, R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> (P, R)", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> (P, R)\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by(simp add: fresh_prod)+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a<x> \\<prec> P'\"\n                                    and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'", "have \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n\ngoal (1 subgoal):\n 1. R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "with PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'", "have Trans: \"P \\<parallel> R \\<Longrightarrow> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "using \\<open>x \\<sharp> P\\<close>"], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close1)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'", "by(blast intro: Par Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        R \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "case(cClose2 Q' R' a x)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  R \\<longmapsto> a<x> \\<prec> R'\n  x \\<sharp> R\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a<\\<nu>x> \\<prec> Q'\" and RTrans: \"R \\<longmapsto>a<x> \\<prec> R'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q' &&& R \\<longmapsto> a<x> \\<prec> R'", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  R \\<longmapsto> a<x> \\<prec> R'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "have \"x \\<sharp> (P, R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> (P, R)", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "hence xFreshR: \"x \\<sharp> R\" and xFreshP: \"x \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. x \\<sharp> R &&& x \\<sharp> P", "by(simp add: fresh_prod)+"], ["proof (state)\nthis:\n  x \\<sharp> R\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from PSimQ QTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                                            and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<x> \\<prec> R'", "have \"R \\<Longrightarrow>a<x> \\<prec> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<x> \\<prec> R'\n\ngoal (1 subgoal):\n 1. R \\<Longrightarrow>a<x> \\<prec> R'", "by(rule Weak_Early_Step_Semantics.singleActionChain)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<x> \\<prec> R'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "with PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'", "have Trans: \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "using \\<open>x \\<sharp> R\\<close>"], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close2)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'", "by(blast intro: Par Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        R \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> R;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<Longrightarrow>\\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> R')) \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', QR') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   x    :: name\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n  and     C1: \"\\<And>R S x. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel'\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     EqvtRel: \"eqvt Rel\"\n  and     EqvtRel': \"eqvt Rel'\"\n\n  shows \"<\\<nu>x>P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> <\\<nu>x>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> <\\<nu>x>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> <\\<nu>x>Q", "from EqvtRel'"], ["proof (chain)\npicking this:\n  eqvt Rel'", "show ?thesis"], ["proof (prove)\nusing this:\n  eqvt Rel'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> <\\<nu>x>Q", "proof(induct rule: simCasesCont[of _ \"(P, x)\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk>xa \\<sharp> (P, x);\n        <\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound a y Q')"], ["proof (state)\nthis:\n  y \\<sharp> (P, x)\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk>xa \\<sharp> (P, x);\n        <\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have Trans: \"<\\<nu>x>Q \\<longmapsto>a<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk>xa \\<sharp> (P, x);\n        <\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"y \\<sharp> (P, x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sharp> (P, x)", "by fact"], ["proof (state)\nthis:\n  y \\<sharp> (P, x)\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk>xa \\<sharp> (P, x);\n        <\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence yineqx: \"y \\<noteq> x\" and yFreshP: \"y \\<sharp> P\""], ["proof (prove)\nusing this:\n  y \\<sharp> (P, x)\n\ngoal (1 subgoal):\n 1. y \\<noteq> x &&& y \\<sharp> P", "by(simp add: fresh_prod)+"], ["proof (state)\nthis:\n  y \\<noteq> x\n  y \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>a xa Q'.\n       \\<lbrakk>xa \\<sharp> (P, x);\n        <\\<nu>x>Q \\<longmapsto> a<\\<nu>xa> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from Trans yineqx"], ["proof (chain)\npicking this:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<noteq> x", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: resCasesB)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "case(Open Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[x] \\<prec> Q'\n  a \\<noteq> x\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a[x] \\<prec> Q'\" and aineqx: \"a \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[x] \\<prec> Q' &&& a \\<noteq> x", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[x] \\<prec> Q'\n  a \\<noteq> x\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PSimQ QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a[x] \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a[x] \\<prec> P'\"\n                                    and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  Q \\<longmapsto> a[x] \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a[x] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a[x] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PTrans aineqx"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a[x] \\<prec> P'\n  a \\<noteq> x", "have \"<\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a[x] \\<prec> P'\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'", "by(rule Weak_Early_Step_Semantics.Open)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "hence \"<\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\""], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'", "using \\<open>y \\<sharp> P\\<close> \\<open>y \\<noteq> x\\<close>"], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  y \\<sharp> P\n  y \\<noteq> x\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'", "by(force simp add: weakTransitionAlpha abs_fresh name_swap)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from EqvtRel P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  eqvt Rel\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  eqvt Rel\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "by(blast intro: eqvtRelI)"], ["proof (state)\nthis:\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> [(y, x)] \\<bullet> P'\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "case(Res Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a<\\<nu>y> \\<prec> Q'\" and xineqa: \"x \\<noteq> a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' &&& x \\<noteq> a", "by fact+"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PSimQ yFreshP QTrans"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\"\n                                            and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from PTrans xineqa yineqx yFreshP"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  x \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> P", "have ResTrans: \"<\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> (<\\<nu>x>P')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  x \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'", "by(blast intro: Weak_Early_Step_Semantics.ResB)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"((<\\<nu>x>P'), (<\\<nu>x>Q')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'", "by(rule C1)"], ["proof (state)\nthis:\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> <\\<nu>x>P'\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', <\\<nu>x>Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have QTrans: \"<\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"\\<exists>c::name. c \\<sharp> (P, Q, Q', \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)", "by(blast intro: name_exists_fresh)"], ["proof (state)\nthis:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)", "obtain c::name where cFreshQ: \"c \\<sharp> Q\" and cFreshAlpha: \"c \\<sharp> \\<alpha>\" and cFreshQ': \"c \\<sharp> Q'\" and cFreshP: \"c \\<sharp> P\""], ["proof (prove)\nusing this:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>c \\<sharp> Q; c \\<sharp> \\<alpha>; c \\<sharp> Q';\n         c \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(force simp add: fresh_prod)"], ["proof (state)\nthis:\n  c \\<sharp> Q\n  c \\<sharp> \\<alpha>\n  c \\<sharp> Q'\n  c \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from cFreshP"], ["proof (chain)\npicking this:\n  c \\<sharp> P", "have \"<\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  c \\<sharp> P\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)", "by(simp add: alphaRes)"], ["proof (state)\nthis:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"\\<exists>P'.<\\<nu>c>([(x, c)] \\<bullet> P) \\<Longrightarrow> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from QTrans cFreshQ"], ["proof (chain)\npicking this:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> Q", "have \"<\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> Q\n\ngoal (1 subgoal):\n 1. <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'", "by(simp add: alphaRes)"], ["proof (state)\nthis:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"c \\<sharp> \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<sharp> \\<alpha>", "by(rule cFreshAlpha)"], ["proof (state)\nthis:\n  c \\<sharp> \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  c \\<sharp> \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PSimQ EqvtRel"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  eqvt Rel", "have \"([(x, c)] \\<bullet> P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> ([(x, c)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. [(x, c)] \\<bullet>\n    P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> [(x, c)] \\<bullet> Q", "by(blast intro: eqvtI)"], ["proof (state)\nthis:\n  [(x, c)] \\<bullet>\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> [(x, c)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> \\<alpha>\n  [(x, c)] \\<bullet>\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> [(x, c)] \\<bullet> Q", "show ?thesis"], ["proof (prove)\nusing this:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> \\<alpha>\n  [(x, c)] \\<bullet>\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> [(x, c)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "apply(induct rule: resCasesF, auto simp add: residual.inject pi.inject name_abs_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>[(x, c)] \\<bullet> Q \\<longmapsto> \\<alpha> \\<prec> P';\n        <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q';\n        c \\<sharp> \\<alpha>;\n        [(x, c)] \\<bullet>\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> [(x, c)] \\<bullet>\n                   Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>c>([(x, c)] \\<bullet>\n                                     P) \\<Longrightarrow>\\<alpha> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>c>P') \\<in> Rel'", "by(blast intro: Weak_Early_Step_Semantics.ResF C1 dest: simE)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet>\n              P) \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by force"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> <\\<nu>x>Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resChainI:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   lst :: \"name list\"\n\n  assumes eqvtRel: \"eqvt Rel\"\n  and     Res:     \"\\<And>R S x. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel\"\n  and     PRelQ:   \"P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"\n\n  shows \"(resChain lst) P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> (resChain lst) Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resChain lst\n     P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. resChain lst\n     P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. resChain lst\n     P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q", "proof(induct lst)"], ["proof (state)\ngoal (2 subgoals):\n 1. resChain []\n     P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain [] Q\n 2. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "(* Base case *)"], ["proof (state)\ngoal (2 subgoals):\n 1. resChain []\n     P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain [] Q\n 2. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "from PRelQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q", "show \"resChain [] P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain [] Q\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. resChain []\n     P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain [] Q", "by simp"], ["proof (state)\nthis:\n  resChain [] P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain [] Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "(* Inductive step *)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "fix a lst"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "assume IH: \"(resChain lst P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> (resChain lst Q)\""], ["proof (state)\nthis:\n  resChain lst\n   P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "moreover"], ["proof (state)\nthis:\n  resChain lst\n   P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "from Res"], ["proof (chain)\npicking this:\n  (?R, ?S) \\<in> Rel \\<Longrightarrow> (<\\<nu>?x>?R, <\\<nu>?x>?S) \\<in> Rel", "have \"\\<And>P Q a. (P, Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>a>P, <\\<nu>a>Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (?R, ?S) \\<in> Rel \\<Longrightarrow> (<\\<nu>?x>?R, <\\<nu>?x>?S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q a.\n       (P, Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>a>P, <\\<nu>a>Q) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "moreover"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "have \"Rel \\<subseteq> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Rel \\<subseteq> Rel", "by simp"], ["proof (state)\nthis:\n  Rel \\<subseteq> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "ultimately"], ["proof (chain)\npicking this:\n  resChain lst\n   P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel", "have \"<\\<nu>a>(resChain lst P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> <\\<nu>a>(resChain lst Q)\""], ["proof (prove)\nusing this:\n  resChain lst\n   P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel\n\ngoal (1 subgoal):\n 1. <\\<nu>a>resChain lst\n             P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> <\\<nu>a>resChain\n                                 lst Q", "using eqvtRel"], ["proof (prove)\nusing this:\n  resChain lst\n   P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. <\\<nu>a>resChain lst\n             P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> <\\<nu>a>resChain\n                                 lst Q", "by(rule_tac resPres)"], ["proof (state)\nthis:\n  <\\<nu>a>resChain lst\n           P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> <\\<nu>a>resChain\n                               lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst\n                    Q \\<Longrightarrow>\n       resChain (a # lst)\n        P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst)\n                    Q", "thus \"resChain (a # lst) P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst) Q\""], ["proof (prove)\nusing this:\n  <\\<nu>a>resChain lst\n           P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> <\\<nu>a>resChain\n                               lst Q\n\ngoal (1 subgoal):\n 1. resChain (a # lst)\n     P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst) Q", "by simp"], ["proof (state)\nthis:\n  resChain (a # lst)\n   P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain (a # lst) Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  resChain lst\n   P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> resChain lst Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bangPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n \n  assumes PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Sim:      \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> S\"\n  and     C1:       \"Rel \\<subseteq> Rel'\"\n  and     eqvtRel:  \"eqvt Rel'\"\n\n  shows \"!P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "let ?Sim = \"\\<lambda>P Rs. (\\<forall>a x Q'. Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow> x \\<sharp> P \\<longrightarrow> (\\<exists>P'. P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> bangRel Rel')) \\<and>\n                     (\\<forall>\\<alpha> Q'. Rs = \\<alpha> \\<prec> Q' \\<longrightarrow> (\\<exists>P'. P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> bangRel Rel'))\""], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "from eqvtRel"], ["proof (chain)\npicking this:\n  eqvt Rel'", "have EqvtBangRel: \"eqvt(bangRel Rel')\""], ["proof (prove)\nusing this:\n  eqvt Rel'\n\ngoal (1 subgoal):\n 1. eqvt (bangRel Rel')", "by(rule eqvtBangRel)"], ["proof (state)\nthis:\n  eqvt (bangRel Rel')\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "from C1"], ["proof (chain)\npicking this:\n  Rel \\<subseteq> Rel'", "have BRelRel': \"\\<And>P Q. (P, Q) \\<in> bangRel Rel \\<Longrightarrow> (P, Q) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q) \\<in> bangRel Rel \\<Longrightarrow> (P, Q) \\<in> bangRel Rel'", "by(auto intro: bangRelSubset)"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "{"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "fix Pa Rs"], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "assume \"!Q \\<longmapsto> Rs\" and \"(Pa, !Q) \\<in> bangRel Rel\""], ["proof (state)\nthis:\n  !Q \\<longmapsto> Rs\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "hence \"?Sim Pa Rs\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> Rs\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel'))", "using PRelQ"], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> Rs\n  (Pa, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel'))", "proof(nominal_induct avoiding: Pa P rule: bangInduct)"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Par1B a x Q' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> Pa", "by fact+"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus \"?Sim Pa (a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q))\""], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (R, !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject alpha')"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "with QTrans xFreshP"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "from PTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R", "by(force intro: Weak_Early_Step_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "from P'RelQ' PBRQ BRelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  (R, !Q) \\<in> bangRel Rel\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'", "have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  (R, !Q) \\<in> bangRel Rel\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'", "by(blast intro: Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "assume \"(y::name) \\<sharp> Q'\" and \"y \\<sharp> P\" and \"y \\<sharp> R\" and \"y \\<sharp> Q\""], ["proof (state)\nthis:\n  y \\<sharp> Q'\n  y \\<sharp> P\n  y \\<sharp> R\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "from QTrans \\<open>y \\<sharp> Q'\\<close>"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  y \\<sharp> Q'", "have \"Q \\<longmapsto>a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  y \\<sharp> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')", "by(simp add: alphaBoundOutput)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\" and P'RelQ': \"(P', [(x, y)] \\<bullet> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P';\n         (P', [(x, y)] \\<bullet> Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>y \\<sharp> P\\<close>"], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>y> \\<prec> P';\n         (P', [(x, y)] \\<bullet> Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "from PTrans \\<open>y \\<sharp> R\\<close>"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  y \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>y> \\<prec> P'\n  y \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R", "by(force intro: Weak_Early_Step_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "from P'RelQ' PBRQ BRelRel'"], ["proof (chain)\npicking this:\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel'\n  (R, !Q) \\<in> bangRel Rel\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'", "have \"(P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel'\n  (R, !Q) \\<in> bangRel Rel\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n    \\<in> bangRel Rel'", "by(metis Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "with \\<open>x \\<sharp> Q\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> Q\n  y \\<sharp> Q\n  (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n  \\<in> bangRel Rel'", "have \"(P' \\<parallel> R, ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q)) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  x \\<sharp> Q\n  y \\<sharp> Q\n  (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R,\n     ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n    \\<in> bangRel Rel'", "by(simp add: name_fresh_fresh name_swap)"], ["proof (state)\nthis:\n  (P' \\<parallel> R,\n   ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R,\n   ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n  \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and> (P', ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q)) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R,\n   ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n       \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n     \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Par1F \\<alpha> Q' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have QTrans: \"Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and BR: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>\\<alpha> \\<prec> P'\" and RRel: \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>\\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'", "have \"P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>\\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R", "by(rule Weak_Early_Step_Semantics.Par1F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "from RRel BR BRelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  (R, !Q) \\<in> bangRel Rel\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'", "have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  (R, !Q) \\<in> bangRel Rel\n  (?P, ?Q) \\<in> bangRel Rel \\<Longrightarrow> (?P, ?Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'", "by(metis Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> !Q) \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Par2B a x Q' Pa P)"], ["proof (state)\nthis:\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa xa Q'a.\n           a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n           xa \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'a.\n           a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> Pa", "by fact+"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus \"?Sim Pa (a<\\<nu>x> \\<prec> (Q \\<parallel> Q'))\""], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "from EqvtBangRel"], ["proof (chain)\npicking this:\n  eqvt (bangRel Rel')", "show \"?Sim (P \\<parallel> R) (a<\\<nu>x> \\<prec> (Q \\<parallel> Q'))\""], ["proof (prove)\nusing this:\n  eqvt (bangRel Rel')\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject alpha')"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel'); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "from RBRQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel'); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "with xFreshR"], ["proof (chain)\npicking this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\" and R'BRQ': \"(R', Q') \\<in> (bangRel Rel')\""], ["proof (prove)\nusing this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>x> \\<prec> R';\n         (R', Q') \\<in> bangRel Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  (R', Q') \\<in> bangRel Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel'); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "from RTrans xFreshP"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'", "by(auto intro: Weak_Early_Step_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel'); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel'); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "from PRelQ R'BRQ' C1"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel'\n  Rel \\<subseteq> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> (bangRel Rel')\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel'\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'", "by(blast dest: Rel.BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel'); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q \\<parallel> Q') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "assume \"(y::name) \\<sharp> Q\" and \"y \\<sharp> Q'\" and \"y \\<sharp> P\" and \"y \\<sharp> R\""], ["proof (state)\nthis:\n  y \\<sharp> Q\n  y \\<sharp> Q'\n  y \\<sharp> P\n  y \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "from RBRQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "with \\<open>y \\<sharp> Q'\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Q'\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))", "have \"?Sim R (a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q'))\""], ["proof (prove)\nusing this:\n  y \\<sharp> Q'\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "by(simp add: alphaBoundOutput)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "with \\<open>y \\<sharp> R\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))", "obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\" and R'BRQ': \"(R', ([(x, y)] \\<bullet> Q')) \\<in> (bangRel Rel')\""], ["proof (prove)\nusing this:\n  y \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>y> \\<prec> R';\n         (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis simE)"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\n  (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "from RTrans \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\n  y \\<sharp> P", "have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>a<\\<nu>y> \\<prec> R'\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'", "by(auto intro: Weak_Early_Step_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "from PRelQ R'BRQ' C1"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel'\n  Rel \\<subseteq> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q')) \\<in> (bangRel Rel')\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel'\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n    \\<in> bangRel Rel'", "by(blast dest: Rel.BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "with \\<open>y \\<sharp> Q\\<close> \\<open>x \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Q\n  x \\<sharp> Q\n  (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n  \\<in> bangRel Rel'", "have \"(P \\<parallel> R', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> (bangRel Rel')\""], ["proof (prove)\nusing this:\n  y \\<sharp> Q\n  x \\<sharp> Q\n  (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R',\n     ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n    \\<in> bangRel Rel'", "by(simp add: name_swap name_fresh_fresh)"], ["proof (state)\nthis:\n  (P \\<parallel> R',\n   ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel'); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R',\n   ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n  \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and> (P', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R',\n   ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n       (P', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n       \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>a<\\<nu>y> \\<prec> P' \\<and>\n     (P', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n     \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Par2F \\<alpha> Q' Pa P)"], ["proof (state)\nthis:\n  !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha>' Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (\\<alpha> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha>' Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>a x Q'a.\n           \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha>' Q'a.\n           \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "from RBRQ IH"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))", "have \"\\<exists>R'. R \\<Longrightarrow>\\<alpha> \\<prec> R' \\<and> (R', Q') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<Longrightarrow>\\<alpha> \\<prec> R' \\<and>\n       (R', Q') \\<in> bangRel Rel'", "by(metis simE)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<Longrightarrow>\\<alpha> \\<prec> R' \\<and>\n     (R', Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<Longrightarrow>\\<alpha> \\<prec> R' \\<and>\n     (R', Q') \\<in> bangRel Rel'", "obtain R' where RTrans: \"R \\<Longrightarrow>\\<alpha> \\<prec> R'\" and R'RelQ': \"(R', Q') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<Longrightarrow>\\<alpha> \\<prec> R' \\<and>\n     (R', Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>\\<alpha> \\<prec> R';\n         (R', Q') \\<in> bangRel Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<Longrightarrow>\\<alpha> \\<prec> R'\n  (R', Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<Longrightarrow>\\<alpha> \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\""], ["proof (prove)\nusing this:\n  R \\<Longrightarrow>\\<alpha> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Par2F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "from PRelQ R'RelQ' C1"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel'\n  Rel \\<subseteq> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel'\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'", "by(blast dest: Rel.BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'", "show \" \\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q \\<parallel> Q') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n     (P', Q \\<parallel> Q') \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Comm1 a Q' b Q'' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  !Q \\<longmapsto> a[b] \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a[b] \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a[b] \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a[b] \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  !Q \\<longmapsto> a[b] \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a[b] \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a[b] \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa x Q'.\n           a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have QTrans: \"Q \\<longmapsto>a<b> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<b> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<b> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<b> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from IH RBRQ"], ["proof (chain)\npicking this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n  (R, !Q) \\<in> bangRel Rel", "have RTrans: \"\\<exists>R'. R \\<Longrightarrow>a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<Longrightarrow>a[b] \\<prec> R' \\<and>\n       (R', Q'') \\<in> bangRel Rel'", "by(metis simE)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<Longrightarrow>a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'", "obtain R' where RTrans: \"R \\<Longrightarrow>a[b] \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a[b] \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a[b] \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<b> \\<prec> P'\n  R \\<Longrightarrow>a[b] \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and> (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Comm2 a b Q' Q'')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  !Q \\<longmapsto> a<b> \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a<b> \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<b> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a<b> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  !Q \\<longmapsto> a<b> \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a<b> \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<b> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa x Q'.\n           a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have QTrans: \"Q \\<longmapsto> a[b] \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[b] \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a[b] \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a[b] \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from IH RBRQ"], ["proof (chain)\npicking this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n  (R, !Q) \\<in> bangRel Rel", "have RTrans: \"\\<exists>R'. R \\<Longrightarrow>a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<Longrightarrow>a<b> \\<prec> R' \\<and>\n       (R', Q'') \\<in> bangRel Rel'", "by(metis simE)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'", "obtain R' where RTrans: \"R \\<Longrightarrow>a<b> \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<b> \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<b> \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a[b] \\<prec> P'\n  R \\<Longrightarrow>a<b> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'", "by(rule Weak_Early_Step_Semantics.Comm2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and> (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> Q'') \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Close1 a x Q' Q'' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<longrightarrow> ?Sim Pa (a<\\<nu>x> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n       (\\<forall>aa xa Q'.\n           a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n           xa \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have QTrans: \"Q \\<longmapsto> a<x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have xFreshQ: \"x \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> Q", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> Q\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "moreover"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have xFreshPa: \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> Pa", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> Pa\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "ultimately"], ["proof (chain)\npicking this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa", "show ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "with QTrans xFreshP"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<x> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from RBRQ xFreshR IH"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> R\n  (?Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))", "have \"\\<exists>R'. R \\<Longrightarrow>a<\\<nu>x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> R\n  (?Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<Longrightarrow>a<\\<nu>x> \\<prec> R' \\<and>\n       (R', Q'') \\<in> bangRel Rel'", "by(metis simE)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<\\<nu>x> \\<prec> R' \\<and>\n     (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<\\<nu>x> \\<prec> R' \\<and>\n     (R', Q'') \\<in> bangRel Rel'", "obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<\\<nu>x> \\<prec> R' \\<and>\n     (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<\\<nu>x> \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from PTrans RTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<x> \\<prec> P'\n  R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close1)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n    \\<in> bangRel Rel'", "by(force intro: Rel.BRPar BRRes)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and> (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Close2 a x Q' Q'' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  !Q \\<longmapsto> a<x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a<x> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  !Q \\<longmapsto> a<x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa xa Q'.\n           a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n           xa \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have xFreshQ: \"x \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> Q", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> Q\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> Pa", "by fact+"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel'))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel'))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "with QTrans xFreshP"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q", "obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>\\<guillemotleft>Rel'\\<guillemotright> Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Longrightarrow>a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: simE)"], ["proof (state)\nthis:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from RBRQ IH"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))", "have \"\\<exists>R'.  R \\<Longrightarrow>a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<Longrightarrow>a<x> \\<prec> R' \\<and>\n       (R', Q'') \\<in> bangRel Rel'", "by auto"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'", "obtain R' where RTrans: \"R \\<Longrightarrow>a<x> \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<Longrightarrow>a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<Longrightarrow>a<x> \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from PTrans RTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\n  R \\<Longrightarrow>a<x> \\<prec> R'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel>\n    R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Weak_Early_Step_Semantics.Close2)"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel'\n  (R', Q'') \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n    \\<in> bangRel Rel'", "by(force intro: Rel.BRPar BRRes)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel'", "show \"\\<exists>P'. P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and> (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'\""], ["proof (prove)\nusing this:\n  P \\<parallel>\n  R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "case(Bang Rs Pa P)"], ["proof (state)\nthis:\n  Q \\<parallel> !Q \\<longmapsto> Rs\n  \\<lbrakk>(?b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n   (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "hence IH: \"\\<And>Pa. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa Rs\""], ["proof (prove)\nusing this:\n  Q \\<parallel> !Q \\<longmapsto> Rs\n  \\<lbrakk>(?b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n   (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (Pa, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (?Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "have \"(Pa, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel')) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel'));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel')) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel'))", "proof(induct rule: BRBangCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "case(BRBang P)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "have PRelQ: \"(P, Q) \\<in> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "hence \"(!P, !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (!P, !Q) \\<in> bangRel Rel", "by(rule Rel.BRBang)"], ["proof (state)\nthis:\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (!P, !Q) \\<in> bangRel Rel", "have \"(P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel", "by(rule BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "with IH"], ["proof (chain)\npicking this:\n  (?Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel", "have \"?Sim (P \\<parallel> !P) Rs\""], ["proof (prove)\nusing this:\n  (?Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel'))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel')) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel'))", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> !P \\<longrightarrow>\n        (\\<exists>P'.\n            !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel')) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel'))", "by(force intro: Weak_Early_Step_Semantics.Bang)"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> !P \\<longrightarrow>\n      (\\<exists>P'.\n          !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel')) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "}"], ["proof (state)\nthis:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"(!P, !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (!P, !Q) \\<in> bangRel Rel", "by(rule BRBang)"], ["proof (state)\nthis:\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (!P, !Q) \\<in> bangRel Rel", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel')) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel'))\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q", "by(auto simp add: weakStepSimulation_def)"], ["proof (state)\nthis:\n  !P \\<leadsto>\\<guillemotleft>bangRel Rel'\\<guillemotright> !Q\n\ngoal:\nNo subgoals!", "qed"], ["", "(*\nlemma bangPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n \n  assumes PRelQ:      \"(P, Q) \\<in> Rel\"\n  and     Sim:        \"\\<And>P Q. (P, Q) \\<in> Rel \\<Longrightarrow> P \\<leadsto><Rel'> Q\"\n  and     RelRel':    \"\\<And>P Q. (P, Q) \\<in> Rel \\<Longrightarrow> (P, Q) \\<in> Rel'\"\n  and     eqvtRel':   \"eqvt Rel'\"\n\n  shows \"!P \\<leadsto><bangRel Rel'> !Q\"\nproof -\n  from eqvtRel' have EqvtBangRel': \"eqvt (bangRel Rel')\" by(rule eqvtBangRel)\n  from RelRel' have BRelRel': \"\\<And>P Q. (P, Q) \\<in> bangRel Rel \\<Longrightarrow> (P, Q) \\<in> bangRel Rel'\"\n    by(auto intro: bangRelSubset)\n  have \"\\<And>Rs P. \\<lbrakk>!Q \\<longmapsto> Rs; (P, !Q) \\<in> bangRel Rel\\<rbrakk> \\<Longrightarrow> weakSimStepAct P Rs P (bangRel Rel')\"\n  proof -\n    fix Rs P\n    assume \"!Q \\<longmapsto> Rs\" and \"(P, !Q) \\<in> bangRel Rel\"\n    thus \"weakSimStepAct P Rs P (bangRel Rel')\"\n    proof(nominal_induct avoiding: P rule: bangInduct)\n      case(Par1B a x Q')\n      have QTrans: \"Q \\<longmapsto>a<\\<nu>x> \\<prec> Q'\" and xFreshQ: \"x \\<sharp> Q\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelT: \"(R, !Q) \\<in> bangRel Rel\" by fact\n        have \"x \\<sharp> P \\<parallel> R\" by fact\n        hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\" by simp+\n        from PRelQ have PSimQ: \"P \\<leadsto><Rel'> Q\" by(rule Sim)\n        from EqvtBangRel' show ?case\n        proof(induct rule: simActBoundCases)\n          case BoundOutput\n          with PSimQ QTrans xFreshP obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                                                and P'RelQ': \"(P', Q') \\<in> Rel'\"\n            by(blast dest: simE)\n          from PTrans xFreshR have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x>\\<prec> (P' \\<parallel> R)\"\n            by(rule Weak_Early_Step_Semantics.Par1B)\n          moreover from P'RelQ' RBangRelT have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\"\n            by(blast intro: Rel.BRPar BRelRel')\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Par1F \\<alpha> Q' P)\n      have QTrans: \"Q \\<longmapsto>\\<alpha> \\<prec> Q'\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\" by fact\n        show ?case\n        proof(induct rule: simActFreeCases)\n          case Der\n          from PRelQ have \"P \\<leadsto><Rel'> Q\" by(rule Sim)\n          with QTrans obtain P' where PTrans: \"P \\<Longrightarrow>\\<alpha> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\"\n            by(blast dest: simE)\n\n          from PTrans have \"P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P' \\<parallel> R\" by(rule Weak_Early_Step_Semantics.Par1F)\n          moreover from P'RelQ' RBangRelQ have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel'\"\n            by(blast intro: Rel.BRPar BRelRel')\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Par2B a x Q' P)\n      have IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> weakSimStepAct P (a<\\<nu>x> \\<prec> Q') P (bangRel Rel')\" by fact\n      have xFreshQ: \"x \\<sharp> Q\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\" by fact\n        have \"x \\<sharp> P \\<parallel> R\" by fact\n        hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\" by simp+\n        from EqvtBangRel' show ?case\n        proof(induct rule: simActBoundCases)\n          case BoundOutput\n          with IH RBangRelQ have \"weakSimStepAct R (a<\\<nu>x> \\<prec> Q') R (bangRel Rel')\" by blast\n          with xFreshR obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\"\n                                   and R'BangRelQ': \"(R', Q') \\<in> bangRel Rel'\"\n            by(simp add: weakSimStepAct_def, blast)\n          \n          from RTrans xFreshP have \"P \\<parallel> R \\<Longrightarrow>a<\\<nu>x> \\<prec> (P \\<parallel> R')\"\n            by(auto intro: Weak_Early_Step_Semantics.Par2B)\n          moreover from PRelQ R'BangRelQ' have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> (bangRel Rel')\"\n            by(blast intro: Rel.BRPar RelRel')\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Par2F \\<alpha> Q' P)\n      have IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> weakSimStepAct P (\\<alpha> \\<prec> Q') P (bangRel Rel')\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\" by fact\n        show ?case\n        proof(induct rule: simActFreeCases)\n          case Der\n          from RBangRelQ have \"weakSimStepAct R (\\<alpha> \\<prec> Q') R (bangRel Rel')\" by(rule IH)\n          then obtain R' where RTrans: \"R \\<Longrightarrow>\\<alpha> \\<prec> R'\" and R'RelQ': \"(R', Q') \\<in> (bangRel Rel')\"\n            by(simp add: weakSimStepAct_def, blast)\n\n          from RTrans have \"P \\<parallel> R \\<Longrightarrow>\\<alpha> \\<prec> P \\<parallel> R'\" by(rule Weak_Early_Step_Semantics.Par2F)\n          moreover from PRelQ R'RelQ' have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> (bangRel Rel')\" \n            by(blast intro: Rel.BRPar RelRel')\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Comm1 a Q' b Q'' P)\n      have QTrans: \"Q \\<longmapsto> a<b> \\<prec> Q'\" by fact\n      have IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> weakSimStepAct P (a[b] \\<prec> Q'') P (bangRel Rel')\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\" by fact\n        show ?case\n        proof(induct rule: simActFreeCases)\n          case Der\n          from PRelQ have \"P \\<leadsto><Rel'> Q\" by(rule Sim)\n          with QTrans obtain P' where PTrans: \"P \\<Longrightarrow>a<b> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\"\n            by(blast dest: simE)\n\n          from RBangRelQ have \"weakSimStepAct R (a[b] \\<prec> Q'') R (bangRel Rel')\" by(rule IH)\n          then obtain R' where RTrans: \"R \\<Longrightarrow>a[b] \\<prec> R'\"\n                           and R'RelQ'': \"(R', Q'') \\<in> (bangRel Rel')\"\n            by(simp add: weakSimStepAct_def, blast)\n        \n          from PTrans RTrans have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> (P' \\<parallel> R')\"\n            by(rule Weak_Early_Step_Semantics.Comm1)\n          moreover from P'RelQ' R'RelQ'' have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> (bangRel Rel')\"\n            by(rule Rel.BRPar)\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Comm2 a b Q' Q'' P)\n      have QTrans: \"Q \\<longmapsto>a[b] \\<prec> Q'\" by fact\n      have IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> weakSimStepAct P (a<b> \\<prec> Q'') P (bangRel Rel')\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\" by fact+\n        show ?case\n        proof(induct rule: simActFreeCases)\n          case Der\n          from PRelQ have \"P \\<leadsto><Rel'> Q\" by(rule Sim)\n          with QTrans obtain P' where PTrans: \"P \\<Longrightarrow>a[b] \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\"\n            by(blast dest: simE)\n\n          from RBangRelQ have \"weakSimStepAct R (a<b> \\<prec> Q'') R (bangRel Rel')\" by(rule IH)\n          then obtain R' where RTrans: \"R \\<Longrightarrow>a<b> \\<prec> R'\" and R'BangRelQ'': \"(R', Q'') \\<in> (bangRel Rel')\"\n            by(simp add: weakSimStepAct_def, blast)\n        \n          from PTrans RTrans have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> (P' \\<parallel> R')\"\n            by(rule Weak_Early_Step_Semantics.Comm2)\n          moreover from P'RelQ' R'BangRelQ'' have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> (bangRel Rel')\"\n            by(rule Rel.BRPar)\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Close1 a x Q' Q'' P)\n      have QTrans: \"Q \\<longmapsto> a<x> \\<prec> Q'\" by fact\n      have IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> weakSimStepAct P (a<\\<nu>x> \\<prec> Q'') P (bangRel Rel')\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\" by fact\n        have \"x \\<sharp> P \\<parallel> R\" by fact\n        hence xFreshR: \"x \\<sharp> R\" and xFreshP: \"x \\<sharp> P\" by simp+\n        show ?case\n        proof(induct rule: simActFreeCases)\n          case Der\n          from PRelQ have \"P \\<leadsto><Rel'> Q\" by(rule Sim)\n          with QTrans obtain P' where PTrans: \"P \\<Longrightarrow>a<x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel'\"\n            by(blast dest: simE)\n          \n          from RBangRelQ have \"weakSimStepAct R (a<\\<nu>x> \\<prec> Q'') R (bangRel Rel')\" by(rule IH)\n          with xFreshR obtain R' where RTrans: \"R \\<Longrightarrow>a<\\<nu>x> \\<prec> R'\"\n                                   and R'RelQ'': \"(R', Q'') \\<in> (bangRel Rel')\"\n            by(simp add: weakSimStepAct_def, blast)\n        \n          from PTrans RTrans xFreshP xFreshR have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\"\n            by(rule Weak_Early_Step_Semantics.Close1)\n          moreover from P'RelQ' R'RelQ'' have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> (bangRel Rel')\"\n            by(force intro: Rel.BRPar Rel.BRRes)\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Close2 a x Q' Q'' P)\n      have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\" by fact\n      have IH: \"\\<And>P. (P, !Q) \\<in> bangRel Rel \\<Longrightarrow> weakSimStepAct P (a<x> \\<prec> Q'') P (bangRel Rel')\" by fact\n      have \"(P, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> P\" by fact\n      thus ?case\n      proof(induct rule: BRParCases)\n        case(BRPar P R)\n        have PRelQ: \"(P, Q) \\<in> Rel\" and RBangRelQ: \"(R, !Q) \\<in> bangRel Rel\" by fact\n        have \"x \\<sharp> P \\<parallel> R\" by fact\n        hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\" by simp+\n        show ?case\n        proof(induct rule: simActFreeCases)\n          case Der\n          from PRelQ have \"P \\<leadsto><Rel'> Q\" by(rule Sim)\n          with QTrans xFreshP obtain P' where PTrans: \"P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                                          and P'RelQ': \"(P', Q') \\<in> Rel'\"\n            by(blast dest: simE)\n\n          from RBangRelQ have \"weakSimStepAct R (a<x> \\<prec> Q'') R (bangRel Rel')\" by(rule IH)\n          with xFreshR obtain R' where RTrans: \"R \\<Longrightarrow>a<x> \\<prec> R'\"\n                                       and R'RelQ'': \"(R', Q'') \\<in> (bangRel Rel')\"\n            by(simp add: weakSimStepAct_def, blast)\n        \n          from PTrans RTrans xFreshP xFreshR have \"P \\<parallel> R \\<Longrightarrow>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\"\n            by(rule Weak_Early_Step_Semantics.Close2)\n          moreover from P'RelQ' R'RelQ'' have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> (bangRel Rel')\"\n            by(force intro: Rel.BRPar Rel.BRRes)\n          ultimately show ?case by blast\n        qed\n      qed\n    next\n      case(Bang Rs)\n      have IH: \"\\<And>P. (P, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow> weakSimStepAct P Rs P (bangRel Rel')\" by fact\n      have \"(P, !Q) \\<in> bangRel Rel\" by fact\n      thus ?case\n      proof(induct rule: BRBangCases)\n        case(BRBang P)\n        have PRelQ: \"(P, Q) \\<in> Rel\" by fact\n        hence \"(!P, !Q) \\<in> bangRel Rel\" by(rule Rel.BRBang)\n        with PRelQ have \"(P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\" by(rule Rel.BRPar)\n        hence \"weakSimStepAct (P \\<parallel> !P) Rs (P \\<parallel> !P) (bangRel Rel')\" by(rule IH)\n        thus ?case\n        proof(simp (no_asm) add: weakSimStepAct_def, auto)\n          fix Q' a x\n          assume \"weakSimStepAct (P \\<parallel> !P) (a<\\<nu>x> \\<prec> Q') (P \\<parallel> !P) (bangRel Rel')\" and \"x \\<sharp> P\"\n          then obtain P' where PTrans: \"(P \\<parallel> !P) \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n                           and P'RelQ': \"(P', Q') \\<in> (bangRel Rel')\"\n            by(simp add: weakSimStepAct_def, blast)\n          from PTrans have \"!P \\<Longrightarrow>a<\\<nu>x> \\<prec> P'\"\n            by(force intro: Weak_Early_Step_Semantics.Bang simp add: weakTransition_def)\n          with P'RelQ' show \"\\<exists>P'. !P \\<Longrightarrow>a<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> (bangRel Rel')\" by blast\n        next\n          fix Q' \\<alpha>\n          assume \"weakSimStepAct (P \\<parallel> !P) (\\<alpha> \\<prec> Q') (P \\<parallel> !P) (bangRel Rel')\"\n          then obtain P' where PTrans: \"(P \\<parallel> !P) \\<Longrightarrow>\\<alpha> \\<prec> P'\"\n                           and P'RelQ': \"(P', Q') \\<in> (bangRel Rel')\"\n            by(simp add: weakSimStepAct_def, blast)\n          from PTrans have \"!P \\<Longrightarrow>\\<alpha> \\<prec> P'\" by(rule Weak_Early_Step_Semantics.Bang)\n          with P'RelQ' show \"\\<exists>P'. !P \\<Longrightarrow>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> (bangRel Rel')\" by blast\n        qed\n      qed\n    qed\n  qed\n  moreover from PRelQ have \"(!P, !Q) \\<in> bangRel Rel\" by(rule Rel.BRBang)\n  ultimately show ?thesis by(simp add: simDef)\nqed\n*)"], ["", "end"]]}