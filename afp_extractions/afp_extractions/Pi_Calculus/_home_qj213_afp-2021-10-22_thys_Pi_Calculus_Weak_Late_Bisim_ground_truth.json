{"file_name": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus/Weak_Late_Bisim.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus", "problem_names": ["lemma monoAux: \"A \\<subseteq> B \\<Longrightarrow> P \\<leadsto>\\<^sup>^<A> Q \\<longrightarrow> P \\<leadsto>\\<^sup>^<B> Q\"", "lemma weakBisimCoinductAux[case_names weakBisim, case_conclusion weakBisim step, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and step:  \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q \\<and> ((Q, P) \\<in> X \\<or> Q \\<approx> P)\"\n\n  shows \"P \\<approx> Q\"", "lemma weakBisimCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma weak_coinduct[case_names weakBisim, case_conclusion weakBisim step, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and step:  \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q \\<and> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma weakBisimWeakCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma monotonic: \"mono(\\<lambda>p x1 x2. \\<exists>P Q. x1 = P \\<and> x2 = Q \\<and> P \\<leadsto>\\<^sup>^<{(xa, x). p xa x}> Q \\<and> Q \\<leadsto>\\<^sup>^<{(xa, x). p xa x}> P)\"", "lemma unfoldE:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes \"P \\<approx> Q\"\n  \n  shows \"P \\<leadsto>\\<^sup>^<weakBisim> Q\"\n  and   \"Q \\<approx> P\"", "lemma unfoldI:\n  fixes P :: pi\n  and   Q :: pi\n  \n  assumes \"P \\<leadsto>\\<^sup>^<weakBisim> Q\"\n  and     \"Q \\<approx> P\"\n\n  shows \"P \\<approx> Q\"", "lemma eqvt:\n  shows \"eqvt weakBisim\"", "lemma eqvtI:\n  fixes P :: pi\n  and   Q :: pi\n  and   perm :: \"name prm\"\n\n  assumes \"P \\<approx> Q\"\n\n  shows \"(perm \\<bullet> P) \\<approx> (perm \\<bullet> Q)\"", "lemma weakBisimEqvt[simp]:\n  shows \"eqvt weakBisim\"", "lemma strongBisimWeakBisim:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes PSimQ: \"P \\<sim> Q\"\n\n  shows \"P \\<approx> Q\"", "lemma reflexive:\n  fixes P :: pi\n\n  shows \"P \\<approx> P\"", "lemma symmetric:\n  fixes P :: pi\n  and   Q :: pi\n   \n  assumes \"P \\<approx> Q\"\n\n  shows \"Q \\<approx> P\"", "lemma transitive:\n  fixes P :: pi\n  and   Q :: pi\n  and   R :: pi\n\n  assumes PBiSimQ: \"P \\<approx> Q\"\n  and     QBiSimR: \"Q \\<approx> R\"\n\n  shows \"P \\<approx> R\"", "lemma transitive_coinduct_weak[case_names WeakBisimEarly, case_conclusion WeakBisimEarly step, consumes 2]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and step: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q \\<and> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma weakBisimTransitiveCoinduct[case_names cSim cSym, consumes 2]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and rSim: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\"\n  and rSym: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], "translations": [["", "lemma monoAux: \"A \\<subseteq> B \\<Longrightarrow> P \\<leadsto>\\<^sup>^<A> Q \\<longrightarrow> P \\<leadsto>\\<^sup>^<B> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> B \\<Longrightarrow>\n    P \\<leadsto>\\<^sup>^<A> Q \\<longrightarrow> P \\<leadsto>\\<^sup>^<B> Q", "by(auto intro: Weak_Late_Sim.monotonic)"], ["", "coinductive_set weakBisim :: \"(pi \\<times> pi) set\"\nwhere\n  step: \"\\<lbrakk>P \\<leadsto>\\<^sup>^<weakBisim> Q; (Q, P) \\<in> weakBisim\\<rbrakk> \\<Longrightarrow> (P, Q) \\<in> weakBisim\"\nmonos monoAux"], ["", "abbreviation\n  \"weakBisimJudge\" (infixr \"\\<approx>\" 65)  where \"P \\<approx> Q \\<equiv> (P, Q) \\<in> weakBisim\""], ["", "lemma weakBisimCoinductAux[case_names weakBisim, case_conclusion weakBisim step, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and step:  \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q \\<and> ((Q, P) \\<in> X \\<or> Q \\<approx> P)\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "have aux: \"X \\<union> weakBisim = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> weakBisim = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}", "by blast"], ["proof (state)\nthis:\n  X \\<union> weakBisim = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "from p"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> X", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct, force dest: step simp add: aux)"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n  (?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> ?Q\n  (?P, ?Q) \\<in> X \\<Longrightarrow> (?Q, ?P) \\<in> X\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct rule: weakBisimCoinductAux) auto"], ["", "lemma weak_coinduct[case_names weakBisim, case_conclusion weakBisim step, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and step:  \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q \\<and> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using p"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof(coinduct rule: weakBisimCoinductAux)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q) \\<in> X \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q \\<and>\n       ((Q, P) \\<in> X \\<or> Q \\<approx> P)", "case (weakBisim P Q)"], ["proof (state)\nthis:\n  (P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q) \\<in> X \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q \\<and>\n       ((Q, P) \\<in> X \\<or> Q \\<approx> P)", "from step[OF this]"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<^sup>^<X> Q \\<and> (Q, P) \\<in> X", "show ?case"], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<^sup>^<X> Q \\<and> (Q, P) \\<in> X\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q \\<and>\n    ((Q, P) \\<in> X \\<or> Q \\<approx> P)", "using Weak_Late_Sim.monotonic"], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<^sup>^<X> Q \\<and> (Q, P) \\<in> X\n  \\<lbrakk>?P \\<leadsto>\\<^sup>^<?A> ?P'; ?A \\<subseteq> ?B\\<rbrakk>\n  \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<?B> ?P'\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q \\<and>\n    ((Q, P) \\<in> X \\<or> Q \\<approx> P)", "by blast"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(X \\<union> weakBisim)> Q \\<and>\n  ((Q, P) \\<in> X \\<or> Q \\<approx> P)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimWeakCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n  (?P, ?Q) \\<in> X \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<X> ?Q\n  (?P, ?Q) \\<in> X \\<Longrightarrow> (?Q, ?P) \\<in> X\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct rule: weak_coinduct) auto"], ["", "lemma monotonic: \"mono(\\<lambda>p x1 x2. \\<exists>P Q. x1 = P \\<and> x2 = Q \\<and> P \\<leadsto>\\<^sup>^<{(xa, x). p xa x}> Q \\<and> Q \\<leadsto>\\<^sup>^<{(xa, x). p xa x}> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mono\n     (\\<lambda>p x1 x2.\n         \\<exists>P Q.\n            x1 = P \\<and>\n            x2 = Q \\<and>\n            P \\<leadsto>\\<^sup>^<{(xa, x). p xa x}> Q \\<and>\n            Q \\<leadsto>\\<^sup>^<{(xa, x). p xa x}> P)", "by(auto intro: monoI Weak_Late_Sim.monotonic)"], ["", "lemma unfoldE:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes \"P \\<approx> Q\"\n  \n  shows \"P \\<leadsto>\\<^sup>^<weakBisim> Q\"\n  and   \"Q \\<approx> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<weakBisim> Q &&& Q \\<approx> P", "using assms"], ["proof (prove)\nusing this:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<weakBisim> Q &&& Q \\<approx> P", "by(auto intro: weakBisim.cases)"], ["", "lemma unfoldI:\n  fixes P :: pi\n  and   Q :: pi\n  \n  assumes \"P \\<leadsto>\\<^sup>^<weakBisim> Q\"\n  and     \"Q \\<approx> P\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<^sup>^<weakBisim> Q\n  Q \\<approx> P\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(auto intro: weakBisim.cases)"], ["", "lemma eqvt:\n  shows \"eqvt weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt weakBisim", "proof(auto simp add: eqvt_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "let ?X = \"{x. \\<exists>P Q (perm::name prm). P \\<approx> Q \\<and> x = (perm \\<bullet> P, perm \\<bullet> Q)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "fix perm::\"name prm\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "assume PBiSimQ: \"P \\<approx> Q\""], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "hence \"(perm \\<bullet> P, perm \\<bullet> Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (perm \\<bullet> P, perm \\<bullet> Q)\n    \\<in> {x. \\<exists>P Q perma.\n                 P \\<approx> Q \\<and>\n                 x = (perma \\<bullet> P, perma \\<bullet> Q)}", "by blast"], ["proof (state)\nthis:\n  (perm \\<bullet> P, perm \\<bullet> Q)\n  \\<in> {x. \\<exists>P Q perma.\n               P \\<approx> Q \\<and>\n               x = (perma \\<bullet> P, perma \\<bullet> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "moreover"], ["proof (state)\nthis:\n  (perm \\<bullet> P, perm \\<bullet> Q)\n  \\<in> {x. \\<exists>P Q perma.\n               P \\<approx> Q \\<and>\n               x = (perma \\<bullet> P, perma \\<bullet> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "have \"\\<And>P Q perm::name prm. \\<lbrakk>P \\<leadsto>\\<^sup>^<weakBisim> Q\\<rbrakk> \\<Longrightarrow> (perm \\<bullet> P) \\<leadsto>\\<^sup>^<?X> (perm \\<bullet> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "fix perm::\"name prm\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "assume \"P \\<leadsto>\\<^sup>^<weakBisim> Q\""], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<weakBisim> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<weakBisim> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "have \"weakBisim \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakBisim\n    \\<subseteq> {x. \\<exists>P Q perma.\n                       P \\<approx> Q \\<and>\n                       x = (perma \\<bullet> P, perma \\<bullet> Q)}", "proof(auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<approx> b \\<Longrightarrow>\n       \\<exists>P Q.\n          P \\<approx> Q \\<and>\n          (\\<exists>perma.\n              a = perma \\<bullet> P \\<and> b = perma \\<bullet> Q)", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<approx> b \\<Longrightarrow>\n       \\<exists>P Q.\n          P \\<approx> Q \\<and>\n          (\\<exists>perma.\n              a = perma \\<bullet> P \\<and> b = perma \\<bullet> Q)", "assume \"P \\<approx> Q\""], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<approx> b \\<Longrightarrow>\n       \\<exists>P Q.\n          P \\<approx> Q \\<and>\n          (\\<exists>perma.\n              a = perma \\<bullet> P \\<and> b = perma \\<bullet> Q)", "moreover"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<approx> b \\<Longrightarrow>\n       \\<exists>P Q.\n          P \\<approx> Q \\<and>\n          (\\<exists>perma.\n              a = perma \\<bullet> P \\<and> b = perma \\<bullet> Q)", "have \"P = ([]::name prm) \\<bullet> P\" and \"Q = ([]::name prm) \\<bullet> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P = [] \\<bullet> P &&& Q = [] \\<bullet> Q", "by auto"], ["proof (state)\nthis:\n  P = [] \\<bullet> P\n  Q = [] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<approx> b \\<Longrightarrow>\n       \\<exists>P Q.\n          P \\<approx> Q \\<and>\n          (\\<exists>perma.\n              a = perma \\<bullet> P \\<and> b = perma \\<bullet> Q)", "ultimately"], ["proof (chain)\npicking this:\n  P \\<approx> Q\n  P = [] \\<bullet> P\n  Q = [] \\<bullet> Q", "show \"\\<exists>P' Q'. P' \\<approx> Q' \\<and> (\\<exists>(perm::name prm). P = perm \\<bullet> P' \\<and> Q = perm \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  P \\<approx> Q\n  P = [] \\<bullet> P\n  Q = [] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P' Q'.\n       P' \\<approx> Q' \\<and>\n       (\\<exists>perma.\n           P = perma \\<bullet> P' \\<and> Q = perma \\<bullet> Q')", "by blast"], ["proof (state)\nthis:\n  \\<exists>P' Q'.\n     P' \\<approx> Q' \\<and>\n     (\\<exists>perma. P = perma \\<bullet> P' \\<and> Q = perma \\<bullet> Q')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weakBisim\n  \\<subseteq> {x. \\<exists>P Q perma.\n                     P \\<approx> Q \\<and>\n                     x = (perma \\<bullet> P, perma \\<bullet> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  weakBisim\n  \\<subseteq> {x. \\<exists>P Q perma.\n                     P \\<approx> Q \\<and>\n                     x = (perma \\<bullet> P, perma \\<bullet> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {x. \\<exists>P Q perma.\n            P \\<approx> Q \\<and> x = (perma \\<bullet> P, perma \\<bullet> Q)}", "proof(auto simp add: eqvt_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "fix perm1::\"name prm\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "fix perm2::\"name prm\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "assume \"P \\<approx> Q\""], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "moreover"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "have \"perm1 \\<bullet> perm2 \\<bullet> P = (perm1 @ perm2) \\<bullet> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. perm1 \\<bullet> perm2 \\<bullet> P = (perm1 @ perm2) \\<bullet> P", "by(simp add: pt2[OF pt_name_inst])"], ["proof (state)\nthis:\n  perm1 \\<bullet> perm2 \\<bullet> P = (perm1 @ perm2) \\<bullet> P\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "moreover"], ["proof (state)\nthis:\n  perm1 \\<bullet> perm2 \\<bullet> P = (perm1 @ perm2) \\<bullet> P\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "have \"perm1 \\<bullet> perm2 \\<bullet> Q = (perm1 @ perm2) \\<bullet> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. perm1 \\<bullet> perm2 \\<bullet> Q = (perm1 @ perm2) \\<bullet> Q", "by(simp add: pt2[OF pt_name_inst])"], ["proof (state)\nthis:\n  perm1 \\<bullet> perm2 \\<bullet> Q = (perm1 @ perm2) \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma permaa.\n       P \\<approx> Q \\<Longrightarrow>\n       \\<exists>Pa Qa.\n          Pa \\<approx> Qa \\<and>\n          (\\<exists>permb.\n              perma \\<bullet> permaa \\<bullet> P = permb \\<bullet> Pa \\<and>\n              perma \\<bullet> permaa \\<bullet> Q = permb \\<bullet> Qa)", "ultimately"], ["proof (chain)\npicking this:\n  P \\<approx> Q\n  perm1 \\<bullet> perm2 \\<bullet> P = (perm1 @ perm2) \\<bullet> P\n  perm1 \\<bullet> perm2 \\<bullet> Q = (perm1 @ perm2) \\<bullet> Q", "show \"\\<exists>P' Q'. P' \\<approx> Q' \\<and> (\\<exists>(perm::name prm). perm1 \\<bullet> perm2 \\<bullet> P = perm \\<bullet> P' \\<and>\n                                                              perm1 \\<bullet> perm2 \\<bullet> Q = perm \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  P \\<approx> Q\n  perm1 \\<bullet> perm2 \\<bullet> P = (perm1 @ perm2) \\<bullet> P\n  perm1 \\<bullet> perm2 \\<bullet> Q = (perm1 @ perm2) \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P' Q'.\n       P' \\<approx> Q' \\<and>\n       (\\<exists>perma.\n           perm1 \\<bullet> perm2 \\<bullet> P = perma \\<bullet> P' \\<and>\n           perm1 \\<bullet> perm2 \\<bullet> Q = perma \\<bullet> Q')", "by blast"], ["proof (state)\nthis:\n  \\<exists>P' Q'.\n     P' \\<approx> Q' \\<and>\n     (\\<exists>perma.\n         perm1 \\<bullet> perm2 \\<bullet> P = perma \\<bullet> P' \\<and>\n         perm1 \\<bullet> perm2 \\<bullet> Q = perma \\<bullet> Q')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  eqvt\n   {x. \\<exists>P Q perma.\n          P \\<approx> Q \\<and> x = (perma \\<bullet> P, perma \\<bullet> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>P Q perma.\n       P \\<leadsto>\\<^sup>^<weakBisim> Q \\<Longrightarrow>\n       perma \\<bullet>\n       P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                   P \\<approx> Q \\<and>\n                                   x =\n                                   (perma \\<bullet> P,\n                                    perma \\<bullet> Q)}> perma \\<bullet> Q", "ultimately"], ["proof (chain)\npicking this:\n  P \\<leadsto>\\<^sup>^<weakBisim> Q\n  weakBisim\n  \\<subseteq> {x. \\<exists>P Q perma.\n                     P \\<approx> Q \\<and>\n                     x = (perma \\<bullet> P, perma \\<bullet> Q)}\n  eqvt\n   {x. \\<exists>P Q perma.\n          P \\<approx> Q \\<and> x = (perma \\<bullet> P, perma \\<bullet> Q)}", "show \"(perm \\<bullet> P) \\<leadsto>\\<^sup>^<?X> (perm \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<^sup>^<weakBisim> Q\n  weakBisim\n  \\<subseteq> {x. \\<exists>P Q perma.\n                     P \\<approx> Q \\<and>\n                     x = (perma \\<bullet> P, perma \\<bullet> Q)}\n  eqvt\n   {x. \\<exists>P Q perma.\n          P \\<approx> Q \\<and> x = (perma \\<bullet> P, perma \\<bullet> Q)}\n\ngoal (1 subgoal):\n 1. perm \\<bullet>\n    P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                                P \\<approx> Q \\<and>\n                                x =\n                                (perma \\<bullet> P,\n                                 perma \\<bullet> Q)}> perm \\<bullet> Q", "by(rule Weak_Late_Sim.eqvtI)"], ["proof (state)\nthis:\n  perm \\<bullet>\n  P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                              P \\<approx> Q \\<and>\n                              x =\n                              (perma \\<bullet> P,\n                               perma \\<bullet> Q)}> perm \\<bullet> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?P \\<leadsto>\\<^sup>^<weakBisim> ?Q \\<Longrightarrow>\n  ?perm \\<bullet>\n  ?P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                               P \\<approx> Q \\<and>\n                               x =\n                               (perma \\<bullet> P,\n                                perma \\<bullet> Q)}> ?perm \\<bullet> ?Q\n\ngoal (1 subgoal):\n 1. \\<And>a b perma.\n       a \\<approx> b \\<Longrightarrow>\n       perma \\<bullet> a \\<approx> perma \\<bullet> b", "ultimately"], ["proof (chain)\npicking this:\n  (perm \\<bullet> P, perm \\<bullet> Q)\n  \\<in> {x. \\<exists>P Q perma.\n               P \\<approx> Q \\<and>\n               x = (perma \\<bullet> P, perma \\<bullet> Q)}\n  ?P \\<leadsto>\\<^sup>^<weakBisim> ?Q \\<Longrightarrow>\n  ?perm \\<bullet>\n  ?P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                               P \\<approx> Q \\<and>\n                               x =\n                               (perma \\<bullet> P,\n                                perma \\<bullet> Q)}> ?perm \\<bullet> ?Q", "show \"(perm \\<bullet> P) \\<approx> (perm \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  (perm \\<bullet> P, perm \\<bullet> Q)\n  \\<in> {x. \\<exists>P Q perma.\n               P \\<approx> Q \\<and>\n               x = (perma \\<bullet> P, perma \\<bullet> Q)}\n  ?P \\<leadsto>\\<^sup>^<weakBisim> ?Q \\<Longrightarrow>\n  ?perm \\<bullet>\n  ?P \\<leadsto>\\<^sup>^<{x. \\<exists>P Q perma.\n                               P \\<approx> Q \\<and>\n                               x =\n                               (perma \\<bullet> P,\n                                perma \\<bullet> Q)}> ?perm \\<bullet> ?Q\n\ngoal (1 subgoal):\n 1. perm \\<bullet> P \\<approx> perm \\<bullet> Q", "by(coinduct rule: weak_coinduct, blast dest: unfoldE)"], ["proof (state)\nthis:\n  perm \\<bullet> P \\<approx> perm \\<bullet> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eqvtI:\n  fixes P :: pi\n  and   Q :: pi\n  and   perm :: \"name prm\"\n\n  assumes \"P \\<approx> Q\"\n\n  shows \"(perm \\<bullet> P) \\<approx> (perm \\<bullet> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. perm \\<bullet> P \\<approx> perm \\<bullet> Q", "using assms"], ["proof (prove)\nusing this:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. perm \\<bullet> P \\<approx> perm \\<bullet> Q", "by(rule eqvtRelI[OF eqvt])"], ["", "lemma weakBisimEqvt[simp]:\n  shows \"eqvt weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt weakBisim", "by(auto simp add: eqvt_def eqvtI)"], ["", "lemma strongBisimWeakBisim:\n  fixes P :: pi\n  and   Q :: pi\n\n  assumes PSimQ: \"P \\<sim> Q\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "have \"\\<And>P Q. P \\<leadsto>[bisim] Q \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<leadsto>[bisim] Q \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<leadsto>[bisim] Q \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<leadsto>[bisim] Q \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q", "assume \"P \\<leadsto>[bisim] Q\""], ["proof (state)\nthis:\n  P \\<leadsto>[bisim] Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<leadsto>[bisim] Q \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q", "hence \"P \\<leadsto>\\<^sup>^<bisim> Q\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[bisim] Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<bisim> Q", "by(rule strongSimWeakSim)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<bisim> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<leadsto>[bisim] Q \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q", "thus \"P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q\""], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<^sup>^<bisim> Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q", "by(blast intro: Weak_Late_Sim.monotonic)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?P \\<leadsto>[bisim] ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> ?Q\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<sim> Q\n  ?P \\<leadsto>[bisim] ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> ?Q", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<sim> Q\n  ?P \\<leadsto>[bisim] ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim \\<union> weakBisim)> ?Q\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct rule: weakBisimCoinductAux, force dest: Strong_Late_Bisim.bisimE symmetric)"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma reflexive:\n  fixes P :: pi\n\n  shows \"P \\<approx> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> P", "have \"(P, P) \\<in> Id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, P) \\<in> Id", "by simp"], ["proof (state)\nthis:\n  (P, P) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<approx> P", "then"], ["proof (chain)\npicking this:\n  (P, P) \\<in> Id", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, P) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<approx> P", "proof (coinduct rule: weak_coinduct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q) \\<in> Id \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<Id> Q \\<and> (Q, P) \\<in> Id", "case (weakBisim P Q)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Id\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q) \\<in> Id \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<Id> Q \\<and> (Q, P) \\<in> Id", "have \"(P, Q) \\<in> Id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Id", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Id\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q) \\<in> Id \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<Id> Q \\<and> (Q, P) \\<in> Id", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<Id> Q \\<and> (Q, P) \\<in> Id", "by(auto intro: Weak_Late_Sim.reflexive)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<Id> Q \\<and> (Q, P) \\<in> Id\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<approx> P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma symmetric:\n  fixes P :: pi\n  and   Q :: pi\n   \n  assumes \"P \\<approx> Q\"\n\n  shows \"Q \\<approx> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<approx> P", "using assms"], ["proof (prove)\nusing this:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. Q \\<approx> P", "by(auto dest: unfoldE intro: unfoldI)"], ["", "lemma transitive:\n  fixes P :: pi\n  and   Q :: pi\n  and   R :: pi\n\n  assumes PBiSimQ: \"P \\<approx> Q\"\n  and     QBiSimR: \"Q \\<approx> R\"\n\n  shows \"P \\<approx> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> R", "let ?X = \"weakBisim O weakBisim\""], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> R", "from assms"], ["proof (chain)\npicking this:\n  P \\<approx> Q\n  Q \\<approx> R", "have \"(P, R) \\<in> ?X\""], ["proof (prove)\nusing this:\n  P \\<approx> Q\n  Q \\<approx> R\n\ngoal (1 subgoal):\n 1. (P, R) \\<in> weakBisim O weakBisim", "by blast"], ["proof (state)\nthis:\n  (P, R) \\<in> weakBisim O weakBisim\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "moreover"], ["proof (state)\nthis:\n  (P, R) \\<in> weakBisim O weakBisim\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "have \"\\<And>P Q R. \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk> \\<Longrightarrow>\n                          P \\<leadsto>\\<^sup>^<(?X \\<union> weakBisim)> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "fix P Q R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "assume PBiSimQ: \"P \\<approx> Q\""], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "assume \"Q \\<leadsto>\\<^sup>^<weakBisim> R\""], ["proof (state)\nthis:\n  Q \\<leadsto>\\<^sup>^<weakBisim> R\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "moreover"], ["proof (state)\nthis:\n  Q \\<leadsto>\\<^sup>^<weakBisim> R\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "have \"eqvt weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt weakBisim", "by(rule eqvt)"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "moreover"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "from eqvt"], ["proof (chain)\npicking this:\n  eqvt weakBisim", "have \"eqvt (?X \\<union> weakBisim)\""], ["proof (prove)\nusing this:\n  eqvt weakBisim\n\ngoal (1 subgoal):\n 1. eqvt (weakBisim O weakBisim \\<union> weakBisim)", "by(auto simp add: eqvtTrans)"], ["proof (state)\nthis:\n  eqvt (weakBisim O weakBisim \\<union> weakBisim)\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "moreover"], ["proof (state)\nthis:\n  eqvt (weakBisim O weakBisim \\<union> weakBisim)\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "have \"weakBisim O weakBisim \\<subseteq> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakBisim O weakBisim\n    \\<subseteq> weakBisim O weakBisim \\<union> weakBisim", "by auto"], ["proof (state)\nthis:\n  weakBisim O weakBisim \\<subseteq> weakBisim O weakBisim \\<union> weakBisim\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "moreover"], ["proof (state)\nthis:\n  weakBisim O weakBisim \\<subseteq> weakBisim O weakBisim \\<union> weakBisim\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "have \"\\<And>P Q. P \\<approx> Q \\<Longrightarrow> P \\<leadsto>\\<^sup>^<weakBisim> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<approx> Q \\<Longrightarrow> P \\<leadsto>\\<^sup>^<weakBisim> Q", "by(rule unfoldE)"], ["proof (state)\nthis:\n  ?P \\<approx> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<weakBisim> ?Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R; P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> R", "ultimately"], ["proof (chain)\npicking this:\n  Q \\<leadsto>\\<^sup>^<weakBisim> R\n  eqvt weakBisim\n  eqvt (weakBisim O weakBisim \\<union> weakBisim)\n  weakBisim O weakBisim \\<subseteq> weakBisim O weakBisim \\<union> weakBisim\n  ?P \\<approx> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<weakBisim> ?Q", "show \"P \\<leadsto>\\<^sup>^<(?X \\<union> weakBisim)> R\""], ["proof (prove)\nusing this:\n  Q \\<leadsto>\\<^sup>^<weakBisim> R\n  eqvt weakBisim\n  eqvt (weakBisim O weakBisim \\<union> weakBisim)\n  weakBisim O weakBisim \\<subseteq> weakBisim O weakBisim \\<union> weakBisim\n  ?P \\<approx> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<weakBisim> ?Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisim O weakBisim \\<union> weakBisim)> R", "using PBiSimQ"], ["proof (prove)\nusing this:\n  Q \\<leadsto>\\<^sup>^<weakBisim> R\n  eqvt weakBisim\n  eqvt (weakBisim O weakBisim \\<union> weakBisim)\n  weakBisim O weakBisim \\<subseteq> weakBisim O weakBisim \\<union> weakBisim\n  ?P \\<approx> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<weakBisim> ?Q\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisim O weakBisim \\<union> weakBisim)> R", "by(rule Weak_Late_Sim.transitive)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(weakBisim O weakBisim \\<union> weakBisim)> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?Q \\<leadsto>\\<^sup>^<weakBisim> ?R; ?P \\<approx> ?Q\\<rbrakk>\n  \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<(weakBisim O weakBisim \\<union>\n     weakBisim)> ?R\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "ultimately"], ["proof (chain)\npicking this:\n  (P, R) \\<in> weakBisim O weakBisim\n  \\<lbrakk>?Q \\<leadsto>\\<^sup>^<weakBisim> ?R; ?P \\<approx> ?Q\\<rbrakk>\n  \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<(weakBisim O weakBisim \\<union>\n     weakBisim)> ?R", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, R) \\<in> weakBisim O weakBisim\n  \\<lbrakk>?Q \\<leadsto>\\<^sup>^<weakBisim> ?R; ?P \\<approx> ?Q\\<rbrakk>\n  \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<(weakBisim O weakBisim \\<union>\n     weakBisim)> ?R\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "apply(coinduct rule: weakBisimCoinduct, auto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x y z ya.\n       \\<lbrakk>\\<And>Q R P.\n                   \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R;\n                    P \\<approx> Q\\<rbrakk>\n                   \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n                     weakBisim \\<union>\n                     weakBisim)> R;\n        x \\<approx> y; y \\<approx> z; P \\<approx> ya;\n        ya \\<approx> R\\<rbrakk>\n       \\<Longrightarrow> x \\<leadsto>\\<^sup>^<(weakBisim O\n         weakBisim \\<union>\n         weakBisim)> z\n 2. \\<And>x y z ya.\n       \\<lbrakk>\\<And>Q R P.\n                   \\<lbrakk>Q \\<leadsto>\\<^sup>^<weakBisim> R;\n                    P \\<approx> Q\\<rbrakk>\n                   \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisim O\n                     weakBisim \\<union>\n                     weakBisim)> R;\n        x \\<approx> y; y \\<approx> z; P \\<approx> ya;\n        ya \\<approx> R\\<rbrakk>\n       \\<Longrightarrow> (z, x) \\<in> weakBisim O weakBisim", "by(blast dest: unfoldE symmetric)+"], ["proof (state)\nthis:\n  P \\<approx> R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma transitive_coinduct_weak[case_names WeakBisimEarly, case_conclusion WeakBisimEarly step, consumes 2]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and step: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q \\<and> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "let ?X = \"bisim O X O bisim\""], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "have Sim: \"\\<And>P P' Q' Q. \\<lbrakk>P \\<sim> P'; P'\\<leadsto>\\<^sup>^<?X> Q'; Q' \\<leadsto>[bisim] Q\\<rbrakk> \\<Longrightarrow>\n                          P \\<leadsto>\\<^sup>^<?X> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P P' Q' Q.\n       \\<lbrakk>P \\<sim> P'; P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q';\n        Q' \\<leadsto>[bisim] Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P P' Q' Q.\n       \\<lbrakk>P \\<sim> P'; P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q';\n        Q' \\<leadsto>[bisim] Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "fix P P' Q' Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P P' Q' Q.\n       \\<lbrakk>P \\<sim> P'; P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q';\n        Q' \\<leadsto>[bisim] Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "assume PBisimP': \"P \\<sim> P'\""], ["proof (state)\nthis:\n  P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<And>P P' Q' Q.\n       \\<lbrakk>P \\<sim> P'; P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q';\n        Q' \\<leadsto>[bisim] Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "assume P'SimQ': \"P' \\<leadsto>\\<^sup>^<?X> Q'\""], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P P' Q' Q.\n       \\<lbrakk>P \\<sim> P'; P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q';\n        Q' \\<leadsto>[bisim] Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "assume Q'SimQ: \"Q' \\<leadsto>[bisim] Q\""], ["proof (state)\nthis:\n  Q' \\<leadsto>[bisim] Q\n\ngoal (1 subgoal):\n 1. \\<And>P P' Q' Q.\n       \\<lbrakk>P \\<sim> P'; P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q';\n        Q' \\<leadsto>[bisim] Q\\<rbrakk>\n       \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "show \"P \\<leadsto>\\<^sup>^<?X> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "have \"P' \\<leadsto>\\<^sup>^<?X> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "have \"?X O bisim \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bisim O X O bisim) O bisim \\<subseteq> bisim O X O bisim", "by(blast intro: Strong_Late_Bisim.transitive)"], ["proof (state)\nthis:\n  (bisim O X O bisim) O bisim \\<subseteq> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "moreover"], ["proof (state)\nthis:\n  (bisim O X O bisim) O bisim \\<subseteq> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "from Strong_Late_Bisim.bisimEqvt Eqvt"], ["proof (chain)\npicking this:\n  eqvt bisim\n  eqvt X", "have \"eqvt ?X\""], ["proof (prove)\nusing this:\n  eqvt bisim\n  eqvt X\n\ngoal (1 subgoal):\n 1. eqvt (bisim O X O bisim)", "by blast"], ["proof (state)\nthis:\n  eqvt (bisim O X O bisim)\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "ultimately"], ["proof (chain)\npicking this:\n  (bisim O X O bisim) O bisim \\<subseteq> bisim O X O bisim\n  eqvt (bisim O X O bisim)", "show ?thesis"], ["proof (prove)\nusing this:\n  (bisim O X O bisim) O bisim \\<subseteq> bisim O X O bisim\n  eqvt (bisim O X O bisim)\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "using P'SimQ' Q'SimQ"], ["proof (prove)\nusing this:\n  (bisim O X O bisim) O bisim \\<subseteq> bisim O X O bisim\n  eqvt (bisim O X O bisim)\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q'\n  Q' \\<leadsto>[bisim] Q\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "by(blast intro: strongAppend)"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "moreover"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "have \"eqvt bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt bisim", "by(rule Strong_Late_Bisim.bisimEqvt)"], ["proof (state)\nthis:\n  eqvt bisim\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "moreover"], ["proof (state)\nthis:\n  eqvt bisim\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "from Strong_Late_Bisim.bisimEqvt Eqvt"], ["proof (chain)\npicking this:\n  eqvt bisim\n  eqvt X", "have \"eqvt ?X\""], ["proof (prove)\nusing this:\n  eqvt bisim\n  eqvt X\n\ngoal (1 subgoal):\n 1. eqvt (bisim O X O bisim)", "by blast"], ["proof (state)\nthis:\n  eqvt (bisim O X O bisim)\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "moreover"], ["proof (state)\nthis:\n  eqvt (bisim O X O bisim)\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "have \"bisim O ?X \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bisim O bisim O X O bisim \\<subseteq> bisim O X O bisim", "by(blast intro: Strong_Late_Bisim.transitive)"], ["proof (state)\nthis:\n  bisim O bisim O X O bisim \\<subseteq> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "moreover"], ["proof (state)\nthis:\n  bisim O bisim O X O bisim \\<subseteq> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "have \"\\<And>P Q. P \\<sim> Q \\<Longrightarrow> P \\<leadsto>\\<^sup>^<bisim> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q. P \\<sim> Q \\<Longrightarrow> P \\<leadsto>\\<^sup>^<bisim> Q", "by(blast dest: Strong_Late_Bisim.bisimE strongSimWeakSim)"], ["proof (state)\nthis:\n  ?P \\<sim> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<bisim> ?Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n  eqvt bisim\n  eqvt (bisim O X O bisim)\n  bisim O bisim O X O bisim \\<subseteq> bisim O X O bisim\n  ?P \\<sim> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<bisim> ?Q", "show ?thesis"], ["proof (prove)\nusing this:\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n  eqvt bisim\n  eqvt (bisim O X O bisim)\n  bisim O bisim O X O bisim \\<subseteq> bisim O X O bisim\n  ?P \\<sim> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<bisim> ?Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "using PBisimP'"], ["proof (prove)\nusing this:\n  P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n  eqvt bisim\n  eqvt (bisim O X O bisim)\n  bisim O bisim O X O bisim \\<subseteq> bisim O X O bisim\n  ?P \\<sim> ?Q \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<bisim> ?Q\n  P \\<sim> P'\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q", "by(rule Weak_Late_Sim.transitive)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?P \\<sim> ?P'; ?P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q';\n   ?Q' \\<leadsto>[bisim] ?Q\\<rbrakk>\n  \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "from p"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> X", "have \"(P, Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. (P, Q) \\<in> bisim O X O bisim", "by(blast intro: Strong_Late_Bisim.reflexive)"], ["proof (state)\nthis:\n  (P, Q) \\<in> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "moreover"], ["proof (state)\nthis:\n  (P, Q) \\<in> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "from step Sim"], ["proof (chain)\npicking this:\n  (?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q \\<and> (?Q, ?P) \\<in> X\n  \\<lbrakk>?P \\<sim> ?P'; ?P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q';\n   ?Q' \\<leadsto>[bisim] ?Q\\<rbrakk>\n  \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q", "have \"\\<And>P Q. (P, Q) \\<in> ?X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<?X> Q \\<and> (Q, P) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q \\<and> (?Q, ?P) \\<in> X\n  \\<lbrakk>?P \\<sim> ?P'; ?P' \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q';\n   ?Q' \\<leadsto>[bisim] ?Q\\<rbrakk>\n  \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q) \\<in> bisim O X O bisim \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q \\<and>\n       (Q, P) \\<in> bisim O X O bisim", "by(blast dest: Strong_Late_Bisim.bisimE Strong_Late_Bisim.symmetric)"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> bisim O X O bisim \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q \\<and>\n  (?Q, ?P) \\<in> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "ultimately"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> bisim O X O bisim\n  (?P, ?Q) \\<in> bisim O X O bisim \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q \\<and>\n  (?Q, ?P) \\<in> bisim O X O bisim", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> bisim O X O bisim\n  (?P, ?Q) \\<in> bisim O X O bisim \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q \\<and>\n  (?Q, ?P) \\<in> bisim O X O bisim\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(rule weak_coinduct)"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimTransitiveCoinduct[case_names cSim cSym, consumes 2]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and rSim: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> Q\"\n  and rSym: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n  eqvt X\n  (?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(bisim O X O bisim)> ?Q\n  (?P, ?Q) \\<in> X \\<Longrightarrow> (?Q, ?P) \\<in> X\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct rule: transitive_coinduct_weak) auto"], ["", "end"]]}