{"file_name": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus/Strong_Early_Sim_Pres.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Pi_Calculus", "problem_names": ["lemma tauPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"\\<tau>.(P) \\<leadsto>[Rel] \\<tau>.(Q)\"", "lemma inputPres:\n  fixes P    :: pi\n  and   x    :: name\n  and   Q    :: pi\n  and   a    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"\\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"a<x>.P \\<leadsto>[Rel] a<x>.Q\"", "lemma outputPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"a{b}.P \\<leadsto>[Rel] a{b}.Q\"", "lemma matchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>[Rel] Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  shows \"[a\\<frown>b]P \\<leadsto>[Rel'] [a\\<frown>b]Q\"", "lemma mismatchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>[Rel] Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n\n  shows \"[a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q\"", "lemma sumPres:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n\n  assumes \"P \\<leadsto>[Rel] Q\"\n  and     C1: \"Id \\<subseteq> Rel'\"\n  and     \"Rel \\<subseteq> Rel'\"\n\n  shows \"P \\<oplus> R \\<leadsto>[Rel'] Q \\<oplus> R\"", "lemma parCompose:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   T     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n  and   Rel'' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto>[Rel] Q\"\n  and     RSimT:    \"R \\<leadsto>[Rel'] S\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     RRel'T:   \"(R, S) \\<in> Rel'\"\n  and     Par:      \"\\<And>P' Q' R' S'. \\<lbrakk>(P', Q') \\<in> Rel; (R', S') \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel'' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel''\"\n\n  shows \"P \\<parallel> R \\<leadsto>[Rel''] Q \\<parallel> S\"", "lemma parPres:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   R   :: pi\n  and   a   :: name\n  and   b   :: name\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto>[Rel] Q\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Par:      \"\\<And>S T U. (S, T) \\<in> Rel \\<Longrightarrow> (S \\<parallel> U, T \\<parallel> U) \\<in> Rel'\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel'\"\n\n  shows \"P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R\"", "lemma resPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   x    :: name\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>[Rel] Q\"\n  and     ResSet: \"\\<And>(R::pi) (S::pi) (y::name). (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>y>R, <\\<nu>y>S) \\<in> Rel'\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     EqvtRel: \"eqvt Rel\"\n  and     EqvtRel': \"eqvt Rel'\"\n\n  shows \"<\\<nu>x>P \\<leadsto>[Rel'] <\\<nu>x>Q\"", "lemma resChainI:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   lst :: \"name list\"\n\n  assumes eqvtRel: \"eqvt Rel\"\n  and     Res:     \"\\<And>R S x. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel\"\n  and     PRelQ:   \"P \\<leadsto>[Rel] Q\"\n\n  shows \"(resChain lst) P \\<leadsto>[Rel] (resChain lst) Q\"", "lemma bangPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n \n  assumes PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Sim:      \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto>[Rel] S\"\n  and     eqvtRel:  \"eqvt Rel\"\n\n  shows \"!P \\<leadsto>[bangRel Rel] !Q\""], "translations": [["", "lemma tauPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"\\<tau>.(P) \\<leadsto>[Rel] \\<tau>.(Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.P \\<leadsto>[Rel] \\<tau>.Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Bound a y Q')"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<sharp> \\<tau>.P\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"\\<tau>.(Q) \\<longmapsto> a<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "hence False"], ["proof (prove)\nusing this:\n  \\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. False", "by(induct rule: tauCases', auto)"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>\\<tau>.Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> \\<tau>.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            \\<tau>.P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "have \"\\<tau>.(Q) \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel", "thus \"\\<exists>P'. \\<tau>.(P) \\<longmapsto> \\<alpha>  \\<prec> P' \\<and> (P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "proof(induct rule: tauCases', auto simp add: pi.inject residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q; \\<alpha> = \\<tau>;\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "have \"\\<tau>.(P) \\<longmapsto> \\<tau> \\<prec> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P", "by(rule TransitionsEarly.Tau)"], ["proof (state)\nthis:\n  \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q; \\<alpha> = \\<tau>;\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P", "show \"\\<exists>P'. \\<tau>.(P) \\<longmapsto> \\<tau> \\<prec> P' \\<and> (P', Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P' \\<and> (P', Q) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P' \\<and> (P', Q) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma inputPres:\n  fixes P    :: pi\n  and   x    :: name\n  and   Q    :: pi\n  and   a    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"\\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\"\n  and     Eqvt: \"eqvt Rel\"\n\n  shows \"a<x>.P \\<leadsto>[Rel] a<x>.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a<x>.P \\<leadsto>[Rel] a<x>.Q", "using Eqvt"], ["proof (prove)\nusing this:\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. a<x>.P \\<leadsto>[Rel] a<x>.Q", "proof(induct rule: simCasesCont[where C=\"(x, a, P, Q)\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>a<x>.Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> a<x>.P; y \\<sharp> a<x>.Q;\n        y \\<sharp> (x, a, P, Q)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "case(Bound b y Q')"], ["proof (state)\nthis:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<sharp> a<x>.P\n  y \\<sharp> a<x>.Q\n  y \\<sharp> (x, a, P, Q)\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>a<x>.Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> a<x>.P; y \\<sharp> a<x>.Q;\n        y \\<sharp> (x, a, P, Q)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "from \\<open>y \\<sharp> (x, a, P, Q)\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> (x, a, P, Q)", "have \"y \\<noteq> x\" \"y \\<noteq> a\" \"y \\<sharp> P\" \"y \\<sharp> Q\""], ["proof (prove)\nusing this:\n  y \\<sharp> (x, a, P, Q)\n\ngoal (1 subgoal):\n 1. (y \\<noteq> x &&& y \\<noteq> a) &&& y \\<sharp> P &&& y \\<sharp> Q", "by simp+"], ["proof (state)\nthis:\n  y \\<noteq> x\n  y \\<noteq> a\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>a<x>.Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> a<x>.P; y \\<sharp> a<x>.Q;\n        y \\<sharp> (x, a, P, Q)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a<x>.P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "from \\<open>a<x>.Q \\<longmapsto>b<\\<nu>y> \\<prec> Q'\\<close> \\<open>y \\<noteq> a\\<close> \\<open>y \\<noteq> x\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> Q", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.Q \\<longmapsto> b<\\<nu>y> \\<prec> Q'\n  y \\<noteq> a\n  y \\<noteq> x\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<longmapsto> b<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "by(erule_tac inputCases') auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<longmapsto> b<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "from \\<open>a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "proof(induct rule: inputCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "case(cInput u)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "have \"a<x>.P \\<longmapsto>a<u> \\<prec> P[x::=u]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a<x>.P \\<longmapsto> a<u> \\<prec> P[x::=u]", "by(rule Input)"], ["proof (state)\nthis:\n  a<x>.P \\<longmapsto> a<u> \\<prec> P[x::=u]\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  a<x>.P \\<longmapsto> a<u> \\<prec> P[x::=u]\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  \\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel", "have \"(P[x::=u], Q[x::=u]) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>y. (P[x::=y], Q[x::=y]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (P[x::=u], Q[x::=u]) \\<in> Rel", "by auto"], ["proof (state)\nthis:\n  (P[x::=u], Q[x::=u]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       \\<exists>P'.\n          a<x>.P \\<longmapsto> a<u> \\<prec> P' \\<and>\n          (P', Q[x::=u]) \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  a<x>.P \\<longmapsto> a<u> \\<prec> P[x::=u]\n  (P[x::=u], Q[x::=u]) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  a<x>.P \\<longmapsto> a<u> \\<prec> P[x::=u]\n  (P[x::=u], Q[x::=u]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a<x>.P \\<longmapsto> a<u> \\<prec> P' \\<and> (P', Q[x::=u]) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<longmapsto> a<u> \\<prec> P' \\<and> (P', Q[x::=u]) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a<x>.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma outputPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PRelQ: \"(P, Q) \\<in> Rel\"\n\n  shows \"a{b}.P \\<leadsto>[Rel] a{b}.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.P \\<leadsto>[Rel] a{b}.Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "case(Bound c y Q')"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n  y \\<sharp> a{b}.P\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "have \"a{b}.Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "hence False"], ["proof (prove)\nusing this:\n  a{b}.Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. False", "by(induct rule: outputCases', auto)"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>a{b}.Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> a{b}.P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            a{b}.P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel\n 2. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "thus \"\\<exists>P'. a{b}.P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "have \"a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "thus \"\\<exists>P'. a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  a{b}.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel", "proof(induct rule: outputCases', auto simp add: pi.inject residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a{b}.Q \\<longmapsto> a[b] \\<prec> Q; \\<alpha> = a[b];\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         a{b}.P \\<longmapsto> a[b] \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "have \"a{b}.P \\<longmapsto> a[b] \\<prec> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a{b}.P \\<longmapsto> a[b] \\<prec> P", "by(rule TransitionsEarly.Output)"], ["proof (state)\nthis:\n  a{b}.P \\<longmapsto> a[b] \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a{b}.Q \\<longmapsto> a[b] \\<prec> Q; \\<alpha> = a[b];\n     Q' = Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         a{b}.P \\<longmapsto> a[b] \\<prec> P' \\<and>\n                         (P', Q) \\<in> Rel", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  a{b}.P \\<longmapsto> a[b] \\<prec> P", "show \"\\<exists>P'. a{b}.P \\<longmapsto> a[b] \\<prec> P' \\<and> (P', Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  a{b}.P \\<longmapsto> a[b] \\<prec> P\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       a{b}.P \\<longmapsto> a[b] \\<prec> P' \\<and> (P', Q) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'. a{b}.P \\<longmapsto> a[b] \\<prec> P' \\<and> (P', Q) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     a{b}.P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma matchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>[Rel] Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  shows \"[a\\<frown>b]P \\<leadsto>[Rel'] [a\\<frown>b]Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]P \\<leadsto>[Rel'] [a\\<frown>b]Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound c y Q')"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n  y \\<sharp> [a\\<frown>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"(y::name) \\<sharp> [a\\<frown>b]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sharp> [a\\<frown>b]P", "by fact"], ["proof (state)\nthis:\n  y \\<sharp> [a\\<frown>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence yFreshP: \"y \\<sharp> P\""], ["proof (prove)\nusing this:\n  y \\<sharp> [a\\<frown>b]P\n\ngoal (1 subgoal):\n 1. y \\<sharp> P", "by simp"], ["proof (state)\nthis:\n  y \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<frown>b]Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<frown>b]Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<frown>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<frown>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<frown>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>b]Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>b]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: matchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Match"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>c<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with PSimQ yFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  y \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>c<\\<nu>y> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  y \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> c<\\<nu>y> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> c<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> c<\\<nu>y> \\<prec> P'", "have \"[a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> c<\\<nu>y> \\<prec> P'\n\ngoal (1 subgoal):\n 1. [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P'", "by(rule Early_Semantics.Match)"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>b]P \\<longmapsto> c<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "assume \"[a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (state)\nthis:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: matchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Match"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto> \\<alpha> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> \\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'", "have \"[a\\<frown>a]P \\<longmapsto>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P'", "by(rule TransitionsEarly.Match)"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>a]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<frown>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mismatchPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   a    :: name\n  and   b    :: name\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>[Rel] Q\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n\n  shows \"[a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "proof(cases \"a = b\")"], ["proof (state)\ngoal (2 subgoals):\n 1. a = b \\<Longrightarrow> [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q\n 2. a \\<noteq> b \\<Longrightarrow>\n    [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "assume \"a = b\""], ["proof (state)\nthis:\n  a = b\n\ngoal (2 subgoals):\n 1. a = b \\<Longrightarrow> [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q\n 2. a \\<noteq> b \\<Longrightarrow>\n    [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = b\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "by(auto simp add: strongSimEarly_def)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q\n\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow>\n    [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow>\n    [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "assume aineqb: \"a \\<noteq> b\""], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow>\n    [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound c x Q')"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"x \\<sharp> [a\\<noteq>b]P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> [a\\<noteq>b]P", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence xFreshP: \"x \\<sharp> P\""], ["proof (prove)\nusing this:\n  x \\<sharp> [a\\<noteq>b]P\n\ngoal (1 subgoal):\n 1. x \\<sharp> P", "by simp"], ["proof (state)\nthis:\n  x \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>aa y Q'.\n       \\<lbrakk>[a\\<noteq>b]Q \\<longmapsto> aa<\\<nu>y> \\<prec> Q';\n        y \\<sharp> [a\\<noteq>b]P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            [a\\<noteq>b]P \\<longmapsto> aa<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: mismatchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "case Mismatch"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>c<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with PSimQ xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>c<\\<nu>x> \\<prec> P'\"\n                                     and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  x \\<sharp> P\n  Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> c<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from PTrans aineqb"], ["proof (chain)\npicking this:\n  P \\<longmapsto> c<\\<nu>x> \\<prec> P'\n  a \\<noteq> b", "have \"[a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> c<\\<nu>x> \\<prec> P'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P'", "by(rule Early_Semantics.Mismatch)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> c<\\<nu>x> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<longmapsto> c<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"[a\\<noteq>b]Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "thus ?case"], ["proof (prove)\nusing this:\n  [a\\<noteq>b]Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: mismatchCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "case Mismatch"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto> \\<alpha> \\<prec> P'\"\n                             and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> \\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "from PTrans \\<open>a \\<noteq> b\\<close>"], ["proof (chain)\npicking this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n  a \\<noteq> b", "have \"[a\\<noteq>b]P \\<longmapsto>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P'", "by(rule TransitionsEarly.Mismatch)"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> Q'; a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "with RelRel' PRel"], ["proof (chain)\npicking this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  Rel \\<subseteq> Rel'\n  (P', Q') \\<in> Rel\n  [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     [a\\<noteq>b]P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [a\\<noteq>b]P \\<leadsto>[Rel'] [a\\<noteq>b]Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sumPres:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n\n  assumes \"P \\<leadsto>[Rel] Q\"\n  and     C1: \"Id \\<subseteq> Rel'\"\n  and     \"Rel \\<subseteq> Rel'\"\n\n  shows \"P \\<oplus> R \\<leadsto>[Rel'] Q \\<oplus> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<leadsto>[Rel'] Q \\<oplus> R", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound a y Q')"], ["proof (state)\nthis:\n  Q \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<sharp> P \\<oplus> R\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"y \\<sharp> P \\<oplus> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sharp> P \\<oplus> R", "by fact"], ["proof (state)\nthis:\n  y \\<sharp> P \\<oplus> R\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence \"(y::name) \\<sharp> P\" and  \"y \\<sharp> R\""], ["proof (prove)\nusing this:\n  y \\<sharp> P \\<oplus> R\n\ngoal (1 subgoal):\n 1. y \\<sharp> P &&& y \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  y \\<sharp> P\n  y \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<oplus> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<oplus>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from \\<open>Q \\<oplus> R \\<longmapsto>a<\\<nu>y> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  Q \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  Q \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum1"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from \\<open>P \\<leadsto>[Rel] Q\\<close> \\<open>Q \\<longmapsto>a<\\<nu>y> \\<prec> Q'\\<close> \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<sharp> P", "obtain P' where PTrans: \"P \\<longmapsto>a<\\<nu>y> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>y> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'", "have \"P \\<oplus> R \\<longmapsto>a<\\<nu>y> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P'", "by(rule Early_Semantics.Sum1)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from P'RelQ' \\<open>Rel \\<subseteq> Rel'\\<close>"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum2"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from \\<open>R \\<longmapsto>a<\\<nu>y> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "have \"P \\<oplus> R \\<longmapsto>a<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "by(rule Early_Semantics.Sum2)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from C1"], ["proof (chain)\npicking this:\n  Id \\<subseteq> Rel'", "have \"(Q', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Id \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (Q', Q') \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> a<\\<nu>y> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  (Q', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from \\<open>Q \\<oplus> R \\<longmapsto>\\<alpha> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'", "show \"\\<exists>P'. P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Q \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum1"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "have \"Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "with \\<open>P \\<leadsto>[Rel] Q\\<close>"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>\\<alpha> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> \\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'", "have \"P \\<oplus> R \\<longmapsto>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P'", "by(rule TransitionsEarly.Sum1)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from P'RelQ' \\<open>Rel \\<subseteq> Rel'\\<close>"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"(P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (P', Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'\n 2. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "case Sum2"], ["proof (state)\nthis:\n  R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from \\<open>R \\<longmapsto>\\<alpha> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  R \\<longmapsto> \\<alpha> \\<prec> Q'", "have \"P \\<oplus> R \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'", "by(rule TransitionsEarly.Sum2)"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from C1"], ["proof (chain)\npicking this:\n  Id \\<subseteq> Rel'", "have \"(Q', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  Id \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. (Q', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. R \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n  (Q', Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> Q'\n  (Q', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<oplus> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma parCompose:\n  fixes P     :: pi\n  and   Q     :: pi\n  and   R     :: pi\n  and   T     :: pi\n  and   Rel   :: \"(pi \\<times> pi) set\"\n  and   Rel'  :: \"(pi \\<times> pi) set\"\n  and   Rel'' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto>[Rel] Q\"\n  and     RSimT:    \"R \\<leadsto>[Rel'] S\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     RRel'T:   \"(R, S) \\<in> Rel'\"\n  and     Par:      \"\\<And>P' Q' R' S'. \\<lbrakk>(P', Q') \\<in> Rel; (R', S') \\<in> Rel'\\<rbrakk> \\<Longrightarrow> (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel'' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel''\"\n\n  shows \"P \\<parallel> R \\<leadsto>[Rel''] Q \\<parallel> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel''] Q \\<parallel> S", "proof(induct rule: simCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "case(Bound a x Q')"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "have \"Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk>Q \\<parallel> S \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel''\n 2. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<parallel> S \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel''", "proof(induct rule: parCasesB)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "case(cPar1 Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> S\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "have \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "with PSimQ xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  x \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans:\"P \\<longmapsto> a<\\<nu>x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  x \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from PTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)", "by(rule Early_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from P'RelQ' RRel'T"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'", "have \"(P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> S\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "case(cPar2 S')"], ["proof (state)\nthis:\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "have \"S \\<longmapsto> a<\\<nu>x> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> a<\\<nu>x> \\<prec> S'", "by fact"], ["proof (state)\nthis:\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "with RSimT xFreshR"], ["proof (chain)\npicking this:\n  R \\<leadsto>[Rel'] S\n  x \\<sharp> R\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'", "obtain R' where RTrans:\"R \\<longmapsto> a<\\<nu>x> \\<prec> R'\" and R'Rel'T': \"(R', S') \\<in>  Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto>[Rel'] S\n  x \\<sharp> R\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from RTrans xFreshP"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have ParTrans: \"P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')", "by(rule Early_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "from PRelQ R'Rel'T'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P \\<parallel> R', Q \\<parallel>  S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<lbrakk>S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q \\<parallel> Q') \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q \\<parallel> S') \\<in> Rel''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "case(Free \\<alpha> QT')"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "have \"Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'", "by fact"], ["proof (state)\nthis:\n  Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel''", "thus ?case"], ["proof (prove)\nusing this:\n  Q \\<parallel> S \\<longmapsto> \\<alpha> \\<prec> QT'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', QT') \\<in> Rel''", "proof(induct rule: parCasesF[of _ _ _ _ _ \"(P, R)\"])"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cPar1 Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto> \\<alpha> \\<prec> P'\" and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> \\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'", "have \"P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R", "by(rule Early_Semantics.Par1F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PRel RRel'T"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'", "have \"(P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, S) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (6 subgoals):\n 1. \\<And>P'.\n       Q \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n       \\<exists>P'a.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n          (P'a, P' \\<parallel> S) \\<in> Rel''\n 2. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 6. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> S) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S) \\<in> Rel''\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cPar2 S')"], ["proof (state)\nthis:\n  S \\<longmapsto> \\<alpha> \\<prec> S'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"S \\<longmapsto> \\<alpha> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> \\<alpha> \\<prec> S'", "by fact"], ["proof (state)\nthis:\n  S \\<longmapsto> \\<alpha> \\<prec> S'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with RSimT"], ["proof (chain)\npicking this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> \\<alpha> \\<prec> S'", "obtain R' where RTrans: \"R \\<longmapsto> \\<alpha> \\<prec> R'\" and RRel: \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> \\<alpha> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> \\<alpha> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> \\<alpha> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<longmapsto> \\<alpha> \\<prec> R'", "have \"P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> \\<alpha> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'", "by(rule Early_Semantics.Par2F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PRelQ RRel"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (5 subgoals):\n 1. \\<And>Q'.\n       S \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 5. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q \\<parallel> S') \\<in> Rel''\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cComm1 Q' S' a b)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  S \\<longmapsto> a[b] \\<prec> S'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"Q \\<longmapsto> a<b> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<b> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a<b> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>a<b> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a<b> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<b> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<b> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"S \\<longmapsto> a[b] \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> a[b] \\<prec> S'", "by fact"], ["proof (state)\nthis:\n  S \\<longmapsto> a[b] \\<prec> S'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with RSimT"], ["proof (chain)\npicking this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> a[b] \\<prec> S'", "obtain R' where RTrans: \"R \\<longmapsto>a[b] \\<prec> R'\" and RRel: \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> a[b] \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a[b] \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> a[b] \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<b> \\<prec> P'\n  R \\<longmapsto> a[b] \\<prec> R'", "have \"P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<b> \\<prec> P'\n  R \\<longmapsto> a[b] \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'", "by(rule Early_Semantics.Comm1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from P'RelQ' RRel"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (4 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        S \\<longmapsto> a[b] \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 4. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cComm2 Q' S' a b)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  S \\<longmapsto> a<b> \\<prec> S'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"Q \\<longmapsto> (OutputR a b) \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[b] \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a[b] \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>a[b] \\<prec> P'\" and PRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a[b] \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a[b] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a[b] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"S \\<longmapsto> a<b> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> a<b> \\<prec> S'", "by fact"], ["proof (state)\nthis:\n  S \\<longmapsto> a<b> \\<prec> S'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with RSimT"], ["proof (chain)\npicking this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> a<b> \\<prec> S'", "obtain R' where RTrans: \"R \\<longmapsto>a<b> \\<prec> R'\" and R'Rel'T': \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> a<b> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<b> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> a<b> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a[b] \\<prec> P'\n  R \\<longmapsto> a<b> \\<prec> R'", "have \"P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a[b] \\<prec> P'\n  R \\<longmapsto> a<b> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'", "by(rule Early_Semantics.Comm2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PRel R'Rel'T'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "by(rule Par)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (3 subgoals):\n 1. \\<And>P' Q' a b.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        S \\<longmapsto> a<b> \\<prec> Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, P' \\<parallel> Q') \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 3. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> S') \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> S') \\<in> Rel''\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cClose1 Q' S' a x)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n  x \\<sharp> Q\n  x \\<sharp> (P, R)\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"x \\<sharp> (P, R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> (P, R)", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> (P, R)\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"Q \\<longmapsto> a<x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a<x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>a<x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a<x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"S \\<longmapsto> a<\\<nu>x> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> a<\\<nu>x> \\<prec> S'", "by fact"], ["proof (state)\nthis:\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with RSimT xFreshR"], ["proof (chain)\npicking this:\n  R \\<leadsto>[Rel'] S\n  x \\<sharp> R\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'", "obtain R' where RTrans: \"R \\<longmapsto>a<\\<nu>x> \\<prec> R'\" and R'Rel'T': \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto>[Rel'] S\n  x \\<sharp> R\n  S \\<longmapsto> a<\\<nu>x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<x> \\<prec> P'\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<x> \\<prec> P'\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Early_Semantics.Close1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from P'RelQ' R'Rel'T'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by(blast intro: Par Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (2 subgoals):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        S \\<longmapsto> a<\\<nu>x> \\<prec> Q'; x \\<sharp> Q;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''\n 2. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "case(cClose2 Q' S' a x)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  S \\<longmapsto> a<x> \\<prec> S'\n  x \\<sharp> S\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"x \\<sharp> (P, R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> (P, R)", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> (P, R)\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with PSimQ xFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  x \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>a<\\<nu>x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  x \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "have \"S \\<longmapsto> a<x> \\<prec> S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<longmapsto> a<x> \\<prec> S'", "by fact"], ["proof (state)\nthis:\n  S \\<longmapsto> a<x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "with RSimT"], ["proof (chain)\npicking this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> a<x> \\<prec> S'", "obtain R' where RTrans: \"R \\<longmapsto>a<x> \\<prec> R'\" and R'Rel'T': \"(R', S') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  R \\<leadsto>[Rel'] S\n  S \\<longmapsto> a<x> \\<prec> S'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<x> \\<prec> R';\n         (R', S') \\<in> Rel'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> a<x> \\<prec> R'\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from PTrans RTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  R \\<longmapsto> a<x> \\<prec> R'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  R \\<longmapsto> a<x> \\<prec> R'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Early_Semantics.Close2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "from P'RelQ' R'Rel'T'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', S') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by(blast intro: Par Res)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<And>P' Q' a x.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        S \\<longmapsto> a<x> \\<prec> Q'; x \\<sharp> S;\n        x \\<sharp> (P, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            P \\<parallel>\n                            R \\<longmapsto> \\<tau> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>(P' \\<parallel> Q')) \\<in> Rel''", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> S')) \\<in> Rel''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', QT') \\<in> Rel''\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma parPres:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   R   :: pi\n  and   a   :: name\n  and   b   :: name\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   Rel' :: \"(pi \\<times> pi) set\"\n  \n  assumes PSimQ:    \"P \\<leadsto>[Rel] Q\"\n  and     PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Par:      \"\\<And>S T U. (S, T) \\<in> Rel \\<Longrightarrow> (S \\<parallel> U, T \\<parallel> U) \\<in> Rel'\"\n  and     Res:      \"\\<And>S T x. (S, T) \\<in> Rel' \\<Longrightarrow> (<\\<nu>x>S, <\\<nu>x>T) \\<in> Rel'\"\n\n  shows \"P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "note PSimQ"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "have RSimR: \"R \\<leadsto>[Id] R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R \\<leadsto>[Id] R", "by(auto intro: reflexive)"], ["proof (state)\nthis:\n  R \\<leadsto>[Id] R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  R \\<leadsto>[Id] R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "note PRelQ"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "have \"(R, R) \\<in> Id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (R, R) \\<in> Id", "by auto"], ["proof (state)\nthis:\n  (R, R) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  (R, R) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "from Par"], ["proof (chain)\npicking this:\n  (?S, ?T) \\<in> Rel \\<Longrightarrow>\n  (?S \\<parallel> ?U, ?T \\<parallel> ?U) \\<in> Rel'", "have \"\\<And>P Q R T. \\<lbrakk>(P, Q) \\<in> Rel; (R, T) \\<in> Id\\<rbrakk> \\<Longrightarrow> (P \\<parallel> R, Q \\<parallel> T) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (?S, ?T) \\<in> Rel \\<Longrightarrow>\n  (?S \\<parallel> ?U, ?T \\<parallel> ?U) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R T.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, T) \\<in> Id\\<rbrakk>\n       \\<Longrightarrow> (P \\<parallel> R, Q \\<parallel> T) \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "ultimately"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  R \\<leadsto>[Id] R\n  (P, Q) \\<in> Rel\n  (R, R) \\<in> Id\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  R \\<leadsto>[Id] R\n  (P, Q) \\<in> Rel\n  (R, R) \\<in> Id\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "using Res"], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  R \\<leadsto>[Id] R\n  (P, Q) \\<in> Rel\n  (R, R) \\<in> Id\n  \\<lbrakk>(?P, ?Q) \\<in> Rel; (?R, ?T) \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (?P \\<parallel> ?R, ?Q \\<parallel> ?T) \\<in> Rel'\n  (?S, ?T) \\<in> Rel' \\<Longrightarrow>\n  (<\\<nu>?x>?S, <\\<nu>?x>?T) \\<in> Rel'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R", "by(rule parCompose)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<leadsto>[Rel'] Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n  and   x    :: name\n  and   Rel' :: \"(pi \\<times> pi) set\"\n\n  assumes PSimQ: \"P \\<leadsto>[Rel] Q\"\n  and     ResSet: \"\\<And>(R::pi) (S::pi) (y::name). (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>y>R, <\\<nu>y>S) \\<in> Rel'\"\n  and     RelRel': \"Rel \\<subseteq> Rel'\"\n  and     EqvtRel: \"eqvt Rel\"\n  and     EqvtRel': \"eqvt Rel'\"\n\n  shows \"<\\<nu>x>P \\<leadsto>[Rel'] <\\<nu>x>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto>[Rel'] <\\<nu>x>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto>[Rel'] <\\<nu>x>Q", "from EqvtRel'"], ["proof (chain)\npicking this:\n  eqvt Rel'", "show ?thesis"], ["proof (prove)\nusing this:\n  eqvt Rel'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<leadsto>[Rel'] <\\<nu>x>Q", "proof(induct rule: simCasesCont[where C = \"(P, x)\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> <\\<nu>x>P; y \\<sharp> <\\<nu>x>Q;\n        y \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Bound a y Q')"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<sharp> <\\<nu>x>P\n  y \\<sharp> <\\<nu>x>Q\n  y \\<sharp> (P, x)\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> <\\<nu>x>P; y \\<sharp> <\\<nu>x>Q;\n        y \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have Trans: \"<\\<nu>x>Q \\<longmapsto>a<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> <\\<nu>x>P; y \\<sharp> <\\<nu>x>Q;\n        y \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"y \\<sharp> (P, x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sharp> (P, x)", "by fact"], ["proof (state)\nthis:\n  y \\<sharp> (P, x)\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> <\\<nu>x>P; y \\<sharp> <\\<nu>x>Q;\n        y \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "hence yineqx: \"y \\<noteq> x\" and yFreshP: \"y \\<sharp> (P::pi)\""], ["proof (prove)\nusing this:\n  y \\<sharp> (P, x)\n\ngoal (1 subgoal):\n 1. y \\<noteq> x &&& y \\<sharp> P", "by simp+"], ["proof (state)\nthis:\n  y \\<noteq> x\n  y \\<sharp> P\n\ngoal (2 subgoals):\n 1. \\<And>a y Q'.\n       \\<lbrakk><\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q';\n        y \\<sharp> <\\<nu>x>P; y \\<sharp> <\\<nu>x>Q;\n        y \\<sharp> (P, x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n                            (P', Q') \\<in> Rel'\n 2. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from Trans yineqx"], ["proof (chain)\npicking this:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<noteq> x", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  y \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof(induct rule: resCasesB)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "case(Open Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[x] \\<prec> Q'\n  a \\<noteq> x\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>(a::name)[x] \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[x] \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[x] \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "with PSimQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a[x] \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto> a[x] \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  Q \\<longmapsto> a[x] \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a[x] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a[x] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have \"<\\<nu>x>P \\<longmapsto>a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "have aineqx: \"a \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> x", "by fact"], ["proof (state)\nthis:\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "with PTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a[x] \\<prec> P'\n  a \\<noteq> x", "have \"<\\<nu>x>P \\<longmapsto>a<\\<nu>x> \\<prec> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a[x] \\<prec> P'\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>x> \\<prec> P'", "by(rule TransitionsEarly.Open)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "have \"a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "from PTrans yFreshP"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a[x] \\<prec> P'\n  y \\<sharp> P", "have yFreshP': \"y \\<sharp> P'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a[x] \\<prec> P'\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. y \\<sharp> P'", "by(force intro: freshTransition)"], ["proof (state)\nthis:\n  y \\<sharp> P'\n\ngoal (1 subgoal):\n 1. a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "thus ?thesis"], ["proof (prove)\nusing this:\n  y \\<sharp> P'\n\ngoal (1 subgoal):\n 1. a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "by(simp add: alphaBoundOutput name_swap)"], ["proof (state)\nthis:\n  a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "show ?thesis"], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  a<\\<nu>x> \\<prec> P' = a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')", "by simp"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from EqvtRel P'RelQ' RelRel'"], ["proof (chain)\npicking this:\n  eqvt Rel\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'", "have \"([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  eqvt Rel\n  (P', Q') \\<in> Rel\n  Rel \\<subseteq> Rel'\n\ngoal (1 subgoal):\n 1. ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "by(blast intro: eqvtRelI)"], ["proof (state)\nthis:\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (2 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a[x] \\<prec> P'; a \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, [(y, x)] \\<bullet> P') \\<in> Rel'\n 2. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "show ?case"], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> ([(y, x)] \\<bullet> P')\n  ([(y, x)] \\<bullet> P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', [(y, x)] \\<bullet> Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n     (P', [(y, x)] \\<bullet> Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "case(Res Q')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have QTrans: \"Q \\<longmapsto>a<\\<nu>y> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "with PSimQ yFreshP"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'", "obtain P' where PTrans: \"P \\<longmapsto>a<\\<nu>y> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n  y \\<sharp> P\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>y> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "have xineqa: \"x \\<noteq> a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<noteq> a", "by fact"], ["proof (state)\nthis:\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "with PTrans yineqx"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  y \\<noteq> x\n  x \\<noteq> a", "have ResTrans: \"<\\<nu>x>P \\<longmapsto>a<\\<nu>y> \\<prec> (<\\<nu>x>P')\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  y \\<noteq> x\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> (<\\<nu>x>P')", "by(blast intro: ResB)"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> (<\\<nu>x>P')\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> (<\\<nu>x>P')\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "from P'RelQ'"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel", "have \"((<\\<nu>x>P'), (<\\<nu>x>Q')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'", "by(rule ResSet)"], ["proof (state)\nthis:\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>y> \\<prec> P'; x \\<noteq> a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>x>P') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> (<\\<nu>x>P')\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'", "show \"\\<exists>P'. <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and> (P', (<\\<nu>x>Q')) \\<in> Rel'\""], ["proof (prove)\nusing this:\n  <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> (<\\<nu>x>P')\n  (<\\<nu>x>P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', <\\<nu>x>Q') \\<in> Rel'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n     (P', <\\<nu>x>Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "case(Free \\<alpha> Q')"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have Trans: \"<\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"\\<exists>c::name. c \\<sharp> (P, Q, Q', \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)", "by(blast intro: name_exists_fresh)"], ["proof (state)\nthis:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "then"], ["proof (chain)\npicking this:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)", "obtain c::name where cFreshQ: \"c \\<sharp> Q\" and cFreshAlpha: \"c \\<sharp> \\<alpha>\" and cFreshQ': \"c \\<sharp> Q'\" and cFreshP: \"c \\<sharp> P\""], ["proof (prove)\nusing this:\n  \\<exists>c. c \\<sharp> (P, Q, Q', \\<alpha>)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>c \\<sharp> Q; c \\<sharp> \\<alpha>; c \\<sharp> Q';\n         c \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(force simp add: fresh_prod)"], ["proof (state)\nthis:\n  c \\<sharp> Q\n  c \\<sharp> \\<alpha>\n  c \\<sharp> Q'\n  c \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "from cFreshP"], ["proof (chain)\npicking this:\n  c \\<sharp> P", "have \"<\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  c \\<sharp> P\n\ngoal (1 subgoal):\n 1. <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)", "by(simp add: alphaRes)"], ["proof (state)\nthis:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "have \"\\<exists>P'.<\\<nu>c>([(x, c)] \\<bullet> P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from Trans cFreshQ"], ["proof (chain)\npicking this:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> Q", "have \"<\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  c \\<sharp> Q\n\ngoal (1 subgoal):\n 1. <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'", "by(simp add: alphaRes)"], ["proof (state)\nthis:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "moreover"], ["proof (state)\nthis:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "from EqvtRel PSimQ"], ["proof (chain)\npicking this:\n  eqvt Rel\n  P \\<leadsto>[Rel] Q", "have \"([(x, c)] \\<bullet> P) \\<leadsto>[Rel] ([(x, c)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  eqvt Rel\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. [(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q", "by(blast intro: eqvtI)"], ["proof (state)\nthis:\n  [(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n  [(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q", "show ?thesis"], ["proof (prove)\nusing this:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n  [(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "using cFreshAlpha"], ["proof (prove)\nusing this:\n  <\\<nu>c>([(x, c)] \\<bullet> Q) \\<longmapsto> \\<alpha> \\<prec> Q'\n  [(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q\n  c \\<sharp> \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>c>([(x, c)] \\<bullet>\n                P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk><\\<nu>c>([(x, c)] \\<bullet>\n                      Q) \\<longmapsto> \\<alpha> \\<prec> Q';\n     [(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q;\n     c \\<sharp> \\<alpha>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         <\\<nu>c>([(x, c)] \\<bullet>\n                                  P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                         (P', Q') \\<in> Rel'", "apply(erule resCasesF)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>[(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q;\n     c \\<sharp> \\<alpha>\\<rbrakk>\n    \\<Longrightarrow> c \\<sharp> \\<alpha>\n 2. \\<And>P'.\n       \\<lbrakk>[(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q;\n        c \\<sharp> \\<alpha>;\n        [(x, c)] \\<bullet> Q \\<longmapsto> \\<alpha> \\<prec> P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>c>([(x, c)] \\<bullet>\n                                     P) \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>c>P') \\<in> Rel'", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>[(x, c)] \\<bullet> P \\<leadsto>[Rel] [(x, c)] \\<bullet> Q;\n        c \\<sharp> \\<alpha>;\n        [(x, c)] \\<bullet> Q \\<longmapsto> \\<alpha> \\<prec> P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'a.\n                            <\\<nu>c>([(x, c)] \\<bullet>\n                                     P) \\<longmapsto> \\<alpha> \\<prec> P'a \\<and>\n                            (P'a, <\\<nu>c>P') \\<in> Rel'", "by(blast intro: ResF ResSet dest: elim)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet> P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet> P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> Q'.\n       <\\<nu>x>Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> Rel'", "ultimately"], ["proof (chain)\npicking this:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet> P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'", "show \"\\<exists>P'.<\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\""], ["proof (prove)\nusing this:\n  <\\<nu>x>P = <\\<nu>c>([(x, c)] \\<bullet> P)\n  \\<exists>P'.\n     <\\<nu>c>([(x, c)] \\<bullet> P) \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q') \\<in> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q') \\<in> Rel'", "by auto"], ["proof (state)\nthis:\n  \\<exists>P'.\n     <\\<nu>x>P \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> Rel'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  <\\<nu>x>P \\<leadsto>[Rel'] <\\<nu>x>Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resChainI:\n  fixes P   :: pi\n  and   Q   :: pi\n  and   Rel :: \"(pi \\<times> pi) set\"\n  and   lst :: \"name list\"\n\n  assumes eqvtRel: \"eqvt Rel\"\n  and     Res:     \"\\<And>R S x. (R, S) \\<in> Rel \\<Longrightarrow> (<\\<nu>x>R, <\\<nu>x>S) \\<in> Rel\"\n  and     PRelQ:   \"P \\<leadsto>[Rel] Q\"\n\n  shows \"(resChain lst) P \\<leadsto>[Rel] (resChain lst) Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resChain lst P \\<leadsto>[Rel] resChain lst Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. resChain lst P \\<leadsto>[Rel] resChain lst Q", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. resChain lst P \\<leadsto>[Rel] resChain lst Q", "proof(induct lst)"], ["proof (state)\ngoal (2 subgoals):\n 1. resChain [] P \\<leadsto>[Rel] resChain [] Q\n 2. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "(* Base case *)"], ["proof (state)\ngoal (2 subgoals):\n 1. resChain [] P \\<leadsto>[Rel] resChain [] Q\n 2. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "from PRelQ"], ["proof (chain)\npicking this:\n  P \\<leadsto>[Rel] Q", "show \"resChain [] P \\<leadsto>[Rel] resChain [] Q\""], ["proof (prove)\nusing this:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. resChain [] P \\<leadsto>[Rel] resChain [] Q", "by simp"], ["proof (state)\nthis:\n  resChain [] P \\<leadsto>[Rel] resChain [] Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "(* Inductive step *)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "fix a lst"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "assume IH: \"(resChain lst P) \\<leadsto>[Rel] (resChain lst Q)\""], ["proof (state)\nthis:\n  resChain lst P \\<leadsto>[Rel] resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "moreover"], ["proof (state)\nthis:\n  resChain lst P \\<leadsto>[Rel] resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "from Res"], ["proof (chain)\npicking this:\n  (?R, ?S) \\<in> Rel \\<Longrightarrow> (<\\<nu>?x>?R, <\\<nu>?x>?S) \\<in> Rel", "have \"\\<And>P Q a. (P, Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>a>P, <\\<nu>a>Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (?R, ?S) \\<in> Rel \\<Longrightarrow> (<\\<nu>?x>?R, <\\<nu>?x>?S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q a.\n       (P, Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>a>P, <\\<nu>a>Q) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "moreover"], ["proof (state)\nthis:\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "have \"Rel \\<subseteq> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Rel \\<subseteq> Rel", "by simp"], ["proof (state)\nthis:\n  Rel \\<subseteq> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "ultimately"], ["proof (chain)\npicking this:\n  resChain lst P \\<leadsto>[Rel] resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel", "have \"<\\<nu>a>(resChain lst P) \\<leadsto>[Rel] <\\<nu>a>(resChain lst Q)\""], ["proof (prove)\nusing this:\n  resChain lst P \\<leadsto>[Rel] resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel\n\ngoal (1 subgoal):\n 1. <\\<nu>a>resChain lst P \\<leadsto>[Rel] <\\<nu>a>resChain lst Q", "using eqvtRel"], ["proof (prove)\nusing this:\n  resChain lst P \\<leadsto>[Rel] resChain lst Q\n  (?P, ?Q) \\<in> Rel \\<Longrightarrow> (<\\<nu>?a>?P, <\\<nu>?a>?Q) \\<in> Rel\n  Rel \\<subseteq> Rel\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. <\\<nu>a>resChain lst P \\<leadsto>[Rel] <\\<nu>a>resChain lst Q", "by(rule_tac resPres)"], ["proof (state)\nthis:\n  <\\<nu>a>resChain lst P \\<leadsto>[Rel] <\\<nu>a>resChain lst Q\n\ngoal (1 subgoal):\n 1. \\<And>a lst.\n       resChain lst P \\<leadsto>[Rel] resChain lst Q \\<Longrightarrow>\n       resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "thus \"resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q\""], ["proof (prove)\nusing this:\n  <\\<nu>a>resChain lst P \\<leadsto>[Rel] <\\<nu>a>resChain lst Q\n\ngoal (1 subgoal):\n 1. resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q", "by simp"], ["proof (state)\nthis:\n  resChain (a # lst) P \\<leadsto>[Rel] resChain (a # lst) Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  resChain lst P \\<leadsto>[Rel] resChain lst Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bangPres:\n  fixes P    :: pi\n  and   Q    :: pi\n  and   Rel  :: \"(pi \\<times> pi) set\"\n \n  assumes PRelQ:    \"(P, Q) \\<in> Rel\"\n  and     Sim:      \"\\<And>R S. (R, S) \\<in> Rel \\<Longrightarrow> R \\<leadsto>[Rel] S\"\n  and     eqvtRel:  \"eqvt Rel\"\n\n  shows \"!P \\<leadsto>[bangRel Rel] !Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "let ?Sim = \"\\<lambda>P Rs. (\\<forall>a x Q'. Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow> x \\<sharp> P \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>a<\\<nu>x> \\<prec> P' \\<and> (P', Q') \\<in> bangRel Rel)) \\<and>\n                     (\\<forall>\\<alpha> Q'. Rs = \\<alpha> \\<prec> Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>\\<alpha> \\<prec> P' \\<and> (P', Q') \\<in> bangRel Rel))\""], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "from eqvtRel"], ["proof (chain)\npicking this:\n  eqvt Rel", "have EqvtBangRel: \"eqvt(bangRel Rel)\""], ["proof (prove)\nusing this:\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. eqvt (bangRel Rel)", "by(rule eqvtBangRel)"], ["proof (state)\nthis:\n  eqvt (bangRel Rel)\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "{"], ["proof (state)\nthis:\n  eqvt (bangRel Rel)\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "fix Pa Rs"], ["proof (state)\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "assume \"!Q \\<longmapsto> Rs\" and \"(Pa, !Q) \\<in> bangRel Rel\""], ["proof (state)\nthis:\n  !Q \\<longmapsto> Rs\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "hence \"?Sim Pa Rs\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> Rs\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel))", "using PRelQ"], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> Rs\n  (Pa, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel))", "proof(nominal_induct avoiding: Pa P rule: bangInduct)"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Par1B a x Q' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> Pa", "by fact+"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (9 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (P' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 9. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus \"?Sim Pa (a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q))\""], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (R, !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject alpha')"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>[Rel] Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>[Rel] Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "with QTrans xFreshP"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>[Rel] Q", "obtain P' where PTrans: \"P \\<longmapsto> a<\\<nu>x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "from PTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)", "by(force intro: Early_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "from P'RelQ' PBRQ"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel", "have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto>a<\\<nu>x> \\<prec> P' \\<and> (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P' \\<parallel> R)\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "assume \"(y::name) \\<sharp> Q'\" and \"y \\<sharp> P\" and \"y \\<sharp> R\" and \"y \\<sharp> Q\""], ["proof (state)\nthis:\n  y \\<sharp> Q'\n  y \\<sharp> P\n  y \\<sharp> R\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "from QTrans \\<open>y \\<sharp> Q'\\<close>"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  y \\<sharp> Q'", "have \"Q \\<longmapsto>a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  y \\<sharp> Q'\n\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')", "by(simp add: alphaBoundOutput)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>[Rel] Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>[Rel] Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n  P \\<leadsto>[Rel] Q", "obtain P' where PTrans: \"P \\<longmapsto>a<\\<nu>y> \\<prec> P'\" and P'RelQ': \"(P', [(x, y)] \\<bullet> Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>y> \\<prec> P';\n         (P', [(x, y)] \\<bullet> Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>y \\<sharp> P\\<close>"], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q')\n  P \\<leadsto>[Rel] Q\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>y> \\<prec> P';\n         (P', [(x, y)] \\<bullet> Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "from PTrans \\<open>y \\<sharp> R\\<close>"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  y \\<sharp> R", "have \"P \\<parallel> R \\<longmapsto>a<\\<nu>y> \\<prec> (P' \\<parallel> R)\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<\\<nu>y> \\<prec> P'\n  y \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P' \\<parallel> R)", "by(force intro: Early_Semantics.Par1B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P' \\<parallel> R)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P' \\<parallel> R)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "from P'RelQ' PBRQ"], ["proof (chain)\npicking this:\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel", "have \"(P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', [(x, y)] \\<bullet> Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n    \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "with \\<open>x \\<sharp> Q\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> Q\n  y \\<sharp> Q\n  (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n  \\<in> bangRel Rel", "have \"(P' \\<parallel> R, ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q)) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  x \\<sharp> Q\n  y \\<sharp> Q\n  (P' \\<parallel> R, ([(x, y)] \\<bullet> Q') \\<parallel> !Q)\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R,\n     ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n    \\<in> bangRel Rel", "by(simp add: name_fresh_fresh name_swap)"], ["proof (state)\nthis:\n  (P' \\<parallel> R,\n   ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>x \\<noteq> xa; xa \\<sharp> Q'; xa \\<sharp> Q; xa \\<sharp> P;\n        xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q') \\<parallel>\n                             !([(xa, x)] \\<bullet> Q))\n                            \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P' \\<parallel> R)\n  (P' \\<parallel> R,\n   ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n  \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto>a<\\<nu>y> \\<prec> P' \\<and> (P', ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q)) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P' \\<parallel> R)\n  (P' \\<parallel> R,\n   ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n       \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n     (P', ([(y, x)] \\<bullet> Q') \\<parallel> !([(y, x)] \\<bullet> Q))\n     \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q' \\<parallel> !Q) =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Par1F \\<alpha> Q' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have QTrans: \"Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (8 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>Q \\<longmapsto> \\<alpha> \\<prec> P';\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> P' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 8. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\" and BR: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q' \\<parallel> !Q =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q' \\<parallel> !Q =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>[Rel] Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>[Rel] Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  P \\<leadsto>[Rel] Q", "obtain P' where PTrans: \"P \\<longmapsto> \\<alpha> \\<prec> P'\" and RRel: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> \\<alpha> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "from PTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'", "have \"P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R", "by(rule TransitionsEarly.Par1F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "from RRel BR"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel", "have \"(P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> R\n  (P' \\<parallel> R, Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> !Q) \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' \\<parallel> !Q =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Par2B a x Q' Pa P)"], ["proof (state)\nthis:\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'a.\n                        a<\\<nu>x> \\<prec> Q' =\n                        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa xa Q'a.\n           a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n           xa \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'a.\n           a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> Pa", "by fact+"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (7 subgoals):\n 1. \\<And>a x P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> a<\\<nu>x> \\<prec> P'; x \\<sharp> Q;\n        x \\<sharp> Pa; x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> P') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 7. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus \"?Sim Pa (a<\\<nu>x> \\<prec> (Q \\<parallel> Q'))\""], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>aa xa Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "from EqvtBangRel"], ["proof (chain)\npicking this:\n  eqvt (bangRel Rel)", "show \"?Sim (P \\<parallel> R) (a<\\<nu>x> \\<prec> (Q \\<parallel> Q'))\""], ["proof (prove)\nusing this:\n  eqvt (bangRel Rel)\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject alpha')"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "from RBRQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "with xFreshR"], ["proof (chain)\npicking this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))", "obtain R' where RTrans: \"R \\<longmapsto> a<\\<nu>x> \\<prec> R'\" and R'BRQ': \"(R', Q') \\<in> (bangRel Rel)\""], ["proof (prove)\nusing this:\n  x \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> R';\n         (R', Q') \\<in> bangRel Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  (R', Q') \\<in> bangRel Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "from RTrans xFreshP"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')", "by(auto intro: Early_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "from PRelQ R'BRQ'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel", "have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> (bangRel Rel)\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>eqvt (bangRel Rel); x \\<sharp> P; x \\<sharp> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         P \\<parallel>\n                         R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                         (P', Q \\<parallel> Q') \\<in> bangRel Rel\n 2. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and> (P', Q \\<parallel> Q') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> (P \\<parallel> R')\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n     (P', Q \\<parallel> Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "assume \"(y::name) \\<sharp> Q\" and \"y \\<sharp> Q'\" and \"y \\<sharp> P\" and \"y \\<sharp> R\""], ["proof (state)\nthis:\n  y \\<sharp> Q\n  y \\<sharp> Q'\n  y \\<sharp> P\n  y \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "from RBRQ"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel", "have \"?Sim R (a<\\<nu>x> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "by(rule IH)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "with \\<open>y \\<sharp> Q'\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Q'\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))", "have \"?Sim R (a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q'))\""], ["proof (prove)\nusing this:\n  y \\<sharp> Q'\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> Q' = aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> Q' = \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. (\\<forall>aa xa Q'a.\n        a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n        aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> R \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "by(simp add: alphaBoundOutput)"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "with \\<open>y \\<sharp> R\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))", "obtain R' where RTrans: \"R \\<longmapsto> a<\\<nu>y> \\<prec> R'\" and R'BRQ': \"(R', ([(x, y)] \\<bullet> Q')) \\<in> (bangRel Rel)\""], ["proof (prove)\nusing this:\n  y \\<sharp> R\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> R \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>y> \\<prec> ([(x, y)] \\<bullet> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<\\<nu>y> \\<prec> R';\n         (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis elim)"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>y> \\<prec> R'\n  (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "from RTrans \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R \\<longmapsto> a<\\<nu>y> \\<prec> R'\n  y \\<sharp> P", "have \"P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P \\<parallel> R')\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> a<\\<nu>y> \\<prec> R'\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P \\<parallel> R')", "by(auto intro: Early_Semantics.Par2B)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "from PRelQ R'BRQ'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel", "have \"(P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q')) \\<in> (bangRel Rel)\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', [(x, y)] \\<bullet> Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n    \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "with \\<open>y \\<sharp> Q\\<close> \\<open>x \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Q\n  x \\<sharp> Q\n  (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n  \\<in> bangRel Rel", "have \"(P \\<parallel> R', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> (bangRel Rel)\""], ["proof (prove)\nusing this:\n  y \\<sharp> Q\n  x \\<sharp> Q\n  (P \\<parallel> R', Q \\<parallel> ([(x, y)] \\<bullet> Q'))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R',\n     ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n    \\<in> bangRel Rel", "by(simp add: name_swap name_fresh_fresh)"], ["proof (state)\nthis:\n  (P \\<parallel> R',\n   ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>eqvt (bangRel Rel); x \\<noteq> xa; xa \\<sharp> Q;\n        xa \\<sharp> Q'; xa \\<sharp> P; xa \\<sharp> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<parallel>\n                            R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                            (P',\n                             ([(xa, x)] \\<bullet> Q) \\<parallel>\n                             ([(xa, x)] \\<bullet> Q'))\n                            \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P \\<parallel> R')\n  (P \\<parallel> R',\n   ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n  \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and> (P', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q')) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> (P \\<parallel> R')\n  (P \\<parallel> R',\n   ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n       (P', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n       \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> a<\\<nu>y> \\<prec> P' \\<and>\n     (P', ([(y, x)] \\<bullet> Q) \\<parallel> ([(y, x)] \\<bullet> Q'))\n     \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>aa xa Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      aa<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      a<\\<nu>x> \\<prec> (Q \\<parallel> Q') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Par2F \\<alpha> Q' Pa P)"], ["proof (state)\nthis:\n  !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha>' Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (\\<alpha> \\<prec> Q')\""], ["proof (prove)\nusing this:\n  !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha>' Q'a.\n                        \\<alpha> \\<prec> Q' =\n                        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                            (P', Q'a) \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>a x Q'a.\n           \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha>' Q'a.\n           \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n               (P', Q'a) \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' Pa P.\n       \\<lbrakk>!Q \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha>' Q'.\n                                 \\<alpha> \\<prec> P' =\n                                 \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'.\n                             \\<alpha> \\<prec> Q \\<parallel> P' =\n                             \\<alpha>' \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 6. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha>' Q'a.\n                             \\<alpha> \\<prec> Q \\<parallel> Q' =\n                             \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha>' Q'a.\n        \\<alpha> \\<prec> Q \\<parallel> Q' =\n        \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "from RBRQ IH"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))", "have \"\\<exists>R'. R \\<longmapsto> \\<alpha> \\<prec> R' \\<and> (R', Q') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q' = a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q' = \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto> \\<alpha> \\<prec> R' \\<and> (R', Q') \\<in> bangRel Rel", "by(metis elim)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto> \\<alpha> \\<prec> R' \\<and> (R', Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<longmapsto> \\<alpha> \\<prec> R' \\<and> (R', Q') \\<in> bangRel Rel", "obtain R' where RTrans: \"R \\<longmapsto> \\<alpha> \\<prec> R'\" and R'RelQ': \"(R', Q') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<longmapsto> \\<alpha> \\<prec> R' \\<and> (R', Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> \\<alpha> \\<prec> R';\n         (R', Q') \\<in> bangRel Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto> \\<alpha> \\<prec> R'\n  (R', Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "from RTrans"], ["proof (chain)\npicking this:\n  R \\<longmapsto> \\<alpha> \\<prec> R'", "have \"P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto> \\<alpha> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'", "by(rule TransitionsEarly.Par2F)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "from PRelQ R'RelQ'"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel", "have \"(P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (R', Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel", "show \" \\<exists>P'. P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and> (P', Q \\<parallel> Q') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> R'\n  (P \\<parallel> R', Q \\<parallel> Q') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n       (P', Q \\<parallel> Q') \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n     (P', Q \\<parallel> Q') \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha>' Q'a.\n      \\<alpha> \\<prec> Q \\<parallel> Q' =\n      \\<alpha>' \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha>' \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Comm1 a Q' b Q'' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  !Q \\<longmapsto> a[b] \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a[b] \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a[b] \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a[b] \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  !Q \\<longmapsto> a[b] \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a[b] \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a[b] \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa x Q'.\n           a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have QTrans: \"Q \\<longmapsto>a<b> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<b> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (5 subgoals):\n 1. \\<And>a P' b P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<b> \\<prec> P';\n        !Q \\<longmapsto> a[b] \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a[b] \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a[b] \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 5. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>[Rel] Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>[Rel] Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  P \\<leadsto>[Rel] Q", "obtain P' where PTrans: \"P \\<longmapsto> a<b> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<b> \\<prec> Q'\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<b> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<b> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from IH RBRQ"], ["proof (chain)\npicking this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n  (R, !Q) \\<in> bangRel Rel", "have RTrans: \"\\<exists>R'. R \\<longmapsto> a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a[b] \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a[b] \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto> a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel", "by(metis elim)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto> a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<longmapsto> a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel", "obtain R' where RTrans: \"R \\<longmapsto> a[b] \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<longmapsto> a[b] \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a[b] \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto> a[b] \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<b> \\<prec> P'\n  R \\<longmapsto> a[b] \\<prec> R'", "have \"P \\<parallel> R \\<longmapsto>\\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<b> \\<prec> P'\n  R \\<longmapsto> a[b] \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'", "by(rule TransitionsEarly.Comm1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel", "have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and> (P', Q' \\<parallel> Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> Q'') \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Comm2 a b Q' Q'')"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  !Q \\<longmapsto> a<b> \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a<b> \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<b> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a<b> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  !Q \\<longmapsto> a<b> \\<prec> Q''\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa x Q'.\n                        a<b> \\<prec> Q'' =\n                        aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<b> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa x Q'.\n           a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have QTrans: \"Q \\<longmapsto> a[b] \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a[b] \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (4 subgoals):\n 1. \\<And>a b P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a[b] \\<prec> P';\n        !Q \\<longmapsto> a<b> \\<prec> P'';\n        \\<And>ba bb.\n           \\<lbrakk>(ba, !Q) \\<in> bangRel Rel; (bb, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa x Q'.\n                                 a<b> \\<prec> P'' =\n                                 aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> ba \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<b> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     ba \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> P' \\<parallel> P'' =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 4. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n                             x \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> Q' \\<parallel> Q'' =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n        x \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> Q' \\<parallel> Q'' =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>[Rel] Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>[Rel] Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "with QTrans"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  P \\<leadsto>[Rel] Q", "obtain P' where PTrans: \"P \\<longmapsto> a[b] \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a[b] \\<prec> Q'\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a[b] \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a[b] \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from IH RBRQ"], ["proof (chain)\npicking this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n  (R, !Q) \\<in> bangRel Rel", "have RTrans: \"\\<exists>R'. R \\<longmapsto> a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa x Q'.\n      a<b> \\<prec> Q'' = aa<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<b> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto> a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel", "by(metis elim)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto> a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<longmapsto> a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel", "obtain R' where RTrans: \"R \\<longmapsto> a<b> \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<longmapsto> a<b> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<b> \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto> a<b> \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from PTrans RTrans"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a[b] \\<prec> P'\n  R \\<longmapsto> a<b> \\<prec> R'", "have \"P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a[b] \\<prec> P'\n  R \\<longmapsto> a<b> \\<prec> R'\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'", "by(rule TransitionsEarly.Comm2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel", "have \"(P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel", "by(rule Rel.BRPar)"], ["proof (state)\nthis:\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and> (P', Q' \\<parallel> Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> R'\n  (P' \\<parallel> R', Q' \\<parallel> Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', Q' \\<parallel> Q'') \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', Q' \\<parallel> Q'') \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      a<\\<nu>x> \\<prec> Q'a \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> Q' \\<parallel> Q'' =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Close1 a x Q' Q'' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<longrightarrow> ?Sim Pa (a<\\<nu>x> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  !Q \\<longmapsto> a<\\<nu>x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<\\<nu>x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n       (\\<forall>aa xa Q'.\n           a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n           xa \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have QTrans: \"Q \\<longmapsto> a<x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have xFreshQ: \"x \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> Q", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> Q\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "moreover"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have xFreshPa: \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> Pa", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> Pa\n\ngoal (3 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<x> \\<prec> P';\n        !Q \\<longmapsto> a<\\<nu>x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<\\<nu>x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 3. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "ultimately"], ["proof (chain)\npicking this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa", "show ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>[Rel] Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>[Rel] Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "with QTrans xFreshP"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>[Rel] Q", "obtain P' where PTrans: \"P \\<longmapsto>a<x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from RBRQ xFreshR IH"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> R\n  (?Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))", "have \"\\<exists>R'. R \\<longmapsto>a<\\<nu>x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> R\n  (?Pa, !Q) \\<in> bangRel Rel \\<longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<\\<nu>x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<\\<nu>x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto> a<\\<nu>x> \\<prec> R' \\<and>\n       (R', Q'') \\<in> bangRel Rel", "by(metis elim)"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto> a<\\<nu>x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<longmapsto> a<\\<nu>x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel", "obtain R' where RTrans: \"R \\<longmapsto>a<\\<nu>x> \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<longmapsto> a<\\<nu>x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<\\<nu>x> \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from PTrans RTrans xFreshP"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<x> \\<prec> P'\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P", "have \"P \\<parallel> R \\<longmapsto>\\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<x> \\<prec> P'\n  R \\<longmapsto> a<\\<nu>x> \\<prec> R'\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Early_Semantics.Close1)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n    \\<in> bangRel Rel", "by(force intro: Rel.BRPar BRRes)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and> (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Close2 a x Q' Q'' Pa P)"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  !Q \\<longmapsto> a<x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "hence IH: \"\\<And>Pa. (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa (a<x> \\<prec> Q'')\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  !Q \\<longmapsto> a<x> \\<prec> Q''\n  x \\<sharp> Q\n  x \\<sharp> Pa\n  x \\<sharp> P\n  \\<lbrakk>(?b, !Q) \\<in> bangRel Rel; (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>aa xa Q'.\n                        a<x> \\<prec> Q'' =\n                        aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                        xa \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        a<x> \\<prec> Q'' =\n                        \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>aa xa Q'.\n           a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n           xa \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have QTrans: \"Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'", "by fact"], ["proof (state)\nthis:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have xFreshQ: \"x \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> Q", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> Q\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\" and \"x \\<sharp> Pa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel &&& x \\<sharp> Pa", "by fact+"], ["proof (state)\nthis:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (2 subgoals):\n 1. \\<And>a x P' P'' Pa P.\n       \\<lbrakk>Q \\<longmapsto> a<\\<nu>x> \\<prec> P';\n        !Q \\<longmapsto> a<x> \\<prec> P''; x \\<sharp> Q; x \\<sharp> Pa;\n        x \\<sharp> P;\n        \\<And>b ba.\n           \\<lbrakk>(b, !Q) \\<in> bangRel Rel; (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>aa xa Q'.\n                                 a<x> \\<prec> P'' =\n                                 aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                                 xa \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 a<x> \\<prec> P'' =\n                                 \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             a<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n                             xa \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> P'') =\n                             \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))\n 2. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel\n  x \\<sharp> Pa\n\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(induct rule: BRParCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "case(BRPar P R)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\" and RBRQ: \"(R, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel &&& (R, !Q) \\<in> bangRel Rel", "by fact+"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n  (R, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "have \"x \\<sharp> P \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sharp> P \\<parallel> R", "by fact"], ["proof (state)\nthis:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "hence xFreshP: \"x \\<sharp> P\" and xFreshR: \"x \\<sharp> R\""], ["proof (prove)\nusing this:\n  x \\<sharp> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. x \\<sharp> P &&& x \\<sharp> R", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. \\<And>P R.\n       \\<lbrakk>(P, Q) \\<in> Rel; (R, !Q) \\<in> bangRel Rel;\n        x \\<sharp> P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a xa Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n                             xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'a.\n                             \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n                             \\<alpha> \\<prec> Q'a \\<longrightarrow>\n                             (\\<exists>P'.\n                                 P \\<parallel>\n                                 R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q'a) \\<in> bangRel Rel))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a xa Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n        xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'a.\n        \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n        \\<alpha> \\<prec> Q'a \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q'a) \\<in> bangRel Rel))", "proof(auto simp add: residual.inject)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"P \\<leadsto>[Rel] Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. P \\<leadsto>[Rel] Q", "by(rule Sim)"], ["proof (state)\nthis:\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "with QTrans xFreshP"], ["proof (chain)\npicking this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>[Rel] Q", "obtain P' where PTrans: \"P \\<longmapsto>a<\\<nu>x> \\<prec> P'\" and P'RelQ': \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto> a<\\<nu>x> \\<prec> Q'\n  x \\<sharp> P\n  P \\<leadsto>[Rel] Q\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<longmapsto> a<\\<nu>x> \\<prec> P';\n         (P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: elim)"], ["proof (state)\nthis:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from RBRQ IH"], ["proof (chain)\npicking this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))", "have \"\\<exists>R'.  R \\<longmapsto>a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (R, !Q) \\<in> bangRel Rel\n  (?Pa, !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>aa xa Q'.\n      a<x> \\<prec> Q'' = aa<\\<nu>xa> \\<prec> Q' \\<longrightarrow>\n      xa \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> aa<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      a<x> \\<prec> Q'' = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto> a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel", "by auto"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto> a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "then"], ["proof (chain)\npicking this:\n  \\<exists>R'.\n     R \\<longmapsto> a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel", "obtain R' where RTrans: \"R \\<longmapsto> a<x> \\<prec> R'\" and R'RelQ'': \"(R', Q'') \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  \\<exists>R'.\n     R \\<longmapsto> a<x> \\<prec> R' \\<and> (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>R \\<longmapsto> a<x> \\<prec> R';\n         (R', Q'') \\<in> bangRel Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto> a<x> \\<prec> R'\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from PTrans RTrans xFreshR"], ["proof (chain)\npicking this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  R \\<longmapsto> a<x> \\<prec> R'\n  x \\<sharp> R", "have \"P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\""], ["proof (prove)\nusing this:\n  P \\<longmapsto> a<\\<nu>x> \\<prec> P'\n  R \\<longmapsto> a<x> \\<prec> R'\n  x \\<sharp> R\n\ngoal (1 subgoal):\n 1. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')", "by(rule Early_Semantics.Close2)"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "from P'RelQ' R'RelQ''"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel", "have \"(<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> Rel\n  (R', Q'') \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n    \\<in> bangRel Rel", "by(force intro: Rel.BRPar BRRes)"], ["proof (state)\nthis:\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel", "show \"\\<exists>P'. P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and> (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> <\\<nu>x>(P' \\<parallel> R')\n  (<\\<nu>x>(P' \\<parallel> R'), <\\<nu>x>(Q' \\<parallel> Q''))\n  \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n       (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<parallel> R \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     (P', <\\<nu>x>(Q' \\<parallel> Q'')) \\<in> bangRel Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> P \\<parallel> R \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> R \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a xa Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      a<\\<nu>xa> \\<prec> Q'a \\<longrightarrow>\n      xa \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>xa> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'a.\n      \\<tau> \\<prec> <\\<nu>x>(Q' \\<parallel> Q'') =\n      \\<alpha> \\<prec> Q'a \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q'a) \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "case(Bang Rs Pa P)"], ["proof (state)\nthis:\n  Q \\<parallel> !Q \\<longmapsto> Rs\n  \\<lbrakk>(?b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n   (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "hence IH: \"\\<And>Pa. (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow> ?Sim Pa Rs\""], ["proof (prove)\nusing this:\n  Q \\<parallel> !Q \\<longmapsto> Rs\n  \\<lbrakk>(?b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n   (?ba, Q) \\<in> Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?b \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (Pa, !Q) \\<in> bangRel Rel\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Pa.\n       (Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> Pa \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (?Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "have \"(Pa, !Q) \\<in> bangRel Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pa, !Q) \\<in> bangRel Rel", "by fact"], ["proof (state)\nthis:\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>Rs Pa P.\n       \\<lbrakk>Q \\<parallel> !Q \\<longmapsto> Rs;\n        \\<And>b ba.\n           \\<lbrakk>(b, Q \\<parallel> !Q) \\<in> bangRel Rel;\n            (ba, Q) \\<in> Rel\\<rbrakk>\n           \\<Longrightarrow> (\\<forall>a x Q'.\n                                 Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                                 x \\<sharp> b \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel)) \\<and>\n                             (\\<forall>\\<alpha> Q'.\n                                 Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                                 (\\<exists>P'.\n                                     b \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                     (P', Q') \\<in> bangRel Rel));\n        (Pa, !Q) \\<in> bangRel Rel; (P, Q) \\<in> Rel\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>a x Q'.\n                             Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                             x \\<sharp> Pa \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel)) \\<and>\n                         (\\<forall>\\<alpha> Q'.\n                             Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                             (\\<exists>P'.\n                                 Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                                 (P', Q') \\<in> bangRel Rel))", "thus ?case"], ["proof (prove)\nusing this:\n  (Pa, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> Pa \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel))", "proof(induct rule: BRBangCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "case(BRBang P)"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "have PRelQ: \"(P, Q) \\<in> Rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, Q) \\<in> Rel", "by fact"], ["proof (state)\nthis:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "hence \"(!P, !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (!P, !Q) \\<in> bangRel Rel", "by(rule Rel.BRBang)"], ["proof (state)\nthis:\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "with PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel\n  (!P, !Q) \\<in> bangRel Rel", "have \"(P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel", "by(rule BRPar)"], ["proof (state)\nthis:\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "with IH"], ["proof (chain)\npicking this:\n  (?Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel", "have \"?Sim (P \\<parallel> !P) Rs\""], ["proof (prove)\nusing this:\n  (?Pa, Q \\<parallel> !Q) \\<in> bangRel Rel \\<Longrightarrow>\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> ?Pa \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          ?Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n  (P \\<parallel> !P, Q \\<parallel> !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       (P, Q) \\<in> Rel \\<Longrightarrow>\n       (\\<forall>a x Q'.\n           Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n           x \\<sharp> !P \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel)) \\<and>\n       (\\<forall>\\<alpha> Q'.\n           Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n           (\\<exists>P'.\n               !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n               (P', Q') \\<in> bangRel Rel))", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> P \\<parallel> !P \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. (\\<forall>a x Q'.\n        Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n        x \\<sharp> !P \\<longrightarrow>\n        (\\<exists>P'.\n            !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel)) \\<and>\n    (\\<forall>\\<alpha> Q'.\n        Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n        (\\<exists>P'.\n            !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n            (P', Q') \\<in> bangRel Rel))", "by(force intro: TransitionsEarly.Bang)"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> !P \\<longrightarrow>\n      (\\<exists>P'.\n          !P \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          !P \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>a x Q'.\n      Rs = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n      x \\<sharp> Pa \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel)) \\<and>\n  (\\<forall>\\<alpha> Q'.\n      Rs = \\<alpha> \\<prec> Q' \\<longrightarrow>\n      (\\<exists>P'.\n          Pa \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n          (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "}"], ["proof (state)\nthis:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "from PRelQ"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> Rel", "have \"(!P, !Q) \\<in> bangRel Rel\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (!P, !Q) \\<in> bangRel Rel", "by(rule BRBang)"], ["proof (state)\nthis:\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (!P, !Q) \\<in> bangRel Rel", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>!Q \\<longmapsto> ?Rs2; (?Pa2, !Q) \\<in> bangRel Rel\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>a x Q'.\n                        ?Rs2 = a<\\<nu>x> \\<prec> Q' \\<longrightarrow>\n                        x \\<sharp> ?Pa2 \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> a<\\<nu>x> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel)) \\<and>\n                    (\\<forall>\\<alpha> Q'.\n                        ?Rs2 = \\<alpha> \\<prec> Q' \\<longrightarrow>\n                        (\\<exists>P'.\n                            ?Pa2 \\<longmapsto> \\<alpha> \\<prec> P' \\<and>\n                            (P', Q') \\<in> bangRel Rel))\n  (!P, !Q) \\<in> bangRel Rel\n\ngoal (1 subgoal):\n 1. !P \\<leadsto>[bangRel Rel] !Q", "by(auto simp add: strongSimEarly_def)"], ["proof (state)\nthis:\n  !P \\<leadsto>[bangRel Rel] !Q\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}