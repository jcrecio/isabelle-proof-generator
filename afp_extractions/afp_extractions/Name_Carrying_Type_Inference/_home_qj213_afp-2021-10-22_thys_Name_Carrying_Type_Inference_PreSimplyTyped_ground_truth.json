{"file_name": "/home/qj213/afp-2021-10-22/thys/Name_Carrying_Type_Inference/PreSimplyTyped.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Name_Carrying_Type_Inference", "problem_names": ["lemma ptrm_prm_apply_id:\n  shows \"\\<epsilon> \\<bullet> X = X\"", "lemma ptrm_prm_apply_compose:\n  shows \"\\<pi> \\<bullet> \\<sigma> \\<bullet> X = (\\<pi> \\<diamondop> \\<sigma>) \\<bullet> X\"", "lemma ptrm_size_prm:\n  shows \"size X = size (\\<pi> \\<bullet> X)\"", "lemma ptrm_size_alpha_equiv:\n  assumes \"X \\<approx> Y\"\n  shows \"size X = size Y\"", "lemma ptrm_fvs_finite:\n  shows \"finite (ptrm_fvs X)\"", "lemma ptrm_prm_fvs:\n  shows \"ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X\"", "lemma ptrm_alpha_equiv_fvs:\n  assumes \"X \\<approx> Y\"\n  shows \"ptrm_fvs X = ptrm_fvs Y\"", "lemma ptrm_alpha_equiv_prm:\n  assumes \"X \\<approx> Y\"\n  shows \"\\<pi> \\<bullet> X \\<approx> \\<pi> \\<bullet> Y\"", "lemma ptrm_swp_transfer:\n  shows \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<longleftrightarrow> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\"", "lemma ptrm_alpha_equiv_fvs_transfer:\n  assumes \"A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\" and \"a \\<notin> ptrm_fvs B\"\n  shows \"b \\<notin> ptrm_fvs A\"", "lemma ptrm_prm_agreement_equiv:\n  assumes \"\\<And>a. a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs M\"\n  shows \"\\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M\"", "lemma ptrm_prm_unit_inaction:\n  assumes \"a \\<notin> ptrm_fvs X\" \"b \\<notin> ptrm_fvs X\"\n  shows \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> X\"", "lemma ptrm_alpha_equiv_reflexive:\n  shows \"M \\<approx> M\"", "lemma ptrm_alpha_equiv_symmetric:\n  assumes \"X \\<approx> Y\"\n  shows \"Y \\<approx> X\"", "lemma ptrm_alpha_equiv_transitive:\n  assumes \"X \\<approx> Y\" and \"Y \\<approx> Z\"\n  shows \"X \\<approx> Z\"", "lemma ptrm_infer_type_swp_types:\n  assumes \"a \\<noteq> b\"\n  shows \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X = ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> X)\"", "lemma ptrm_infer_type_swp:\n  assumes \"a \\<noteq> b\" \"b \\<notin> ptrm_fvs X\"\n  shows \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) X = ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X)\"", "lemma ptrm_infer_type_alpha_equiv:\n  assumes \"X \\<approx> Y\"\n  shows \"ptrm_infer_type \\<Gamma> X = ptrm_infer_type \\<Gamma> Y\""], "translations": [["", "lemma ptrm_prm_apply_id:\n  shows \"\\<epsilon> \\<bullet> X = X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<epsilon> \\<bullet> X = X", "by(induction X, simp_all add: prm_apply_id)"], ["", "lemma ptrm_prm_apply_compose:\n  shows \"\\<pi> \\<bullet> \\<sigma> \\<bullet> X = (\\<pi> \\<diamondop> \\<sigma>) \\<bullet> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> \\<sigma> \\<bullet> X =\n    (\\<pi> \\<diamondop> \\<sigma>) \\<bullet> X", "by(induction X, simp_all add: prm_apply_composition)"], ["", "lemma ptrm_size_prm:\n  shows \"size X = size (\\<pi> \\<bullet> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size X = size (\\<pi> \\<bullet> X)", "by(induction X, auto)"], ["", "lemma ptrm_size_alpha_equiv:\n  assumes \"X \\<approx> Y\"\n  shows \"size X = size Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size X = size Y", "using assms"], ["proof (prove)\nusing this:\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. size X = size Y", "proof(induction rule: ptrm_alpha_equiv.induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. size PUnit = size PUnit\n 2. \\<And>x. size (PVar x) = size (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PApp A C) = size (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFn x T A) = size (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        size A = size ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> size (PFn a T A) = size (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PPair A C) = size (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFst A) = size (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PSnd A) = size (PSnd B)", "case (fn2 a b A B T)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  size A = size ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (8 subgoals):\n 1. size PUnit = size PUnit\n 2. \\<And>x. size (PVar x) = size (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PApp A C) = size (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFn x T A) = size (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        size A = size ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> size (PFn a T A) = size (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PPair A C) = size (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFst A) = size (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PSnd A) = size (PSnd B)", "hence \"size A = size B\""], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  size A = size ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (1 subgoal):\n 1. size A = size B", "using ptrm_size_prm"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  size A = size ([a \\<leftrightarrow> b] \\<bullet> B)\n  size ?X = size (?\\<pi> \\<bullet> ?X)\n\ngoal (1 subgoal):\n 1. size A = size B", "by metis"], ["proof (state)\nthis:\n  size A = size B\n\ngoal (8 subgoals):\n 1. size PUnit = size PUnit\n 2. \\<And>x. size (PVar x) = size (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PApp A C) = size (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFn x T A) = size (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        size A = size ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> size (PFn a T A) = size (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PPair A C) = size (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFst A) = size (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PSnd A) = size (PSnd B)", "thus ?case"], ["proof (prove)\nusing this:\n  size A = size B\n\ngoal (1 subgoal):\n 1. size (PFn a T A) = size (PFn b T B)", "by auto"], ["proof (state)\nthis:\n  size (PFn a T A) = size (PFn b T B)\n\ngoal (7 subgoals):\n 1. size PUnit = size PUnit\n 2. \\<And>x. size (PVar x) = size (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PApp A C) = size (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFn x T A) = size (PFn x T B)\n 5. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PPair A C) = size (PPair B D)\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFst A) = size (PFst B)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PSnd A) = size (PSnd B)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. size PUnit = size PUnit\n 2. \\<And>x. size (PVar x) = size (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PApp A C) = size (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFn x T A) = size (PFn x T B)\n 5. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; size A = size B; C \\<approx> D;\n        size C = size D\\<rbrakk>\n       \\<Longrightarrow> size (PPair A C) = size (PPair B D)\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PFst A) = size (PFst B)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; size A = size B\\<rbrakk>\n       \\<Longrightarrow> size (PSnd A) = size (PSnd B)", "qed auto"], ["", "lemma ptrm_fvs_finite:\n  shows \"finite (ptrm_fvs X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (ptrm_fvs X)", "by(induction X, auto)"], ["", "lemma ptrm_prm_fvs:\n  shows \"ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X", "proof(induction X)"], ["proof (state)\ngoal (7 subgoals):\n 1. ptrm_fvs (\\<pi> \\<bullet> PUnit) = \\<pi> {$} ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 4. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 5. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 7. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "case (PUnit)"], ["proof (state)\nthis:\n  \n\ngoal (7 subgoals):\n 1. ptrm_fvs (\\<pi> \\<bullet> PUnit) = \\<pi> {$} ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 4. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 5. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 7. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PUnit) = \\<pi> {$} ptrm_fvs PUnit", "unfolding prm_set_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PUnit) = ($) \\<pi> ` ptrm_fvs PUnit", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PUnit) = \\<pi> {$} ptrm_fvs PUnit\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "case (PVar x)"], ["proof (state)\nthis:\n  \n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"ptrm_fvs (\\<pi> \\<bullet> PVar x) = ptrm_fvs (PVar (\\<pi> $ x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PVar x) = ptrm_fvs (PVar (\\<pi> $ x))", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PVar x) = ptrm_fvs (PVar (\\<pi> $ x))\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PVar x) = ptrm_fvs (PVar (\\<pi> $ x))\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = {\\<pi> $ x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (PVar (\\<pi> $ x)) = {\\<pi> $ x}", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (PVar (\\<pi> $ x)) = {\\<pi> $ x}\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (PVar (\\<pi> $ x)) = {\\<pi> $ x}\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<pi> $ x} = \\<pi> {$} {x}", "using prm_set_singleton"], ["proof (prove)\nusing this:\n  ?\\<pi> {$} {?x} = {?\\<pi> $ ?x}\n\ngoal (1 subgoal):\n 1. {\\<pi> $ x} = \\<pi> {$} {x}", "by metis"], ["proof (state)\nthis:\n  {\\<pi> $ x} = \\<pi> {$} {x}\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  {\\<pi> $ x} = \\<pi> {$} {x}\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} ptrm_fvs (PVar x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> {$} {x} = \\<pi> {$} ptrm_fvs (PVar x)", "by simp"], ["proof (state)\nthis:\n  \\<pi> {$} {x} = \\<pi> {$} ptrm_fvs (PVar x)\n\ngoal (6 subgoals):\n 1. \\<And>x. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 3. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 4. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 6. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_fvs (\\<pi> \\<bullet> PVar x) = ptrm_fvs (PVar (\\<pi> $ x))\n  ptrm_fvs (PVar (\\<pi> $ x)) = {\\<pi> $ x}\n  {\\<pi> $ x} = \\<pi> {$} {x}\n  \\<pi> {$} {x} = \\<pi> {$} ptrm_fvs (PVar x)", "show ?case"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> PVar x) = ptrm_fvs (PVar (\\<pi> $ x))\n  ptrm_fvs (PVar (\\<pi> $ x)) = {\\<pi> $ x}\n  {\\<pi> $ x} = \\<pi> {$} {x}\n  \\<pi> {$} {x} = \\<pi> {$} ptrm_fvs (PVar x)\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PVar x) = \\<pi> {$} ptrm_fvs (PVar x)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "case (PApp A B)"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> A) = \\<pi> {$} ptrm_fvs A\n  ptrm_fvs (\\<pi> \\<bullet> B) = \\<pi> {$} ptrm_fvs B\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"ptrm_fvs (\\<pi> \\<bullet> PApp A B) = ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PApp A B) =\n    ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B))", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PApp A B) =\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B))\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PApp A B) =\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B))\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B)) =\n    ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B)", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B) =\n    \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B", "using PApp.IH"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> A) = \\<pi> {$} ptrm_fvs A\n  ptrm_fvs (\\<pi> \\<bullet> B) = \\<pi> {$} ptrm_fvs B\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B) =\n    \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B) =\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B) =\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B =\n    \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B)", "using prm_set_distributes_union"], ["proof (prove)\nusing this:\n  ?\\<pi> {$} (?S \\<union> ?T) = ?\\<pi> {$} ?S \\<union> ?\\<pi> {$} ?T\n\ngoal (1 subgoal):\n 1. \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B =\n    \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B)", "by metis"], ["proof (state)\nthis:\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B =\n  \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B =\n  \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} ptrm_fvs (PApp A B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B) =\n    \\<pi> {$} ptrm_fvs (PApp A B)", "by simp"], ["proof (state)\nthis:\n  \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B) = \\<pi> {$} ptrm_fvs (PApp A B)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PApp X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PApp X1 X2)\n 2. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 3. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 5. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_fvs (\\<pi> \\<bullet> PApp A B) =\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B))\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B)\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B) =\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B =\n  \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B)\n  \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B) = \\<pi> {$} ptrm_fvs (PApp A B)", "show ?case"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> PApp A B) =\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B))\n  ptrm_fvs (PApp (\\<pi> \\<bullet> A) (\\<pi> \\<bullet> B)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B)\n  ptrm_fvs (\\<pi> \\<bullet> A) \\<union> ptrm_fvs (\\<pi> \\<bullet> B) =\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B\n  \\<pi> {$} ptrm_fvs A \\<union> \\<pi> {$} ptrm_fvs B =\n  \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B)\n  \\<pi> {$} (ptrm_fvs A \\<union> ptrm_fvs B) = \\<pi> {$} ptrm_fvs (PApp A B)\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PApp A B) = \\<pi> {$} ptrm_fvs (PApp A B)", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PApp A B) = \\<pi> {$} ptrm_fvs (PApp A B)\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "case (PFn x T A)"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> A) = \\<pi> {$} ptrm_fvs A\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"ptrm_fvs (\\<pi> \\<bullet> PFn x T A) = ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PFn x T A) =\n    ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A))", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PFn x T A) =\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A))\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PFn x T A) =\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A))\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A)) =\n    ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x}", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x}\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x}\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} ptrm_fvs A - {\\<pi> $ x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x} =\n    \\<pi> {$} ptrm_fvs A - {\\<pi> $ x}", "using PFn.IH"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> A) = \\<pi> {$} ptrm_fvs A\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x} =\n    \\<pi> {$} ptrm_fvs A - {\\<pi> $ x}", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x} =\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x}\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x} =\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x}\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> {$} ptrm_fvs A - {\\<pi> $ x} =\n    \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x}", "using prm_set_singleton"], ["proof (prove)\nusing this:\n  ?\\<pi> {$} {?x} = {?\\<pi> $ ?x}\n\ngoal (1 subgoal):\n 1. \\<pi> {$} ptrm_fvs A - {\\<pi> $ x} =\n    \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x}", "by metis"], ["proof (state)\nthis:\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x} = \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x}\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x} = \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x}\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} (ptrm_fvs A - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x} = \\<pi> {$} (ptrm_fvs A - {x})", "using prm_set_distributes_difference"], ["proof (prove)\nusing this:\n  ?\\<pi> {$} (?S - ?T) = ?\\<pi> {$} ?S - ?\\<pi> {$} ?T\n\ngoal (1 subgoal):\n 1. \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x} = \\<pi> {$} (ptrm_fvs A - {x})", "by metis"], ["proof (state)\nthis:\n  \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x} = \\<pi> {$} (ptrm_fvs A - {x})\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "moreover"], ["proof (state)\nthis:\n  \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x} = \\<pi> {$} (ptrm_fvs A - {x})\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "have \"... = \\<pi> {$} ptrm_fvs (PFn x T A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> {$} (ptrm_fvs A - {x}) = \\<pi> {$} ptrm_fvs (PFn x T A)", "by simp"], ["proof (state)\nthis:\n  \\<pi> {$} (ptrm_fvs A - {x}) = \\<pi> {$} ptrm_fvs (PFn x T A)\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFn x1 x2a X) =\n       \\<pi> {$} ptrm_fvs (PFn x1 x2a X)\n 2. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 4. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_fvs (\\<pi> \\<bullet> PFn x T A) =\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A))\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x}\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x} =\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x}\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x} = \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x}\n  \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x} = \\<pi> {$} (ptrm_fvs A - {x})\n  \\<pi> {$} (ptrm_fvs A - {x}) = \\<pi> {$} ptrm_fvs (PFn x T A)", "show ?case"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> PFn x T A) =\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A))\n  ptrm_fvs (PFn (\\<pi> $ x) T (\\<pi> \\<bullet> A)) =\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x}\n  ptrm_fvs (\\<pi> \\<bullet> A) - {\\<pi> $ x} =\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x}\n  \\<pi> {$} ptrm_fvs A - {\\<pi> $ x} = \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x}\n  \\<pi> {$} ptrm_fvs A - \\<pi> {$} {x} = \\<pi> {$} (ptrm_fvs A - {x})\n  \\<pi> {$} (ptrm_fvs A - {x}) = \\<pi> {$} ptrm_fvs (PFn x T A)\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PFn x T A) = \\<pi> {$} ptrm_fvs (PFn x T A)", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PFn x T A) = \\<pi> {$} ptrm_fvs (PFn x T A)\n\ngoal (3 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 2. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 2. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "case (PPair A B)"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> A) = \\<pi> {$} ptrm_fvs A\n  ptrm_fvs (\\<pi> \\<bullet> B) = \\<pi> {$} ptrm_fvs B\n\ngoal (3 subgoals):\n 1. \\<And>X1 X2.\n       \\<lbrakk>ptrm_fvs (\\<pi> \\<bullet> X1) = \\<pi> {$} ptrm_fvs X1;\n        ptrm_fvs (\\<pi> \\<bullet> X2) = \\<pi> {$} ptrm_fvs X2\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (\\<pi> \\<bullet> PPair X1 X2) =\n                         \\<pi> {$} ptrm_fvs (PPair X1 X2)\n 2. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 3. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> A) = \\<pi> {$} ptrm_fvs A\n  ptrm_fvs (\\<pi> \\<bullet> B) = \\<pi> {$} ptrm_fvs B\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PPair A B) = \\<pi> {$} ptrm_fvs (PPair A B)", "using prm_set_distributes_union ptrm_apply_prm.simps(5) ptrm_fvs.simps(5)"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> A) = \\<pi> {$} ptrm_fvs A\n  ptrm_fvs (\\<pi> \\<bullet> B) = \\<pi> {$} ptrm_fvs B\n  ?\\<pi> {$} (?S \\<union> ?T) = ?\\<pi> {$} ?S \\<union> ?\\<pi> {$} ?T\n  ?\\<pi> \\<bullet> PPair ?A ?B =\n  PPair (?\\<pi> \\<bullet> ?A) (?\\<pi> \\<bullet> ?B)\n  ptrm_fvs (PPair ?A ?B) = ptrm_fvs ?A \\<union> ptrm_fvs ?B\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PPair A B) = \\<pi> {$} ptrm_fvs (PPair A B)", "by fastforce"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PPair A B) = \\<pi> {$} ptrm_fvs (PPair A B)\n\ngoal (2 subgoals):\n 1. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 2. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 2. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "case (PFst P)"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> P) = \\<pi> {$} ptrm_fvs P\n\ngoal (2 subgoals):\n 1. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PFst X) = \\<pi> {$} ptrm_fvs (PFst X)\n 2. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> P) = \\<pi> {$} ptrm_fvs P\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PFst P) = \\<pi> {$} ptrm_fvs (PFst P)", "by auto"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PFst P) = \\<pi> {$} ptrm_fvs (PFst P)\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "case (PSnd P)"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> P) = \\<pi> {$} ptrm_fvs P\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       ptrm_fvs (\\<pi> \\<bullet> X) = \\<pi> {$} ptrm_fvs X \\<Longrightarrow>\n       ptrm_fvs (\\<pi> \\<bullet> PSnd X) = \\<pi> {$} ptrm_fvs (PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  ptrm_fvs (\\<pi> \\<bullet> P) = \\<pi> {$} ptrm_fvs P\n\ngoal (1 subgoal):\n 1. ptrm_fvs (\\<pi> \\<bullet> PSnd P) = \\<pi> {$} ptrm_fvs (PSnd P)", "by auto"], ["proof (state)\nthis:\n  ptrm_fvs (\\<pi> \\<bullet> PSnd P) = \\<pi> {$} ptrm_fvs (PSnd P)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_alpha_equiv_fvs:\n  assumes \"X \\<approx> Y\"\n  shows \"ptrm_fvs X = ptrm_fvs Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs X = ptrm_fvs Y", "using assms"], ["proof (prove)\nusing this:\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. ptrm_fvs X = ptrm_fvs Y", "proof(induction rule: ptrm_alpha_equiv.induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "case (fn2 a b A B T)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "have \"ptrm_fvs (PFn a T A) = ptrm_fvs A - {a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs (PFn a T A) = ptrm_fvs A - {a}", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs (PFn a T A) = ptrm_fvs A - {a}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs (PFn a T A) = ptrm_fvs A - {a}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "have \"... = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs A - {a} = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a}", "using fn2.IH"], ["proof (prove)\nusing this:\n  ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (1 subgoal):\n 1. ptrm_fvs A - {a} = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a}", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs A - {a} = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs A - {a} = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "have \"... = ([a \\<leftrightarrow> b] {$} ptrm_fvs B) - {a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a} =\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a}", "using ptrm_prm_fvs"], ["proof (prove)\nusing this:\n  ptrm_fvs (?\\<pi> \\<bullet> ?X) = ?\\<pi> {$} ptrm_fvs ?X\n\ngoal (1 subgoal):\n 1. ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a} =\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a}", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a} =\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a} =\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "have \"... = ptrm_fvs B - {b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "consider \"b \\<in> ptrm_fvs B\" | \"b \\<notin> ptrm_fvs B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<in> ptrm_fvs B \\<Longrightarrow> thesis;\n     b \\<notin> ptrm_fvs B \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>b \\<in> ptrm_fvs B \\<Longrightarrow> ?thesis;\n   b \\<notin> ptrm_fvs B \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>b \\<in> ptrm_fvs B \\<Longrightarrow> ?thesis;\n   b \\<notin> ptrm_fvs B \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "case 1"], ["proof (state)\nthis:\n  b \\<in> ptrm_fvs B\n\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "have \"[a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} =\n    [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a}", "using prm_unit_commutes"], ["proof (prove)\nusing this:\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} =\n    [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a}", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} =\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a}\n\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "moreover"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} =\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a}\n\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "have \"... = ((ptrm_fvs B - {b}) \\<union> {a}) - {a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a} =\n    ptrm_fvs B - {b} \\<union> {a} - {a}", "using prm_set_unit_action \\<open>b \\<in> ptrm_fvs B\\<close> \\<open>a \\<notin> ptrm_fvs B\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>?a \\<in> ?S; ?b \\<notin> ?S\\<rbrakk>\n  \\<Longrightarrow> [?a \\<leftrightarrow> ?b] {$} ?S =\n                    ?S - {?a} \\<union> {?b}\n  b \\<in> ptrm_fvs B\n  a \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a} =\n    ptrm_fvs B - {b} \\<union> {a} - {a}", "by metis"], ["proof (state)\nthis:\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a} =\n  ptrm_fvs B - {b} \\<union> {a} - {a}\n\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "moreover"], ["proof (state)\nthis:\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a} =\n  ptrm_fvs B - {b} \\<union> {a} - {a}\n\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "have \"... = ptrm_fvs B - {b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs B - {b} \\<union> {a} - {a} = ptrm_fvs B - {b}", "using \\<open>a \\<notin> ptrm_fvs B\\<close> \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs B\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_fvs B - {b} \\<union> {a} - {a} = ptrm_fvs B - {b}", "using Diff_insert0 Diff_insert2 Un_insert_right insert_Diff1 insert_is_Un singletonI\n              sup_bot.right_neutral"], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs B\n  a \\<noteq> b\n  ?x \\<notin> ?A \\<Longrightarrow> ?A - insert ?x ?B = ?A - ?B\n  ?A - insert ?a ?B = ?A - {?a} - ?B\n  ?A \\<union> insert ?a ?B = insert ?a (?A \\<union> ?B)\n  ?x \\<in> ?B \\<Longrightarrow> insert ?x ?A - ?B = ?A - ?B\n  insert ?a ?A = {?a} \\<union> ?A\n  ?a \\<in> {?a}\n  sup ?a bot = ?a\n\ngoal (1 subgoal):\n 1. ptrm_fvs B - {b} \\<union> {a} - {a} = ptrm_fvs B - {b}", "by blast"], ["proof (state)\nthis:\n  ptrm_fvs B - {b} \\<union> {a} - {a} = ptrm_fvs B - {b}\n\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "(* why?! *)"], ["proof (state)\nthis:\n  ptrm_fvs B - {b} \\<union> {a} - {a} = ptrm_fvs B - {b}\n\ngoal (2 subgoals):\n 1. b \\<in> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n 2. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "ultimately"], ["proof (chain)\npicking this:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} =\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a}\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a} =\n  ptrm_fvs B - {b} \\<union> {a} - {a}\n  ptrm_fvs B - {b} \\<union> {a} - {a} = ptrm_fvs B - {b}", "show ?thesis"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} =\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a}\n  [b \\<leftrightarrow> a] {$} ptrm_fvs B - {a} =\n  ptrm_fvs B - {b} \\<union> {a} - {a}\n  ptrm_fvs B - {b} \\<union> {a} - {a} = ptrm_fvs B - {b}\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "case 2"], ["proof (state)\nthis:\n  b \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "hence \"[a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {a}\""], ["proof (prove)\nusing this:\n  b \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {a}", "using prm_set_unit_inaction \\<open>a \\<notin> ptrm_fvs B\\<close>"], ["proof (prove)\nusing this:\n  b \\<notin> ptrm_fvs B\n  \\<lbrakk>?a \\<notin> ?S; ?b \\<notin> ?S\\<rbrakk>\n  \\<Longrightarrow> [?a \\<leftrightarrow> ?b] {$} ?S = ?S\n  a \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {a}", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {a}\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "moreover"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {a}\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "have \"... = ptrm_fvs B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs B - {a} = ptrm_fvs B", "using \\<open>a \\<notin> ptrm_fvs B\\<close>"], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. ptrm_fvs B - {a} = ptrm_fvs B", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs B - {a} = ptrm_fvs B\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "moreover"], ["proof (state)\nthis:\n  ptrm_fvs B - {a} = ptrm_fvs B\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "have \"... = ptrm_fvs B - {b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs B = ptrm_fvs B - {b}", "using \\<open>b \\<notin> ptrm_fvs B\\<close>"], ["proof (prove)\nusing this:\n  b \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. ptrm_fvs B = ptrm_fvs B - {b}", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs B = ptrm_fvs B - {b}\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs B \\<Longrightarrow>\n    [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "ultimately"], ["proof (chain)\npicking this:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {a}\n  ptrm_fvs B - {a} = ptrm_fvs B\n  ptrm_fvs B = ptrm_fvs B - {b}", "show ?thesis"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {a}\n  ptrm_fvs B - {a} = ptrm_fvs B\n  ptrm_fvs B = ptrm_fvs B - {b}\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "moreover"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "have \"... = ptrm_fvs (PFn b T B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs B - {b} = ptrm_fvs (PFn b T B)", "by simp"], ["proof (state)\nthis:\n  ptrm_fvs B - {b} = ptrm_fvs (PFn b T B)\n\ngoal (8 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        ptrm_fvs A = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_fvs (PFn a T A) = ptrm_fvs A - {a}\n  ptrm_fvs A - {a} = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a}\n  ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a} =\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a}\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n  ptrm_fvs B - {b} = ptrm_fvs (PFn b T B)", "show ?case"], ["proof (prove)\nusing this:\n  ptrm_fvs (PFn a T A) = ptrm_fvs A - {a}\n  ptrm_fvs A - {a} = ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a}\n  ptrm_fvs ([a \\<leftrightarrow> b] \\<bullet> B) - {a} =\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a}\n  [a \\<leftrightarrow> b] {$} ptrm_fvs B - {a} = ptrm_fvs B - {b}\n  ptrm_fvs B - {b} = ptrm_fvs (PFn b T B)\n\ngoal (1 subgoal):\n 1. ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs (PFn a T A) = ptrm_fvs (PFn b T B)\n\ngoal (7 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. ptrm_fvs PUnit = ptrm_fvs PUnit\n 2. \\<And>x. ptrm_fvs (PVar x) = ptrm_fvs (PVar x)\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PApp A C) = ptrm_fvs (PApp B D)\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFn x T A) = ptrm_fvs (PFn x T B)\n 5. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B; C \\<approx> D;\n        ptrm_fvs C = ptrm_fvs D\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PPair A C) = ptrm_fvs (PPair B D)\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PFst A) = ptrm_fvs (PFst B)\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B; ptrm_fvs A = ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_fvs (PSnd A) = ptrm_fvs (PSnd B)", "qed auto"], ["", "lemma ptrm_alpha_equiv_prm:\n  assumes \"X \\<approx> Y\"\n  shows \"\\<pi> \\<bullet> X \\<approx> \\<pi> \\<bullet> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> X \\<approx> \\<pi> \\<bullet> Y", "using assms"], ["proof (prove)\nusing this:\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> X \\<approx> \\<pi> \\<bullet> Y", "proof(induction rule: ptrm_alpha_equiv.induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<pi> \\<bullet> PUnit \\<approx> \\<pi> \\<bullet> PUnit\n 2. \\<And>x. \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (unit)"], ["proof (state)\nthis:\n  \n\ngoal (8 subgoals):\n 1. \\<pi> \\<bullet> PUnit \\<approx> \\<pi> \\<bullet> PUnit\n 2. \\<And>x. \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 4. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 5. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 6. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 8. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PUnit \\<approx> \\<pi> \\<bullet> PUnit", "using ptrm_alpha_equiv.unit"], ["proof (prove)\nusing this:\n  PUnit \\<approx> PUnit\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PUnit \\<approx> \\<pi> \\<bullet> PUnit", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PUnit \\<approx> \\<pi> \\<bullet> PUnit\n\ngoal (7 subgoals):\n 1. \\<And>x. \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 3. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 4. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 5. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x. \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 3. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 4. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 5. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (var x)"], ["proof (state)\nthis:\n  \n\ngoal (7 subgoals):\n 1. \\<And>x. \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 3. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 4. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 5. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 7. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x", "using ptrm_alpha_equiv.var"], ["proof (prove)\nusing this:\n  PVar ?x \\<approx> PVar ?x\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PVar x \\<approx> \\<pi> \\<bullet> PVar x\n\ngoal (6 subgoals):\n 1. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 2. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 3. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 4. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 5. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 2. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 3. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 4. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 5. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (app A B C D)"], ["proof (state)\nthis:\n  A \\<approx> B\n  C \\<approx> D\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\n\ngoal (6 subgoals):\n 1. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp A C \\<approx>\n                         \\<pi> \\<bullet> PApp B D\n 2. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 3. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 4. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 5. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 6. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  C \\<approx> D\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PApp A C \\<approx> \\<pi> \\<bullet> PApp B D", "using ptrm_alpha_equiv.app"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  C \\<approx> D\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\n  \\<lbrakk>?A \\<approx> ?B; ?C \\<approx> ?D\\<rbrakk>\n  \\<Longrightarrow> PApp ?A ?C \\<approx> PApp ?B ?D\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PApp A C \\<approx> \\<pi> \\<bullet> PApp B D", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PApp A C \\<approx> \\<pi> \\<bullet> PApp B D\n\ngoal (5 subgoals):\n 1. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 2. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 5. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 2. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 5. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (fn1 A B x T)"], ["proof (state)\nthis:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n\ngoal (5 subgoals):\n 1. \\<And>A B x T.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x T A \\<approx>\n                         \\<pi> \\<bullet> PFn x T B\n 2. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 3. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 5. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn x T A \\<approx> \\<pi> \\<bullet> PFn x T B", "using ptrm_alpha_equiv.fn1"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  ?A \\<approx> ?B \\<Longrightarrow> PFn ?x ?T ?A \\<approx> PFn ?x ?T ?B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn x T A \\<approx> \\<pi> \\<bullet> PFn x T B", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PFn x T A \\<approx> \\<pi> \\<bullet> PFn x T B\n\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (fn2 a b A B T)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  \\<pi> \\<bullet> A \\<approx>\n  \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B\n\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "have \"\\<pi> $ a \\<noteq> \\<pi> $ b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> $ a \\<noteq> \\<pi> $ b", "using \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<pi> $ a \\<noteq> \\<pi> $ b", "using prm_apply_unequal"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  ?x \\<noteq> ?y \\<Longrightarrow> ?\\<pi> $ ?x \\<noteq> ?\\<pi> $ ?y\n\ngoal (1 subgoal):\n 1. \\<pi> $ a \\<noteq> \\<pi> $ b", "by metis"], ["proof (state)\nthis:\n  \\<pi> $ a \\<noteq> \\<pi> $ b\n\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "moreover"], ["proof (state)\nthis:\n  \\<pi> $ a \\<noteq> \\<pi> $ b\n\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "have \"\\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)", "using \\<open>a \\<notin> ptrm_fvs B\\<close>"], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)", "using imageE prm_apply_unequal prm_set_def ptrm_prm_fvs"], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs B\n  \\<lbrakk>?b \\<in> ?f ` ?A;\n   \\<And>x.\n      \\<lbrakk>?b = ?f x; x \\<in> ?A\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  ?x \\<noteq> ?y \\<Longrightarrow> ?\\<pi> $ ?x \\<noteq> ?\\<pi> $ ?y\n  ?\\<pi> {$} ?S \\<equiv> ($) ?\\<pi> ` ?S\n  ptrm_fvs (?\\<pi> \\<bullet> ?X) = ?\\<pi> {$} ptrm_fvs ?X\n\ngoal (1 subgoal):\n 1. \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)", "by (metis (no_types, lifting))"], ["proof (state)\nthis:\n  \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)\n\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "moreover"], ["proof (state)\nthis:\n  \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)\n\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "have \"\\<pi> \\<bullet> A \\<approx> [\\<pi> $ a \\<leftrightarrow> \\<pi> $ b] \\<bullet> \\<pi> \\<bullet> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx>\n    [\\<pi> $ a \\<leftrightarrow> \\<pi> $ b] \\<bullet> \\<pi> \\<bullet> B", "using fn2.IH prm_compose_push ptrm_prm_apply_compose"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> A \\<approx>\n  \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B\n  ?\\<pi> \\<diamondop> [?a \\<leftrightarrow> ?b] =\n  [?\\<pi> $ ?a \\<leftrightarrow> ?\\<pi> $ ?b] \\<diamondop> ?\\<pi>\n  ?\\<pi> \\<bullet> ?\\<sigma> \\<bullet> ?X =\n  (?\\<pi> \\<diamondop> ?\\<sigma>) \\<bullet> ?X\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx>\n    [\\<pi> $ a \\<leftrightarrow> \\<pi> $ b] \\<bullet> \\<pi> \\<bullet> B", "by metis"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ a \\<leftrightarrow> \\<pi> $ b] \\<bullet> \\<pi> \\<bullet> B\n\ngoal (4 subgoals):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<pi> \\<bullet> A \\<approx>\n        \\<pi> \\<bullet> [a \\<leftrightarrow> b] \\<bullet> B;\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn a T A \\<approx>\n                         \\<pi> \\<bullet> PFn b T B\n 2. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 4. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "ultimately"], ["proof (chain)\npicking this:\n  \\<pi> $ a \\<noteq> \\<pi> $ b\n  \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ a \\<leftrightarrow> \\<pi> $ b] \\<bullet> \\<pi> \\<bullet> B", "show ?case"], ["proof (prove)\nusing this:\n  \\<pi> $ a \\<noteq> \\<pi> $ b\n  \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ a \\<leftrightarrow> \\<pi> $ b] \\<bullet> \\<pi> \\<bullet> B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn a T A \\<approx> \\<pi> \\<bullet> PFn b T B", "using ptrm_alpha_equiv.fn2"], ["proof (prove)\nusing this:\n  \\<pi> $ a \\<noteq> \\<pi> $ b\n  \\<pi> $ a \\<notin> ptrm_fvs (\\<pi> \\<bullet> B)\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ a \\<leftrightarrow> \\<pi> $ b] \\<bullet> \\<pi> \\<bullet> B\n  \\<lbrakk>?a \\<noteq> ?b;\n   ?A \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?B;\n   ?a \\<notin> ptrm_fvs ?B\\<rbrakk>\n  \\<Longrightarrow> PFn ?a ?T ?A \\<approx> PFn ?b ?T ?B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn a T A \\<approx> \\<pi> \\<bullet> PFn b T B", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PFn a T A \\<approx> \\<pi> \\<bullet> PFn b T B\n\ngoal (3 subgoals):\n 1. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 2. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 2. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (pair A B C D)"], ["proof (state)\nthis:\n  A \\<approx> B\n  C \\<approx> D\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\n\ngoal (3 subgoals):\n 1. \\<And>A B C D.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B; C \\<approx> D;\n        \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair A C \\<approx>\n                         \\<pi> \\<bullet> PPair B D\n 2. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 3. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  C \\<approx> D\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PPair A C \\<approx> \\<pi> \\<bullet> PPair B D", "using ptrm_alpha_equiv.pair"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  C \\<approx> D\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  \\<pi> \\<bullet> C \\<approx> \\<pi> \\<bullet> D\n  \\<lbrakk>?A \\<approx> ?B; ?C \\<approx> ?D\\<rbrakk>\n  \\<Longrightarrow> PPair ?A ?C \\<approx> PPair ?B ?D\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PPair A C \\<approx> \\<pi> \\<bullet> PPair B D", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PPair A C \\<approx> \\<pi> \\<bullet> PPair B D\n\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 2. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 2. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (fst A B)"], ["proof (state)\nthis:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst A \\<approx>\n                         \\<pi> \\<bullet> PFst B\n 2. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFst A \\<approx> \\<pi> \\<bullet> PFst B", "using ptrm_alpha_equiv.fst"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  ?A \\<approx> ?B \\<Longrightarrow> PFst ?A \\<approx> PFst ?B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFst A \\<approx> \\<pi> \\<bullet> PFst B", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PFst A \\<approx> \\<pi> \\<bullet> PFst B\n\ngoal (1 subgoal):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "case (snd A B)"], ["proof (state)\nthis:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n\ngoal (1 subgoal):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<approx> B;\n        \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd A \\<approx>\n                         \\<pi> \\<bullet> PSnd B", "thus ?case"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PSnd A \\<approx> \\<pi> \\<bullet> PSnd B", "using ptrm_alpha_equiv.snd"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  \\<pi> \\<bullet> A \\<approx> \\<pi> \\<bullet> B\n  ?A \\<approx> ?B \\<Longrightarrow> PSnd ?A \\<approx> PSnd ?B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PSnd A \\<approx> \\<pi> \\<bullet> PSnd B", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PSnd A \\<approx> \\<pi> \\<bullet> PSnd B\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_swp_transfer:\n  shows \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<longleftrightarrow> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y =\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y =\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "have 1: \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow>\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow>\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "assume \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\""], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow>\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "hence \"\\<epsilon> \\<bullet> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\""], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<bullet> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "using ptrm_alpha_equiv_prm ptrm_prm_apply_compose prm_unit_involution"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\n  ?X \\<approx> ?Y \\<Longrightarrow>\n  ?\\<pi> \\<bullet> ?X \\<approx> ?\\<pi> \\<bullet> ?Y\n  ?\\<pi> \\<bullet> ?\\<sigma> \\<bullet> ?X =\n  (?\\<pi> \\<diamondop> ?\\<sigma>) \\<bullet> ?X\n  [?a \\<leftrightarrow> ?b] \\<diamondop> [?a \\<leftrightarrow> ?b] =\n  \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<bullet> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "by metis"], ["proof (state)\nthis:\n  \\<epsilon> \\<bullet> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow>\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<epsilon> \\<bullet> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n\ngoal (1 subgoal):\n 1. X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "using ptrm_prm_apply_id"], ["proof (prove)\nusing this:\n  \\<epsilon> \\<bullet> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n  \\<epsilon> \\<bullet> ?X = ?X\n\ngoal (1 subgoal):\n 1. X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "by metis"], ["proof (state)\nthis:\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow>\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y =\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "have 2: \"X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow> [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow>\n    [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow>\n    [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y", "assume \"X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\""], ["proof (state)\nthis:\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n\ngoal (1 subgoal):\n 1. X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow>\n    [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y", "hence \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> Y\""], ["proof (prove)\nusing this:\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> Y", "using ptrm_alpha_equiv_prm ptrm_prm_apply_compose prm_unit_involution"], ["proof (prove)\nusing this:\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n  ?X \\<approx> ?Y \\<Longrightarrow>\n  ?\\<pi> \\<bullet> ?X \\<approx> ?\\<pi> \\<bullet> ?Y\n  ?\\<pi> \\<bullet> ?\\<sigma> \\<bullet> ?X =\n  (?\\<pi> \\<diamondop> ?\\<sigma>) \\<bullet> ?X\n  [?a \\<leftrightarrow> ?b] \\<diamondop> [?a \\<leftrightarrow> ?b] =\n  \\<epsilon>\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> Y", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> Y\n\ngoal (1 subgoal):\n 1. X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow>\n    [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y", "thus ?thesis"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y", "using ptrm_prm_apply_id"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> Y\n  \\<epsilon> \\<bullet> ?X = ?X\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow>\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y =\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "from 1 and 2"], ["proof (chain)\npicking this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow>\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow>\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y", "show \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<longleftrightarrow> X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\""], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y \\<Longrightarrow>\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y \\<Longrightarrow>\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y =\n    X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y", "by blast"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> Y =\n  X \\<approx> [a \\<leftrightarrow> b] \\<bullet> Y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_alpha_equiv_fvs_transfer:\n  assumes \"A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\" and \"a \\<notin> ptrm_fvs B\"\n  shows \"b \\<notin> ptrm_fvs A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "from \\<open>A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\\<close>"], ["proof (chain)\npicking this:\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B", "have \"[a \\<leftrightarrow> b] \\<bullet> A \\<approx> B\""], ["proof (prove)\nusing this:\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> A \\<approx> B", "using ptrm_swp_transfer"], ["proof (prove)\nusing this:\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  [?a \\<leftrightarrow> ?b] \\<bullet> ?X \\<approx> ?Y =\n  ?X \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?Y\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> A \\<approx> B", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> A \\<approx> B\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "hence \"ptrm_fvs B = [a \\<leftrightarrow> b] {$} ptrm_fvs A\""], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> A \\<approx> B\n\ngoal (1 subgoal):\n 1. ptrm_fvs B = [a \\<leftrightarrow> b] {$} ptrm_fvs A", "using ptrm_alpha_equiv_fvs ptrm_prm_fvs"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> A \\<approx> B\n  ?X \\<approx> ?Y \\<Longrightarrow> ptrm_fvs ?X = ptrm_fvs ?Y\n  ptrm_fvs (?\\<pi> \\<bullet> ?X) = ?\\<pi> {$} ptrm_fvs ?X\n\ngoal (1 subgoal):\n 1. ptrm_fvs B = [a \\<leftrightarrow> b] {$} ptrm_fvs A", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs B = [a \\<leftrightarrow> b] {$} ptrm_fvs A\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "hence \"a \\<notin> [a \\<leftrightarrow> b] {$} ptrm_fvs A\""], ["proof (prove)\nusing this:\n  ptrm_fvs B = [a \\<leftrightarrow> b] {$} ptrm_fvs A\n\ngoal (1 subgoal):\n 1. a \\<notin> [a \\<leftrightarrow> b] {$} ptrm_fvs A", "using \\<open>a \\<notin> ptrm_fvs B\\<close>"], ["proof (prove)\nusing this:\n  ptrm_fvs B = [a \\<leftrightarrow> b] {$} ptrm_fvs A\n  a \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. a \\<notin> [a \\<leftrightarrow> b] {$} ptrm_fvs A", "by metis"], ["proof (state)\nthis:\n  a \\<notin> [a \\<leftrightarrow> b] {$} ptrm_fvs A\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "hence \"b \\<notin> [a \\<leftrightarrow> b] {$} ([a \\<leftrightarrow> b] {$} ptrm_fvs A)\""], ["proof (prove)\nusing this:\n  a \\<notin> [a \\<leftrightarrow> b] {$} ptrm_fvs A\n\ngoal (1 subgoal):\n 1. b \\<notin> [a \\<leftrightarrow> b] {$}\n               ([a \\<leftrightarrow> b] {$} ptrm_fvs A)", "using prm_set_notmembership prm_unit_action"], ["proof (prove)\nusing this:\n  a \\<notin> [a \\<leftrightarrow> b] {$} ptrm_fvs A\n  ?x \\<notin> ?S \\<Longrightarrow> ?\\<pi> $ ?x \\<notin> ?\\<pi> {$} ?S\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n\ngoal (1 subgoal):\n 1. b \\<notin> [a \\<leftrightarrow> b] {$}\n               ([a \\<leftrightarrow> b] {$} ptrm_fvs A)", "by metis"], ["proof (state)\nthis:\n  b \\<notin> [a \\<leftrightarrow> b] {$}\n             ([a \\<leftrightarrow> b] {$} ptrm_fvs A)\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "thus ?thesis"], ["proof (prove)\nusing this:\n  b \\<notin> [a \\<leftrightarrow> b] {$}\n             ([a \\<leftrightarrow> b] {$} ptrm_fvs A)\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "using prm_set_apply_compose prm_unit_involution prm_set_id"], ["proof (prove)\nusing this:\n  b \\<notin> [a \\<leftrightarrow> b] {$}\n             ([a \\<leftrightarrow> b] {$} ptrm_fvs A)\n  ?\\<pi> {$} (?\\<sigma> {$} ?S) = ?\\<pi> \\<diamondop> ?\\<sigma> {$} ?S\n  [?a \\<leftrightarrow> ?b] \\<diamondop> [?a \\<leftrightarrow> ?b] =\n  \\<epsilon>\n  \\<epsilon> {$} ?S = ?S\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "by metis"], ["proof (state)\nthis:\n  b \\<notin> ptrm_fvs A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_prm_agreement_equiv:\n  assumes \"\\<And>a. a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs M\"\n  shows \"\\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M", "using assms"], ["proof (prove)\nusing this:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs M\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M", "proof(induction M arbitrary: \\<pi> \\<sigma>)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs PUnit) \\<Longrightarrow>\n       \\<pi> \\<bullet> PUnit \\<approx> \\<sigma> \\<bullet> PUnit\n 2. \\<And>x \\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PVar x)) \\<Longrightarrow>\n       \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 3. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 4. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 5. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 6. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 7. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "case (PUnit)"], ["proof (state)\nthis:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs PUnit\n\ngoal (7 subgoals):\n 1. \\<And>\\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs PUnit) \\<Longrightarrow>\n       \\<pi> \\<bullet> PUnit \\<approx> \\<sigma> \\<bullet> PUnit\n 2. \\<And>x \\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PVar x)) \\<Longrightarrow>\n       \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 3. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 4. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 5. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 6. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 7. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "thus ?case"], ["proof (prove)\nusing this:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs PUnit\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PUnit \\<approx> \\<sigma> \\<bullet> PUnit", "using ptrm_alpha_equiv.unit"], ["proof (prove)\nusing this:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs PUnit\n  PUnit \\<approx> PUnit\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PUnit \\<approx> \\<sigma> \\<bullet> PUnit", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PUnit \\<approx> \\<sigma> \\<bullet> PUnit\n\ngoal (6 subgoals):\n 1. \\<And>x \\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PVar x)) \\<Longrightarrow>\n       \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 3. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 4. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 6. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x \\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PVar x)) \\<Longrightarrow>\n       \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 3. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 4. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 6. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "case (PVar x)"], ["proof (state)\nthis:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs (PVar x)\n\ngoal (6 subgoals):\n 1. \\<And>x \\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PVar x)) \\<Longrightarrow>\n       \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 3. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 4. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 6. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "consider \"x \\<in> ds \\<pi> \\<sigma>\" | \"x \\<notin> ds \\<pi> \\<sigma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> thesis;\n     x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis;\n   x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (6 subgoals):\n 1. \\<And>x \\<pi> \\<sigma>.\n       (\\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PVar x)) \\<Longrightarrow>\n       \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 3. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 4. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 6. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis;\n   x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 2. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "case 1"], ["proof (state)\nthis:\n  x \\<in> ds \\<pi> \\<sigma>\n\ngoal (2 subgoals):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 2. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "hence \"x \\<notin> ptrm_fvs (PVar x)\""], ["proof (prove)\nusing this:\n  x \\<in> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs (PVar x)", "using PVar.prems"], ["proof (prove)\nusing this:\n  x \\<in> ds \\<pi> \\<sigma>\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs (PVar x)\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs (PVar x)", "by blast"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs (PVar x)\n\ngoal (2 subgoals):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n 2. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs (PVar x)\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n\ngoal (1 subgoal):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "case 2"], ["proof (state)\nthis:\n  x \\<notin> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "hence \"\\<pi> $ x = \\<sigma> $ x\""], ["proof (prove)\nusing this:\n  x \\<notin> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<pi> $ x = \\<sigma> $ x", "using prm_disagreement_ext"], ["proof (prove)\nusing this:\n  x \\<notin> ds \\<pi> \\<sigma>\n  ?x \\<in> ds ?\\<pi> ?\\<sigma> \\<equiv> ?\\<pi> $ ?x \\<noteq> ?\\<sigma> $ ?x\n\ngoal (1 subgoal):\n 1. \\<pi> $ x = \\<sigma> $ x", "by metis"], ["proof (state)\nthis:\n  \\<pi> $ x = \\<sigma> $ x\n\ngoal (1 subgoal):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<pi> $ x = \\<sigma> $ x\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "using ptrm_alpha_equiv.var"], ["proof (prove)\nusing this:\n  \\<pi> $ x = \\<sigma> $ x\n  PVar ?x \\<approx> PVar ?x\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PVar x \\<approx> \\<sigma> \\<bullet> PVar x\n\ngoal (5 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 2. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 3. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 2. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 3. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "case (PApp A B)"], ["proof (state)\nthis:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs B) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> B \\<approx> ?\\<sigma> \\<bullet> B\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PApp A B)\n\ngoal (5 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 2. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 3. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "hence \"\\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\" and \"\\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\""], ["proof (prove)\nusing this:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs B) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> B \\<approx> ?\\<sigma> \\<bullet> B\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PApp A B)\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A &&&\n    \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\n  \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\n\ngoal (5 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PApp M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PApp M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PApp M1 M2\n 2. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 3. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 5. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "thus ?case"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\n  \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PApp A B \\<approx> \\<sigma> \\<bullet> PApp A B", "using ptrm_alpha_equiv.app"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\n  \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\n  \\<lbrakk>?A \\<approx> ?B; ?C \\<approx> ?D\\<rbrakk>\n  \\<Longrightarrow> PApp ?A ?C \\<approx> PApp ?B ?D\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PApp A B \\<approx> \\<sigma> \\<bullet> PApp A B", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PApp A B \\<approx> \\<sigma> \\<bullet> PApp A B\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "case (PFn x T A)"], ["proof (state)\nthis:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PFn x T A)\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "consider \"x \\<notin> ds \\<pi> \\<sigma>\" | \"x \\<in> ds \\<pi> \\<sigma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow> thesis;\n     x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis;\n   x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFn x1 x2a M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFn x1 x2a M \\<approx>\n                         \\<sigma> \\<bullet> PFn x1 x2a M\n 2. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 4. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis;\n   x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A\n 2. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "case 1"], ["proof (state)\nthis:\n  x \\<notin> ds \\<pi> \\<sigma>\n\ngoal (2 subgoals):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A\n 2. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "hence *: \"\\<pi> $ x = \\<sigma> $ x\""], ["proof (prove)\nusing this:\n  x \\<notin> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<pi> $ x = \\<sigma> $ x", "using prm_disagreement_ext"], ["proof (prove)\nusing this:\n  x \\<notin> ds \\<pi> \\<sigma>\n  ?x \\<in> ds ?\\<pi> ?\\<sigma> \\<equiv> ?\\<pi> $ ?x \\<noteq> ?\\<sigma> $ ?x\n\ngoal (1 subgoal):\n 1. \\<pi> $ x = \\<sigma> $ x", "by metis"], ["proof (state)\nthis:\n  \\<pi> $ x = \\<sigma> $ x\n\ngoal (2 subgoals):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A\n 2. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "have \"\\<And>a. a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs A", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs A", "assume \"a \\<in> ds \\<pi> \\<sigma>\""], ["proof (state)\nthis:\n  a \\<in> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs A", "hence \"a \\<notin> ptrm_fvs (PFn x T A)\""], ["proof (prove)\nusing this:\n  a \\<in> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. a \\<notin> ptrm_fvs (PFn x T A)", "using PFn.prems"], ["proof (prove)\nusing this:\n  a \\<in> ds \\<pi> \\<sigma>\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PFn x T A)\n\ngoal (1 subgoal):\n 1. a \\<notin> ptrm_fvs (PFn x T A)", "by metis"], ["proof (state)\nthis:\n  a \\<notin> ptrm_fvs (PFn x T A)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs A", "hence \"a = x \\<or> a \\<notin> ptrm_fvs A\""], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs (PFn x T A)\n\ngoal (1 subgoal):\n 1. a = x \\<or> a \\<notin> ptrm_fvs A", "by auto"], ["proof (state)\nthis:\n  a = x \\<or> a \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> a \\<notin> ptrm_fvs A", "thus \"a \\<notin> ptrm_fvs A\""], ["proof (prove)\nusing this:\n  a = x \\<or> a \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. a \\<notin> ptrm_fvs A", "using \\<open>a \\<in> ds \\<pi> \\<sigma>\\<close> \\<open>x \\<notin> ds \\<pi> \\<sigma>\\<close>"], ["proof (prove)\nusing this:\n  a = x \\<or> a \\<notin> ptrm_fvs A\n  a \\<in> ds \\<pi> \\<sigma>\n  x \\<notin> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. a \\<notin> ptrm_fvs A", "by auto"], ["proof (state)\nthis:\n  a \\<notin> ptrm_fvs A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs A\n\ngoal (2 subgoals):\n 1. x \\<notin> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A\n 2. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "using PFn.IH * ptrm_alpha_equiv.fn1 ptrm_apply_prm.simps(3)"], ["proof (prove)\nusing this:\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs A\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  \\<pi> $ x = \\<sigma> $ x\n  ?A \\<approx> ?B \\<Longrightarrow> PFn ?x ?T ?A \\<approx> PFn ?x ?T ?B\n  ?\\<pi> \\<bullet> PApp ?A ?B =\n  PApp (?\\<pi> \\<bullet> ?A) (?\\<pi> \\<bullet> ?B)\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "by fastforce"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A\n\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "case 2"], ["proof (state)\nthis:\n  x \\<in> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "hence \"\\<pi> $ x \\<noteq> \\<sigma> $ x\""], ["proof (prove)\nusing this:\n  x \\<in> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<noteq> \\<sigma> $ x", "using prm_disagreement_def CollectD"], ["proof (prove)\nusing this:\n  x \\<in> ds \\<pi> \\<sigma>\n  ds ?\\<pi> ?\\<sigma> \\<equiv> {x. ?\\<pi> $ x \\<noteq> ?\\<sigma> $ x}\n  ?a \\<in> {x. ?P x} \\<Longrightarrow> ?P ?a\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<noteq> \\<sigma> $ x", "by fastforce"], ["proof (state)\nthis:\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "moreover"], ["proof (state)\nthis:\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "have \"\\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)", "have \"y \\<in> (ptrm_fvs A) \\<Longrightarrow> \\<pi> $ x \\<noteq> \\<sigma> $ y\" for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> ptrm_fvs A \\<Longrightarrow> \\<pi> $ x \\<noteq> \\<sigma> $ y", "using PFn \\<open>\\<pi> $ x \\<noteq> \\<sigma> $ x\\<close> prm_apply_unequal prm_disagreement_ext ptrm_fvs.simps(4)"], ["proof (prove)\nusing this:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PFn x T A)\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n  ?x \\<noteq> ?y \\<Longrightarrow> ?\\<pi> $ ?x \\<noteq> ?\\<pi> $ ?y\n  ?x \\<in> ds ?\\<pi> ?\\<sigma> \\<equiv> ?\\<pi> $ ?x \\<noteq> ?\\<sigma> $ ?x\n  ptrm_fvs (PFn ?x ?uu ?A) = ptrm_fvs ?A - {?x}\n\ngoal (1 subgoal):\n 1. y \\<in> ptrm_fvs A \\<Longrightarrow> \\<pi> $ x \\<noteq> \\<sigma> $ y", "by (metis Diff_iff empty_iff insert_iff)"], ["proof (state)\nthis:\n  ?y \\<in> ptrm_fvs A \\<Longrightarrow> \\<pi> $ x \\<noteq> \\<sigma> $ ?y\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)", "hence \"\\<pi> $ x \\<notin> \\<sigma> {$} ptrm_fvs A\""], ["proof (prove)\nusing this:\n  ?y \\<in> ptrm_fvs A \\<Longrightarrow> \\<pi> $ x \\<noteq> \\<sigma> $ ?y\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> \\<sigma> {$} ptrm_fvs A", "unfolding prm_set_def"], ["proof (prove)\nusing this:\n  ?y \\<in> ptrm_fvs A \\<Longrightarrow> \\<pi> $ x \\<noteq> \\<sigma> $ ?y\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> ($) \\<sigma> ` ptrm_fvs A", "by auto"], ["proof (state)\nthis:\n  \\<pi> $ x \\<notin> \\<sigma> {$} ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<pi> $ x \\<notin> \\<sigma> {$} ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)", "using ptrm_prm_fvs"], ["proof (prove)\nusing this:\n  \\<pi> $ x \\<notin> \\<sigma> {$} ptrm_fvs A\n  ptrm_fvs (?\\<pi> \\<bullet> ?X) = ?\\<pi> {$} ptrm_fvs ?X\n\ngoal (1 subgoal):\n 1. \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)", "by metis"], ["proof (state)\nthis:\n  \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)\n\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "moreover"], ["proof (state)\nthis:\n  \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)\n\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "have \"\\<pi> \\<bullet> A \\<approx> [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet> \\<sigma> \\<bullet> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx>\n    [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet>\n    \\<sigma> \\<bullet> A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx>\n    [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet>\n    \\<sigma> \\<bullet> A", "have \"\\<And>a. a \\<in> ds \\<pi> ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop> \\<sigma>) \\<Longrightarrow> a \\<notin> ptrm_fvs A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi>\n                ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n                 \\<sigma>) \\<Longrightarrow>\n       a \\<notin> ptrm_fvs A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi>\n                ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n                 \\<sigma>) \\<Longrightarrow>\n       a \\<notin> ptrm_fvs A", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi>\n                ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n                 \\<sigma>) \\<Longrightarrow>\n       a \\<notin> ptrm_fvs A", "assume *: \"a \\<in> ds \\<pi> ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop> \\<sigma>)\""], ["proof (state)\nthis:\n  a \\<in> ds \\<pi>\n           ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n            \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi>\n                ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n                 \\<sigma>) \\<Longrightarrow>\n       a \\<notin> ptrm_fvs A", "hence \"a \\<noteq> x\""], ["proof (prove)\nusing this:\n  a \\<in> ds \\<pi>\n           ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n            \\<sigma>)\n\ngoal (1 subgoal):\n 1. a \\<noteq> x", "using \\<open>\\<pi> $ x \\<noteq> \\<sigma> $ x\\<close>"], ["proof (prove)\nusing this:\n  a \\<in> ds \\<pi>\n           ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n            \\<sigma>)\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n\ngoal (1 subgoal):\n 1. a \\<noteq> x", "using prm_apply_composition prm_disagreement_ext prm_unit_action prm_unit_commutes"], ["proof (prove)\nusing this:\n  a \\<in> ds \\<pi>\n           ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n            \\<sigma>)\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n  ?f \\<diamondop> ?g $ ?x = ?f $ (?g $ ?x)\n  ?x \\<in> ds ?\\<pi> ?\\<sigma> \\<equiv> ?\\<pi> $ ?x \\<noteq> ?\\<sigma> $ ?x\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n\ngoal (1 subgoal):\n 1. a \\<noteq> x", "by metis"], ["proof (state)\nthis:\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi>\n                ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n                 \\<sigma>) \\<Longrightarrow>\n       a \\<notin> ptrm_fvs A", "hence \"a \\<in> ds \\<pi> \\<sigma>\""], ["proof (prove)\nusing this:\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. a \\<in> ds \\<pi> \\<sigma>", "using * prm_apply_composition prm_apply_unequal prm_disagreement_ext prm_unit_inaction"], ["proof (prove)\nusing this:\n  a \\<noteq> x\n  a \\<in> ds \\<pi>\n           ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n            \\<sigma>)\n  ?f \\<diamondop> ?g $ ?x = ?f $ (?g $ ?x)\n  ?x \\<noteq> ?y \\<Longrightarrow> ?\\<pi> $ ?x \\<noteq> ?\\<pi> $ ?y\n  ?x \\<in> ds ?\\<pi> ?\\<sigma> \\<equiv> ?\\<pi> $ ?x \\<noteq> ?\\<sigma> $ ?x\n  \\<lbrakk>?x \\<noteq> ?a; ?x \\<noteq> ?b\\<rbrakk>\n  \\<Longrightarrow> [?a \\<leftrightarrow> ?b] $ ?x = ?x\n\ngoal (1 subgoal):\n 1. a \\<in> ds \\<pi> \\<sigma>", "by metis"], ["proof (state)\nthis:\n  a \\<in> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds \\<pi>\n                ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n                 \\<sigma>) \\<Longrightarrow>\n       a \\<notin> ptrm_fvs A", "thus \"a \\<notin> ptrm_fvs A\""], ["proof (prove)\nusing this:\n  a \\<in> ds \\<pi> \\<sigma>\n\ngoal (1 subgoal):\n 1. a \\<notin> ptrm_fvs A", "using \\<open>a \\<noteq> x\\<close> PFn.prems"], ["proof (prove)\nusing this:\n  a \\<in> ds \\<pi> \\<sigma>\n  a \\<noteq> x\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PFn x T A)\n\ngoal (1 subgoal):\n 1. a \\<notin> ptrm_fvs A", "by auto"], ["proof (state)\nthis:\n  a \\<notin> ptrm_fvs A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?a \\<in> ds \\<pi>\n            ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n             \\<sigma>) \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx>\n    [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet>\n    \\<sigma> \\<bullet> A", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?a \\<in> ds \\<pi>\n            ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n             \\<sigma>) \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx>\n    [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet>\n    \\<sigma> \\<bullet> A", "using PFn"], ["proof (prove)\nusing this:\n  ?a \\<in> ds \\<pi>\n            ([\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<diamondop>\n             \\<sigma>) \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs A\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PFn x T A)\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx>\n    [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet>\n    \\<sigma> \\<bullet> A", "by (simp add: ptrm_prm_apply_compose)"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet> \\<sigma> \\<bullet> A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet> \\<sigma> \\<bullet> A\n\ngoal (1 subgoal):\n 1. x \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n    \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "ultimately"], ["proof (chain)\npicking this:\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n  \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet> \\<sigma> \\<bullet> A", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n  \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet> \\<sigma> \\<bullet> A\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "using ptrm_alpha_equiv.fn2"], ["proof (prove)\nusing this:\n  \\<pi> $ x \\<noteq> \\<sigma> $ x\n  \\<pi> $ x \\<notin> ptrm_fvs (\\<sigma> \\<bullet> A)\n  \\<pi> \\<bullet> A \\<approx>\n  [\\<pi> $ x \\<leftrightarrow> \\<sigma> $ x] \\<bullet> \\<sigma> \\<bullet> A\n  \\<lbrakk>?a \\<noteq> ?b;\n   ?A \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?B;\n   ?a \\<notin> ptrm_fvs ?B\\<rbrakk>\n  \\<Longrightarrow> PFn ?a ?T ?A \\<approx> PFn ?b ?T ?B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A", "by simp"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PFn x T A \\<approx> \\<sigma> \\<bullet> PFn x T A\n\ngoal (3 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "case (PPair A B)"], ["proof (state)\nthis:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs B) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> B \\<approx> ?\\<sigma> \\<bullet> B\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PPair A B)\n\ngoal (3 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "hence \"\\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\" and \"\\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\""], ["proof (prove)\nusing this:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs A) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> A \\<approx> ?\\<sigma> \\<bullet> A\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs B) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> B \\<approx> ?\\<sigma> \\<bullet> B\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs (PPair A B)\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A &&&\n    \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\n  \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\n\ngoal (3 subgoals):\n 1. \\<And>M1 M2 \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M1) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M1 \\<approx> \\<sigma> \\<bullet> M1;\n        \\<And>\\<pi> \\<sigma>.\n           (\\<And>a.\n               a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n               a \\<notin> ptrm_fvs M2) \\<Longrightarrow>\n           \\<pi> \\<bullet> M2 \\<approx> \\<sigma> \\<bullet> M2;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PPair M1 M2)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PPair M1 M2 \\<approx>\n                         \\<sigma> \\<bullet> PPair M1 M2\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 3. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "thus ?case"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\n  \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PPair A B \\<approx> \\<sigma> \\<bullet> PPair A B", "using ptrm_alpha_equiv.pair"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> A \\<approx> \\<sigma> \\<bullet> A\n  \\<pi> \\<bullet> B \\<approx> \\<sigma> \\<bullet> B\n  \\<lbrakk>?A \\<approx> ?B; ?C \\<approx> ?D\\<rbrakk>\n  \\<Longrightarrow> PPair ?A ?C \\<approx> PPair ?B ?D\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PPair A B \\<approx> \\<sigma> \\<bullet> PPair A B", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PPair A B \\<approx> \\<sigma> \\<bullet> PPair A B\n\ngoal (2 subgoals):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "case (PFst P)"], ["proof (state)\nthis:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs P) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> P \\<approx> ?\\<sigma> \\<bullet> P\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs (PFst P)\n\ngoal (2 subgoals):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "hence \"\\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\""], ["proof (prove)\nusing this:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs P) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> P \\<approx> ?\\<sigma> \\<bullet> P\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs (PFst P)\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\n\ngoal (2 subgoals):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PFst M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PFst M \\<approx>\n                         \\<sigma> \\<bullet> PFst M\n 2. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "thus ?case"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFst P \\<approx> \\<sigma> \\<bullet> PFst P", "using ptrm_alpha_equiv.fst"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\n  ?A \\<approx> ?B \\<Longrightarrow> PFst ?A \\<approx> PFst ?B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PFst P \\<approx> \\<sigma> \\<bullet> PFst P", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PFst P \\<approx> \\<sigma> \\<bullet> PFst P\n\ngoal (1 subgoal):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "case (PSnd P)"], ["proof (state)\nthis:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs P) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> P \\<approx> ?\\<sigma> \\<bullet> P\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs (PSnd P)\n\ngoal (1 subgoal):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "hence \"\\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\""], ["proof (prove)\nusing this:\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs P) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> P \\<approx> ?\\<sigma> \\<bullet> P\n  ?a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow> ?a \\<notin> ptrm_fvs (PSnd P)\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\n\ngoal (1 subgoal):\n 1. \\<And>M \\<pi> \\<sigma>.\n       \\<lbrakk>\\<And>\\<pi> \\<sigma>.\n                   (\\<And>a.\n                       a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n                       a \\<notin> ptrm_fvs M) \\<Longrightarrow>\n                   \\<pi> \\<bullet> M \\<approx> \\<sigma> \\<bullet> M;\n        \\<And>a.\n           a \\<in> ds \\<pi> \\<sigma> \\<Longrightarrow>\n           a \\<notin> ptrm_fvs (PSnd M)\\<rbrakk>\n       \\<Longrightarrow> \\<pi> \\<bullet> PSnd M \\<approx>\n                         \\<sigma> \\<bullet> PSnd M", "thus ?case"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PSnd P \\<approx> \\<sigma> \\<bullet> PSnd P", "using ptrm_alpha_equiv.snd"], ["proof (prove)\nusing this:\n  \\<pi> \\<bullet> P \\<approx> \\<sigma> \\<bullet> P\n  ?A \\<approx> ?B \\<Longrightarrow> PSnd ?A \\<approx> PSnd ?B\n\ngoal (1 subgoal):\n 1. \\<pi> \\<bullet> PSnd P \\<approx> \\<sigma> \\<bullet> PSnd P", "by auto"], ["proof (state)\nthis:\n  \\<pi> \\<bullet> PSnd P \\<approx> \\<sigma> \\<bullet> PSnd P\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_prm_unit_inaction:\n  assumes \"a \\<notin> ptrm_fvs X\" \"b \\<notin> ptrm_fvs X\"\n  shows \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> X", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> X", "have \"(\\<And>x. x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow> x \\<notin> ptrm_fvs X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n       x \\<notin> ptrm_fvs X", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n       x \\<notin> ptrm_fvs X", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n       x \\<notin> ptrm_fvs X", "assume \"x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon>\""], ["proof (state)\nthis:\n  x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n       x \\<notin> ptrm_fvs X", "hence \"[a \\<leftrightarrow> b] $ x \\<noteq> \\<epsilon> $ x\""], ["proof (prove)\nusing this:\n  x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon>\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] $ x \\<noteq> \\<epsilon> $ x", "unfolding prm_disagreement_def"], ["proof (prove)\nusing this:\n  x \\<in> {x. [a \\<leftrightarrow> b] $ x \\<noteq> \\<epsilon> $ x}\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] $ x \\<noteq> \\<epsilon> $ x", "by auto"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] $ x \\<noteq> \\<epsilon> $ x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n       x \\<notin> ptrm_fvs X", "hence \"x = a \\<or> x = b\""], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] $ x \\<noteq> \\<epsilon> $ x\n\ngoal (1 subgoal):\n 1. x = a \\<or> x = b", "using prm_apply_id prm_unit_inaction"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] $ x \\<noteq> \\<epsilon> $ x\n  \\<epsilon> $ ?x = ?x\n  \\<lbrakk>?x \\<noteq> ?a; ?x \\<noteq> ?b\\<rbrakk>\n  \\<Longrightarrow> [?a \\<leftrightarrow> ?b] $ ?x = ?x\n\ngoal (1 subgoal):\n 1. x = a \\<or> x = b", "by metis"], ["proof (state)\nthis:\n  x = a \\<or> x = b\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n       x \\<notin> ptrm_fvs X", "thus \"x \\<notin> ptrm_fvs X\""], ["proof (prove)\nusing this:\n  x = a \\<or> x = b\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs X", "using assms"], ["proof (prove)\nusing this:\n  x = a \\<or> x = b\n  a \\<notin> ptrm_fvs X\n  b \\<notin> ptrm_fvs X\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs X", "by auto"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n  ?x \\<notin> ptrm_fvs X\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> X", "hence \"[a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> X\""], ["proof (prove)\nusing this:\n  ?x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n  ?x \\<notin> ptrm_fvs X\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> X", "using ptrm_prm_agreement_equiv"], ["proof (prove)\nusing this:\n  ?x \\<in> ds [a \\<leftrightarrow> b] \\<epsilon> \\<Longrightarrow>\n  ?x \\<notin> ptrm_fvs X\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs ?M) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> ?M \\<approx> ?\\<sigma> \\<bullet> ?M\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> X", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> X\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> X", "thus ?thesis"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> X\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> X", "using ptrm_prm_apply_id"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> \\<epsilon> \\<bullet> X\n  \\<epsilon> \\<bullet> ?X = ?X\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> X \\<approx> X", "by metis"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> X \\<approx> X\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_alpha_equiv_reflexive:\n  shows \"M \\<approx> M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M \\<approx> M", "by(induction M, auto simp add: ptrm_alpha_equiv.intros)"], ["", "corollary ptrm_alpha_equiv_reflp:\n  shows \"reflp ptrm_alpha_equiv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflp (\\<approx>)", "unfolding reflp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x. x \\<approx> x", "using ptrm_alpha_equiv_reflexive"], ["proof (prove)\nusing this:\n  ?M \\<approx> ?M\n\ngoal (1 subgoal):\n 1. \\<forall>x. x \\<approx> x", "by auto"], ["", "lemma ptrm_alpha_equiv_symmetric:\n  assumes \"X \\<approx> Y\"\n  shows \"Y \\<approx> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y \\<approx> X", "using assms"], ["proof (prove)\nusing this:\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. Y \\<approx> X", "proof(induction rule: ptrm_alpha_equiv.induct, auto simp add: ptrm_alpha_equiv.intros)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A;\n        a \\<notin> ptrm_fvs B; X \\<approx> Y\\<rbrakk>\n       \\<Longrightarrow> PFn b T B \\<approx> PFn a T A", "case (fn2 a b A B T)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A\n\ngoal (1 subgoal):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A;\n        a \\<notin> ptrm_fvs B; X \\<approx> Y\\<rbrakk>\n       \\<Longrightarrow> PFn b T B \\<approx> PFn a T A", "have \"b \\<noteq> a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> a", "using \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. b \\<noteq> a", "by auto"], ["proof (state)\nthis:\n  b \\<noteq> a\n\ngoal (1 subgoal):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A;\n        a \\<notin> ptrm_fvs B; X \\<approx> Y\\<rbrakk>\n       \\<Longrightarrow> PFn b T B \\<approx> PFn a T A", "have \"B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A", "using \\<open>[a \\<leftrightarrow> b] \\<bullet> B \\<approx> A\\<close>"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A\n\ngoal (1 subgoal):\n 1. B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A", "using ptrm_swp_transfer prm_unit_commutes"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A\n  [?a \\<leftrightarrow> ?b] \\<bullet> ?X \\<approx> ?Y =\n  ?X \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?Y\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n\ngoal (1 subgoal):\n 1. B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A", "by metis"], ["proof (state)\nthis:\n  B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A\n\ngoal (1 subgoal):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A;\n        a \\<notin> ptrm_fvs B; X \\<approx> Y\\<rbrakk>\n       \\<Longrightarrow> PFn b T B \\<approx> PFn a T A", "have \"b \\<notin> ptrm_fvs A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "using \\<open>a \\<notin> ptrm_fvs B\\<close> \\<open>A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\\<close> \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs B\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "using ptrm_alpha_equiv_fvs_transfer"], ["proof (prove)\nusing this:\n  a \\<notin> ptrm_fvs B\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<noteq> b\n  \\<lbrakk>?A \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?B;\n   ?a \\<notin> ptrm_fvs ?B\\<rbrakk>\n  \\<Longrightarrow> ?b \\<notin> ptrm_fvs ?A\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A", "by metis"], ["proof (state)\nthis:\n  b \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<And>a b A B T.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        [a \\<leftrightarrow> b] \\<bullet> B \\<approx> A;\n        a \\<notin> ptrm_fvs B; X \\<approx> Y\\<rbrakk>\n       \\<Longrightarrow> PFn b T B \\<approx> PFn a T A", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. PFn b T B \\<approx> PFn a T A", "using \\<open>b \\<noteq> a\\<close> \\<open>B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A\\<close> \\<open>b \\<notin> ptrm_fvs A\\<close>"], ["proof (prove)\nusing this:\n  b \\<noteq> a\n  B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A\n  b \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. PFn b T B \\<approx> PFn a T A", "using ptrm_alpha_equiv.fn2"], ["proof (prove)\nusing this:\n  b \\<noteq> a\n  B \\<approx> [b \\<leftrightarrow> a] \\<bullet> A\n  b \\<notin> ptrm_fvs A\n  \\<lbrakk>?a \\<noteq> ?b;\n   ?A \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?B;\n   ?a \\<notin> ptrm_fvs ?B\\<rbrakk>\n  \\<Longrightarrow> PFn ?a ?T ?A \\<approx> PFn ?b ?T ?B\n\ngoal (1 subgoal):\n 1. PFn b T B \\<approx> PFn a T A", "by metis"], ["proof (state)\nthis:\n  PFn b T B \\<approx> PFn a T A\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["", "corollary ptrm_alpha_equiv_symp:\n  shows \"symp ptrm_alpha_equiv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. symp (\\<approx>)", "unfolding symp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y. x \\<approx> y \\<longrightarrow> y \\<approx> x", "using ptrm_alpha_equiv_symmetric"], ["proof (prove)\nusing this:\n  ?X \\<approx> ?Y \\<Longrightarrow> ?Y \\<approx> ?X\n\ngoal (1 subgoal):\n 1. \\<forall>x y. x \\<approx> y \\<longrightarrow> y \\<approx> x", "by auto"], ["", "lemma ptrm_alpha_equiv_transitive:\n  assumes \"X \\<approx> Y\" and \"Y \\<approx> Z\"\n  shows \"X \\<approx> Z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using assms"], ["proof (prove)\nusing this:\n  X \\<approx> Y\n  Y \\<approx> Z\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "proof(induction \"size X\" arbitrary: X Y Z rule: less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X Y Z.\n       \\<lbrakk>\\<And>Xa Y Z.\n                   \\<lbrakk>size Xa < size X; Xa \\<approx> Y;\n                    Y \\<approx> Z\\<rbrakk>\n                   \\<Longrightarrow> Xa \\<approx> Z;\n        X \\<approx> Y; Y \\<approx> Z\\<rbrakk>\n       \\<Longrightarrow> X \\<approx> Z", "fix X Y Z :: \"'a ptrm\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X Y Z.\n       \\<lbrakk>\\<And>Xa Y Z.\n                   \\<lbrakk>size Xa < size X; Xa \\<approx> Y;\n                    Y \\<approx> Z\\<rbrakk>\n                   \\<Longrightarrow> Xa \\<approx> Z;\n        X \\<approx> Y; Y \\<approx> Z\\<rbrakk>\n       \\<Longrightarrow> X \\<approx> Z", "assume IH: \"\\<And>K Y Z :: 'a ptrm. size K < size X \\<Longrightarrow> K \\<approx> Y \\<Longrightarrow> Y \\<approx> Z \\<Longrightarrow> K \\<approx> Z\""], ["proof (state)\nthis:\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n\ngoal (1 subgoal):\n 1. \\<And>X Y Z.\n       \\<lbrakk>\\<And>Xa Y Z.\n                   \\<lbrakk>size Xa < size X; Xa \\<approx> Y;\n                    Y \\<approx> Z\\<rbrakk>\n                   \\<Longrightarrow> Xa \\<approx> Z;\n        X \\<approx> Y; Y \\<approx> Z\\<rbrakk>\n       \\<Longrightarrow> X \\<approx> Z", "assume \"X \\<approx> Y\" and \"Y \\<approx> Z\""], ["proof (state)\nthis:\n  X \\<approx> Y\n  Y \\<approx> Z\n\ngoal (1 subgoal):\n 1. \\<And>X Y Z.\n       \\<lbrakk>\\<And>Xa Y Z.\n                   \\<lbrakk>size Xa < size X; Xa \\<approx> Y;\n                    Y \\<approx> Z\\<rbrakk>\n                   \\<Longrightarrow> Xa \\<approx> Z;\n        X \\<approx> Y; Y \\<approx> Z\\<rbrakk>\n       \\<Longrightarrow> X \\<approx> Z", "show \"X \\<approx> Z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<approx> Z", "proof(cases X)"], ["proof (state)\ngoal (7 subgoals):\n 1. X = PUnit \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 7. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "case (PUnit)"], ["proof (state)\nthis:\n  X = PUnit\n\ngoal (7 subgoals):\n 1. X = PUnit \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 7. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"Y = PUnit\""], ["proof (prove)\nusing this:\n  X = PUnit\n\ngoal (1 subgoal):\n 1. Y = PUnit", "using \\<open>X \\<approx> Y\\<close> unitE"], ["proof (prove)\nusing this:\n  X = PUnit\n  X \\<approx> Y\n  \\<lbrakk>PUnit \\<approx> ?Y; ?Y = PUnit \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. Y = PUnit", "by metis"], ["proof (state)\nthis:\n  Y = PUnit\n\ngoal (7 subgoals):\n 1. X = PUnit \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 7. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"Z = PUnit\""], ["proof (prove)\nusing this:\n  Y = PUnit\n\ngoal (1 subgoal):\n 1. Z = PUnit", "using \\<open>Y \\<approx> Z\\<close> unitE"], ["proof (prove)\nusing this:\n  Y = PUnit\n  Y \\<approx> Z\n  \\<lbrakk>PUnit \\<approx> ?Y; ?Y = PUnit \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. Z = PUnit", "by metis"], ["proof (state)\nthis:\n  Z = PUnit\n\ngoal (7 subgoals):\n 1. X = PUnit \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 7. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  Z = PUnit\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using ptrm_alpha_equiv.unit \\<open>X = PUnit\\<close>"], ["proof (prove)\nusing this:\n  Z = PUnit\n  PUnit \\<approx> PUnit\n  X = PUnit\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (6 subgoals):\n 1. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "case (PVar x)"], ["proof (state)\nthis:\n  X = PVar x\n\ngoal (6 subgoals):\n 1. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"PVar x \\<approx> Y\""], ["proof (prove)\nusing this:\n  X = PVar x\n\ngoal (1 subgoal):\n 1. PVar x \\<approx> Y", "using \\<open>X \\<approx> Y\\<close>"], ["proof (prove)\nusing this:\n  X = PVar x\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. PVar x \\<approx> Y", "by auto"], ["proof (state)\nthis:\n  PVar x \\<approx> Y\n\ngoal (6 subgoals):\n 1. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"Y = PVar x\""], ["proof (prove)\nusing this:\n  PVar x \\<approx> Y\n\ngoal (1 subgoal):\n 1. Y = PVar x", "using varE"], ["proof (prove)\nusing this:\n  PVar x \\<approx> Y\n  \\<lbrakk>PVar ?x \\<approx> ?Y; ?Y = PVar ?x \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. Y = PVar x", "by metis"], ["proof (state)\nthis:\n  Y = PVar x\n\ngoal (6 subgoals):\n 1. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"PVar x \\<approx> Z\""], ["proof (prove)\nusing this:\n  Y = PVar x\n\ngoal (1 subgoal):\n 1. PVar x \\<approx> Z", "using \\<open>Y \\<approx> Z\\<close>"], ["proof (prove)\nusing this:\n  Y = PVar x\n  Y \\<approx> Z\n\ngoal (1 subgoal):\n 1. PVar x \\<approx> Z", "by auto"], ["proof (state)\nthis:\n  PVar x \\<approx> Z\n\ngoal (6 subgoals):\n 1. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"Z = PVar x\""], ["proof (prove)\nusing this:\n  PVar x \\<approx> Z\n\ngoal (1 subgoal):\n 1. Z = PVar x", "using varE"], ["proof (prove)\nusing this:\n  PVar x \\<approx> Z\n  \\<lbrakk>PVar ?x \\<approx> ?Y; ?Y = PVar ?x \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. Z = PVar x", "by metis"], ["proof (state)\nthis:\n  Z = PVar x\n\ngoal (6 subgoals):\n 1. \\<And>x2. X = PVar x2 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 6. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  Z = PVar x\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using ptrm_alpha_equiv.var \\<open>X = PVar x\\<close>"], ["proof (prove)\nusing this:\n  Z = PVar x\n  PVar ?x \\<approx> PVar ?x\n  X = PVar x\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "case (PApp A B)"], ["proof (state)\nthis:\n  X = PApp A B\n\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain C D where \"Y = PApp C D\" and \"A \\<approx> C\" and \"B \\<approx> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>C D.\n        \\<lbrakk>Y = PApp C D; A \\<approx> C; B \\<approx> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using appE \\<open>X = PApp A B\\<close> \\<open>X \\<approx> Y\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PApp ?A ?B \\<approx> ?Y;\n   \\<And>B D.\n      \\<lbrakk>?Y = PApp B D; ?A \\<approx> B; ?B \\<approx> D\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  X = PApp A B\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. (\\<And>C D.\n        \\<lbrakk>Y = PApp C D; A \\<approx> C; B \\<approx> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Y = PApp C D\n  A \\<approx> C\n  B \\<approx> D\n\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"PApp C D \\<approx> Z\""], ["proof (prove)\nusing this:\n  Y = PApp C D\n  A \\<approx> C\n  B \\<approx> D\n\ngoal (1 subgoal):\n 1. PApp C D \\<approx> Z", "using \\<open>Y \\<approx> Z\\<close>"], ["proof (prove)\nusing this:\n  Y = PApp C D\n  A \\<approx> C\n  B \\<approx> D\n  Y \\<approx> Z\n\ngoal (1 subgoal):\n 1. PApp C D \\<approx> Z", "by simp"], ["proof (state)\nthis:\n  PApp C D \\<approx> Z\n\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "from this"], ["proof (chain)\npicking this:\n  PApp C D \\<approx> Z", "obtain E F where \"Z = PApp E F\" and \"C \\<approx> E\" and \"D \\<approx> F\""], ["proof (prove)\nusing this:\n  PApp C D \\<approx> Z\n\ngoal (1 subgoal):\n 1. (\\<And>E F.\n        \\<lbrakk>Z = PApp E F; C \\<approx> E; D \\<approx> F\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using appE"], ["proof (prove)\nusing this:\n  PApp C D \\<approx> Z\n  \\<lbrakk>PApp ?A ?B \\<approx> ?Y;\n   \\<And>B D.\n      \\<lbrakk>?Y = PApp B D; ?A \\<approx> B; ?B \\<approx> D\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. (\\<And>E F.\n        \\<lbrakk>Z = PApp E F; C \\<approx> E; D \\<approx> F\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Z = PApp E F\n  C \\<approx> E\n  D \\<approx> F\n\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "have \"size A < size X\" and \"size B < size X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size A < size X &&& size B < size X", "using \\<open>X = PApp A B\\<close>"], ["proof (prove)\nusing this:\n  X = PApp A B\n\ngoal (1 subgoal):\n 1. size A < size X &&& size B < size X", "by auto"], ["proof (state)\nthis:\n  size A < size X\n  size B < size X\n\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> E\" and \"B \\<approx> F\""], ["proof (prove)\nusing this:\n  size A < size X\n  size B < size X\n\ngoal (1 subgoal):\n 1. A \\<approx> E &&& B \\<approx> F", "using IH \\<open>A \\<approx> C\\<close> \\<open>C \\<approx> E\\<close> \\<open>B \\<approx> D\\<close> \\<open>D \\<approx> F\\<close>"], ["proof (prove)\nusing this:\n  size A < size X\n  size B < size X\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  A \\<approx> C\n  C \\<approx> E\n  B \\<approx> D\n  D \\<approx> F\n\ngoal (1 subgoal):\n 1. A \\<approx> E &&& B \\<approx> F", "by auto"], ["proof (state)\nthis:\n  A \\<approx> E\n  B \\<approx> F\n\ngoal (5 subgoals):\n 1. \\<And>x31 x32. X = PApp x31 x32 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 5. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  A \\<approx> E\n  B \\<approx> F\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>X = PApp A B\\<close> \\<open>Z = PApp E F\\<close> ptrm_alpha_equiv.app"], ["proof (prove)\nusing this:\n  A \\<approx> E\n  B \\<approx> F\n  X = PApp A B\n  Z = PApp E F\n  \\<lbrakk>?A \\<approx> ?B; ?C \\<approx> ?D\\<rbrakk>\n  \\<Longrightarrow> PApp ?A ?C \\<approx> PApp ?B ?D\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "case (PFn x T A)"], ["proof (state)\nthis:\n  X = PFn x T A\n\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "from this"], ["proof (chain)\npicking this:\n  X = PFn x T A", "have X: \"X = PFn x T A\""], ["proof (prove)\nusing this:\n  X = PFn x T A\n\ngoal (1 subgoal):\n 1. X = PFn x T A", "."], ["proof (state)\nthis:\n  X = PFn x T A\n\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence *: \"size A < size X\""], ["proof (prove)\nusing this:\n  X = PFn x T A\n\ngoal (1 subgoal):\n 1. size A < size X", "by auto"], ["proof (state)\nthis:\n  size A < size X\n\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain y B where \"Y = PFn y T B\"\n        and Y_cases: \"(x = y \\<and> A \\<approx> B) \\<or> (x \\<noteq> y \\<and> A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B \\<and> x \\<notin> ptrm_fvs B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y B.\n        \\<lbrakk>Y = PFn y T B;\n         x = y \\<and> A \\<approx> B \\<or>\n         x \\<noteq> y \\<and>\n         A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B \\<and>\n         x \\<notin> ptrm_fvs B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using fnE \\<open>X \\<approx> Y\\<close> \\<open>X = PFn x T A\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PFn ?x ?T ?A \\<approx> ?Y;\n   \\<And>B.\n      \\<lbrakk>?Y = PFn ?x ?T B; ?A \\<approx> B\\<rbrakk>\n      \\<Longrightarrow> ?P;\n   \\<And>b B.\n      \\<lbrakk>?Y = PFn b ?T B; ?x \\<noteq> b;\n       ?A \\<approx> [?x \\<leftrightarrow> b] \\<bullet> B;\n       ?x \\<notin> ptrm_fvs B\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  X \\<approx> Y\n  X = PFn x T A\n\ngoal (1 subgoal):\n 1. (\\<And>y B.\n        \\<lbrakk>Y = PFn y T B;\n         x = y \\<and> A \\<approx> B \\<or>\n         x \\<noteq> y \\<and>\n         A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B \\<and>\n         x \\<notin> ptrm_fvs B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Y = PFn y T B\n  x = y \\<and> A \\<approx> B \\<or>\n  x \\<noteq> y \\<and>\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B \\<and>\n  x \\<notin> ptrm_fvs B\n\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain z C where Z: \"Z = PFn z T C\"\n        and Z_cases: \"(y = z \\<and> B \\<approx> C) \\<or> (y \\<noteq> z \\<and> B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C \\<and> y \\<notin> ptrm_fvs C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>z C.\n        \\<lbrakk>Z = PFn z T C;\n         y = z \\<and> B \\<approx> C \\<or>\n         y \\<noteq> z \\<and>\n         B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C \\<and>\n         y \\<notin> ptrm_fvs C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using fnE \\<open>Y \\<approx> Z\\<close> \\<open>Y = PFn y T B\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PFn ?x ?T ?A \\<approx> ?Y;\n   \\<And>B.\n      \\<lbrakk>?Y = PFn ?x ?T B; ?A \\<approx> B\\<rbrakk>\n      \\<Longrightarrow> ?P;\n   \\<And>b B.\n      \\<lbrakk>?Y = PFn b ?T B; ?x \\<noteq> b;\n       ?A \\<approx> [?x \\<leftrightarrow> b] \\<bullet> B;\n       ?x \\<notin> ptrm_fvs B\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  Y \\<approx> Z\n  Y = PFn y T B\n\ngoal (1 subgoal):\n 1. (\\<And>z C.\n        \\<lbrakk>Z = PFn z T C;\n         y = z \\<and> B \\<approx> C \\<or>\n         y \\<noteq> z \\<and>\n         B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C \\<and>\n         y \\<notin> ptrm_fvs C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Z = PFn z T C\n  y = z \\<and> B \\<approx> C \\<or>\n  y \\<noteq> z \\<and>\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C \\<and>\n  y \\<notin> ptrm_fvs C\n\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "consider\n        \"x = y\" \"A \\<approx> B\" and \"y = z\" \"B \\<approx> C\"\n      | \"x = y\" \"A \\<approx> B\" and \"y \\<noteq> z\" \"B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\" \"y \\<notin> ptrm_fvs C\"\n      | \"x \\<noteq> y\" \"A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\" \"x \\<notin> ptrm_fvs B\" and \"y = z\" \"B \\<approx> C\"\n      | \"x \\<noteq> y\" \"A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\" \"x \\<notin> ptrm_fvs B\" and \"y \\<noteq> z\" \"B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\" \"y \\<notin> ptrm_fvs C\" and \"x = z\"\n      | \"x \\<noteq> y\" \"A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\" \"x \\<notin> ptrm_fvs B\" and \"y \\<noteq> z\" \"B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\" \"y \\<notin> ptrm_fvs C\" and \"x \\<noteq> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n      B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n      y \\<notin> ptrm_fvs C\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n      x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n      x \\<notin> ptrm_fvs B; y \\<noteq> z;\n      B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n      y \\<notin> ptrm_fvs C; x = z\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n      x \\<notin> ptrm_fvs B; y \\<noteq> z;\n      B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n      y \\<notin> ptrm_fvs C; x \\<noteq> z\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using Y_cases Z_cases"], ["proof (prove)\nusing this:\n  x = y \\<and> A \\<approx> B \\<or>\n  x \\<noteq> y \\<and>\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B \\<and>\n  x \\<notin> ptrm_fvs B\n  y = z \\<and> B \\<approx> C \\<or>\n  y \\<noteq> z \\<and>\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C \\<and>\n  y \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n      B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n      y \\<notin> ptrm_fvs C\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n      x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n      x \\<notin> ptrm_fvs B; y \\<noteq> z;\n      B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n      y \\<notin> ptrm_fvs C; x = z\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n      x \\<notin> ptrm_fvs B; y \\<noteq> z;\n      B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n      y \\<notin> ptrm_fvs C; x \\<noteq> z\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n    B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n    y \\<notin> ptrm_fvs C\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n    x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n    x \\<notin> ptrm_fvs B; y \\<noteq> z;\n    B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n    x = z\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n    x \\<notin> ptrm_fvs B; y \\<noteq> z;\n    B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n    x \\<noteq> z\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (4 subgoals):\n 1. \\<And>x41 x42 x43. X = PFn x41 x42 x43 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 4. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n    B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n    y \\<notin> ptrm_fvs C\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n    x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n    x \\<notin> ptrm_fvs B; y \\<noteq> z;\n    B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n    x = z\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n    x \\<notin> ptrm_fvs B; y \\<noteq> z;\n    B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n    x \\<noteq> z\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "proof(cases)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 5. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "case 1"], ["proof (state)\nthis:\n  x = y\n  A \\<approx> B\n  y = z\n  B \\<approx> C\n\ngoal (5 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 5. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"A \\<approx> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<approx> C", "using \\<open>A \\<approx> B\\<close> \\<open>B \\<approx> C\\<close> IH *"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  B \\<approx> C\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  size A < size X\n\ngoal (1 subgoal):\n 1. A \\<approx> C", "by metis"], ["proof (state)\nthis:\n  A \\<approx> C\n\ngoal (5 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 5. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"x = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = z", "using \\<open>x = y\\<close> \\<open>y = z\\<close>"], ["proof (prove)\nusing this:\n  x = y\n  y = z\n\ngoal (1 subgoal):\n 1. x = z", "by metis"], ["proof (state)\nthis:\n  x = z\n\ngoal (5 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 5. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>A \\<approx> C\\<close> \\<open>x = z\\<close> X Z"], ["proof (prove)\nusing this:\n  A \\<approx> C\n  x = z\n  X = PFn x T A\n  Z = PFn z T C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using ptrm_alpha_equiv.fn1"], ["proof (prove)\nusing this:\n  A \\<approx> C\n  x = z\n  X = PFn x T A\n  Z = PFn z T C\n  ?A \\<approx> ?B \\<Longrightarrow> PFn ?x ?T ?A \\<approx> PFn ?x ?T ?B\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (4 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "case 2"], ["proof (state)\nthis:\n  x = y\n  A \\<approx> B\n  y \\<noteq> z\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\n  y \\<notin> ptrm_fvs C\n\ngoal (4 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"x \\<noteq> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<noteq> z", "using \\<open>x = y\\<close> \\<open>y \\<noteq> z\\<close>"], ["proof (prove)\nusing this:\n  x = y\n  y \\<noteq> z\n\ngoal (1 subgoal):\n 1. x \\<noteq> z", "by metis"], ["proof (state)\nthis:\n  x \\<noteq> z\n\ngoal (4 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "using \\<open>A \\<approx> B\\<close> \\<open>B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\\<close> \\<open>x = y\\<close> IH *"], ["proof (prove)\nusing this:\n  A \\<approx> B\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\n  x = y\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  size A < size X\n\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal (4 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"x \\<notin> ptrm_fvs C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "using \\<open>x = y\\<close> \\<open>y \\<notin> ptrm_fvs C\\<close>"], ["proof (prove)\nusing this:\n  x = y\n  y \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "by metis"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C\n\ngoal (4 subgoals):\n 1. \\<lbrakk>x = y; A \\<approx> B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C;\n     y \\<notin> ptrm_fvs C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 4. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>x \\<noteq> z\\<close> \\<open>A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\\<close> \\<open>x \\<notin> ptrm_fvs C\\<close> X Z"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C\n  x \\<noteq> z\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n  x \\<notin> ptrm_fvs C\n  X = PFn x T A\n  Z = PFn z T C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using ptrm_alpha_equiv.fn2"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C\n  x \\<noteq> z\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n  x \\<notin> ptrm_fvs C\n  X = PFn x T A\n  Z = PFn z T C\n  \\<lbrakk>?a \\<noteq> ?b;\n   ?A \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?B;\n   ?a \\<notin> ptrm_fvs ?B\\<rbrakk>\n  \\<Longrightarrow> PFn ?a ?T ?A \\<approx> PFn ?b ?T ?B\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (3 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "case 3"], ["proof (state)\nthis:\n  x \\<noteq> y\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\n  x \\<notin> ptrm_fvs B\n  y = z\n  B \\<approx> C\n\ngoal (3 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"x \\<noteq> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<noteq> z", "using \\<open>x \\<noteq> y\\<close> \\<open>y = z\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  y = z\n\ngoal (1 subgoal):\n 1. x \\<noteq> z", "by metis"], ["proof (state)\nthis:\n  x \\<noteq> z\n\ngoal (3 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"[x \\<leftrightarrow> y] \\<bullet> B \\<approx> [x \\<leftrightarrow> y] \\<bullet> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n    [x \\<leftrightarrow> y] \\<bullet> C", "using \\<open>B \\<approx> C\\<close> ptrm_alpha_equiv_prm"], ["proof (prove)\nusing this:\n  B \\<approx> C\n  ?X \\<approx> ?Y \\<Longrightarrow>\n  ?\\<pi> \\<bullet> ?X \\<approx> ?\\<pi> \\<bullet> ?Y\n\ngoal (1 subgoal):\n 1. [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n    [x \\<leftrightarrow> y] \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> C\n\ngoal (3 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "using \\<open>A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\\<close> \\<open>[x \\<leftrightarrow> y] \\<bullet> B \\<approx> [x \\<leftrightarrow> y] \\<bullet> C\\<close> \\<open>y = z\\<close> IH *"], ["proof (prove)\nusing this:\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\n  [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> C\n  y = z\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  size A < size X\n\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal (3 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"x \\<notin> ptrm_fvs C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "using \\<open>B \\<approx> C\\<close> \\<open>x \\<notin> ptrm_fvs B\\<close> ptrm_alpha_equiv_fvs"], ["proof (prove)\nusing this:\n  B \\<approx> C\n  x \\<notin> ptrm_fvs B\n  ?X \\<approx> ?Y \\<Longrightarrow> ptrm_fvs ?X = ptrm_fvs ?Y\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "by metis"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C\n\ngoal (3 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y = z; B \\<approx> C\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 3. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>x \\<noteq> z\\<close> \\<open>A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\\<close> \\<open>x \\<notin> ptrm_fvs C\\<close> X Z"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C\n  x \\<noteq> z\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n  x \\<notin> ptrm_fvs C\n  X = PFn x T A\n  Z = PFn z T C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using ptrm_alpha_equiv.fn2"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C\n  x \\<noteq> z\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n  x \\<notin> ptrm_fvs C\n  X = PFn x T A\n  Z = PFn z T C\n  \\<lbrakk>?a \\<noteq> ?b;\n   ?A \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?B;\n   ?a \\<notin> ptrm_fvs ?B\\<rbrakk>\n  \\<Longrightarrow> PFn ?a ?T ?A \\<approx> PFn ?b ?T ?B\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "case 4"], ["proof (state)\nthis:\n  x \\<noteq> y\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\n  x \\<notin> ptrm_fvs B\n  y \\<noteq> z\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\n  y \\<notin> ptrm_fvs C\n  x = z\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"[x \\<leftrightarrow> y] \\<bullet> B \\<approx> [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n    [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C", "using \\<open>B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\\<close> ptrm_alpha_equiv_prm"], ["proof (prove)\nusing this:\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\n  ?X \\<approx> ?Y \\<Longrightarrow>\n  ?\\<pi> \\<bullet> ?X \\<approx> ?\\<pi> \\<bullet> ?Y\n\ngoal (1 subgoal):\n 1. [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n    [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\""], ["proof (prove)\nusing this:\n  [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C", "using \\<open>A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\\<close> IH *"], ["proof (prove)\nusing this:\n  [x \\<leftrightarrow> y] \\<bullet> B \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  size A < size X\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  A \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\""], ["proof (prove)\nusing this:\n  A \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C", "using ptrm_prm_apply_compose"], ["proof (prove)\nusing this:\n  A \\<approx>\n  [x \\<leftrightarrow> y] \\<bullet> [y \\<leftrightarrow> z] \\<bullet> C\n  ?\\<pi> \\<bullet> ?\\<sigma> \\<bullet> ?X =\n  (?\\<pi> \\<diamondop> ?\\<sigma>) \\<bullet> ?X\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C", "by metis"], ["proof (state)\nthis:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> x]) \\<bullet> C\""], ["proof (prove)\nusing this:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> x]) \\<bullet>\n    C", "using \\<open>x = z\\<close>"], ["proof (prove)\nusing this:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\n  x = z\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> x]) \\<bullet>\n    C", "by metis"], ["proof (state)\nthis:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> x]) \\<bullet> C\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> ([x \\<leftrightarrow> y] \\<diamondop> [x \\<leftrightarrow> y]) \\<bullet> C\""], ["proof (prove)\nusing this:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> x]) \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [x \\<leftrightarrow> y]) \\<bullet>\n    C", "using prm_unit_commutes"], ["proof (prove)\nusing this:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> x]) \\<bullet> C\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [x \\<leftrightarrow> y]) \\<bullet>\n    C", "by metis"], ["proof (state)\nthis:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [x \\<leftrightarrow> y]) \\<bullet> C\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> \\<epsilon> \\<bullet> C\""], ["proof (prove)\nusing this:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [x \\<leftrightarrow> y]) \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx> \\<epsilon> \\<bullet> C", "using \\<open>x = z\\<close> prm_unit_involution"], ["proof (prove)\nusing this:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [x \\<leftrightarrow> y]) \\<bullet> C\n  x = z\n  [?a \\<leftrightarrow> ?b] \\<diamondop> [?a \\<leftrightarrow> ?b] =\n  \\<epsilon>\n\ngoal (1 subgoal):\n 1. A \\<approx> \\<epsilon> \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  A \\<approx> \\<epsilon> \\<bullet> C\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> C\""], ["proof (prove)\nusing this:\n  A \\<approx> \\<epsilon> \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx> C", "using ptrm_prm_apply_id"], ["proof (prove)\nusing this:\n  A \\<approx> \\<epsilon> \\<bullet> C\n  \\<epsilon> \\<bullet> ?X = ?X\n\ngoal (1 subgoal):\n 1. A \\<approx> C", "by metis"], ["proof (state)\nthis:\n  A \\<approx> C\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x = z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z\n 2. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  A \\<approx> C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>x = z\\<close> \\<open>A \\<approx> C\\<close> X Z"], ["proof (prove)\nusing this:\n  A \\<approx> C\n  x = z\n  A \\<approx> C\n  X = PFn x T A\n  Z = PFn z T C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using ptrm_alpha_equiv.fn1"], ["proof (prove)\nusing this:\n  A \\<approx> C\n  x = z\n  A \\<approx> C\n  X = PFn x T A\n  Z = PFn z T C\n  ?A \\<approx> ?B \\<Longrightarrow> PFn ?x ?T ?A \\<approx> PFn ?x ?T ?B\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "case 5"], ["proof (state)\nthis:\n  x \\<noteq> y\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\n  x \\<notin> ptrm_fvs B\n  y \\<noteq> z\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\n  y \\<notin> ptrm_fvs C\n  x \\<noteq> z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"x \\<notin> ptrm_fvs C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "have \"ptrm_fvs B = ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_fvs B = ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)", "using ptrm_alpha_equiv_fvs \\<open>B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\\<close>"], ["proof (prove)\nusing this:\n  ?X \\<approx> ?Y \\<Longrightarrow> ptrm_fvs ?X = ptrm_fvs ?Y\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\n\ngoal (1 subgoal):\n 1. ptrm_fvs B = ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)", "by metis"], ["proof (state)\nthis:\n  ptrm_fvs B = ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "hence \"x \\<notin> ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\""], ["proof (prove)\nusing this:\n  ptrm_fvs B = ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)", "using \\<open>x \\<notin> ptrm_fvs B\\<close>"], ["proof (prove)\nusing this:\n  ptrm_fvs B = ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\n  x \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)", "by auto"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "hence \"x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C\""], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\n\ngoal (1 subgoal):\n 1. x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C", "using ptrm_prm_fvs"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs ([y \\<leftrightarrow> z] \\<bullet> C)\n  ptrm_fvs (?\\<pi> \\<bullet> ?X) = ?\\<pi> {$} ptrm_fvs ?X\n\ngoal (1 subgoal):\n 1. x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C", "by metis"], ["proof (state)\nthis:\n  x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "consider \"z \\<in> ptrm_fvs C\" | \"z \\<notin> ptrm_fvs C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>z \\<in> ptrm_fvs C \\<Longrightarrow> thesis;\n     z \\<notin> ptrm_fvs C \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>z \\<in> ptrm_fvs C \\<Longrightarrow> ?thesis;\n   z \\<notin> ptrm_fvs C \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>z \\<in> ptrm_fvs C \\<Longrightarrow> ?thesis;\n   z \\<notin> ptrm_fvs C \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. z \\<in> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C\n 2. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "case 1"], ["proof (state)\nthis:\n  z \\<in> ptrm_fvs C\n\ngoal (2 subgoals):\n 1. z \\<in> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C\n 2. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "hence \"[y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C - {z} \\<union> {y}\""], ["proof (prove)\nusing this:\n  z \\<in> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C - {z} \\<union> {y}", "using prm_set_unit_action prm_unit_commutes\n                  and \\<open>z \\<in> ptrm_fvs C\\<close> \\<open>y \\<notin> ptrm_fvs C\\<close>"], ["proof (prove)\nusing this:\n  z \\<in> ptrm_fvs C\n  \\<lbrakk>?a \\<in> ?S; ?b \\<notin> ?S\\<rbrakk>\n  \\<Longrightarrow> [?a \\<leftrightarrow> ?b] {$} ?S =\n                    ?S - {?a} \\<union> {?b}\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n  z \\<in> ptrm_fvs C\n  y \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C - {z} \\<union> {y}", "by metis"], ["proof (state)\nthis:\n  [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C - {z} \\<union> {y}\n\ngoal (2 subgoals):\n 1. z \\<in> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C\n 2. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "hence \"x \\<notin> ptrm_fvs C - {z} \\<union> {y}\""], ["proof (prove)\nusing this:\n  [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C - {z} \\<union> {y}\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C - {z} \\<union> {y}", "using \\<open>x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C\\<close>"], ["proof (prove)\nusing this:\n  [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C - {z} \\<union> {y}\n  x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C - {z} \\<union> {y}", "by auto"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C - {z} \\<union> {y}\n\ngoal (2 subgoals):\n 1. z \\<in> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C\n 2. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "hence \"x \\<notin> ptrm_fvs C - {z}\""], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C - {z} \\<union> {y}\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C - {z}", "using \\<open>x \\<noteq> y\\<close>"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C - {z} \\<union> {y}\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C - {z}", "by auto"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C - {z}\n\ngoal (2 subgoals):\n 1. z \\<in> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C\n 2. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C - {z}\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "using \\<open>x \\<noteq> z\\<close>"], ["proof (prove)\nusing this:\n  x \\<notin> ptrm_fvs C - {z}\n  x \\<noteq> z\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "by auto"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "case 2"], ["proof (state)\nthis:\n  z \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "hence \"[y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C\""], ["proof (prove)\nusing this:\n  z \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C", "using prm_set_unit_inaction \\<open>y \\<notin> ptrm_fvs C\\<close>"], ["proof (prove)\nusing this:\n  z \\<notin> ptrm_fvs C\n  \\<lbrakk>?a \\<notin> ?S; ?b \\<notin> ?S\\<rbrakk>\n  \\<Longrightarrow> [?a \\<leftrightarrow> ?b] {$} ?S = ?S\n  y \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C", "by metis"], ["proof (state)\nthis:\n  [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C\n\ngoal (1 subgoal):\n 1. z \\<notin> ptrm_fvs C \\<Longrightarrow> x \\<notin> ptrm_fvs C", "thus ?thesis"], ["proof (prove)\nusing this:\n  [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "using \\<open>x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C\\<close>"], ["proof (prove)\nusing this:\n  [y \\<leftrightarrow> z] {$} ptrm_fvs C = ptrm_fvs C\n  x \\<notin> [y \\<leftrightarrow> z] {$} ptrm_fvs C\n\ngoal (1 subgoal):\n 1. x \\<notin> ptrm_fvs C", "by auto"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "have \"A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "have \"A \\<approx> ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C", "using IH * \\<open>A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\\<close> \\<open>B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\\<close>\n              and ptrm_alpha_equiv_prm ptrm_prm_apply_compose"], ["proof (prove)\nusing this:\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  size A < size X\n  A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B\n  B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C\n  ?X \\<approx> ?Y \\<Longrightarrow>\n  ?\\<pi> \\<bullet> ?X \\<approx> ?\\<pi> \\<bullet> ?Y\n  ?\\<pi> \\<bullet> ?\\<sigma> \\<bullet> ?X =\n  (?\\<pi> \\<diamondop> ?\\<sigma>) \\<bullet> ?X\n\ngoal (1 subgoal):\n 1. A \\<approx>\n    ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C", "by metis"], ["proof (state)\nthis:\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "have \"([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C \\<approx>\n    [x \\<leftrightarrow> z] \\<bullet> C", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C \\<approx>\n    [x \\<leftrightarrow> z] \\<bullet> C", "have \"ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) [x \\<leftrightarrow> z] = {x, y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n     [x \\<leftrightarrow> z] =\n    {x, y}", "using \\<open>x \\<noteq> y\\<close> \\<open>y \\<noteq> z\\<close> \\<open>x \\<noteq> z\\<close> prm_disagreement_composition"], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  y \\<noteq> z\n  x \\<noteq> z\n  \\<lbrakk>?a \\<noteq> ?b; ?b \\<noteq> ?c; ?a \\<noteq> ?c\\<rbrakk>\n  \\<Longrightarrow> ds ([?a \\<leftrightarrow> ?b] \\<diamondop>\n                        [?b \\<leftrightarrow> ?c])\n                     [?a \\<leftrightarrow> ?c] =\n                    {?a, ?b}\n\ngoal (1 subgoal):\n 1. ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n     [x \\<leftrightarrow> z] =\n    {x, y}", "by metis"], ["proof (state)\nthis:\n  ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n   [x \\<leftrightarrow> z] =\n  {x, y}\n\ngoal (1 subgoal):\n 1. ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C \\<approx>\n    [x \\<leftrightarrow> z] \\<bullet> C", "hence \"\\<And>a. a \\<in> ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) [x \\<leftrightarrow> z] \\<Longrightarrow> a \\<notin> ptrm_fvs C\""], ["proof (prove)\nusing this:\n  ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n   [x \\<leftrightarrow> z] =\n  {x, y}\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds ([x \\<leftrightarrow> y] \\<diamondop>\n                   [y \\<leftrightarrow> z])\n                [x \\<leftrightarrow> z] \\<Longrightarrow>\n       a \\<notin> ptrm_fvs C", "using \\<open>x \\<notin> ptrm_fvs C\\<close> \\<open>y \\<notin> ptrm_fvs C\\<close>"], ["proof (prove)\nusing this:\n  ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n   [x \\<leftrightarrow> z] =\n  {x, y}\n  x \\<notin> ptrm_fvs C\n  y \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds ([x \\<leftrightarrow> y] \\<diamondop>\n                   [y \\<leftrightarrow> z])\n                [x \\<leftrightarrow> z] \\<Longrightarrow>\n       a \\<notin> ptrm_fvs C", "using Diff_iff Diff_insert_absorb insert_iff"], ["proof (prove)\nusing this:\n  ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n   [x \\<leftrightarrow> z] =\n  {x, y}\n  x \\<notin> ptrm_fvs C\n  y \\<notin> ptrm_fvs C\n  (?c \\<in> ?A - ?B) = (?c \\<in> ?A \\<and> ?c \\<notin> ?B)\n  ?x \\<notin> ?A \\<Longrightarrow> insert ?x ?A - {?x} = ?A\n  (?a \\<in> insert ?b ?A) = (?a = ?b \\<or> ?a \\<in> ?A)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> ds ([x \\<leftrightarrow> y] \\<diamondop>\n                   [y \\<leftrightarrow> z])\n                [x \\<leftrightarrow> z] \\<Longrightarrow>\n       a \\<notin> ptrm_fvs C", "by auto"], ["proof (state)\nthis:\n  ?a \\<in> ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n            [x \\<leftrightarrow> z] \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C \\<approx>\n    [x \\<leftrightarrow> z] \\<bullet> C", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?a \\<in> ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n            [x \\<leftrightarrow> z] \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs C\n\ngoal (1 subgoal):\n 1. ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C \\<approx>\n    [x \\<leftrightarrow> z] \\<bullet> C", "using ptrm_prm_agreement_equiv"], ["proof (prove)\nusing this:\n  ?a \\<in> ds ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z])\n            [x \\<leftrightarrow> z] \\<Longrightarrow>\n  ?a \\<notin> ptrm_fvs C\n  (\\<And>a.\n      a \\<in> ds ?\\<pi> ?\\<sigma> \\<Longrightarrow>\n      a \\<notin> ptrm_fvs ?M) \\<Longrightarrow>\n  ?\\<pi> \\<bullet> ?M \\<approx> ?\\<sigma> \\<bullet> ?M\n\ngoal (1 subgoal):\n 1. ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n    C \\<approx>\n    [x \\<leftrightarrow> z] \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n  C \\<approx>\n  [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n  C \\<approx>\n  [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "thus ?thesis"], ["proof (prove)\nusing this:\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n  C \\<approx>\n  [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "using IH *"], ["proof (prove)\nusing this:\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n  C \\<approx>\n  [x \\<leftrightarrow> z] \\<bullet> C\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  size A < size X\n\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "using \\<open>A \\<approx> ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\\<close> \\<open>([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\\<close>"], ["proof (prove)\nusing this:\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n  C \\<approx>\n  [x \\<leftrightarrow> z] \\<bullet> C\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  size A < size X\n  A \\<approx>\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet> C\n  ([x \\<leftrightarrow> y] \\<diamondop> [y \\<leftrightarrow> z]) \\<bullet>\n  C \\<approx>\n  [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal (1 subgoal):\n 1. A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C", "by metis"], ["proof (state)\nthis:\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<noteq> y; A \\<approx> [x \\<leftrightarrow> y] \\<bullet> B;\n     x \\<notin> ptrm_fvs B; y \\<noteq> z;\n     B \\<approx> [y \\<leftrightarrow> z] \\<bullet> C; y \\<notin> ptrm_fvs C;\n     x \\<noteq> z\\<rbrakk>\n    \\<Longrightarrow> X \\<approx> Z", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>x \\<noteq> z\\<close> \\<open>A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\\<close> \\<open>x \\<notin> ptrm_fvs C\\<close> X Z"], ["proof (prove)\nusing this:\n  x \\<noteq> z\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n  x \\<notin> ptrm_fvs C\n  X = PFn x T A\n  Z = PFn z T C\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using ptrm_alpha_equiv.fn2"], ["proof (prove)\nusing this:\n  x \\<noteq> z\n  A \\<approx> [x \\<leftrightarrow> z] \\<bullet> C\n  x \\<notin> ptrm_fvs C\n  X = PFn x T A\n  Z = PFn z T C\n  \\<lbrakk>?a \\<noteq> ?b;\n   ?A \\<approx> [?a \\<leftrightarrow> ?b] \\<bullet> ?B;\n   ?a \\<notin> ptrm_fvs ?B\\<rbrakk>\n  \\<Longrightarrow> PFn ?a ?T ?A \\<approx> PFn ?b ?T ?B\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "case (PPair A B)"], ["proof (state)\nthis:\n  X = PPair A B\n\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain C D where \"Y = PPair C D\" and \"A \\<approx> C\" and \"B \\<approx> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>C D.\n        \\<lbrakk>Y = PPair C D; A \\<approx> C; B \\<approx> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using pairE \\<open>X = PPair A B\\<close> \\<open>X \\<approx> Y\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PPair ?A ?B \\<approx> ?Y;\n   \\<And>B D.\n      \\<lbrakk>?Y = PPair B D; ?A \\<approx> B; ?B \\<approx> D\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  X = PPair A B\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. (\\<And>C D.\n        \\<lbrakk>Y = PPair C D; A \\<approx> C; B \\<approx> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Y = PPair C D\n  A \\<approx> C\n  B \\<approx> D\n\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"PPair C D \\<approx> Z\""], ["proof (prove)\nusing this:\n  Y = PPair C D\n  A \\<approx> C\n  B \\<approx> D\n\ngoal (1 subgoal):\n 1. PPair C D \\<approx> Z", "using \\<open>Y \\<approx> Z\\<close>"], ["proof (prove)\nusing this:\n  Y = PPair C D\n  A \\<approx> C\n  B \\<approx> D\n  Y \\<approx> Z\n\ngoal (1 subgoal):\n 1. PPair C D \\<approx> Z", "by simp"], ["proof (state)\nthis:\n  PPair C D \\<approx> Z\n\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "from this"], ["proof (chain)\npicking this:\n  PPair C D \\<approx> Z", "obtain E F where \"Z = PPair E F\" and \"C \\<approx> E\" and \"D \\<approx> F\""], ["proof (prove)\nusing this:\n  PPair C D \\<approx> Z\n\ngoal (1 subgoal):\n 1. (\\<And>E F.\n        \\<lbrakk>Z = PPair E F; C \\<approx> E; D \\<approx> F\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using pairE"], ["proof (prove)\nusing this:\n  PPair C D \\<approx> Z\n  \\<lbrakk>PPair ?A ?B \\<approx> ?Y;\n   \\<And>B D.\n      \\<lbrakk>?Y = PPair B D; ?A \\<approx> B; ?B \\<approx> D\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. (\\<And>E F.\n        \\<lbrakk>Z = PPair E F; C \\<approx> E; D \\<approx> F\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Z = PPair E F\n  C \\<approx> E\n  D \\<approx> F\n\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "have \"size A < size X\" and \"size B < size X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size A < size X &&& size B < size X", "using \\<open>X = PPair A B\\<close>"], ["proof (prove)\nusing this:\n  X = PPair A B\n\ngoal (1 subgoal):\n 1. size A < size X &&& size B < size X", "by auto"], ["proof (state)\nthis:\n  size A < size X\n  size B < size X\n\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"A \\<approx> E\" and \"B \\<approx> F\""], ["proof (prove)\nusing this:\n  size A < size X\n  size B < size X\n\ngoal (1 subgoal):\n 1. A \\<approx> E &&& B \\<approx> F", "using IH \\<open>A \\<approx> C\\<close> \\<open>C \\<approx> E\\<close> \\<open>B \\<approx> D\\<close> \\<open>D \\<approx> F\\<close>"], ["proof (prove)\nusing this:\n  size A < size X\n  size B < size X\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  A \\<approx> C\n  C \\<approx> E\n  B \\<approx> D\n  D \\<approx> F\n\ngoal (1 subgoal):\n 1. A \\<approx> E &&& B \\<approx> F", "by auto"], ["proof (state)\nthis:\n  A \\<approx> E\n  B \\<approx> F\n\ngoal (3 subgoals):\n 1. \\<And>x51 x52. X = PPair x51 x52 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 3. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  A \\<approx> E\n  B \\<approx> F\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>X = PPair A B\\<close> \\<open>Z = PPair E F\\<close> ptrm_alpha_equiv.pair"], ["proof (prove)\nusing this:\n  A \\<approx> E\n  B \\<approx> F\n  X = PPair A B\n  Z = PPair E F\n  \\<lbrakk>?A \\<approx> ?B; ?C \\<approx> ?D\\<rbrakk>\n  \\<Longrightarrow> PPair ?A ?C \\<approx> PPair ?B ?D\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (2 subgoals):\n 1. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "case (PFst P)"], ["proof (state)\nthis:\n  X = PFst P\n\ngoal (2 subgoals):\n 1. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain Q where \"Y = PFst Q\" \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>Y = PFst Q; P \\<approx> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using fstE \\<open>X = PFst P\\<close> \\<open>X \\<approx> Y\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PFst ?P \\<approx> ?Y;\n   \\<And>B.\n      \\<lbrakk>?Y = PFst B; ?P \\<approx> B\\<rbrakk>\n      \\<Longrightarrow> ?Pa\\<rbrakk>\n  \\<Longrightarrow> ?Pa\n  X = PFst P\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>Y = PFst Q; P \\<approx> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Y = PFst Q\n  P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain R where \"Z = PFst R\" \"Q \\<approx> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<lbrakk>Z = PFst R; Q \\<approx> R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using fstE \\<open>Y = PFst Q\\<close> \\<open>Y \\<approx> Z\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PFst ?P \\<approx> ?Y;\n   \\<And>B.\n      \\<lbrakk>?Y = PFst B; ?P \\<approx> B\\<rbrakk>\n      \\<Longrightarrow> ?Pa\\<rbrakk>\n  \\<Longrightarrow> ?Pa\n  Y = PFst Q\n  Y \\<approx> Z\n\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<lbrakk>Z = PFst R; Q \\<approx> R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Z = PFst R\n  Q \\<approx> R\n\ngoal (2 subgoals):\n 1. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "have \"size P < size X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size P < size X", "using \\<open>X = PFst P\\<close>"], ["proof (prove)\nusing this:\n  X = PFst P\n\ngoal (1 subgoal):\n 1. size P < size X", "by auto"], ["proof (state)\nthis:\n  size P < size X\n\ngoal (2 subgoals):\n 1. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"P \\<approx> R\""], ["proof (prove)\nusing this:\n  size P < size X\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "using IH \\<open>P \\<approx> Q\\<close> \\<open>Q \\<approx> R\\<close>"], ["proof (prove)\nusing this:\n  size P < size X\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  P \\<approx> Q\n  Q \\<approx> R\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "by metis"], ["proof (state)\nthis:\n  P \\<approx> R\n\ngoal (2 subgoals):\n 1. \\<And>x6. X = PFst x6 \\<Longrightarrow> X \\<approx> Z\n 2. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  P \\<approx> R\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>X = PFst P\\<close> \\<open>Z = PFst R\\<close> ptrm_alpha_equiv.fst"], ["proof (prove)\nusing this:\n  P \\<approx> R\n  X = PFst P\n  Z = PFst R\n  ?A \\<approx> ?B \\<Longrightarrow> PFst ?A \\<approx> PFst ?B\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal (1 subgoal):\n 1. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "case (PSnd P)"], ["proof (state)\nthis:\n  X = PSnd P\n\ngoal (1 subgoal):\n 1. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain Q where \"Y = PSnd Q\" \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>Y = PSnd Q; P \\<approx> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using sndE \\<open>X = PSnd P\\<close> \\<open>X \\<approx> Y\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PSnd ?P \\<approx> ?Y;\n   \\<And>B.\n      \\<lbrakk>?Y = PSnd B; ?P \\<approx> B\\<rbrakk>\n      \\<Longrightarrow> ?Pa\\<rbrakk>\n  \\<Longrightarrow> ?Pa\n  X = PSnd P\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>Y = PSnd Q; P \\<approx> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Y = PSnd Q\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "obtain R where \"Z = PSnd R\" \"Q \\<approx> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<lbrakk>Z = PSnd R; Q \\<approx> R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using sndE \\<open>Y = PSnd Q\\<close> \\<open>Y \\<approx> Z\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>PSnd ?P \\<approx> ?Y;\n   \\<And>B.\n      \\<lbrakk>?Y = PSnd B; ?P \\<approx> B\\<rbrakk>\n      \\<Longrightarrow> ?Pa\\<rbrakk>\n  \\<Longrightarrow> ?Pa\n  Y = PSnd Q\n  Y \\<approx> Z\n\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<lbrakk>Z = PSnd R; Q \\<approx> R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  Z = PSnd R\n  Q \\<approx> R\n\ngoal (1 subgoal):\n 1. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "have \"size P < size X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size P < size X", "using \\<open>X = PSnd P\\<close>"], ["proof (prove)\nusing this:\n  X = PSnd P\n\ngoal (1 subgoal):\n 1. size P < size X", "by auto"], ["proof (state)\nthis:\n  size P < size X\n\ngoal (1 subgoal):\n 1. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "hence \"P \\<approx> R\""], ["proof (prove)\nusing this:\n  size P < size X\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "using IH \\<open>P \\<approx> Q\\<close> \\<open>Q \\<approx> R\\<close>"], ["proof (prove)\nusing this:\n  size P < size X\n  \\<lbrakk>size ?K < size X; ?K \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?K \\<approx> ?Z\n  P \\<approx> Q\n  Q \\<approx> R\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "by metis"], ["proof (state)\nthis:\n  P \\<approx> R\n\ngoal (1 subgoal):\n 1. \\<And>x7. X = PSnd x7 \\<Longrightarrow> X \\<approx> Z", "thus ?thesis"], ["proof (prove)\nusing this:\n  P \\<approx> R\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "using \\<open>X = PSnd P\\<close> \\<open>Z = PSnd R\\<close> ptrm_alpha_equiv.snd"], ["proof (prove)\nusing this:\n  P \\<approx> R\n  X = PSnd P\n  Z = PSnd R\n  ?A \\<approx> ?B \\<Longrightarrow> PSnd ?A \\<approx> PSnd ?B\n\ngoal (1 subgoal):\n 1. X \\<approx> Z", "by metis"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  X \\<approx> Z\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary ptrm_alpha_equiv_transp:\n  shows \"transp ptrm_alpha_equiv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transp (\\<approx>)", "unfolding transp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<approx> y \\<longrightarrow>\n       y \\<approx> z \\<longrightarrow> x \\<approx> z", "using ptrm_alpha_equiv_transitive"], ["proof (prove)\nusing this:\n  \\<lbrakk>?X \\<approx> ?Y; ?Y \\<approx> ?Z\\<rbrakk>\n  \\<Longrightarrow> ?X \\<approx> ?Z\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<approx> y \\<longrightarrow>\n       y \\<approx> z \\<longrightarrow> x \\<approx> z", "by auto"], ["", "type_synonym 'a typing_ctx = \"'a \\<rightharpoonup> type\""], ["", "fun ptrm_infer_type :: \"'a typing_ctx \\<Rightarrow> 'a ptrm \\<Rightarrow> type option\" where\n  \"ptrm_infer_type \\<Gamma> PUnit = Some TUnit\"\n| \"ptrm_infer_type \\<Gamma> (PVar x) = \\<Gamma> x\"\n| \"ptrm_infer_type \\<Gamma> (PApp A B) = (case (ptrm_infer_type \\<Gamma> A, ptrm_infer_type \\<Gamma> B) of\n     (Some (TArr \\<tau> \\<sigma>), Some \\<tau>') \\<Rightarrow> (if \\<tau> = \\<tau>' then Some \\<sigma> else None)\n   | _ \\<Rightarrow> None\n   )\"\n| \"ptrm_infer_type \\<Gamma> (PFn x \\<tau> A) = (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<tau>)) A of\n     Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)\n   | None \\<Rightarrow> None\n   )\"\n| \"ptrm_infer_type \\<Gamma> (PPair A B) = (case (ptrm_infer_type \\<Gamma> A, ptrm_infer_type \\<Gamma> B) of\n     (Some \\<tau>, Some \\<sigma>) \\<Rightarrow> Some (TPair \\<tau> \\<sigma>)\n   | _ \\<Rightarrow> None\n   )\"\n| \"ptrm_infer_type \\<Gamma> (PFst P) = (case ptrm_infer_type \\<Gamma> P of\n     (Some (TPair \\<tau> \\<sigma>)) \\<Rightarrow> Some \\<tau>\n   | _ \\<Rightarrow> None\n   )\"\n| \"ptrm_infer_type \\<Gamma> (PSnd P) = (case ptrm_infer_type \\<Gamma> P of\n     (Some (TPair \\<tau> \\<sigma>)) \\<Rightarrow> Some \\<sigma>\n   | _ \\<Rightarrow> None\n   )\""], ["", "lemma ptrm_infer_type_swp_types:\n  assumes \"a \\<noteq> b\"\n  shows \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X = ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> X)", "using assms"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> X)", "proof(induction X arbitrary: T S \\<Gamma>)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) PUnit =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PUnit)\n 2. \\<And>x T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 3. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 4. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 5. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 6. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 7. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PUnit)"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (7 subgoals):\n 1. \\<And>T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) PUnit =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PUnit)\n 2. \\<And>x T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 3. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 4. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 5. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 6. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 7. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) PUnit =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PUnit)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) PUnit =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PUnit)\n\ngoal (6 subgoals):\n 1. \\<And>x T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PVar x)"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (6 subgoals):\n 1. \\<And>x T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "consider \"x = a\" | \"x = b\" | \"x \\<noteq> a \\<and> x \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x = a \\<Longrightarrow> thesis; x = b \\<Longrightarrow> thesis;\n     x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>x = a \\<Longrightarrow> ?thesis; x = b \\<Longrightarrow> ?thesis;\n   x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (6 subgoals):\n 1. \\<And>x T S \\<Gamma>.\n       a \\<noteq> b \\<Longrightarrow>\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n        ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x = a \\<Longrightarrow> ?thesis; x = b \\<Longrightarrow> ?thesis;\n   x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "proof(cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "assume \"x = a\""], ["proof (state)\nthis:\n  x = a\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = a\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "using \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  x = a\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "by (simp add: prm_unit_action)"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "assume \"x = b\""], ["proof (state)\nthis:\n  x = b\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "using \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  x = b\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "using prm_unit_action prm_unit_commutes fun_upd_same fun_upd_twist"], ["proof (prove)\nusing this:\n  x = b\n  a \\<noteq> b\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n  (?f(?x := ?y)) ?x = ?y\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "by (metis ptrm_apply_prm.simps(2) ptrm_infer_type.simps(2))"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "assume \"x \\<noteq> a \\<and> x \\<noteq> b\""], ["proof (state)\nthis:\n  x \\<noteq> a \\<and> x \\<noteq> b\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<noteq> a \\<and> x \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "by (simp add: prm_unit_inaction)"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PApp A B)"], ["proof (state)\nthis:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) B =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PApp X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) B =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PApp A B) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PApp A B)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PApp A B) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PApp A B)\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PFn x \\<tau> A)"], ["proof (state)\nthis:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "hence *:\n      \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) A = ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> A)\"\n      for T S \\<Gamma>"], ["proof (prove)\nusing this:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) A =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "consider \"x = a\" | \"x = b\" | \"x \\<noteq> a \\<and> x \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x = a \\<Longrightarrow> thesis; x = b \\<Longrightarrow> thesis;\n     x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>x = a \\<Longrightarrow> ?thesis; x = b \\<Longrightarrow> ?thesis;\n   x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x = a \\<Longrightarrow> ?thesis; x = b \\<Longrightarrow> ?thesis;\n   x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "proof(cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "case 1"], ["proof (state)\nthis:\n  x = a\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "hence\n          \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n         = ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\""], ["proof (prove)\nusing this:\n  x = a\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))", "using prm_unit_action ptrm_apply_prm.simps(4)"], ["proof (prove)\nusing this:\n  x = a\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n  ?\\<pi> \\<bullet> PFn ?x ?T ?A = PFn (?\\<pi> $ ?x) ?T (?\\<pi> \\<bullet> ?A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> A) of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n    (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using *"], ["proof (prove)\nusing this:\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using \\<open>a \\<noteq> b\\<close> fun_upd_twist fun_upd_upd"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n  ?f(?x := ?y, ?x := ?z) = ?f(?x := ?z)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A)", "using \\<open>x = a\\<close>"], ["proof (prove)\nusing this:\n  x = a\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A)", "by simp"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A)", "using \\<open>a \\<noteq> b\\<close> fun_upd_twist"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\n\ngoal (3 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 3. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)", "show ?thesis"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn b \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T, a \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "case 2"], ["proof (state)\nthis:\n  x = b\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "hence\n          \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n         = ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\""], ["proof (prove)\nusing this:\n  x = b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))", "using prm_unit_action prm_unit_commutes ptrm_apply_prm.simps(4)"], ["proof (prove)\nusing this:\n  x = b\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n  ?\\<pi> \\<bullet> PFn ?x ?T ?A = PFn (?\\<pi> $ ?x) ?T (?\\<pi> \\<bullet> ?A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)(a \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> A) of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> A) of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using fun_upd_upd fun_upd_twist \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  ?f(?x := ?y, ?x := ?z) = ?f(?x := ?z)\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using *"], ["proof (prove)\nusing this:\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)(b \\<mapsto> \\<tau>)) A of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using \\<open>a \\<noteq> b\\<close> fun_upd_upd"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  ?f(?x := ?y, ?x := ?z) = ?f(?x := ?z)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A)", "using \\<open>x = b\\<close>"], ["proof (prove)\nusing this:\n  x = b\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A)", "by simp"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A)", "using \\<open>a \\<noteq> b\\<close> fun_upd_twist"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\n\ngoal (2 subgoals):\n 1. x = b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n 2. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)", "show ?thesis"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn a \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, a \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, b \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T)) (PFn x \\<tau> A)\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> S, a \\<mapsto> T))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "case 3"], ["proof (state)\nthis:\n  x \\<noteq> a \\<and> x \\<noteq> b\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "hence \"x \\<noteq> a\" \"x \\<noteq> b\""], ["proof (prove)\nusing this:\n  x \\<noteq> a \\<and> x \\<noteq> b\n\ngoal (1 subgoal):\n 1. x \\<noteq> a &&& x \\<noteq> b", "by auto"], ["proof (state)\nthis:\n  x \\<noteq> a\n  x \\<noteq> b\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "hence\n          \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n         = ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)) (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\""], ["proof (prove)\nusing this:\n  x \\<noteq> a\n  x \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))", "by (simp add: prm_unit_inaction)"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T)(x \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> A) of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T)) ([a \\<leftrightarrow> b] \\<bullet> A) of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using \\<open>x \\<noteq> a\\<close> \\<open>x \\<noteq> b\\<close> fun_upd_twist"], ["proof (prove)\nusing this:\n  x \\<noteq> a\n  x \\<noteq> b\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using *"], ["proof (prove)\nusing this:\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of None \\<Rightarrow> None | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "using \\<open>x \\<noteq> a\\<close> \\<open>x \\<noteq> b\\<close> fun_upd_twist"], ["proof (prove)\nusing this:\n  x \\<noteq> a\n  x \\<noteq> b\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "have \"... = ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A)", "by simp"], ["proof (state)\nthis:\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<and> x \\<noteq> b \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)", "show ?thesis"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   (PFn x \\<tau> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T, x \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> S, b \\<mapsto> T))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(x \\<mapsto> \\<tau>, a \\<mapsto> T, b \\<mapsto> S)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>))\n  (case ptrm_infer_type\n         (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S, x \\<mapsto> \\<tau>)) A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr \\<tau> \\<sigma>)) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFn x \\<tau> A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n     (PFn x \\<tau> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n   (PFn x \\<tau> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<tau> A)\n\ngoal (3 subgoals):\n 1. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 2. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 2. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PPair A B)"], ["proof (state)\nthis:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) B =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n\ngoal (3 subgoals):\n 1. \\<And>X1 X2 T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X1 =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>T S \\<Gamma>.\n           a \\<noteq> b \\<Longrightarrow>\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) X2 =\n           ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n            ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PPair X1 X2) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 2. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 3. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) A =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) B =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PPair A B) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PPair A B)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PPair A B) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PPair A B)\n\ngoal (2 subgoals):\n 1. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 2. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 2. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PFst P)"], ["proof (state)\nthis:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) P =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n\ngoal (2 subgoals):\n 1. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PFst X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 2. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) P =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFst P) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PFst P)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PFst P) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PFst P)\n\ngoal (1 subgoal):\n 1. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PSnd P)"], ["proof (state)\nthis:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) P =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<And>X T S \\<Gamma>.\n       \\<lbrakk>\\<And>T S \\<Gamma>.\n                   a \\<noteq> b \\<Longrightarrow>\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                    X =\n                   ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                    ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S))\n                          (PSnd X) =\n                         ptrm_infer_type\n                          (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  a \\<noteq> b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?T, b \\<mapsto> ?S)) P =\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?S, b \\<mapsto> ?T))\n   ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PSnd P) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n     ([a \\<leftrightarrow> b] \\<bullet> PSnd P)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T, b \\<mapsto> S)) (PSnd P) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> S, b \\<mapsto> T))\n   ([a \\<leftrightarrow> b] \\<bullet> PSnd P)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_infer_type_swp:\n  assumes \"a \\<noteq> b\" \"b \\<notin> ptrm_fvs X\"\n  shows \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) X = ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> X)", "using assms"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs X\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> X)", "proof(induction X arbitrary: \\<tau> \\<Gamma>)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs PUnit\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          PUnit =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PUnit)\n 2. \\<And>x \\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs (PVar x)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PVar x) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 3. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 4. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 5. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 6. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 7. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PUnit)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs PUnit\n\ngoal (7 subgoals):\n 1. \\<And>\\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs PUnit\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          PUnit =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PUnit)\n 2. \\<And>x \\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs (PVar x)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PVar x) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 3. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 4. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 5. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 6. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 7. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs PUnit\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) PUnit =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PUnit)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) PUnit =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PUnit)\n\ngoal (6 subgoals):\n 1. \\<And>x \\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs (PVar x)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PVar x) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x \\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs (PVar x)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PVar x) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PVar x)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PVar x)\n\ngoal (6 subgoals):\n 1. \\<And>x \\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs (PVar x)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PVar x) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "hence \"x \\<noteq> b\""], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PVar x)\n\ngoal (1 subgoal):\n 1. x \\<noteq> b", "by simp"], ["proof (state)\nthis:\n  x \\<noteq> b\n\ngoal (6 subgoals):\n 1. \\<And>x \\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs (PVar x)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PVar x) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "consider \"x = a\" | \"x \\<noteq> a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x = a \\<Longrightarrow> thesis;\n     x \\<noteq> a \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>x = a \\<Longrightarrow> ?thesis;\n   x \\<noteq> a \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (6 subgoals):\n 1. \\<And>x \\<tau> \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs (PVar x)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PVar x) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 3. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 4. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 6. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x = a \\<Longrightarrow> ?thesis;\n   x \\<noteq> a \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "case 1"], ["proof (state)\nthis:\n  x = a\n\ngoal (2 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "hence \"[a \\<leftrightarrow> b] \\<bullet> (PVar x) = PVar b\"\n        and   \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) = Some \\<tau>\""], ["proof (prove)\nusing this:\n  x = a\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar b &&&\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) = Some \\<tau>", "using prm_unit_action"], ["proof (prove)\nusing this:\n  x = a\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar b &&&\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) = Some \\<tau>", "by auto"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar b\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) = Some \\<tau>\n\ngoal (2 subgoals):\n 1. x = a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar b\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) = Some \\<tau>\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "by auto"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "case 2"], ["proof (state)\nthis:\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "hence *: \"[a \\<leftrightarrow> b] \\<bullet> PVar x = PVar x\""], ["proof (prove)\nusing this:\n  x \\<noteq> a\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar x", "using \\<open>x \\<noteq> b\\<close> prm_unit_inaction"], ["proof (prove)\nusing this:\n  x \\<noteq> a\n  x \\<noteq> b\n  \\<lbrakk>?x \\<noteq> ?a; ?x \\<noteq> ?b\\<rbrakk>\n  \\<Longrightarrow> [?a \\<leftrightarrow> ?b] $ ?x = ?x\n\ngoal (1 subgoal):\n 1. [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar x", "by simp"], ["proof (state)\nthis:\n  [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar x\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "consider \"\\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma>\" | \"\\<Gamma> x = None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma> \\<Longrightarrow>\n             thesis;\n     \\<Gamma> x = None \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma> \\<Longrightarrow>\n           ?thesis;\n   \\<Gamma> x = None \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. x \\<noteq> a \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma> \\<Longrightarrow>\n           ?thesis;\n   \\<Gamma> x = None \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma> \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<Gamma> x = None \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "assume \"\\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma>\""], ["proof (state)\nthis:\n  \\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma>\n\ngoal (2 subgoals):\n 1. \\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma> \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<Gamma> x = None \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "from this"], ["proof (chain)\npicking this:\n  \\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma>", "obtain \\<sigma> where \"\\<Gamma> x = Some \\<sigma>\""], ["proof (prove)\nusing this:\n  \\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<sigma>.\n        \\<Gamma> x = Some \\<sigma> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Gamma> x = Some \\<sigma>\n\ngoal (2 subgoals):\n 1. \\<exists>\\<sigma>. \\<Gamma> x = Some \\<sigma> \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n 2. \\<Gamma> x = None \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma> x = Some \\<sigma>\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "using * \\<open>x \\<noteq> a\\<close> \\<open>x \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  \\<Gamma> x = Some \\<sigma>\n  [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar x\n  x \\<noteq> a\n  x \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "by auto"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal (1 subgoal):\n 1. \\<Gamma> x = None \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Gamma> x = None \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "assume \"\\<Gamma> x = None\""], ["proof (state)\nthis:\n  \\<Gamma> x = None\n\ngoal (1 subgoal):\n 1. \\<Gamma> x = None \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma> x = None\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "using * \\<open>x \\<noteq> a\\<close> \\<open>x \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  \\<Gamma> x = None\n  [a \\<leftrightarrow> b] \\<bullet> PVar x = PVar x\n  x \\<noteq> a\n  x \\<noteq> b\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PVar x)", "by auto"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PVar x) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PVar x)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PApp A B)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs A\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> A)\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs B\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) B =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PApp A B)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "have \"b \\<notin> ptrm_fvs A\" and \"b \\<notin> ptrm_fvs B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A &&& b \\<notin> ptrm_fvs B", "using PApp.prems"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PApp A B)\n\ngoal (1 subgoal):\n 1. b \\<notin> ptrm_fvs A &&& b \\<notin> ptrm_fvs B", "by auto"], ["proof (state)\nthis:\n  b \\<notin> ptrm_fvs A\n  b \\<notin> ptrm_fvs B\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "hence \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A = ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> A)\"\n    and   \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) B = ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> B)\""], ["proof (prove)\nusing this:\n  b \\<notin> ptrm_fvs A\n  b \\<notin> ptrm_fvs B\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> A) &&&\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) B =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> B)", "using PApp.IH assms"], ["proof (prove)\nusing this:\n  b \\<notin> ptrm_fvs A\n  b \\<notin> ptrm_fvs B\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs A\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> A)\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs B\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) B =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs X\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> A) &&&\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) B =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> B)", "by metis+"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) B =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (5 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PApp X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PApp X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PApp X1 X2)\n 2. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 3. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 5. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) B =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PApp A B) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PApp A B)", "by (metis ptrm_apply_prm.simps(3) ptrm_infer_type.simps(3))"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PApp A B) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PApp A B)\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PFn x \\<sigma> A)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs A\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PFn x \\<sigma> A)\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "consider \"b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A\" | \"b = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n             thesis;\n     b = x \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using PFn.prems"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PFn x \\<sigma> A)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n             thesis;\n     b = x \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n           ?thesis;\n   b = x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2a X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFn x1 x2a X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFn x1 x2a X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFn x1 x2a X)\n 2. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 3. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 4. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n           ?thesis;\n   b = x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "case 1"], ["proof (state)\nthis:\n  b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A\n\ngoal (2 subgoals):\n 1. b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "hence \"b \\<noteq> x\" \"b \\<notin> ptrm_fvs A\""], ["proof (prove)\nusing this:\n  b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. b \\<noteq> x &&& b \\<notin> ptrm_fvs A", "by auto"], ["proof (state)\nthis:\n  b \\<noteq> x\n  b \\<notin> ptrm_fvs A\n\ngoal (2 subgoals):\n 1. b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "hence *: \"\\<And>\\<tau> \\<Gamma>. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A = ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> A)\""], ["proof (prove)\nusing this:\n  b \\<noteq> x\n  b \\<notin> ptrm_fvs A\n\ngoal (1 subgoal):\n 1. \\<And>\\<tau> \\<Gamma>.\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A =\n       ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n        ([a \\<leftrightarrow> b] \\<bullet> A)", "using PFn.IH assms"], ["proof (prove)\nusing this:\n  b \\<noteq> x\n  b \\<notin> ptrm_fvs A\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs A\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> A)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs X\n\ngoal (1 subgoal):\n 1. \\<And>\\<tau> \\<Gamma>.\n       ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) A =\n       ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n        ([a \\<leftrightarrow> b] \\<bullet> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n  ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (2 subgoals):\n 1. b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "consider \"a = x\" | \"a \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a = x \\<Longrightarrow> thesis;\n     a \\<noteq> x \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>a = x \\<Longrightarrow> ?thesis;\n   a \\<noteq> x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (2 subgoals):\n 1. b \\<noteq> x \\<and> b \\<notin> ptrm_fvs A \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>a = x \\<Longrightarrow> ?thesis;\n   a \\<noteq> x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. a = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "case 1"], ["proof (state)\nthis:\n  a = x\n\ngoal (2 subgoals):\n 1. a = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "hence \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) = ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn a \\<sigma> A)\"\n            and \"\n              ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n              ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) (PFn b \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\""], ["proof (prove)\nusing this:\n  a = x\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn a \\<sigma> A) &&&\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     (PFn b \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))", "by (auto simp add: prm_unit_action)"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn a \\<sigma> A)\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn b \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (2 subgoals):\n 1. a = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n 2. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn a \\<sigma> A)\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn b \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "using * ptrm_infer_type.simps(4) fun_upd_upd"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn a \\<sigma> A)\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn b \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n  ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  ptrm_infer_type ?\\<Gamma> (PFn ?x ?\\<tau> ?A) =\n  (case ptrm_infer_type (?\\<Gamma>(?x \\<mapsto> ?\\<tau>)) ?A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr ?\\<tau> \\<sigma>))\n  ?f(?x := ?y, ?x := ?z) = ?f(?x := ?z)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "case 2"], ["proof (state)\nthis:\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "hence\n              \"ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n             = ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)) (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\""], ["proof (prove)\nusing this:\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))", "using \\<open>b \\<noteq> x\\<close>"], ["proof (prove)\nusing this:\n  a \\<noteq> x\n  b \\<noteq> x\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))", "by (simp add: prm_unit_inaction)"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>)) ([a \\<leftrightarrow> b] \\<bullet> A) of None \\<Rightarrow> None | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n    (case ptrm_infer_type\n           (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "moreover"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> A) of None \\<Rightarrow> None | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))", "using \\<open>b \\<noteq> x\\<close> fun_upd_twist"], ["proof (prove)\nusing this:\n  b \\<noteq> x\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>)) A of None \\<Rightarrow> None | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))", "using *"], ["proof (prove)\nusing this:\n  ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n  ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n           ([a \\<leftrightarrow> b] \\<bullet> A) of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n    (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "have \"... = (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>)) A of None \\<Rightarrow> None | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))", "using \\<open>a \\<noteq> x\\<close> fun_upd_twist"], ["proof (prove)\nusing this:\n  a \\<noteq> x\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n    (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))", "by metis"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "moreover"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "have \"... = ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case ptrm_infer_type\n           (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>)) A of\n     None \\<Rightarrow> None\n     | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A)", "by simp"], ["proof (state)\nthis:\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A)\n\ngoal (1 subgoal):\n 1. a \\<noteq> x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "ultimately"], ["proof (chain)\npicking this:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A)", "show ?thesis"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A))\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   (PFn x \\<sigma> ([a \\<leftrightarrow> b] \\<bullet> A)) =\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, b \\<mapsto> \\<tau>))\n         ([a \\<leftrightarrow> b] \\<bullet> A) of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(x \\<mapsto> \\<sigma>, a \\<mapsto> \\<tau>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>'))\n  (case ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, x \\<mapsto> \\<sigma>))\n         A of\n   None \\<Rightarrow> None\n   | Some \\<sigma>' \\<Rightarrow> Some (TArr \\<sigma> \\<sigma>')) =\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n\ngoal (1 subgoal):\n 1. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "case 2"], ["proof (state)\nthis:\n  b = x\n\ngoal (1 subgoal):\n 1. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "hence \"a \\<noteq> x\""], ["proof (prove)\nusing this:\n  b = x\n\ngoal (1 subgoal):\n 1. a \\<noteq> x", "using assms"], ["proof (prove)\nusing this:\n  b = x\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs X\n\ngoal (1 subgoal):\n 1. a \\<noteq> x", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> x\n\ngoal (1 subgoal):\n 1. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "have \"\n          ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)(b \\<mapsto> \\<sigma>)) A =\n          ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>)(a \\<mapsto> \\<sigma>)) ([a \\<leftrightarrow> b] \\<bullet> A)\n        \""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> \\<sigma>)) A =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, a \\<mapsto> \\<sigma>))\n     ([a \\<leftrightarrow> b] \\<bullet> A)", "using ptrm_infer_type_swp_types"], ["proof (prove)\nusing this:\n  ?a \\<noteq> ?b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(?a \\<mapsto> ?T, ?b \\<mapsto> ?S)) ?X =\n  ptrm_infer_type (?\\<Gamma>(?a \\<mapsto> ?S, ?b \\<mapsto> ?T))\n   ([?a \\<leftrightarrow> ?b] \\<bullet> ?X)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> \\<sigma>)) A =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, a \\<mapsto> \\<sigma>))\n     ([a \\<leftrightarrow> b] \\<bullet> A)", "using \\<open>a \\<noteq> b\\<close> fun_upd_twist"], ["proof (prove)\nusing this:\n  ?a \\<noteq> ?b \\<Longrightarrow>\n  ptrm_infer_type (?\\<Gamma>(?a \\<mapsto> ?T, ?b \\<mapsto> ?S)) ?X =\n  ptrm_infer_type (?\\<Gamma>(?a \\<mapsto> ?S, ?b \\<mapsto> ?T))\n   ([?a \\<leftrightarrow> ?b] \\<bullet> ?X)\n  a \\<noteq> b\n  ?a \\<noteq> ?c \\<Longrightarrow>\n  ?m(?a := ?b, ?c := ?d) = ?m(?c := ?d, ?a := ?b)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> \\<sigma>)) A =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, a \\<mapsto> \\<sigma>))\n     ([a \\<leftrightarrow> b] \\<bullet> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> \\<sigma>)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, a \\<mapsto> \\<sigma>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (1 subgoal):\n 1. b = x \\<Longrightarrow>\n    ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> \\<sigma>)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, a \\<mapsto> \\<sigma>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "using \\<open>b = x\\<close> prm_unit_action prm_unit_commutes"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> \\<sigma>)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, a \\<mapsto> \\<sigma>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  b = x\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "using ptrm_infer_type.simps(4) ptrm_apply_prm.simps(4)"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>, b \\<mapsto> \\<sigma>)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>, a \\<mapsto> \\<sigma>))\n   ([a \\<leftrightarrow> b] \\<bullet> A)\n  b = x\n  [?a \\<leftrightarrow> ?b] $ ?a = ?b\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n  ptrm_infer_type ?\\<Gamma> (PFn ?x ?\\<tau> ?A) =\n  (case ptrm_infer_type (?\\<Gamma>(?x \\<mapsto> ?\\<tau>)) ?A of\n   None \\<Rightarrow> None\n   | Some \\<sigma> \\<Rightarrow> Some (TArr ?\\<tau> \\<sigma>))\n  ?\\<pi> \\<bullet> PFn ?x ?T ?A = PFn (?\\<pi> $ ?x) ?T (?\\<pi> \\<bullet> ?A)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFn x \\<sigma> A) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFn x \\<sigma> A)\n\ngoal (3 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 2. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 3. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 2. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 3. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PPair A B)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs A\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> A)\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs B\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) B =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PPair A B)\n\ngoal (3 subgoals):\n 1. \\<And>X1 X2 \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X1\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X1 =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X1);\n        \\<And>\\<tau> \\<Gamma>.\n           \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X2\\<rbrakk>\n           \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                              X2 =\n                             ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                              ([a \\<leftrightarrow> b] \\<bullet> X2);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PPair X1 X2)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PPair X1 X2) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PPair X1 X2)\n 2. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 3. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs A\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) A =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> A)\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs B\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) B =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> B)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PPair A B)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PPair A B) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PPair A B)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PPair A B) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PPair A B)\n\ngoal (2 subgoals):\n 1. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 2. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 2. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PFst P)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs P\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) P =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PFst P)\n\ngoal (2 subgoals):\n 1. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PFst X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PFst X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PFst X)\n 2. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs P\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) P =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PFst P)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFst P) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PFst P)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PFst P) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PFst P)\n\ngoal (1 subgoal):\n 1. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "case (PSnd P)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs P\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) P =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PSnd P)\n\ngoal (1 subgoal):\n 1. \\<And>X \\<tau> \\<Gamma>.\n       \\<lbrakk>\\<And>\\<tau> \\<Gamma>.\n                   \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs X\\<rbrakk>\n                   \\<Longrightarrow> ptrm_infer_type\n(\\<Gamma>(a \\<mapsto> \\<tau>)) X =\n                                     ptrm_infer_type\n(\\<Gamma>(b \\<mapsto> \\<tau>)) ([a \\<leftrightarrow> b] \\<bullet> X);\n        a \\<noteq> b; b \\<notin> ptrm_fvs (PSnd X)\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>))\n                          (PSnd X) =\n                         ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n                          ([a \\<leftrightarrow> b] \\<bullet> PSnd X)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<noteq> b; b \\<notin> ptrm_fvs P\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(a \\<mapsto> ?\\<tau>)) P =\n                    ptrm_infer_type (?\\<Gamma>(b \\<mapsto> ?\\<tau>))\n                     ([a \\<leftrightarrow> b] \\<bullet> P)\n  a \\<noteq> b\n  b \\<notin> ptrm_fvs (PSnd P)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PSnd P) =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n     ([a \\<leftrightarrow> b] \\<bullet> PSnd P)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> \\<tau>)) (PSnd P) =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> \\<tau>))\n   ([a \\<leftrightarrow> b] \\<bullet> PSnd P)\n\ngoal:\nNo subgoals!", "next"], ["proof (state)\ngoal:\nNo subgoals!", "qed"], ["", "lemma ptrm_infer_type_alpha_equiv:\n  assumes \"X \\<approx> Y\"\n  shows \"ptrm_infer_type \\<Gamma> X = ptrm_infer_type \\<Gamma> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ptrm_infer_type \\<Gamma> X = ptrm_infer_type \\<Gamma> Y", "using assms"], ["proof (prove)\nusing this:\n  X \\<approx> Y\n\ngoal (1 subgoal):\n 1. ptrm_infer_type \\<Gamma> X = ptrm_infer_type \\<Gamma> Y", "proof(induction arbitrary: \\<Gamma>)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<Gamma>.\n       ptrm_infer_type \\<Gamma> PUnit = ptrm_infer_type \\<Gamma> PUnit\n 2. \\<And>x \\<Gamma>.\n       ptrm_infer_type \\<Gamma> (PVar x) = ptrm_infer_type \\<Gamma> (PVar x)\n 3. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PApp A C) =\n                         ptrm_infer_type \\<Gamma> (PApp B D)\n 4. \\<And>A B x T \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn x T A) =\n                         ptrm_infer_type \\<Gamma> (PFn x T B)\n 5. \\<And>a b A B T \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A =\n           ptrm_infer_type \\<Gamma> ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn a T A) =\n                         ptrm_infer_type \\<Gamma> (PFn b T B)\n 6. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PPair A C) =\n                         ptrm_infer_type \\<Gamma> (PPair B D)\n 7. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFst A) =\n                         ptrm_infer_type \\<Gamma> (PFst B)\n 8. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PSnd A) =\n                         ptrm_infer_type \\<Gamma> (PSnd B)", "case (fn2 a b A B T \\<Gamma>)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  ptrm_infer_type ?\\<Gamma> A =\n  ptrm_infer_type ?\\<Gamma> ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (8 subgoals):\n 1. \\<And>\\<Gamma>.\n       ptrm_infer_type \\<Gamma> PUnit = ptrm_infer_type \\<Gamma> PUnit\n 2. \\<And>x \\<Gamma>.\n       ptrm_infer_type \\<Gamma> (PVar x) = ptrm_infer_type \\<Gamma> (PVar x)\n 3. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PApp A C) =\n                         ptrm_infer_type \\<Gamma> (PApp B D)\n 4. \\<And>A B x T \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn x T A) =\n                         ptrm_infer_type \\<Gamma> (PFn x T B)\n 5. \\<And>a b A B T \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A =\n           ptrm_infer_type \\<Gamma> ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn a T A) =\n                         ptrm_infer_type \\<Gamma> (PFn b T B)\n 6. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PPair A C) =\n                         ptrm_infer_type \\<Gamma> (PPair B D)\n 7. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFst A) =\n                         ptrm_infer_type \\<Gamma> (PFst B)\n 8. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PSnd A) =\n                         ptrm_infer_type \\<Gamma> (PSnd B)", "hence \"ptrm_infer_type (\\<Gamma>(a \\<mapsto> T)) A = ptrm_infer_type (\\<Gamma>(b \\<mapsto> T)) B\""], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  ptrm_infer_type ?\\<Gamma> A =\n  ptrm_infer_type ?\\<Gamma> ([a \\<leftrightarrow> b] \\<bullet> B)\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T)) A =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> T)) B", "using ptrm_infer_type_swp prm_unit_commutes"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B\n  a \\<notin> ptrm_fvs B\n  ptrm_infer_type ?\\<Gamma> A =\n  ptrm_infer_type ?\\<Gamma> ([a \\<leftrightarrow> b] \\<bullet> B)\n  \\<lbrakk>?a \\<noteq> ?b; ?b \\<notin> ptrm_fvs ?X\\<rbrakk>\n  \\<Longrightarrow> ptrm_infer_type (?\\<Gamma>(?a \\<mapsto> ?\\<tau>)) ?X =\n                    ptrm_infer_type (?\\<Gamma>(?b \\<mapsto> ?\\<tau>))\n                     ([?a \\<leftrightarrow> ?b] \\<bullet> ?X)\n  [?a \\<leftrightarrow> ?b] = [?b \\<leftrightarrow> ?a]\n\ngoal (1 subgoal):\n 1. ptrm_infer_type (\\<Gamma>(a \\<mapsto> T)) A =\n    ptrm_infer_type (\\<Gamma>(b \\<mapsto> T)) B", "by metis"], ["proof (state)\nthis:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> T)) B\n\ngoal (8 subgoals):\n 1. \\<And>\\<Gamma>.\n       ptrm_infer_type \\<Gamma> PUnit = ptrm_infer_type \\<Gamma> PUnit\n 2. \\<And>x \\<Gamma>.\n       ptrm_infer_type \\<Gamma> (PVar x) = ptrm_infer_type \\<Gamma> (PVar x)\n 3. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PApp A C) =\n                         ptrm_infer_type \\<Gamma> (PApp B D)\n 4. \\<And>A B x T \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn x T A) =\n                         ptrm_infer_type \\<Gamma> (PFn x T B)\n 5. \\<And>a b A B T \\<Gamma>.\n       \\<lbrakk>a \\<noteq> b;\n        A \\<approx> [a \\<leftrightarrow> b] \\<bullet> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A =\n           ptrm_infer_type \\<Gamma> ([a \\<leftrightarrow> b] \\<bullet> B);\n        a \\<notin> ptrm_fvs B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn a T A) =\n                         ptrm_infer_type \\<Gamma> (PFn b T B)\n 6. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PPair A C) =\n                         ptrm_infer_type \\<Gamma> (PPair B D)\n 7. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFst A) =\n                         ptrm_infer_type \\<Gamma> (PFst B)\n 8. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PSnd A) =\n                         ptrm_infer_type \\<Gamma> (PSnd B)", "thus ?case"], ["proof (prove)\nusing this:\n  ptrm_infer_type (\\<Gamma>(a \\<mapsto> T)) A =\n  ptrm_infer_type (\\<Gamma>(b \\<mapsto> T)) B\n\ngoal (1 subgoal):\n 1. ptrm_infer_type \\<Gamma> (PFn a T A) =\n    ptrm_infer_type \\<Gamma> (PFn b T B)", "by simp"], ["proof (state)\nthis:\n  ptrm_infer_type \\<Gamma> (PFn a T A) =\n  ptrm_infer_type \\<Gamma> (PFn b T B)\n\ngoal (7 subgoals):\n 1. \\<And>\\<Gamma>.\n       ptrm_infer_type \\<Gamma> PUnit = ptrm_infer_type \\<Gamma> PUnit\n 2. \\<And>x \\<Gamma>.\n       ptrm_infer_type \\<Gamma> (PVar x) = ptrm_infer_type \\<Gamma> (PVar x)\n 3. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PApp A C) =\n                         ptrm_infer_type \\<Gamma> (PApp B D)\n 4. \\<And>A B x T \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn x T A) =\n                         ptrm_infer_type \\<Gamma> (PFn x T B)\n 5. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PPair A C) =\n                         ptrm_infer_type \\<Gamma> (PPair B D)\n 6. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFst A) =\n                         ptrm_infer_type \\<Gamma> (PFst B)\n 7. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PSnd A) =\n                         ptrm_infer_type \\<Gamma> (PSnd B)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<Gamma>.\n       ptrm_infer_type \\<Gamma> PUnit = ptrm_infer_type \\<Gamma> PUnit\n 2. \\<And>x \\<Gamma>.\n       ptrm_infer_type \\<Gamma> (PVar x) = ptrm_infer_type \\<Gamma> (PVar x)\n 3. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PApp A C) =\n                         ptrm_infer_type \\<Gamma> (PApp B D)\n 4. \\<And>A B x T \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFn x T A) =\n                         ptrm_infer_type \\<Gamma> (PFn x T B)\n 5. \\<And>A B C D \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B;\n        C \\<approx> D;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> C = ptrm_infer_type \\<Gamma> D\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PPair A C) =\n                         ptrm_infer_type \\<Gamma> (PPair B D)\n 6. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PFst A) =\n                         ptrm_infer_type \\<Gamma> (PFst B)\n 7. \\<And>A B \\<Gamma>.\n       \\<lbrakk>A \\<approx> B;\n        \\<And>\\<Gamma>.\n           ptrm_infer_type \\<Gamma> A = ptrm_infer_type \\<Gamma> B\\<rbrakk>\n       \\<Longrightarrow> ptrm_infer_type \\<Gamma> (PSnd A) =\n                         ptrm_infer_type \\<Gamma> (PSnd B)", "qed auto"], ["", "end"]]}