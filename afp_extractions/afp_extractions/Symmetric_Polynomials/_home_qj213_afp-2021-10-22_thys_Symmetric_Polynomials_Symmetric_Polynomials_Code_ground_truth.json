{"file_name": "/home/qj213/afp-2021-10-22/thys/Symmetric_Polynomials/Symmetric_Polynomials_Code.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Symmetric_Polynomials", "problem_names": ["lemma Ball_subset_right:\n  assumes \"T \\<subseteq> S\" \"\\<forall>x\\<in>S-T. P x\"\n  shows   \"(\\<forall>x\\<in>S. P x) = (\\<forall>x\\<in>T. P x)\"", "lemma compute_less_pp[code]:\n  \"xs < (ys :: 'a :: linorder \\<Rightarrow>\\<^sub>0 'b :: {zero, linorder}) \\<longleftrightarrow>\n    (\\<exists>i\\<in>keys xs \\<union> keys ys. lookup xs i < lookup ys i \\<and>\n    (\\<forall>j\\<in>keys xs \\<union> keys ys. j < i \\<longrightarrow> lookup xs j = lookup ys j))\"", "lemma compute_le_pp[code]:\n  \"xs \\<le> ys \\<longleftrightarrow> xs = ys \\<or> xs < (ys :: _ \\<Rightarrow>\\<^sub>0 _)\"", "lemma vars_code [code]:\n  \"vars (MPoly p) = (\\<Union>m\\<in>keys p. keys m)\"", "lemma mpoly_coeff_code [code]: \"coeff (MPoly p) = lookup p\"", "lemma sym_mpoly_code [code]:\n  \"sym_mpoly (set xs) k = (\\<Sum>X\\<in>Set.filter (\\<lambda>X. card X = k) (Pow (set xs)). monom (monom_of_set X) 1)\"", "lemma monom_of_set_code [code]:\n  \"monom_of_set (set xs) = Pm_fmap (fmap_of_list (map (\\<lambda>x. (x, 1)) xs))\"\n    (is \"?lhs = ?rhs\")", "lemma restrictpm_code [code]:\n  \"restrictpm A (Pm_fmap m) = Pm_fmap (fmrestrict_set A m)\"", "lemmas [code] = check_symmetric_mpoly_correct [symmetric]"], "translations": [["", "lemma Ball_subset_right:\n  assumes \"T \\<subseteq> S\" \"\\<forall>x\\<in>S-T. P x\"\n  shows   \"(\\<forall>x\\<in>S. P x) = (\\<forall>x\\<in>T. P x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>S. P x) = (\\<forall>x\\<in>T. P x)", "using assms"], ["proof (prove)\nusing this:\n  T \\<subseteq> S\n  \\<forall>x\\<in>S - T. P x\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>S. P x) = (\\<forall>x\\<in>T. P x)", "by auto"], ["", "(* This is a fairly simple theorem, but the automation somehow has a lot of problems with it *)"], ["", "lemma compute_less_pp[code]:\n  \"xs < (ys :: 'a :: linorder \\<Rightarrow>\\<^sub>0 'b :: {zero, linorder}) \\<longleftrightarrow>\n    (\\<exists>i\\<in>keys xs \\<union> keys ys. lookup xs i < lookup ys i \\<and>\n    (\\<forall>j\\<in>keys xs \\<union> keys ys. j < i \\<longrightarrow> lookup xs j = lookup ys j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (xs < ys) =\n    (\\<exists>i\\<in>keys xs \\<union> keys ys.\n        lookup xs i < lookup ys i \\<and>\n        (\\<forall>j\\<in>keys xs \\<union> keys ys.\n            j < i \\<longrightarrow> lookup xs j = lookup ys j))", "proof transfer"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "fix f g :: \"'a \\<Rightarrow> 'b\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "let ?dom = \"{i. f i \\<noteq> 0} \\<union> {i. g i \\<noteq> 0}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "have \"less_fun f g \\<longleftrightarrow> (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. less_fun f g =\n    (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k'))", "unfolding less_fun_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k')) =\n    (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k'))", ".."], ["proof (state)\nthis:\n  less_fun f g = (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k'))\n\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "also"], ["proof (state)\nthis:\n  less_fun f g = (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k'))\n\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "have \"\\<dots> \\<longleftrightarrow> (\\<exists>i. f i < g i \\<and> (i \\<in> ?dom \\<and> (\\<forall>j\\<in>?dom. j < i \\<longrightarrow> f j = g j)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k')) =\n    (\\<exists>i.\n        f i < g i \\<and>\n        i \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < i \\<longrightarrow> f j = g j))", "proof (intro iff_exI conj_cong refl)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "assume \"f k < g k\""], ["proof (state)\nthis:\n  f k < g k\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "hence k: \"k \\<in> ?dom\""], ["proof (prove)\nusing this:\n  f k < g k\n\ngoal (1 subgoal):\n 1. k \\<in> {i. f i \\<noteq> (0::'b)} \\<union> {i. g i \\<noteq> (0::'b)}", "by auto"], ["proof (state)\nthis:\n  k \\<in> {i. f i \\<noteq> (0::'b)} \\<union> {i. g i \\<noteq> (0::'b)}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "have \"(\\<forall>k'<k. f k' = g k') = (\\<forall>k'\\<in>{..<k}. f k' = g k')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>k'<k. f k' = g k') = (\\<forall>k'\\<in>{..<k}. f k' = g k')", "by auto"], ["proof (state)\nthis:\n  (\\<forall>k'<k. f k' = g k') = (\\<forall>k'\\<in>{..<k}. f k' = g k')\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "also"], ["proof (state)\nthis:\n  (\\<forall>k'<k. f k' = g k') = (\\<forall>k'\\<in>{..<k}. f k' = g k')\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "have \"\\<dots> \\<longleftrightarrow> (\\<forall>j\\<in>({k. f k \\<noteq> 0} \\<union> {k. g k \\<noteq> 0}) \\<inter> {..<k}. f j = g j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>k'\\<in>{..<k}. f k' = g k') =\n    (\\<forall>j\\<in>({k. f k \\<noteq> (0::'b)} \\<union>\n                     {k. g k \\<noteq> (0::'b)}) \\<inter>\n                    {..<k}.\n        f j = g j)", "by (intro Ball_subset_right) auto"], ["proof (state)\nthis:\n  (\\<forall>k'\\<in>{..<k}. f k' = g k') =\n  (\\<forall>j\\<in>({k. f k \\<noteq> (0::'b)} \\<union>\n                   {k. g k \\<noteq> (0::'b)}) \\<inter>\n                  {..<k}.\n      f j = g j)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "also"], ["proof (state)\nthis:\n  (\\<forall>k'\\<in>{..<k}. f k' = g k') =\n  (\\<forall>j\\<in>({k. f k \\<noteq> (0::'b)} \\<union>\n                   {k. g k \\<noteq> (0::'b)}) \\<inter>\n                  {..<k}.\n      f j = g j)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "have \"\\<dots> \\<longleftrightarrow> (\\<forall>j\\<in>({k. f k \\<noteq> 0} \\<union> {k. g k \\<noteq> 0}). j < k \\<longrightarrow> f j = g j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>j\\<in>({k. f k \\<noteq> (0::'b)} \\<union>\n                     {k. g k \\<noteq> (0::'b)}) \\<inter>\n                    {..<k}.\n        f j = g j) =\n    (\\<forall>j\\<in>{k. f k \\<noteq> (0::'b)} \\<union>\n                    {k. g k \\<noteq> (0::'b)}.\n        j < k \\<longrightarrow> f j = g j)", "by auto"], ["proof (state)\nthis:\n  (\\<forall>j\\<in>({k. f k \\<noteq> (0::'b)} \\<union>\n                   {k. g k \\<noteq> (0::'b)}) \\<inter>\n                  {..<k}.\n      f j = g j) =\n  (\\<forall>j\\<in>{k. f k \\<noteq> (0::'b)} \\<union>\n                  {k. g k \\<noteq> (0::'b)}.\n      j < k \\<longrightarrow> f j = g j)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       f k < g k \\<Longrightarrow>\n       (\\<forall>k'<k. f k' = g k') =\n       (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < k \\<longrightarrow> f j = g j))", "finally"], ["proof (chain)\npicking this:\n  (\\<forall>k'<k. f k' = g k') =\n  (\\<forall>j\\<in>{k. f k \\<noteq> (0::'b)} \\<union>\n                  {k. g k \\<noteq> (0::'b)}.\n      j < k \\<longrightarrow> f j = g j)", "show \"(\\<forall>k'<k. f k' = g k') \\<longleftrightarrow> k \\<in> ?dom \\<and> (\\<forall>j\\<in>?dom. j < k \\<longrightarrow> f j = g j)\""], ["proof (prove)\nusing this:\n  (\\<forall>k'<k. f k' = g k') =\n  (\\<forall>j\\<in>{k. f k \\<noteq> (0::'b)} \\<union>\n                  {k. g k \\<noteq> (0::'b)}.\n      j < k \\<longrightarrow> f j = g j)\n\ngoal (1 subgoal):\n 1. (\\<forall>k'<k. f k' = g k') =\n    (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n             {i. g i \\<noteq> (0::'b)} \\<and>\n     (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                     {i. g i \\<noteq> (0::'b)}.\n         j < k \\<longrightarrow> f j = g j))", "using k"], ["proof (prove)\nusing this:\n  (\\<forall>k'<k. f k' = g k') =\n  (\\<forall>j\\<in>{k. f k \\<noteq> (0::'b)} \\<union>\n                  {k. g k \\<noteq> (0::'b)}.\n      j < k \\<longrightarrow> f j = g j)\n  k \\<in> {i. f i \\<noteq> (0::'b)} \\<union> {i. g i \\<noteq> (0::'b)}\n\ngoal (1 subgoal):\n 1. (\\<forall>k'<k. f k' = g k') =\n    (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n             {i. g i \\<noteq> (0::'b)} \\<and>\n     (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                     {i. g i \\<noteq> (0::'b)}.\n         j < k \\<longrightarrow> f j = g j))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>k'<k. f k' = g k') =\n  (k \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n           {i. g i \\<noteq> (0::'b)} \\<and>\n   (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                   {i. g i \\<noteq> (0::'b)}.\n       j < k \\<longrightarrow> f j = g j))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k')) =\n  (\\<exists>i.\n      f i < g i \\<and>\n      i \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n              {i. g i \\<noteq> (0::'b)} \\<and>\n      (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                      {i. g i \\<noteq> (0::'b)}.\n          j < i \\<longrightarrow> f j = g j))\n\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "also"], ["proof (state)\nthis:\n  (\\<exists>k. f k < g k \\<and> (\\<forall>k'<k. f k' = g k')) =\n  (\\<exists>i.\n      f i < g i \\<and>\n      i \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n              {i. g i \\<noteq> (0::'b)} \\<and>\n      (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                      {i. g i \\<noteq> (0::'b)}.\n          j < i \\<longrightarrow> f j = g j))\n\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "have \"\\<dots> \\<longleftrightarrow> (\\<exists>i\\<in>?dom. f i < g i \\<and> (\\<forall>j\\<in>?dom. j < i \\<longrightarrow> f j = g j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>i.\n        f i < g i \\<and>\n        i \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n                {i. g i \\<noteq> (0::'b)} \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < i \\<longrightarrow> f j = g j)) =\n    (\\<exists>i\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                    {i. g i \\<noteq> (0::'b)}.\n        f i < g i \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < i \\<longrightarrow> f j = g j))", "by (simp add: Bex_def conj_ac)"], ["proof (state)\nthis:\n  (\\<exists>i.\n      f i < g i \\<and>\n      i \\<in> {i. f i \\<noteq> (0::'b)} \\<union>\n              {i. g i \\<noteq> (0::'b)} \\<and>\n      (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                      {i. g i \\<noteq> (0::'b)}.\n          j < i \\<longrightarrow> f j = g j)) =\n  (\\<exists>i\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                  {i. g i \\<noteq> (0::'b)}.\n      f i < g i \\<and>\n      (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                      {i. g i \\<noteq> (0::'b)}.\n          j < i \\<longrightarrow> f j = g j))\n\ngoal (1 subgoal):\n 1. \\<And>xs ys.\n       \\<lbrakk>finite {x. xs x \\<noteq> (0::'b)};\n        finite {x. ys x \\<noteq> (0::'b)}\\<rbrakk>\n       \\<Longrightarrow> less_fun xs ys =\n                         (\\<exists>i\\<in>{k. xs k \\<noteq> (0::'b)} \\<union>\n   {k. ys k \\<noteq> (0::'b)}.\n                             xs i < ys i \\<and>\n                             (\\<forall>j\n \\<in>{k. xs k \\<noteq> (0::'b)} \\<union> {k. ys k \\<noteq> (0::'b)}.\n                                 j < i \\<longrightarrow> xs j = ys j))", "finally"], ["proof (chain)\npicking this:\n  less_fun f g =\n  (\\<exists>i\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                  {i. g i \\<noteq> (0::'b)}.\n      f i < g i \\<and>\n      (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                      {i. g i \\<noteq> (0::'b)}.\n          j < i \\<longrightarrow> f j = g j))", "show \"less_fun f g \\<longleftrightarrow> (\\<exists>i\\<in>?dom. f i < g i \\<and> (\\<forall>j\\<in>?dom. j < i \\<longrightarrow> f j = g j))\""], ["proof (prove)\nusing this:\n  less_fun f g =\n  (\\<exists>i\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                  {i. g i \\<noteq> (0::'b)}.\n      f i < g i \\<and>\n      (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                      {i. g i \\<noteq> (0::'b)}.\n          j < i \\<longrightarrow> f j = g j))\n\ngoal (1 subgoal):\n 1. less_fun f g =\n    (\\<exists>i\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                    {i. g i \\<noteq> (0::'b)}.\n        f i < g i \\<and>\n        (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                        {i. g i \\<noteq> (0::'b)}.\n            j < i \\<longrightarrow> f j = g j))", "."], ["proof (state)\nthis:\n  less_fun f g =\n  (\\<exists>i\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                  {i. g i \\<noteq> (0::'b)}.\n      f i < g i \\<and>\n      (\\<forall>j\\<in>{i. f i \\<noteq> (0::'b)} \\<union>\n                      {i. g i \\<noteq> (0::'b)}.\n          j < i \\<longrightarrow> f j = g j))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma compute_le_pp[code]:\n  \"xs \\<le> ys \\<longleftrightarrow> xs = ys \\<or> xs < (ys :: _ \\<Rightarrow>\\<^sub>0 _)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (xs \\<le> ys) = (xs = ys \\<or> xs < ys)", "by (auto simp: order.order_iff_strict)"], ["", "lemma vars_code [code]:\n  \"vars (MPoly p) = (\\<Union>m\\<in>keys p. keys m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars (MPoly p) = \\<Union> (keys ` keys p)", "unfolding vars_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (keys ` keys (mapping_of (MPoly p))) = \\<Union> (keys ` keys p)", "by transfer' simp"], ["", "lemma mpoly_coeff_code [code]: \"coeff (MPoly p) = lookup p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. MPoly_Type.coeff (MPoly p) = lookup p", "by transfer' simp"], ["", "lemma sym_mpoly_code [code]:\n  \"sym_mpoly (set xs) k = (\\<Sum>X\\<in>Set.filter (\\<lambda>X. card X = k) (Pow (set xs)). monom (monom_of_set X) 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym_mpoly (set xs) k =\n    (\\<Sum>X\\<in>Set.filter (\\<lambda>X. card X = k) (Pow (set xs)).\n       MPoly_Type.monom (monom_of_set X) (1::'a))", "by (simp add: sym_mpoly_altdef Set.filter_def)"], ["", "lemma monom_of_set_code [code]:\n  \"monom_of_set (set xs) = Pm_fmap (fmap_of_list (map (\\<lambda>x. (x, 1)) xs))\"\n    (is \"?lhs = ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. monom_of_set (set xs) =\n    Pm_fmap (fmap_of_list (map (\\<lambda>x. (x, 1)) xs))", "proof (intro poly_mapping_eqI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       lookup (monom_of_set (set xs)) k =\n       lookup (Pm_fmap (fmap_of_list (map (\\<lambda>x. (x, 1)) xs))) k", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       lookup (monom_of_set (set xs)) k =\n       lookup (Pm_fmap (fmap_of_list (map (\\<lambda>x. (x, 1)) xs))) k", "show \"lookup ?lhs k = lookup ?rhs k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lookup (monom_of_set (set xs)) k =\n    lookup (Pm_fmap (fmap_of_list (map (\\<lambda>x. (x, 1)) xs))) k", "by (induction xs) (auto simp: lookup_monom_of_set fmlookup_default_def)"], ["proof (state)\nthis:\n  lookup (monom_of_set (set xs)) k =\n  lookup (Pm_fmap (fmap_of_list (map (\\<lambda>x. (x, 1)) xs))) k\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrictpm_code [code]:\n  \"restrictpm A (Pm_fmap m) = Pm_fmap (fmrestrict_set A m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restrictpm A (Pm_fmap m) = Pm_fmap (fmrestrict_set A m)", "by (intro poly_mapping_eqI) (auto simp: lookup_restrictpm fmlookup_default_def)"], ["", "lemmas [code] = check_symmetric_mpoly_correct [symmetric]"], ["", "notepad\nbegin"], ["proof (state)", "define X Y Z :: \"int mpoly\" where \"X = Var 1\" \"Y = Var 2\" \"Z = Var 3\""], ["proof (state)\nthis:\n  X = Var 1\n  Y = Var 2\n  Z = Var 3", "define e1 e2 :: \"int mpoly mpoly\" where \"e1 = Var 1\" \"e2 = Var 2\""], ["proof (state)\nthis:\n  e1 = Var 1\n  e2 = Var 2", "have \"sym_mpoly {1, 2, 3} 2 = X * Y + X * Z + Y * Z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym_mpoly {1, 2, 3} 2 = X * Y + X * Z + Y * Z", "unfolding X_Y_Z_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sym_mpoly {1, 2, 3} 2 = Var 1 * Var 2 + Var 1 * Var 3 + Var 2 * Var 3", "by eval"], ["proof (state)\nthis:\n  sym_mpoly {1, 2, 3} 2 = X * Y + X * Z + Y * Z", "have \"symmetric_mpoly {1, 2} (X ^ 3 + Y ^ 3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. symmetric_mpoly {1, 2} (X ^ 3 + Y ^ 3)", "unfolding X_Y_Z_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. symmetric_mpoly {1, 2} (Var 1 ^ 3 + Var 2 ^ 3)", "by eval"], ["proof (state)\nthis:\n  symmetric_mpoly {1, 2} (X ^ 3 + Y ^ 3)", "have \"fund_sym_poly_wit {1, 2} (X ^ 3 + Y ^ 3) = e1 ^ 3 - 3 * e1 * e2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fund_sym_poly_wit {1, 2} (X ^ 3 + Y ^ 3) = e1 ^ 3 - 3 * e1 * e2", "unfolding X_Y_Z_def e1_e2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. fund_sym_poly_wit {1, 2} (Var 1 ^ 3 + Var 2 ^ 3) =\n    Var 1 ^ 3 - 3 * Var 1 * Var 2", "by eval"], ["proof (state)\nthis:\n  fund_sym_poly_wit {1, 2} (X ^ 3 + Y ^ 3) = e1 ^ 3 - 3 * e1 * e2", "end"], ["", "end"]]}