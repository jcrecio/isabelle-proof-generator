{"file_name": "/home/qj213/afp-2021-10-22/thys/Akra_Bazzi/Akra_Bazzi_Real.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Akra_Bazzi", "problem_names": ["lemma integral_nonneg:\n  \"a \\<le> b \\<Longrightarrow> integrable f a b \\<Longrightarrow> (\\<And>x. x \\<in> {a..b} \\<Longrightarrow> f x \\<ge> 0) \\<Longrightarrow> integral f a b \\<ge> 0\"", "lemma strict_mono_imp_ex1_real:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes lim_neg_inf: \"LIM x at_bot. f x :> at_top\"\n  assumes lim_inf: \"(f \\<longlongrightarrow> z) at_top\"\n  assumes mono: \"\\<And>a b. a < b \\<Longrightarrow> f b < f a\"\n  assumes cont: \"\\<And>x. isCont f x\"\n  assumes y_greater_z: \"z < y\"\n  shows   \"\\<exists>!x. f x = y\"", "lemma p_def: \"p = (THE p. (\\<Sum>i<k. as!i * bs!i powr p) = 1)\"", "lemma b_pos: \"b \\<in> set bs \\<Longrightarrow> b > 0\" and b_less_1: \"b \\<in> set bs \\<Longrightarrow> b < 1\"", "lemma as_nonempty [simp]: \"as \\<noteq> []\" and bs_nonempty [simp]: \"bs \\<noteq> []\"", "lemma a_in_as[intro, simp]: \"i < k \\<Longrightarrow> as ! i \\<in> set as\"", "lemma b_in_bs[intro, simp]: \"i < k \\<Longrightarrow> bs ! i \\<in> set bs\"", "lemma akra_bazzi_p_strict_mono:\n  assumes \"x < y\"\n  shows \"(\\<Sum>i<k. as!i * bs!i powr y) < (\\<Sum>i<k. as!i * bs!i powr x)\"", "lemma akra_bazzi_p_mono:\n  assumes \"x \\<le> y\"\n  shows \"(\\<Sum>i<k. as!i * bs!i powr y) \\<le> (\\<Sum>i<k. as!i * bs!i powr x)\"", "lemma akra_bazzi_p_unique:\n  \"\\<exists>!p. (\\<Sum>i<k. as!i * bs!i powr p) = 1\"", "lemma p_props:  \"(\\<Sum>i<k. as!i * bs!i powr p) = 1\"\n  and p_unique: \"(\\<Sum>i<k. as!i * bs!i powr p') = 1 \\<Longrightarrow> p = p'\"", "lemma p_greaterI: \"1 < (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' < p\"", "lemma p_lessI: \"1 > (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' > p\"", "lemma p_geI: \"1 \\<le> (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' \\<le> p\"", "lemma p_leI: \"1 \\<ge> (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' \\<ge> p\"", "lemma p_boundsI: \"(\\<Sum>i<k. as!i * bs!i powr x) \\<le> 1 \\<and> (\\<Sum>i<k. as!i * bs!i powr y) \\<ge> 1 \\<Longrightarrow> p \\<in> {y..x}\"", "lemma p_boundsI': \"(\\<Sum>i<k. as!i * bs!i powr x) < 1 \\<and> (\\<Sum>i<k. as!i * bs!i powr y) > 1 \\<Longrightarrow> p \\<in> {y<..<x}\"", "lemma p_nonneg: \"sum_list as \\<ge> 1 \\<Longrightarrow> p \\<ge> 0\"", "lemma h_in_hs[intro, simp]: \"i < k \\<Longrightarrow> hs ! i \\<in> set hs\"", "lemma x1_gt_1: \"x\\<^sub>1 > 1\"", "lemma x1_ge_1: \"x\\<^sub>1 \\<ge> 1\"", "lemma x1_pos: \"x\\<^sub>1 > 0\"", "lemma bx_le_x: \"x \\<ge> 0 \\<Longrightarrow> b \\<in> set bs \\<Longrightarrow>  b * x \\<le> x\"", "lemma x0_pos: \"x\\<^sub>0 > 0\"", "lemma\n  assumes \"x \\<ge> x\\<^sub>0\" \"b \\<in> set bs\"\n  shows x0_hb_bound0: \"hb / ln x powr (1 + e) < b/2\"\n  and   x0_hb_bound1: \"hb / ln x powr (1 + e) < (1 - b) / 2\"\n  and   x0_hb_bound2: \"x*(1 - b - hb / ln x powr (1 + e)) > 1\"", "lemma step_diff:\n  assumes \"i < k\" \"x \\<ge> x\\<^sub>1\"\n  shows   \"bs ! i * x + (hs ! i) x + 1 < x\"", "lemma step_le_x: \"i < k \\<Longrightarrow> x \\<ge> x\\<^sub>1 \\<Longrightarrow> bs ! i * x + (hs ! i) x \\<le> x\"", "lemma x0_hb_bound0': \"\\<And>x b. x \\<ge> x\\<^sub>0 \\<Longrightarrow> b \\<in> set bs \\<Longrightarrow> hb / ln x powr (1 + e) < b\"", "lemma step_pos:\n  assumes \"i < k\" \"x \\<ge> x\\<^sub>1\"\n  shows   \"bs ! i * x + (hs ! i) x > 0\"", "lemma step_nonneg: \"i < k \\<Longrightarrow> x \\<ge> x\\<^sub>1 \\<Longrightarrow> bs ! i * x + (hs ! i) x \\<ge> 0\"", "lemma step_nonneg': \"i < k \\<Longrightarrow> x \\<ge> x\\<^sub>1 \\<Longrightarrow> bs ! i + (hs ! i) x / x \\<ge> 0\"", "lemma hb_nonneg: \"hb \\<ge> 0\"", "lemma x0_hb_bound3:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"x - (bs ! i * x + (hs ! i) x) \\<le> x\"", "lemma x0_hb_bound4:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs ! i + (hs ! i) x / x) > bs ! i / 2\"", "lemma x0_hb_bound4': \"x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> (bs ! i + (hs ! i) x / x) \\<ge> bs ! i / 2\"", "lemma x0_hb_bound5:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs ! i + (hs ! i) x / x) \\<le> bs ! i * 3/2\"", "lemma x0_hb_bound6:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)\"", "lemma x0_hb_bound7:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"bs!i*x + (hs!i) x > x\\<^sub>0\"", "lemma x0_hb_bound7': \"x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> bs!i*x + (hs!i) x > 1\"", "lemma x0_hb_bound8:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"bs!i*x - hb * x / ln x powr (1+e) > x\\<^sub>0\"", "lemma x0_hb_bound8':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"bs!i*x + hb * x / ln x powr (1+e) > x\\<^sub>0\"", "lemma\n  assumes \"x \\<ge> x\\<^sub>0\"\n  shows   asymptotics1: \"i < k \\<Longrightarrow> 1 + ln x powr (- e / 2) \\<le>\n             (1 - hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 + ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics2: \"i < k \\<Longrightarrow> 1 - ln x powr (- e / 2) \\<ge>\n             (1 + hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 - ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics1': \"i < k \\<Longrightarrow> 1 + ln x powr (- e / 2) \\<le>\n             (1 + hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 + ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics2': \"i < k \\<Longrightarrow> 1 - ln x powr (- e / 2) \\<ge>\n             (1 - hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 - ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics3: \"(1 + ln x powr (- e / 2)) / 2 \\<le> 1\"\n  and     asymptotics4: \"(1 - ln x powr (- e / 2)) * 2 \\<ge> 1\"\n  and     asymptotics5: \"i < k \\<Longrightarrow> ln (bs!i*x - hb*x*ln x powr -(1+e)) powr (-e/2) < 1\"", "lemma x0_hb_bound9:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"ln (bs!i*x + (hs!i) x) powr -(e/2) < 1\"", "lemma akra_bazzi_measure_decreases:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"akra_bazzi_measure (bs!i*x + (hs!i) x) < akra_bazzi_measure x\"", "lemma akra_bazzi_induct[consumes 1, case_names base rec]:\n  assumes \"x \\<ge> x\\<^sub>0\"\n  assumes base: \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x\"\n  assumes rec:  \"\\<And>x. x > x\\<^sub>1 \\<Longrightarrow> (\\<And>i. i < k \\<Longrightarrow> P (bs!i*x + (hs!i) x)) \\<Longrightarrow> P x\"\n  shows   \"P x\"", "lemma akra_bazzi_integrable:\n  \"a \\<ge> x\\<^sub>0 \\<Longrightarrow> a \\<le> b \\<Longrightarrow> integrable (\\<lambda>x. g x / x powr (p + 1)) a b\"", "lemma f_nonneg: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> f x \\<ge> 0\"", "lemma f_approx_aux:\n  assumes \"x \\<ge> x\\<^sub>0\"\n  shows   \"1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x \\<ge> 1\"", "lemma f_approx_pos: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> f_approx x > 0\"", "lemma f_approx_nonneg: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> f_approx x \\<ge> 0\"", "lemma f_approx_bounded_below:\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f_approx x \\<ge> c\" \"c > 0\"", "lemma asymptotics_aux:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  assumes \"s \\<equiv> (if p \\<ge> 0 then 1 else -1)\"\n  shows \"(bs!i*x - s*hb*x*ln x powr -(1+e)) powr p \\<le> (bs!i*x + (hs!i) x) powr p\" (is \"?thesis1\")\n  and   \"(bs!i*x + (hs!i) x) powr p \\<le> (bs!i*x + s*hb*x*ln x powr -(1+e)) powr p\" (is \"?thesis2\")", "lemma asymptotics1':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs!i*x) powr p * (1 + ln x powr (-e/2)) \\<le>\n           (bs!i*x + (hs!i) x) powr p * (1 + ln (bs!i*x + (hs!i) x) powr (-e/2))\"", "lemma asymptotics2':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs!i*x + (hs!i) x) powr p * (1 - ln (bs!i*x + (hs!i) x) powr (-e/2)) \\<le>\n           (bs!i*x) powr p * (1 - ln x powr (-e/2))\"", "lemma Cx_le_step:\n  assumes \"i < k\" \"x \\<ge> x\\<^sub>1\"\n  shows   \"C*x \\<le> bs!i*x + (hs!i) x\"", "lemma f'_base: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f' x \\<ge> 0\"", "lemmas f'_rec = f'.simps(2)", "lemma gb2_nonneg: \"gb2 \\<ge> 0\"", "lemma g_growth2':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\" \"u \\<in> {bs!i*x+(hs!i) x..x}\"\n  shows   \"c2 * g x \\<ge> g u\"", "lemma g_bounds2:\n  obtains c4 where \"\\<And>x i. x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> g_approx i x \\<le> c4 * g x\" \"c4 > 0\"", "lemma f_approx_bounded_above:\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f_approx x \\<le> c\" \"c > 0\"", "lemma f_bounded_below:\n  assumes c': \"c' > 0\"\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x\" \"c \\<le> c'\" \"c > 0\"", "lemma akra_bazzi_lower:\n  obtains c5 where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> f x \\<ge> c5 * f_approx x\" \"c5 > 0\"", "lemma akra_bazzi_bigomega:\n  \"f \\<in> \\<Omega>(\\<lambda>x. x powr p * (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x))\"", "lemma g_growth1':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\" \"u \\<in> {bs!i*x+(hs!i) x..x}\"\n  shows   \"c1 * g x \\<le> g u\"", "lemma g_bounds1:\n  obtains c3 where\n    \"\\<And>x i. x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> c3 * g x \\<le> g_approx i x\" \"c3 > 0\"", "lemma f_bounded_above:\n  assumes c': \"c' > 0\"\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f x \\<le> (1/2) * (c * f_approx x)\" \"c \\<ge> c'\" \"c > 0\"", "lemma akra_bazzi_upper:\n  obtains c6 where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> f x \\<le> c6 * f_approx x\" \"c6 > 0\"", "lemma akra_bazzi_bigo:\n  \"f \\<in> O(\\<lambda>x. x powr p *(1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x))\""], "translations": [["", "lemma integral_nonneg:\n  \"a \\<le> b \\<Longrightarrow> integrable f a b \\<Longrightarrow> (\\<And>x. x \\<in> {a..b} \\<Longrightarrow> f x \\<ge> 0) \\<Longrightarrow> integral f a b \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> b; integrable f a b;\n     \\<And>x. x \\<in> {a..b} \\<Longrightarrow> 0 \\<le> f x\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> integral f a b", "using integral_le[OF integrable_const[of 0], of f a b]"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> 0; integrable f a b;\n   \\<And>x. x \\<in> {a..b} \\<Longrightarrow> 0 \\<le> f x\\<rbrakk>\n  \\<Longrightarrow> integral (\\<lambda>_. 0) a b \\<le> integral f a b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> b; integrable f a b;\n     \\<And>x. x \\<in> {a..b} \\<Longrightarrow> 0 \\<le> f x\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> integral f a b", "by (simp add: integral_const)"], ["", "end"], ["", "declare sum.cong[fundef_cong]"], ["", "lemma strict_mono_imp_ex1_real:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes lim_neg_inf: \"LIM x at_bot. f x :> at_top\"\n  assumes lim_inf: \"(f \\<longlongrightarrow> z) at_top\"\n  assumes mono: \"\\<And>a b. a < b \\<Longrightarrow> f b < f a\"\n  assumes cont: \"\\<And>x. isCont f x\"\n  assumes y_greater_z: \"z < y\"\n  shows   \"\\<exists>!x. f x = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>!x. f x = y", "proof (rule ex_ex1I)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>x. f x = y\n 2. \\<And>x ya. \\<lbrakk>f x = y; f ya = y\\<rbrakk> \\<Longrightarrow> x = ya", "fix a b"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>x. f x = y\n 2. \\<And>x ya. \\<lbrakk>f x = y; f ya = y\\<rbrakk> \\<Longrightarrow> x = ya", "assume \"f a = y\" \"f b = y\""], ["proof (state)\nthis:\n  f a = y\n  f b = y\n\ngoal (2 subgoals):\n 1. \\<exists>x. f x = y\n 2. \\<And>x ya. \\<lbrakk>f x = y; f ya = y\\<rbrakk> \\<Longrightarrow> x = ya", "thus \"a = b\""], ["proof (prove)\nusing this:\n  f a = y\n  f b = y\n\ngoal (1 subgoal):\n 1. a = b", "by (cases rule: linorder_cases[of a b]) (auto dest: mono)"], ["proof (state)\nthis:\n  a = b\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "from lim_neg_inf"], ["proof (chain)\npicking this:\n  filterlim f at_top at_bot", "have \"eventually (\\<lambda>x. y \\<le> f x) at_bot\""], ["proof (prove)\nusing this:\n  filterlim f at_top at_bot\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_bot. y \\<le> f x", "by (subst (asm) filterlim_at_top) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_bot. y \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at_bot. y \\<le> f x", "obtain l where l: \"\\<And>x. x \\<le> l \\<Longrightarrow> y \\<le> f x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_bot. y \\<le> f x\n\ngoal (1 subgoal):\n 1. (\\<And>l.\n        (\\<And>x. x \\<le> l \\<Longrightarrow> y \\<le> f x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (subst (asm) eventually_at_bot_linorder) auto"], ["proof (state)\nthis:\n  ?x \\<le> l \\<Longrightarrow> y \\<le> f ?x\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "from order_tendstoD(2)[OF lim_inf y_greater_z]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at_top. f x < y", "obtain u where u: \"\\<And>x. x \\<ge> u \\<Longrightarrow> f x < y\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_top. f x < y\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        (\\<And>x. u \\<le> x \\<Longrightarrow> f x < y) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (subst (asm) eventually_at_top_linorder) auto"], ["proof (state)\nthis:\n  u \\<le> ?x \\<Longrightarrow> f ?x < y\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "define a where \"a = min l u\""], ["proof (state)\nthis:\n  a = min l u\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "define b where \"b = max l u\""], ["proof (state)\nthis:\n  b = max l u\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "have a: \"f a \\<ge> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<le> f a", "unfolding a_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<le> f (min l u)", "by (intro l) simp"], ["proof (state)\nthis:\n  y \\<le> f a\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "moreover"], ["proof (state)\nthis:\n  y \\<le> f a\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "have b: \"f b < y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f b < y", "unfolding b_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (max l u) < y", "by (intro u) simp"], ["proof (state)\nthis:\n  f b < y\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "moreover"], ["proof (state)\nthis:\n  f b < y\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "have a_le_b: \"a \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<le> b", "by (simp add: a_def b_def)"], ["proof (state)\nthis:\n  a \\<le> b\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "ultimately"], ["proof (chain)\npicking this:\n  y \\<le> f a\n  f b < y\n  a \\<le> b", "have \"\\<exists>x\\<ge>a. x \\<le> b \\<and> f x = y\""], ["proof (prove)\nusing this:\n  y \\<le> f a\n  f b < y\n  a \\<le> b\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<ge>a. x \\<le> b \\<and> f x = y", "using cont"], ["proof (prove)\nusing this:\n  y \\<le> f a\n  f b < y\n  a \\<le> b\n  isCont f ?x\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<ge>a. x \\<le> b \\<and> f x = y", "by (intro IVT2) auto"], ["proof (state)\nthis:\n  \\<exists>x\\<ge>a. x \\<le> b \\<and> f x = y\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "thus \"\\<exists>x. f x = y\""], ["proof (prove)\nusing this:\n  \\<exists>x\\<ge>a. x \\<le> b \\<and> f x = y\n\ngoal (1 subgoal):\n 1. \\<exists>x. f x = y", "by blast"], ["proof (state)\nthis:\n  \\<exists>x. f x = y\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The parameter @{term \"p\"} in the Akra-Bazzi theorem always exists and is unique.\\<close>"], ["", "definition akra_bazzi_exponent :: \"real list \\<Rightarrow> real list \\<Rightarrow> real\" where\n  \"akra_bazzi_exponent as bs \\<equiv> (THE p. (\\<Sum>i<length as. as!i * bs!i powr p) = 1)\""], ["", "locale akra_bazzi_params =\n  fixes k :: nat and as bs :: \"real list\"\n  assumes length_as: \"length as = k\"\n  and     length_bs: \"length bs = k\"\n  and     k_not_0:   \"k \\<noteq> 0\"\n  and     a_ge_0:    \"a \\<in> set as \\<Longrightarrow> a \\<ge> 0\"\n  and     b_bounds:  \"b \\<in> set bs \\<Longrightarrow> b \\<in> {0<..<1}\"\nbegin"], ["", "abbreviation p :: real where \"p \\<equiv> akra_bazzi_exponent as bs\""], ["", "lemma p_def: \"p = (THE p. (\\<Sum>i<k. as!i * bs!i powr p) = 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p = (THE p. (\\<Sum>i<k. as ! i * bs ! i powr p) = 1)", "by (simp add: akra_bazzi_exponent_def length_as)"], ["", "lemma b_pos: \"b \\<in> set bs \\<Longrightarrow> b > 0\" and b_less_1: \"b \\<in> set bs \\<Longrightarrow> b < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (b \\<in> set bs \\<Longrightarrow> 0 < b) &&&\n    (b \\<in> set bs \\<Longrightarrow> b < 1)", "using b_bounds"], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. (b \\<in> set bs \\<Longrightarrow> 0 < b) &&&\n    (b \\<in> set bs \\<Longrightarrow> b < 1)", "by simp_all"], ["", "lemma as_nonempty [simp]: \"as \\<noteq> []\" and bs_nonempty [simp]: \"bs \\<noteq> []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. as \\<noteq> [] &&& bs \\<noteq> []", "using length_as length_bs k_not_0"], ["proof (prove)\nusing this:\n  length as = k\n  length bs = k\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. as \\<noteq> [] &&& bs \\<noteq> []", "by auto"], ["", "lemma a_in_as[intro, simp]: \"i < k \\<Longrightarrow> as ! i \\<in> set as\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < k \\<Longrightarrow> as ! i \\<in> set as", "by (rule nth_mem) (simp add: length_as)"], ["", "lemma b_in_bs[intro, simp]: \"i < k \\<Longrightarrow> bs ! i \\<in> set bs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < k \\<Longrightarrow> bs ! i \\<in> set bs", "by (rule nth_mem) (simp add: length_bs)"], ["", "end"], ["", "locale akra_bazzi_params_nonzero =\n  fixes k :: nat and as bs :: \"real list\"\n  assumes length_as: \"length as = k\"\n  and     length_bs: \"length bs = k\"\n  and     a_ge_0:    \"a \\<in> set as \\<Longrightarrow> a \\<ge> 0\"\n  and     ex_a_pos:  \"\\<exists>a\\<in>set as. a > 0\"\n  and     b_bounds:  \"b \\<in> set bs \\<Longrightarrow> b \\<in> {0<..<1}\"\nbegin"], ["", "sublocale akra_bazzi_params k as bs"], ["proof (prove)\ngoal (1 subgoal):\n 1. akra_bazzi_params k as bs", "by unfold_locales (insert length_as length_bs a_ge_0 ex_a_pos b_bounds, auto)"], ["", "lemma akra_bazzi_p_strict_mono:\n  assumes \"x < y\"\n  shows \"(\\<Sum>i<k. as!i * bs!i powr y) < (\\<Sum>i<k. as!i * bs!i powr x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr y)\n    < (\\<Sum>i<k. as ! i * bs ! i powr x)", "proof (intro sum_strict_mono_ex1 ballI)"], ["proof (state)\ngoal (3 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x\n 3. \\<exists>a\\<in>{..<k}. as ! a * bs ! a powr y < as ! a * bs ! a powr x", "from ex_a_pos"], ["proof (chain)\npicking this:\n  \\<exists>a\\<in>set as. 0 < a", "obtain a where \"a \\<in> set as\" \"a > 0\""], ["proof (prove)\nusing this:\n  \\<exists>a\\<in>set as. 0 < a\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> set as; 0 < a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> set as\n  0 < a\n\ngoal (3 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x\n 3. \\<exists>a\\<in>{..<k}. as ! a * bs ! a powr y < as ! a * bs ! a powr x", "then"], ["proof (chain)\npicking this:\n  a \\<in> set as\n  0 < a", "obtain i where \"i < k\" \"as!i > 0\""], ["proof (prove)\nusing this:\n  a \\<in> set as\n  0 < a\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < k; 0 < as ! i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (force simp: in_set_conv_nth length_as)"], ["proof (state)\nthis:\n  i < k\n  0 < as ! i\n\ngoal (3 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x\n 3. \\<exists>a\\<in>{..<k}. as ! a * bs ! a powr y < as ! a * bs ! a powr x", "with b_bounds \\<open>x < y\\<close>"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n  x < y\n  i < k\n  0 < as ! i", "have \"as!i * bs!i powr y < as!i * bs!i powr x\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n  x < y\n  i < k\n  0 < as ! i\n\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr y < as ! i * bs ! i powr x", "by (intro mult_strict_left_mono powr_less_mono') auto"], ["proof (state)\nthis:\n  as ! i * bs ! i powr y < as ! i * bs ! i powr x\n\ngoal (3 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x\n 3. \\<exists>a\\<in>{..<k}. as ! a * bs ! a powr y < as ! a * bs ! a powr x", "with \\<open>i < k\\<close>"], ["proof (chain)\npicking this:\n  i < k\n  as ! i * bs ! i powr y < as ! i * bs ! i powr x", "show \"\\<exists>i\\<in>{..<k}. as!i * bs!i powr y < as!i * bs!i powr x\""], ["proof (prove)\nusing this:\n  i < k\n  as ! i * bs ! i powr y < as ! i * bs ! i powr x\n\ngoal (1 subgoal):\n 1. \\<exists>i\\<in>{..<k}. as ! i * bs ! i powr y < as ! i * bs ! i powr x", "by blast"], ["proof (state)\nthis:\n  \\<exists>i\\<in>{..<k}. as ! i * bs ! i powr y < as ! i * bs ! i powr x\n\ngoal (2 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x", "fix i"], ["proof (state)\ngoal (2 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x", "assume \"i \\<in> {..<k}\""], ["proof (state)\nthis:\n  i \\<in> {..<k}\n\ngoal (2 subgoals):\n 1. finite {..<k}\n 2. \\<And>xa.\n       xa \\<in> {..<k} \\<Longrightarrow>\n       as ! xa * bs ! xa powr y \\<le> as ! xa * bs ! xa powr x", "with a_ge_0 b_bounds[of \"bs!i\"] \\<open>x < y\\<close>"], ["proof (chain)\npicking this:\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  bs ! i \\<in> set bs \\<Longrightarrow> bs ! i \\<in> {0<..<1}\n  x < y\n  i \\<in> {..<k}", "show \"as!i * bs!i powr y \\<le> as!i * bs!i powr x\""], ["proof (prove)\nusing this:\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  bs ! i \\<in> set bs \\<Longrightarrow> bs ! i \\<in> {0<..<1}\n  x < y\n  i \\<in> {..<k}\n\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr y \\<le> as ! i * bs ! i powr x", "by (intro mult_left_mono powr_mono') simp_all"], ["proof (state)\nthis:\n  as ! i * bs ! i powr y \\<le> as ! i * bs ! i powr x\n\ngoal (1 subgoal):\n 1. finite {..<k}", "qed simp_all"], ["", "lemma akra_bazzi_p_mono:\n  assumes \"x \\<le> y\"\n  shows \"(\\<Sum>i<k. as!i * bs!i powr y) \\<le> (\\<Sum>i<k. as!i * bs!i powr x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr y)\n    \\<le> (\\<Sum>i<k. as ! i * bs ! i powr x)", "apply (cases \"x < y\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. x < y \\<Longrightarrow>\n    (\\<Sum>i<k. as ! i * bs ! i powr y)\n    \\<le> (\\<Sum>i<k. as ! i * bs ! i powr x)\n 2. \\<not> x < y \\<Longrightarrow>\n    (\\<Sum>i<k. as ! i * bs ! i powr y)\n    \\<le> (\\<Sum>i<k. as ! i * bs ! i powr x)", "using akra_bazzi_p_strict_mono[of x y] assms"], ["proof (prove)\nusing this:\n  x < y \\<Longrightarrow>\n  (\\<Sum>i<k. as ! i * bs ! i powr y) < (\\<Sum>i<k. as ! i * bs ! i powr x)\n  x \\<le> y\n\ngoal (2 subgoals):\n 1. x < y \\<Longrightarrow>\n    (\\<Sum>i<k. as ! i * bs ! i powr y)\n    \\<le> (\\<Sum>i<k. as ! i * bs ! i powr x)\n 2. \\<not> x < y \\<Longrightarrow>\n    (\\<Sum>i<k. as ! i * bs ! i powr y)\n    \\<le> (\\<Sum>i<k. as ! i * bs ! i powr x)", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma akra_bazzi_p_unique:\n  \"\\<exists>!p. (\\<Sum>i<k. as!i * bs!i powr p) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>!p. (\\<Sum>i<k. as ! i * bs ! i powr p) = 1", "proof (rule strict_mono_imp_ex1_real)"], ["proof (state)\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "from as_nonempty"], ["proof (chain)\npicking this:\n  as \\<noteq> []", "have [simp]: \"k > 0\""], ["proof (prove)\nusing this:\n  as \\<noteq> []\n\ngoal (1 subgoal):\n 1. 0 < k", "by (auto simp: length_as[symmetric])"], ["proof (state)\nthis:\n  0 < k\n\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "have [simp]: \"\\<And>i. i < k \\<Longrightarrow> as!i \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i < k \\<Longrightarrow> 0 \\<le> as ! i", "by (rule a_ge_0) simp"], ["proof (state)\nthis:\n  ?i < k \\<Longrightarrow> 0 \\<le> as ! ?i\n\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "from ex_a_pos"], ["proof (chain)\npicking this:\n  \\<exists>a\\<in>set as. 0 < a", "obtain a where \"a \\<in> set as\" \"a > 0\""], ["proof (prove)\nusing this:\n  \\<exists>a\\<in>set as. 0 < a\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> set as; 0 < a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> set as\n  0 < a\n\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "then"], ["proof (chain)\npicking this:\n  a \\<in> set as\n  0 < a", "obtain i where i: \"i < k\" \"as!i > 0\""], ["proof (prove)\nusing this:\n  a \\<in> set as\n  0 < a\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < k; 0 < as ! i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (force simp: in_set_conv_nth length_as)"], ["proof (state)\nthis:\n  i < k\n  0 < as ! i\n\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "hence \"LIM p at_bot. as!i * bs!i powr p :> at_top\""], ["proof (prove)\nusing this:\n  i < k\n  0 < as ! i\n\ngoal (1 subgoal):\n 1. LIM p at_bot. as ! i * bs ! i powr p :> at_top", "using b_bounds i"], ["proof (prove)\nusing this:\n  i < k\n  0 < as ! i\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n  i < k\n  0 < as ! i\n\ngoal (1 subgoal):\n 1. LIM p at_bot. as ! i * bs ! i powr p :> at_top", "by (intro filterlim_tendsto_pos_mult_at_top[OF tendsto_const] real_powr_at_bot_neg) simp_all"], ["proof (state)\nthis:\n  LIM p at_bot. as ! i * bs ! i powr p :> at_top\n\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "moreover"], ["proof (state)\nthis:\n  LIM p at_bot. as ! i * bs ! i powr p :> at_top\n\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "have \"\\<forall>p. as!i*bs!i powr p \\<le> (\\<Sum>i\\<in>{..<k}. as ! i * bs ! i powr p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "fix p :: real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "from a_ge_0 b_bounds"], ["proof (chain)\npicking this:\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}", "have \"(\\<Sum>i\\<in>{..<k}-{i}. as ! i * bs ! i powr p) \\<ge> 0\""], ["proof (prove)\nusing this:\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>i\\<in>{..<k} - {i}. as ! i * bs ! i powr p)", "by (intro sum_nonneg mult_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>i\\<in>{..<k} - {i}. as ! i * bs ! i powr p)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "also"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>i\\<in>{..<k} - {i}. as ! i * bs ! i powr p)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "have \"as!i * bs!i powr p + ... = (\\<Sum>i\\<in>insert i {..<k}. as ! i * bs ! i powr p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr p +\n    (\\<Sum>i\\<in>{..<k} - {i}. as ! i * bs ! i powr p) =\n    (\\<Sum>i\\<in>insert i {..<k}. as ! i * bs ! i powr p)", "by (simp add: sum.insert_remove)"], ["proof (state)\nthis:\n  as ! i * bs ! i powr p +\n  (\\<Sum>i\\<in>{..<k} - {i}. as ! i * bs ! i powr p) =\n  (\\<Sum>i\\<in>insert i {..<k}. as ! i * bs ! i powr p)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "also"], ["proof (state)\nthis:\n  as ! i * bs ! i powr p +\n  (\\<Sum>i\\<in>{..<k} - {i}. as ! i * bs ! i powr p) =\n  (\\<Sum>i\\<in>insert i {..<k}. as ! i * bs ! i powr p)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "from i"], ["proof (chain)\npicking this:\n  i < k\n  0 < as ! i", "have \"insert i {..<k} = {..<k}\""], ["proof (prove)\nusing this:\n  i < k\n  0 < as ! i\n\ngoal (1 subgoal):\n 1. insert i {..<k} = {..<k}", "by blast"], ["proof (state)\nthis:\n  insert i {..<k} = {..<k}\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      as ! i * bs ! i powr p + x\n      \\<le> as ! i * bs ! i powr p + y) \\<Longrightarrow>\n  as ! i * bs ! i powr p + 0 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "show \"as!i*bs!i powr p \\<le> (\\<Sum>i\\<in>{..<k}. as ! i * bs ! i powr p)\""], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      as ! i * bs ! i powr p + x\n      \\<le> as ! i * bs ! i powr p + y) \\<Longrightarrow>\n  as ! i * bs ! i powr p + 0 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)\n\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "by simp"], ["proof (state)\nthis:\n  as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>p.\n     as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)\n\ngoal (5 subgoals):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n 2. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 3. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 4. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 5. ?z < 1", "ultimately"], ["proof (chain)\npicking this:\n  LIM p at_bot. as ! i * bs ! i powr p :> at_top\n  \\<forall>p.\n     as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)", "show \"LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\""], ["proof (prove)\nusing this:\n  LIM p at_bot. as ! i * bs ! i powr p :> at_top\n  \\<forall>p.\n     as ! i * bs ! i powr p \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p)\n\ngoal (1 subgoal):\n 1. LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top", "by (rule filterlim_at_top_mono[OF _ always_eventually])"], ["proof (state)\nthis:\n  LIM p at_bot. \\<Sum>i<k. as ! i * bs ! i powr p :> at_top\n\ngoal (4 subgoals):\n 1. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 2. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 3. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 4. ?z < 1", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     ?z)\n     at_top\n 2. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 3. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 4. ?z < 1", "from b_bounds"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}", "show \"((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow> (\\<Sum>i<k. 0)) at_top\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n     (\\<Sum>i<k. 0))\n     at_top", "by (intro tendsto_sum tendsto_mult_right_zero real_powr_at_top_neg) simp_all"], ["proof (state)\nthis:\n  ((\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) \\<longlongrightarrow>\n   (\\<Sum>i<k. 0))\n   at_top\n\ngoal (3 subgoals):\n 1. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 2. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 3. (\\<Sum>i<k. 0) < 1", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 2. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 3. (\\<Sum>i<k. 0) < 1", "fix x"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 2. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 3. (\\<Sum>i<k. 0) < 1", "from b_bounds"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}", "have A: \"\\<And>i. i < k \\<Longrightarrow> bs ! i > 0\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. \\<And>i. i < k \\<Longrightarrow> 0 < bs ! i", "by simp"], ["proof (state)\nthis:\n  ?i < k \\<Longrightarrow> 0 < bs ! ?i\n\ngoal (3 subgoals):\n 1. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 2. \\<And>p. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) p\n 3. (\\<Sum>i<k. 0) < 1", "show \"isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) x", "using b_bounds[OF nth_mem]"], ["proof (prove)\nusing this:\n  ?n1 < length bs \\<Longrightarrow> bs ! ?n1 \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) x", "by (intro continuous_intros) (auto dest: A)"], ["proof (state)\nthis:\n  isCont (\\<lambda>x. \\<Sum>i<k. as ! i * bs ! i powr x) x\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       a < b \\<Longrightarrow>\n       (\\<Sum>i<k. as ! i * bs ! i powr b)\n       < (\\<Sum>i<k. as ! i * bs ! i powr a)\n 2. (\\<Sum>i<k. 0) < 1", "qed (simp_all add: akra_bazzi_p_strict_mono)"], ["", "lemma p_props:  \"(\\<Sum>i<k. as!i * bs!i powr p) = 1\"\n  and p_unique: \"(\\<Sum>i<k. as!i * bs!i powr p') = 1 \\<Longrightarrow> p = p'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr p) = 1 &&&\n    ((\\<Sum>i<k. as ! i * bs ! i powr p') = 1 \\<Longrightarrow> p = p')", "proof-"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr p) = 1\n 2. (\\<Sum>i<k. as ! i * bs ! i powr p') = 1 \\<Longrightarrow> p = p'", "from theI'[OF akra_bazzi_p_unique] the1_equality[OF akra_bazzi_p_unique]"], ["proof (chain)\npicking this:\n  (\\<Sum>i<k.\n      as ! i *\n      bs ! i powr (THE x. (\\<Sum>i<k. as ! i * bs ! i powr x) = 1)) =\n  1\n  (\\<Sum>i<k. as ! i * bs ! i powr ?a) = 1 \\<Longrightarrow>\n  (THE x. (\\<Sum>i<k. as ! i * bs ! i powr x) = 1) = ?a", "show \"(\\<Sum>i<k. as!i * bs!i powr p) = 1\" \"(\\<Sum>i<k. as!i * bs!i powr p') = 1 \\<Longrightarrow> p = p'\""], ["proof (prove)\nusing this:\n  (\\<Sum>i<k.\n      as ! i *\n      bs ! i powr (THE x. (\\<Sum>i<k. as ! i * bs ! i powr x) = 1)) =\n  1\n  (\\<Sum>i<k. as ! i * bs ! i powr ?a) = 1 \\<Longrightarrow>\n  (THE x. (\\<Sum>i<k. as ! i * bs ! i powr x) = 1) = ?a\n\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr p) = 1 &&&\n    ((\\<Sum>i<k. as ! i * bs ! i powr p') = 1 \\<Longrightarrow> p = p')", "unfolding p_def"], ["proof (prove)\nusing this:\n  (\\<Sum>i<k.\n      as ! i *\n      bs ! i powr (THE x. (\\<Sum>i<k. as ! i * bs ! i powr x) = 1)) =\n  1\n  (\\<Sum>i<k. as ! i * bs ! i powr ?a) = 1 \\<Longrightarrow>\n  (THE x. (\\<Sum>i<k. as ! i * bs ! i powr x) = 1) = ?a\n\ngoal (1 subgoal):\n 1. (\\<Sum>i<k.\n        as ! i *\n        bs ! i powr (THE p. (\\<Sum>i<k. as ! i * bs ! i powr p) = 1)) =\n    1 &&&\n    ((\\<Sum>i<k. as ! i * bs ! i powr p') = 1 \\<Longrightarrow>\n     (THE p. (\\<Sum>i<k. as ! i * bs ! i powr p) = 1) = p')", "by - blast+"], ["proof (state)\nthis:\n  (\\<Sum>i<k. as ! i * bs ! i powr p) = 1\n  (\\<Sum>i<k. as ! i * bs ! i powr p') = 1 \\<Longrightarrow> p = p'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma p_greaterI: \"1 < (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' < p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < (\\<Sum>i<k. as ! i * bs ! i powr p') \\<Longrightarrow> p' < p", "by (rule disjE[OF le_less_linear, of p p'], drule akra_bazzi_p_mono, subst (asm) p_props, simp_all)"], ["", "lemma p_lessI: \"1 > (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' > p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr p') < 1 \\<Longrightarrow> p < p'", "by (rule disjE[OF le_less_linear, of p' p], drule akra_bazzi_p_mono, subst (asm) p_props, simp_all)"], ["", "lemma p_geI: \"1 \\<le> (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' \\<le> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr p') \\<Longrightarrow>\n    p' \\<le> p", "by (rule disjE[OF le_less_linear, of p' p], simp, drule akra_bazzi_p_strict_mono,\n      subst (asm) p_props, simp_all)"], ["", "lemma p_leI: \"1 \\<ge> (\\<Sum>i<k. as!i * bs!i powr p') \\<Longrightarrow> p' \\<ge> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr p') \\<le> 1 \\<Longrightarrow>\n    p \\<le> p'", "by (rule disjE[OF le_less_linear, of p p'], simp, drule akra_bazzi_p_strict_mono,\n      subst (asm) p_props, simp_all)"], ["", "lemma p_boundsI: \"(\\<Sum>i<k. as!i * bs!i powr x) \\<le> 1 \\<and> (\\<Sum>i<k. as!i * bs!i powr y) \\<ge> 1 \\<Longrightarrow> p \\<in> {y..x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr x) \\<le> 1 \\<and>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr y) \\<Longrightarrow>\n    p \\<in> {y..x}", "by (elim conjE, drule p_leI, drule p_geI, simp)"], ["", "lemma p_boundsI': \"(\\<Sum>i<k. as!i * bs!i powr x) < 1 \\<and> (\\<Sum>i<k. as!i * bs!i powr y) > 1 \\<Longrightarrow> p \\<in> {y<..<x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * bs ! i powr x) < 1 \\<and>\n    1 < (\\<Sum>i<k. as ! i * bs ! i powr y) \\<Longrightarrow>\n    p \\<in> {y<..<x}", "by (elim conjE, drule p_lessI, drule p_greaterI, simp)"], ["", "lemma p_nonneg: \"sum_list as \\<ge> 1 \\<Longrightarrow> p \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow> 0 \\<le> p", "proof (rule p_geI)"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "assume \"sum_list as \\<ge> 1\""], ["proof (state)\nthis:\n  1 \\<le> sum_list as\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "also"], ["proof (state)\nthis:\n  1 \\<le> sum_list as\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "have \"... = (\\<Sum>i<k. as!i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum_list as = sum ((!) as) {..<k}", "by (simp add: sum_list_sum_nth length_as atLeast0LessThan)"], ["proof (state)\nthis:\n  sum_list as = sum ((!) as) {..<k}\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "also"], ["proof (state)\nthis:\n  sum_list as = sum ((!) as) {..<k}\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "{"], ["proof (state)\nthis:\n  sum_list as = sum ((!) as) {..<k}\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "assume \"i < k\""], ["proof (state)\nthis:\n  i < k\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "with b_bounds"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n  i < k", "have \"bs!i > 0\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n  i < k\n\ngoal (1 subgoal):\n 1. 0 < bs ! i", "by simp"], ["proof (state)\nthis:\n  0 < bs ! i\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "hence \"as!i * bs!i powr 0 = as!i\""], ["proof (prove)\nusing this:\n  0 < bs ! i\n\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr 0 = as ! i", "by simp"], ["proof (state)\nthis:\n  as ! i * bs ! i powr 0 = as ! i\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "}"], ["proof (state)\nthis:\n  ?i2 < k \\<Longrightarrow> as ! ?i2 * bs ! ?i2 powr 0 = as ! ?i2\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "hence \"(\\<Sum>i<k. as!i) = (\\<Sum>i<k. as!i * bs!i powr 0)\""], ["proof (prove)\nusing this:\n  ?i2 < k \\<Longrightarrow> as ! ?i2 * bs ! ?i2 powr 0 = as ! ?i2\n\ngoal (1 subgoal):\n 1. sum ((!) as) {..<k} = (\\<Sum>i<k. as ! i * bs ! i powr 0)", "by (intro sum.cong) simp_all"], ["proof (state)\nthis:\n  sum ((!) as) {..<k} = (\\<Sum>i<k. as ! i * bs ! i powr 0)\n\ngoal (1 subgoal):\n 1. 1 \\<le> sum_list as \\<Longrightarrow>\n    1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "finally"], ["proof (chain)\npicking this:\n  1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "show \"1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)\""], ["proof (prove)\nusing this:\n  1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)\n\ngoal (1 subgoal):\n 1. 1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)", "."], ["proof (state)\nthis:\n  1 \\<le> (\\<Sum>i<k. as ! i * bs ! i powr 0)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale akra_bazzi_real_recursion =\n  fixes as bs :: \"real list\" and hs :: \"(real \\<Rightarrow> real) list\" and k :: nat and x\\<^sub>0 x\\<^sub>1 hb e p :: real\n  assumes length_as: \"length as = k\"\n  and     length_bs: \"length bs = k\"\n  and     length_hs: \"length hs = k\"\n  and     k_not_0:   \"k \\<noteq> 0\"\n  and     a_ge_0:    \"a \\<in> set as \\<Longrightarrow> a \\<ge> 0\"\n  and     b_bounds:  \"b \\<in> set bs \\<Longrightarrow> b \\<in> {0<..<1}\"\n\n  (* The recursively-defined function *)\n  and     x0_ge_1:      \"x\\<^sub>0 \\<ge> 1\"\n  and     x0_le_x1:     \"x\\<^sub>0 \\<le> x\\<^sub>1\"\n  and     x1_ge:        \"b \\<in> set bs \\<Longrightarrow> x\\<^sub>1 \\<ge> 2 * x\\<^sub>0 * inverse b\"\n  (* Bounds on the variation functions *)\n  and     e_pos:        \"e > 0\"\n  and     h_bounds:     \"x \\<ge> x\\<^sub>1 \\<Longrightarrow> h \\<in> set hs \\<Longrightarrow> \\<bar>h x\\<bar> \\<le> hb * x / ln x powr (1 + e)\"\n  (* Asymptotic inequalities *)\n  and     asymptotics:  \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> b \\<in> set bs \\<Longrightarrow> akra_bazzi_asymptotics b hb e p x\"\nbegin"], ["", "sublocale akra_bazzi_params k as bs"], ["proof (prove)\ngoal (1 subgoal):\n 1. akra_bazzi_params k as bs", "using length_as length_bs k_not_0 a_ge_0 b_bounds"], ["proof (prove)\nusing this:\n  length as = k\n  length bs = k\n  k \\<noteq> 0\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  ?b \\<in> set bs \\<Longrightarrow> ?b \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. akra_bazzi_params k as bs", "by unfold_locales"], ["", "lemma h_in_hs[intro, simp]: \"i < k \\<Longrightarrow> hs ! i \\<in> set hs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < k \\<Longrightarrow> hs ! i \\<in> set hs", "by (rule nth_mem) (simp add: length_hs)"], ["", "lemma x1_gt_1: \"x\\<^sub>1 > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < x\\<^sub>1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < x\\<^sub>1", "from bs_nonempty"], ["proof (chain)\npicking this:\n  bs \\<noteq> []", "obtain b where \"b \\<in> set bs\""], ["proof (prove)\nusing this:\n  bs \\<noteq> []\n\ngoal (1 subgoal):\n 1. (\\<And>b. b \\<in> set bs \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases bs) auto"], ["proof (state)\nthis:\n  b \\<in> set bs\n\ngoal (1 subgoal):\n 1. 1 < x\\<^sub>1", "from b_pos[OF this] b_less_1[OF this] x0_ge_1"], ["proof (chain)\npicking this:\n  0 < b\n  b < 1\n  1 \\<le> x\\<^sub>0", "have \"1 < 2 * x\\<^sub>0 * inverse b\""], ["proof (prove)\nusing this:\n  0 < b\n  b < 1\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 1 < 2 * x\\<^sub>0 * inverse b", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  1 < 2 * x\\<^sub>0 * inverse b\n\ngoal (1 subgoal):\n 1. 1 < x\\<^sub>1", "also"], ["proof (state)\nthis:\n  1 < 2 * x\\<^sub>0 * inverse b\n\ngoal (1 subgoal):\n 1. 1 < x\\<^sub>1", "from x1_ge and \\<open>b \\<in> set bs\\<close>"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow>\n  2 * x\\<^sub>0 * inverse ?b \\<le> x\\<^sub>1\n  b \\<in> set bs", "have \"... \\<le> x\\<^sub>1\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow>\n  2 * x\\<^sub>0 * inverse ?b \\<le> x\\<^sub>1\n  b \\<in> set bs\n\ngoal (1 subgoal):\n 1. 2 * x\\<^sub>0 * inverse b \\<le> x\\<^sub>1", "by simp"], ["proof (state)\nthis:\n  2 * x\\<^sub>0 * inverse b \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 1 < x\\<^sub>1", "finally"], ["proof (chain)\npicking this:\n  1 < x\\<^sub>1", "show ?thesis"], ["proof (prove)\nusing this:\n  1 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 1 < x\\<^sub>1", "."], ["proof (state)\nthis:\n  1 < x\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x1_ge_1: \"x\\<^sub>1 \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> x\\<^sub>1", "using x1_gt_1"], ["proof (prove)\nusing this:\n  1 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 1 \\<le> x\\<^sub>1", "by simp"], ["", "lemma x1_pos: \"x\\<^sub>1 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < x\\<^sub>1", "using x1_ge_1"], ["proof (prove)\nusing this:\n  1 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 < x\\<^sub>1", "by simp"], ["", "lemma bx_le_x: \"x \\<ge> 0 \\<Longrightarrow> b \\<in> set bs \\<Longrightarrow>  b * x \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 \\<le> x; b \\<in> set bs\\<rbrakk>\n    \\<Longrightarrow> b * x \\<le> x", "using b_pos[of b] b_less_1[of b]"], ["proof (prove)\nusing this:\n  b \\<in> set bs \\<Longrightarrow> 0 < b\n  b \\<in> set bs \\<Longrightarrow> b < 1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>0 \\<le> x; b \\<in> set bs\\<rbrakk>\n    \\<Longrightarrow> b * x \\<le> x", "by (intro mult_left_le_one_le) (simp_all)"], ["", "lemma x0_pos: \"x\\<^sub>0 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < x\\<^sub>0", "using x0_ge_1"], ["proof (prove)\nusing this:\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0 < x\\<^sub>0", "by simp"], ["", "lemma\n  assumes \"x \\<ge> x\\<^sub>0\" \"b \\<in> set bs\"\n  shows x0_hb_bound0: \"hb / ln x powr (1 + e) < b/2\"\n  and   x0_hb_bound1: \"hb / ln x powr (1 + e) < (1 - b) / 2\"\n  and   x0_hb_bound2: \"x*(1 - b - hb / ln x powr (1 + e)) > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < b / 2 &&&\n    hb / ln x powr (1 + e) < (1 - b) / 2 &&&\n    1 < x * (1 - b - hb / ln x powr (1 + e))", "using asymptotics[OF assms]"], ["proof (prove)\nusing this:\n  akra_bazzi_asymptotics b hb e p x\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < b / 2 &&&\n    hb / ln x powr (1 + e) < (1 - b) / 2 &&&\n    1 < x * (1 - b - hb / ln x powr (1 + e))", "unfolding akra_bazzi_asymptotic_defs"], ["proof (prove)\nusing this:\n  1 + ln x powr (- e / 2)\n  \\<le> (1 - hb * inverse b * ln x powr - (1 + e)) powr p *\n        (1 + ln (b * x + hb * x / ln x powr (1 + e)) powr (- e / 2)) \\<and>\n  1 + ln x powr (- e / 2)\n  \\<le> (1 + hb * inverse b * ln x powr - (1 + e)) powr p *\n        (1 + ln (b * x + hb * x / ln x powr (1 + e)) powr (- e / 2)) \\<and>\n  (1 + hb * inverse b * ln x powr - (1 + e)) powr p *\n  (1 - ln (b * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n  \\<le> 1 - ln x powr (- e / 2) \\<and>\n  (1 - hb * inverse b * ln x powr - (1 + e)) powr p *\n  (1 - ln (b * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n  \\<le> 1 - ln x powr (- e / 2) \\<and>\n  (1 + ln x powr (- e / 2)) / 2 \\<le> 1 \\<and>\n  1 \\<le> (1 - ln x powr (- e / 2)) * 2 \\<and>\n  ln (b * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1 \\<and>\n  hb / ln x powr (1 + e) < b / 2 \\<and>\n  hb / ln x powr (1 + e) < (1 - b) / 2 \\<and>\n  1 < x * (1 - b - hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < b / 2 &&&\n    hb / ln x powr (1 + e) < (1 - b) / 2 &&&\n    1 < x * (1 - b - hb / ln x powr (1 + e))", "by blast+"], ["", "lemma step_diff:\n  assumes \"i < k\" \"x \\<ge> x\\<^sub>1\"\n  shows   \"bs ! i * x + (hs ! i) x + 1 < x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "have \"bs ! i * x + (hs ! i) x + 1 \\<le> bs ! i * x + \\<bar>(hs ! i) x\\<bar> + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1\n    \\<le> bs ! i * x + \\<bar>(hs ! i) x\\<bar> + 1", "by simp"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x + 1 \\<le> bs ! i * x + \\<bar>(hs ! i) x\\<bar> + 1\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "also"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x + 1 \\<le> bs ! i * x + \\<bar>(hs ! i) x\\<bar> + 1\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "from assms"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x", "have \"\\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)", "by (simp add: h_bounds)"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "also"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"x*(1 - bs ! i - hb / ln x powr (1 + e)) > 1\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 1 < x * (1 - bs ! i - hb / ln x powr (1 + e))", "by (simp add: x0_hb_bound2)"], ["proof (state)\nthis:\n  1 < x * (1 - bs ! i - hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "hence \"bs ! i * x + hb * x / ln x powr (1 + e) + 1 < x\""], ["proof (prove)\nusing this:\n  1 < x * (1 - bs ! i - hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. bs ! i * x + hb * x / ln x powr (1 + e) + 1 < x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  bs ! i * x + hb * x / ln x powr (1 + e) + 1 < x\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "finally"], ["proof (chain)\npicking this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      bs ! i * x + xa + 1 \\<le> bs ! i * x + y + 1) \\<Longrightarrow>\n  bs ! i * x + (hs ! i) x + 1 < x", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      bs ! i * x + xa + 1 \\<le> bs ! i * x + y + 1) \\<Longrightarrow>\n  bs ! i * x + (hs ! i) x + 1 < x\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "by simp"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x + 1 < x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma step_le_x: \"i < k \\<Longrightarrow> x \\<ge> x\\<^sub>1 \\<Longrightarrow> bs ! i * x + (hs ! i) x \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < k; x\\<^sub>1 \\<le> x\\<rbrakk>\n    \\<Longrightarrow> bs ! i * x + (hs ! i) x \\<le> x", "by (drule (1) step_diff) simp"], ["", "lemma x0_hb_bound0': \"\\<And>x b. x \\<ge> x\\<^sub>0 \\<Longrightarrow> b \\<in> set bs \\<Longrightarrow> hb / ln x powr (1 + e) < b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x b.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; b \\<in> set bs\\<rbrakk>\n       \\<Longrightarrow> hb / ln x powr (1 + e) < b", "by (drule (1) x0_hb_bound0, erule less_le_trans) (simp add: b_pos)"], ["", "lemma step_pos:\n  assumes \"i < k\" \"x \\<ge> x\\<^sub>1\"\n  shows   \"bs ! i * x + (hs ! i) x > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"hb / ln x powr (1 + e) < bs ! i\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < bs ! i", "by (simp add: x0_hb_bound0')"], ["proof (state)\nthis:\n  hb / ln x powr (1 + e) < bs ! i\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "with assms x0_pos x0_le_x1"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  hb / ln x powr (1 + e) < bs ! i", "have \"x * 0 < x * (bs ! i - hb / ln x powr (1 + e))\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  hb / ln x powr (1 + e) < bs ! i\n\ngoal (1 subgoal):\n 1. x * 0 < x * (bs ! i - hb / ln x powr (1 + e))", "by simp"], ["proof (state)\nthis:\n  x * 0 < x * (bs ! i - hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  x * 0 < x * (bs ! i - hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "have \"... = bs ! i * x - hb * x / ln x powr (1 + e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * (bs ! i - hb / ln x powr (1 + e)) =\n    bs ! i * x - hb * x / ln x powr (1 + e)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  x * (bs ! i - hb / ln x powr (1 + e)) =\n  bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  x * (bs ! i - hb / ln x powr (1 + e)) =\n  bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "from assms"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x", "have \"-hb * x / ln x powr (1 + e) \\<le> -\\<bar>(hs ! i) x\\<bar>\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. - hb * x / ln x powr (1 + e) \\<le> - \\<bar>(hs ! i) x\\<bar>", "by (simp add: h_bounds)"], ["proof (state)\nthis:\n  - hb * x / ln x powr (1 + e) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "hence \"bs ! i * x - hb * x / ln x powr (1 + e) \\<le> bs ! i * x + -\\<bar>(hs ! i) x\\<bar>\""], ["proof (prove)\nusing this:\n  - hb * x / ln x powr (1 + e) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. bs ! i * x - hb * x / ln x powr (1 + e)\n    \\<le> bs ! i * x + - \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  bs ! i * x - hb * x / ln x powr (1 + e)\n  \\<le> bs ! i * x + - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  bs ! i * x - hb * x / ln x powr (1 + e)\n  \\<le> bs ! i * x + - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "have \"-\\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "finally"], ["proof (chain)\npicking this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      bs ! i * x + xa \\<le> bs ! i * x + y) \\<Longrightarrow>\n  x * 0 < bs ! i * x + (hs ! i) x", "show \"bs ! i * x + (hs ! i) x > 0\""], ["proof (prove)\nusing this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      bs ! i * x + xa \\<le> bs ! i * x + y) \\<Longrightarrow>\n  x * 0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  0 < bs ! i * x + (hs ! i) x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma step_nonneg: \"i < k \\<Longrightarrow> x \\<ge> x\\<^sub>1 \\<Longrightarrow> bs ! i * x + (hs ! i) x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < k; x\\<^sub>1 \\<le> x\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> bs ! i * x + (hs ! i) x", "by (drule (1) step_pos) simp"], ["", "lemma step_nonneg': \"i < k \\<Longrightarrow> x \\<ge> x\\<^sub>1 \\<Longrightarrow> bs ! i + (hs ! i) x / x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < k; x\\<^sub>1 \\<le> x\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> bs ! i + (hs ! i) x / x", "by (frule (1) step_nonneg, insert x0_pos x0_le_x1) (simp_all add: field_simps)"], ["", "lemma hb_nonneg: \"hb \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "from k_not_0 and length_hs"], ["proof (chain)\npicking this:\n  k \\<noteq> 0\n  length hs = k", "have \"hs \\<noteq> []\""], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n  length hs = k\n\ngoal (1 subgoal):\n 1. hs \\<noteq> []", "by auto"], ["proof (state)\nthis:\n  hs \\<noteq> []\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "then"], ["proof (chain)\npicking this:\n  hs \\<noteq> []", "obtain h where h: \"h \\<in> set hs\""], ["proof (prove)\nusing this:\n  hs \\<noteq> []\n\ngoal (1 subgoal):\n 1. (\\<And>h. h \\<in> set hs \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases hs) auto"], ["proof (state)\nthis:\n  h \\<in> set hs\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "have \"0 \\<le> \\<bar>h x\\<^sub>1\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> \\<bar>h x\\<^sub>1\\<bar>", "by simp"], ["proof (state)\nthis:\n  0 \\<le> \\<bar>h x\\<^sub>1\\<bar>\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "also"], ["proof (state)\nthis:\n  0 \\<le> \\<bar>h x\\<^sub>1\\<bar>\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "from h"], ["proof (chain)\npicking this:\n  h \\<in> set hs", "have \"\\<bar>h x\\<^sub>1\\<bar> \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1+e)\""], ["proof (prove)\nusing this:\n  h \\<in> set hs\n\ngoal (1 subgoal):\n 1. \\<bar>h x\\<^sub>1\\<bar> \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)", "by (intro h_bounds) simp_all"], ["proof (state)\nthis:\n  \\<bar>h x\\<^sub>1\\<bar> \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "finally"], ["proof (chain)\npicking this:\n  0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)", "have \"0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)\""], ["proof (prove)\nusing this:\n  0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)", "."], ["proof (state)\nthis:\n  0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "hence \"0 \\<le> ... * (ln x\\<^sub>1 powr (1 + e) / x\\<^sub>1)\""], ["proof (prove)\nusing this:\n  0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e)\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e) *\n            (ln x\\<^sub>1 powr (1 + e) / x\\<^sub>1)", "by (rule mult_nonneg_nonneg) (intro divide_nonneg_nonneg, insert x1_pos, simp_all)"], ["proof (state)\nthis:\n  0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e) *\n          (ln x\\<^sub>1 powr (1 + e) / x\\<^sub>1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "also"], ["proof (state)\nthis:\n  0 \\<le> hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e) *\n          (ln x\\<^sub>1 powr (1 + e) / x\\<^sub>1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "have \"... = hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e) *\n    (ln x\\<^sub>1 powr (1 + e) / x\\<^sub>1) =\n    hb", "using x1_gt_1"], ["proof (prove)\nusing this:\n  1 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e) *\n    (ln x\\<^sub>1 powr (1 + e) / x\\<^sub>1) =\n    hb", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  hb * x\\<^sub>1 / ln x\\<^sub>1 powr (1 + e) *\n  (ln x\\<^sub>1 powr (1 + e) / x\\<^sub>1) =\n  hb\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "finally"], ["proof (chain)\npicking this:\n  0 \\<le> hb", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> hb\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb", "."], ["proof (state)\nthis:\n  0 \\<le> hb\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x0_hb_bound3:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"x - (bs ! i * x + (hs ! i) x) \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "have \"-(hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  - (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "also"], ["proof (state)\nthis:\n  - (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"... \\<le> hb * x / ln x powr (1 + e)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)", "by (simp add: h_bounds)"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "also"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "have \"... = x * (hb / ln x powr (1 + e))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hb * x / ln x powr (1 + e) = x * (hb / ln x powr (1 + e))", "by simp"], ["proof (state)\nthis:\n  hb * x / ln x powr (1 + e) = x * (hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "also"], ["proof (state)\nthis:\n  hb * x / ln x powr (1 + e) = x * (hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "from assms x0_pos x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"... < x * bs ! i\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x * (hb / ln x powr (1 + e)) < x * bs ! i", "by (intro mult_strict_left_mono x0_hb_bound0') simp_all"], ["proof (state)\nthis:\n  x * (hb / ln x powr (1 + e)) < x * bs ! i\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "finally"], ["proof (chain)\npicking this:\n  - (hs ! i) x < x * bs ! i", "show ?thesis"], ["proof (prove)\nusing this:\n  - (hs ! i) x < x * bs ! i\n\ngoal (1 subgoal):\n 1. x - (bs ! i * x + (hs ! i) x) \\<le> x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  x - (bs ! i * x + (hs ! i) x) \\<le> x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x0_hb_bound4:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs ! i + (hs ! i) x / x) > bs ! i / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"hb / ln x powr (1 + e) < bs ! i / 2\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < bs ! i / 2", "by (intro x0_hb_bound0) simp_all"], ["proof (state)\nthis:\n  hb / ln x powr (1 + e) < bs ! i / 2\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "with assms x0_pos x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  hb / ln x powr (1 + e) < bs ! i / 2", "have \"(-bs ! i / 2) * x < (-hb / ln x powr (1 + e)) * x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  hb / ln x powr (1 + e) < bs ! i / 2\n\ngoal (1 subgoal):\n 1. - bs ! i / 2 * x < - hb / ln x powr (1 + e) * x", "by (intro mult_strict_right_mono) simp_all"], ["proof (state)\nthis:\n  - bs ! i / 2 * x < - hb / ln x powr (1 + e) * x\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "also"], ["proof (state)\nthis:\n  - bs ! i / 2 * x < - hb / ln x powr (1 + e) * x\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "from assms x0_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0", "have \"... \\<le> -\\<bar>(hs ! i) x\\<bar>\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. - hb / ln x powr (1 + e) * x \\<le> - \\<bar>(hs ! i) x\\<bar>", "using h_bounds"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?h \\<in> set hs\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?h ?x\\<bar> \\<le> hb * ?x / ln ?x powr (1 + e)\n\ngoal (1 subgoal):\n 1. - hb / ln x powr (1 + e) * x \\<le> - \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  - hb / ln x powr (1 + e) * x \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "also"], ["proof (state)\nthis:\n  - hb / ln x powr (1 + e) * x \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "have \"... \\<le> (hs ! i) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "finally"], ["proof (chain)\npicking this:\n  - bs ! i / 2 * x < (hs ! i) x", "show ?thesis"], ["proof (prove)\nusing this:\n  - bs ! i / 2 * x < (hs ! i) x\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "using assms x1_pos"], ["proof (prove)\nusing this:\n  - bs ! i / 2 * x < (hs ! i) x\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  bs ! i / 2 < bs ! i + (hs ! i) x / x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x0_hb_bound4': \"x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> (bs ! i + (hs ! i) x / x) \\<ge> bs ! i / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n    \\<Longrightarrow> bs ! i / 2 \\<le> bs ! i + (hs ! i) x / x", "by (drule (1) x0_hb_bound4) simp"], ["", "lemma x0_hb_bound5:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs ! i + (hs ! i) x / x) \\<le> bs ! i * 3/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "have \"(hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "also"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"... \\<le> hb * x / ln x powr (1 + e)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)", "by (simp add: h_bounds)"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "also"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "have \"... = x * (hb / ln x powr (1 + e))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hb * x / ln x powr (1 + e) = x * (hb / ln x powr (1 + e))", "by simp"], ["proof (state)\nthis:\n  hb * x / ln x powr (1 + e) = x * (hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "also"], ["proof (state)\nthis:\n  hb * x / ln x powr (1 + e) = x * (hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "from assms x0_pos x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"... < x * (bs ! i / 2)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x * (hb / ln x powr (1 + e)) < x * (bs ! i / 2)", "by (intro mult_strict_left_mono x0_hb_bound0) simp_all"], ["proof (state)\nthis:\n  x * (hb / ln x powr (1 + e)) < x * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "finally"], ["proof (chain)\npicking this:\n  (hs ! i) x < x * (bs ! i / 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  (hs ! i) x < x * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "using assms x1_pos"], ["proof (prove)\nusing this:\n  (hs ! i) x < x * (bs ! i / 2)\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  bs ! i + (hs ! i) x / x \\<le> bs ! i * 3 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x0_hb_bound6:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"hb / ln x powr (1 + e) < (1 - bs ! i) / 2\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < (1 - bs ! i) / 2", "using x0_hb_bound1"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?b \\<in> set bs\\<rbrakk>\n  \\<Longrightarrow> hb / ln ?x powr (1 + e) < (1 - ?b) / 2\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < (1 - bs ! i) / 2", "by simp"], ["proof (state)\nthis:\n  hb / ln x powr (1 + e) < (1 - bs ! i) / 2\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "with assms x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n  hb / ln x powr (1 + e) < (1 - bs ! i) / 2", "have \"x * ((1 - bs ! i) / 2) \\<le> x * (1 - (bs ! i + hb / ln x powr (1 + e)))\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n  hb / ln x powr (1 + e) < (1 - bs ! i) / 2\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x * (1 - (bs ! i + hb / ln x powr (1 + e)))", "by (intro mult_left_mono) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  x * ((1 - bs ! i) / 2) \\<le> x * (1 - (bs ! i + hb / ln x powr (1 + e)))\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  x * ((1 - bs ! i) / 2) \\<le> x * (1 - (bs ! i + hb / ln x powr (1 + e)))\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "have \"... = x - bs ! i * x + -hb * x / ln x powr (1 + e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * (1 - (bs ! i + hb / ln x powr (1 + e))) =\n    x - bs ! i * x + - hb * x / ln x powr (1 + e)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  x * (1 - (bs ! i + hb / ln x powr (1 + e))) =\n  x - bs ! i * x + - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  x * (1 - (bs ! i + hb / ln x powr (1 + e))) =\n  x - bs ! i * x + - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "from h_bounds assms"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?h \\<in> set hs\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?h ?x\\<bar> \\<le> hb * ?x / ln ?x powr (1 + e)\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"-hb * x / ln x powr (1 + e) \\<le> -\\<bar>(hs ! i) x\\<bar>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?h \\<in> set hs\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?h ?x\\<bar> \\<le> hb * ?x / ln ?x powr (1 + e)\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. - hb * x / ln x powr (1 + e) \\<le> - \\<bar>(hs ! i) x\\<bar>", "by (simp add: length_hs)"], ["proof (state)\nthis:\n  - hb * x / ln x powr (1 + e) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  - hb * x / ln x powr (1 + e) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "have \"... \\<le> -(hs ! i) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>(hs ! i) x\\<bar> \\<le> - (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  - \\<bar>(hs ! i) x\\<bar> \\<le> - (hs ! i) x\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>xa y.\n              xa \\<le> y \\<Longrightarrow>\n              x - bs ! i * x + xa \\<le> x - bs ! i * x + y;\n   \\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      x - bs ! i * x + xa \\<le> x - bs ! i * x + y\\<rbrakk>\n  \\<Longrightarrow> x * ((1 - bs ! i) / 2)\n                    \\<le> x - bs ! i * x + - (hs ! i) x", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>xa y.\n              xa \\<le> y \\<Longrightarrow>\n              x - bs ! i * x + xa \\<le> x - bs ! i * x + y;\n   \\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      x - bs ! i * x + xa \\<le> x - bs ! i * x + y\\<rbrakk>\n  \\<Longrightarrow> x * ((1 - bs ! i) / 2)\n                    \\<le> x - bs ! i * x + - (hs ! i) x\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  x * ((1 - bs ! i) / 2) \\<le> x - (bs ! i * x + (hs ! i) x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x0_hb_bound7:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"bs!i*x + (hs!i) x > x\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have x': \"x \\<ge> x\\<^sub>0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "from x1_ge assms"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow>\n  2 * x\\<^sub>0 * inverse ?b \\<le> x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"2 * x\\<^sub>0 * inverse (bs!i) \\<le> x\\<^sub>1\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow>\n  2 * x\\<^sub>0 * inverse ?b \\<le> x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. 2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1", "by simp"], ["proof (state)\nthis:\n  2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "with assms b_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1", "have \"x\\<^sub>0 \\<le> x\\<^sub>1 * (bs!i / 2)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x\\<^sub>1 * (bs ! i / 2)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\\<^sub>1 * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\\<^sub>1 * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "from assms x'"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x", "have \"bs!i/2 < bs!i + (hs!i) x / x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "by (intro x0_hb_bound4)"], ["proof (state)\nthis:\n  bs ! i / 2 < bs ! i + (hs ! i) x / x\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  bs ! i / 2 < bs ! i + (hs ! i) x / x\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "from assms step_nonneg' x'"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  \\<lbrakk>?i < k; x\\<^sub>1 \\<le> ?x\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> bs ! ?i + (hs ! ?i) ?x / ?x\n  x\\<^sub>0 \\<le> x", "have \"x\\<^sub>1 * ... \\<le> x * ...\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  \\<lbrakk>?i < k; x\\<^sub>1 \\<le> ?x\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> bs ! ?i + (hs ! ?i) ?x / ?x\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. x\\<^sub>1 * (bs ! i + (hs ! i) x / x)\n    \\<le> x * (bs ! i + (hs ! i) x / x)", "by (intro mult_right_mono) (simp_all)"], ["proof (state)\nthis:\n  x\\<^sub>1 * (bs ! i + (hs ! i) x / x) \\<le> x * (bs ! i + (hs ! i) x / x)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  x\\<^sub>1 * (bs ! i + (hs ! i) x / x) \\<le> x * (bs ! i + (hs ! i) x / x)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "from assms x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1", "have \"x * (bs!i + (hs!i) x / x) = bs!i*x + (hs!i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x * (bs ! i + (hs ! i) x / x) = bs ! i * x + (hs ! i) x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  x * (bs ! i + (hs ! i) x / x) = bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x < y \\<Longrightarrow>\n      x\\<^sub>1 * x < x\\<^sub>1 * y) \\<Longrightarrow>\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x < y \\<Longrightarrow>\n      x\\<^sub>1 * x < x\\<^sub>1 * y) \\<Longrightarrow>\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "using x1_pos"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x < y \\<Longrightarrow>\n      x\\<^sub>1 * x < x\\<^sub>1 * y) \\<Longrightarrow>\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x0_hb_bound7': \"x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> bs!i*x + (hs!i) x > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n    \\<Longrightarrow> 1 < bs ! i * x + (hs ! i) x", "by (rule le_less_trans[OF _ x0_hb_bound7]) (insert x0_le_x1 x0_ge_1, simp_all)"], ["", "lemma x0_hb_bound8:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"bs!i*x - hb * x / ln x powr (1+e) > x\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"2 * x\\<^sub>0 * inverse (bs!i) \\<le> x\\<^sub>1\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. 2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1", "by (intro x1_ge) simp_all"], ["proof (state)\nthis:\n  2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "with b_pos assms"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  x\\<^sub>1 \\<le> x\n  i < k\n  2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1", "have \"x\\<^sub>0 \\<le> x\\<^sub>1 * (bs!i/2)\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  x\\<^sub>1 \\<le> x\n  i < k\n  2 * x\\<^sub>0 * inverse (bs ! i) \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x\\<^sub>1 * (bs ! i / 2)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\\<^sub>1 * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "also"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\\<^sub>1 * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "from assms b_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b", "have \"... \\<le> x * (bs!i/2)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n\ngoal (1 subgoal):\n 1. x\\<^sub>1 * (bs ! i / 2) \\<le> x * (bs ! i / 2)", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>1 * (bs ! i / 2) \\<le> x * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "also"], ["proof (state)\nthis:\n  x\\<^sub>1 * (bs ! i / 2) \\<le> x * (bs ! i / 2)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"hb / ln x powr (1+e) < bs!i/2\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < bs ! i / 2", "by (intro x0_hb_bound0) simp_all"], ["proof (state)\nthis:\n  hb / ln x powr (1 + e) < bs ! i / 2\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "with assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  hb / ln x powr (1 + e) < bs ! i / 2", "have \"bs!i/2 < bs!i - hb / ln x powr (1+e)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  hb / ln x powr (1 + e) < bs ! i / 2\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i - hb / ln x powr (1 + e)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  bs ! i / 2 < bs ! i - hb / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "also"], ["proof (state)\nthis:\n  bs ! i / 2 < bs ! i - hb / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "have \"x * ... = bs!i*x - hb * x / ln x powr (1+e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * (bs ! i - hb / ln x powr (1 + e)) =\n    bs ! i * x - hb * x / ln x powr (1 + e)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  x * (bs ! i - hb / ln x powr (1 + e)) =\n  bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "finally"], ["proof (chain)\npicking this:\n  (\\<And>xa y. xa < y \\<Longrightarrow> x * xa < x * y) \\<Longrightarrow>\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>xa y. xa < y \\<Longrightarrow> x * xa < x * y) \\<Longrightarrow>\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "using assms x1_pos"], ["proof (prove)\nusing this:\n  (\\<And>xa y. xa < y \\<Longrightarrow> x * xa < x * y) \\<Longrightarrow>\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x0_hb_bound8':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"bs!i*x + hb * x / ln x powr (1+e) > x\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"x\\<^sub>0 < bs!i*x - hb * x / ln x powr (1+e)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)", "by (rule x0_hb_bound8)"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "also"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "from assms hb_nonneg x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 \\<le> hb\n  0 < x\\<^sub>1", "have \"hb * x / ln x powr (1+e) \\<ge> 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 \\<le> hb\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb * x / ln x powr (1 + e)", "by (intro mult_nonneg_nonneg divide_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "hence \"bs!i*x - hb * x / ln x powr (1+e) \\<le> bs!i*x + hb * x / ln x powr (1+e)\""], ["proof (prove)\nusing this:\n  0 \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. bs ! i * x - hb * x / ln x powr (1 + e)\n    \\<le> bs ! i * x + hb * x / ln x powr (1 + e)", "by simp"], ["proof (state)\nthis:\n  bs ! i * x - hb * x / ln x powr (1 + e)\n  \\<le> bs ! i * x + hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "finally"], ["proof (chain)\npicking this:\n  x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "show ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)", "."], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  assumes \"x \\<ge> x\\<^sub>0\"\n  shows   asymptotics1: \"i < k \\<Longrightarrow> 1 + ln x powr (- e / 2) \\<le>\n             (1 - hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 + ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics2: \"i < k \\<Longrightarrow> 1 - ln x powr (- e / 2) \\<ge>\n             (1 + hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 - ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics1': \"i < k \\<Longrightarrow> 1 + ln x powr (- e / 2) \\<le>\n             (1 + hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 + ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics2': \"i < k \\<Longrightarrow> 1 - ln x powr (- e / 2) \\<ge>\n             (1 - hb * inverse (bs!i) * ln x powr -(1+e)) powr p *\n             (1 - ln (bs!i*x + hb*x/ln x powr (1+e)) powr (-e/2))\"\n  and     asymptotics3: \"(1 + ln x powr (- e / 2)) / 2 \\<le> 1\"\n  and     asymptotics4: \"(1 - ln x powr (- e / 2)) * 2 \\<ge> 1\"\n  and     asymptotics5: \"i < k \\<Longrightarrow> ln (bs!i*x - hb*x*ln x powr -(1+e)) powr (-e/2) < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((i < k \\<Longrightarrow>\n      1 + ln x powr (- e / 2)\n      \\<le> (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n            (1 +\n             ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n             (- e / 2))) &&&\n     (i < k \\<Longrightarrow>\n      (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n      (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n      \\<le> 1 - ln x powr (- e / 2)) &&&\n     (i < k \\<Longrightarrow>\n      1 + ln x powr (- e / 2)\n      \\<le> (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n            (1 +\n             ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n             (- e / 2)))) &&&\n    ((i < k \\<Longrightarrow>\n      (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n      (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n      \\<le> 1 - ln x powr (- e / 2)) &&&\n     (1 + ln x powr (- e / 2)) / 2 \\<le> 1) &&&\n    1 \\<le> (1 - ln x powr (- e / 2)) * 2 &&&\n    (i < k \\<Longrightarrow>\n     ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1)", "apply -"], ["proof (prove)\ngoal (7 subgoals):\n 1. i < k \\<Longrightarrow>\n    1 + ln x powr (- e / 2)\n    \\<le> (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n 2. i < k \\<Longrightarrow>\n    (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)\n 3. i < k \\<Longrightarrow>\n    1 + ln x powr (- e / 2)\n    \\<le> (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n 4. i < k \\<Longrightarrow>\n    (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)\n 5. (1 + ln x powr (- e / 2)) / 2 \\<le> 1\n 6. 1 \\<le> (1 - ln x powr (- e / 2)) * 2\n 7. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "using assms asymptotics[of x \"bs!i\"]"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> x; bs ! i \\<in> set bs\\<rbrakk>\n  \\<Longrightarrow> akra_bazzi_asymptotics (bs ! i) hb e p x\n\ngoal (7 subgoals):\n 1. i < k \\<Longrightarrow>\n    1 + ln x powr (- e / 2)\n    \\<le> (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n 2. i < k \\<Longrightarrow>\n    (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)\n 3. i < k \\<Longrightarrow>\n    1 + ln x powr (- e / 2)\n    \\<le> (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n 4. i < k \\<Longrightarrow>\n    (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)\n 5. (1 + ln x powr (- e / 2)) / 2 \\<le> 1\n 6. 1 \\<le> (1 - ln x powr (- e / 2)) * 2\n 7. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "unfolding akra_bazzi_asymptotic_defs"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> x; bs ! i \\<in> set bs\\<rbrakk>\n  \\<Longrightarrow> 1 + ln x powr (- e / 2)\n                    \\<le> (1 -\n                           hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                          p *\n                          (1 +\n                           ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                           (- e / 2)) \\<and>\n                    1 + ln x powr (- e / 2)\n                    \\<le> (1 +\n                           hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                          p *\n                          (1 +\n                           ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                           (- e / 2)) \\<and>\n                    (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                    p *\n                    (1 -\n                     ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                     (- e / 2))\n                    \\<le> 1 - ln x powr (- e / 2) \\<and>\n                    (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                    p *\n                    (1 -\n                     ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                     (- e / 2))\n                    \\<le> 1 - ln x powr (- e / 2) \\<and>\n                    (1 + ln x powr (- e / 2)) / 2 \\<le> 1 \\<and>\n                    1 \\<le> (1 - ln x powr (- e / 2)) * 2 \\<and>\n                    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr\n                    (- e / 2)\n                    < 1 \\<and>\n                    hb / ln x powr (1 + e) < bs ! i / 2 \\<and>\n                    hb / ln x powr (1 + e) < (1 - bs ! i) / 2 \\<and>\n                    1 < x * (1 - bs ! i - hb / ln x powr (1 + e))\n\ngoal (7 subgoals):\n 1. i < k \\<Longrightarrow>\n    1 + ln x powr (- e / 2)\n    \\<le> (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n 2. i < k \\<Longrightarrow>\n    (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)\n 3. i < k \\<Longrightarrow>\n    1 + ln x powr (- e / 2)\n    \\<le> (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n 4. i < k \\<Longrightarrow>\n    (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)\n 5. (1 + ln x powr (- e / 2)) / 2 \\<le> 1\n 6. 1 \\<le> (1 - ln x powr (- e / 2)) * 2\n 7. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "apply simp_all[4]"], ["proof (prove)\ngoal (3 subgoals):\n 1. (1 + ln x powr (- e / 2)) / 2 \\<le> 1\n 2. 1 \\<le> (1 - ln x powr (- e / 2)) * 2\n 3. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "using assms asymptotics[of x \"bs!0\"]"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> x; bs ! 0 \\<in> set bs\\<rbrakk>\n  \\<Longrightarrow> akra_bazzi_asymptotics (bs ! 0) hb e p x\n\ngoal (3 subgoals):\n 1. (1 + ln x powr (- e / 2)) / 2 \\<le> 1\n 2. 1 \\<le> (1 - ln x powr (- e / 2)) * 2\n 3. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "unfolding akra_bazzi_asymptotic_defs"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> x; bs ! 0 \\<in> set bs\\<rbrakk>\n  \\<Longrightarrow> 1 + ln x powr (- e / 2)\n                    \\<le> (1 -\n                           hb * inverse (bs ! 0) * ln x powr - (1 + e)) powr\n                          p *\n                          (1 +\n                           ln (bs ! 0 * x + hb * x / ln x powr (1 + e)) powr\n                           (- e / 2)) \\<and>\n                    1 + ln x powr (- e / 2)\n                    \\<le> (1 +\n                           hb * inverse (bs ! 0) * ln x powr - (1 + e)) powr\n                          p *\n                          (1 +\n                           ln (bs ! 0 * x + hb * x / ln x powr (1 + e)) powr\n                           (- e / 2)) \\<and>\n                    (1 + hb * inverse (bs ! 0) * ln x powr - (1 + e)) powr\n                    p *\n                    (1 -\n                     ln (bs ! 0 * x + hb * x / ln x powr (1 + e)) powr\n                     (- e / 2))\n                    \\<le> 1 - ln x powr (- e / 2) \\<and>\n                    (1 - hb * inverse (bs ! 0) * ln x powr - (1 + e)) powr\n                    p *\n                    (1 -\n                     ln (bs ! 0 * x + hb * x / ln x powr (1 + e)) powr\n                     (- e / 2))\n                    \\<le> 1 - ln x powr (- e / 2) \\<and>\n                    (1 + ln x powr (- e / 2)) / 2 \\<le> 1 \\<and>\n                    1 \\<le> (1 - ln x powr (- e / 2)) * 2 \\<and>\n                    ln (bs ! 0 * x - hb * x * ln x powr - (1 + e)) powr\n                    (- e / 2)\n                    < 1 \\<and>\n                    hb / ln x powr (1 + e) < bs ! 0 / 2 \\<and>\n                    hb / ln x powr (1 + e) < (1 - bs ! 0) / 2 \\<and>\n                    1 < x * (1 - bs ! 0 - hb / ln x powr (1 + e))\n\ngoal (3 subgoals):\n 1. (1 + ln x powr (- e / 2)) / 2 \\<le> 1\n 2. 1 \\<le> (1 - ln x powr (- e / 2)) * 2\n 3. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "apply simp_all[2]"], ["proof (prove)\ngoal (1 subgoal):\n 1. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "using assms asymptotics[of x \"bs!i\"]"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> x; bs ! i \\<in> set bs\\<rbrakk>\n  \\<Longrightarrow> akra_bazzi_asymptotics (bs ! i) hb e p x\n\ngoal (1 subgoal):\n 1. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "unfolding akra_bazzi_asymptotic_defs"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> x; bs ! i \\<in> set bs\\<rbrakk>\n  \\<Longrightarrow> 1 + ln x powr (- e / 2)\n                    \\<le> (1 -\n                           hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                          p *\n                          (1 +\n                           ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                           (- e / 2)) \\<and>\n                    1 + ln x powr (- e / 2)\n                    \\<le> (1 +\n                           hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                          p *\n                          (1 +\n                           ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                           (- e / 2)) \\<and>\n                    (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                    p *\n                    (1 -\n                     ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                     (- e / 2))\n                    \\<le> 1 - ln x powr (- e / 2) \\<and>\n                    (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr\n                    p *\n                    (1 -\n                     ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr\n                     (- e / 2))\n                    \\<le> 1 - ln x powr (- e / 2) \\<and>\n                    (1 + ln x powr (- e / 2)) / 2 \\<le> 1 \\<and>\n                    1 \\<le> (1 - ln x powr (- e / 2)) * 2 \\<and>\n                    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr\n                    (- e / 2)\n                    < 1 \\<and>\n                    hb / ln x powr (1 + e) < bs ! i / 2 \\<and>\n                    hb / ln x powr (1 + e) < (1 - bs ! i) / 2 \\<and>\n                    1 < x * (1 - bs ! i - hb / ln x powr (1 + e))\n\ngoal (1 subgoal):\n 1. i < k \\<Longrightarrow>\n    ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr (- e / 2) < 1", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma x0_hb_bound9:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"ln (bs!i*x + (hs!i) x) powr -(e/2) < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "from b_pos assms"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"0 < bs!i/2\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. 0 < bs ! i / 2", "by simp"], ["proof (state)\nthis:\n  0 < bs ! i / 2\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "also"], ["proof (state)\nthis:\n  0 < bs ! i / 2\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"... < bs!i + (hs!i) x / x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. bs ! i / 2 < bs ! i + (hs ! i) x / x", "by (intro x0_hb_bound4) simp_all"], ["proof (state)\nthis:\n  bs ! i / 2 < bs ! i + (hs ! i) x / x\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "also"], ["proof (state)\nthis:\n  bs ! i / 2 < bs ! i + (hs ! i) x / x\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "from assms x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1", "have \"x * ... = bs!i*x + (hs!i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x * (bs ! i + (hs ! i) x / x) = bs ! i * x + (hs ! i) x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  x * (bs ! i + (hs ! i) x / x) = bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "finally"], ["proof (chain)\npicking this:\n  (\\<And>xa y. xa < y \\<Longrightarrow> x * xa < x * y) \\<Longrightarrow>\n  x * 0 < bs ! i * x + (hs ! i) x", "have pos: \"bs!i*x + (hs!i) x > 0\""], ["proof (prove)\nusing this:\n  (\\<And>xa y. xa < y \\<Longrightarrow> x * xa < x * y) \\<Longrightarrow>\n  x * 0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "using assms x1_pos"], ["proof (prove)\nusing this:\n  (\\<And>xa y. xa < y \\<Longrightarrow> x * xa < x * y) \\<Longrightarrow>\n  x * 0 < bs ! i * x + (hs ! i) x\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "from x0_hb_bound8[OF assms] x0_ge_1"], ["proof (chain)\npicking this:\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n  1 \\<le> x\\<^sub>0", "have pos': \"bs!i*x - hb * x / ln x powr (1+e) > 1\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 1 < bs ! i * x - hb * x / ln x powr (1 + e)", "by simp"], ["proof (state)\nthis:\n  1 < bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"-(hb * x / ln x powr (1+e)) \\<le> -\\<bar>(hs!i) x\\<bar>\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. - (hb * x / ln x powr (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>", "by (intro le_imp_neg_le h_bounds) simp_all"], ["proof (state)\nthis:\n  - (hb * x / ln x powr (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "also"], ["proof (state)\nthis:\n  - (hb * x / ln x powr (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "have \"... \\<le> (hs!i) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "finally"], ["proof (chain)\npicking this:\n  - (hb * x / ln x powr (1 + e)) \\<le> (hs ! i) x", "have \"ln (bs!i*x - hb * x / ln x powr (1+e)) \\<le> ln (bs!i*x + (hs!i) x)\""], ["proof (prove)\nusing this:\n  - (hb * x / ln x powr (1 + e)) \\<le> (hs ! i) x\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x - hb * x / ln x powr (1 + e))\n    \\<le> ln (bs ! i * x + (hs ! i) x)", "using assms b_pos x0_pos pos'"], ["proof (prove)\nusing this:\n  - (hb * x / ln x powr (1 + e)) \\<le> (hs ! i) x\n  x\\<^sub>1 \\<le> x\n  i < k\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  0 < x\\<^sub>0\n  1 < bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x - hb * x / ln x powr (1 + e))\n    \\<le> ln (bs ! i * x + (hs ! i) x)", "by (intro ln_mono mult_pos_pos pos) simp_all"], ["proof (state)\nthis:\n  ln (bs ! i * x - hb * x / ln x powr (1 + e))\n  \\<le> ln (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "hence \"ln (bs!i*x + (hs!i) x) powr -(e/2) \\<le> ln (bs!i*x - hb * x / ln x powr (1+e)) powr -(e/2)\""], ["proof (prove)\nusing this:\n  ln (bs ! i * x - hb * x / ln x powr (1 + e))\n  \\<le> ln (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2)\n    \\<le> ln (bs ! i * x - hb * x / ln x powr (1 + e)) powr - (e / 2)", "using assms e_pos asymptotics5[of x] pos'"], ["proof (prove)\nusing this:\n  ln (bs ! i * x - hb * x / ln x powr (1 + e))\n  \\<le> ln (bs ! i * x + (hs ! i) x)\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < e\n  \\<lbrakk>x\\<^sub>0 \\<le> x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> ln (bs ! ?i * x - hb * x * ln x powr - (1 + e)) powr\n                    (- e / 2)\n                    < 1\n  1 < bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2)\n    \\<le> ln (bs ! i * x - hb * x / ln x powr (1 + e)) powr - (e / 2)", "by (intro powr_mono2' ln_gt_zero) simp_all"], ["proof (state)\nthis:\n  ln (bs ! i * x + (hs ! i) x) powr - (e / 2)\n  \\<le> ln (bs ! i * x - hb * x / ln x powr (1 + e)) powr - (e / 2)\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "also"], ["proof (state)\nthis:\n  ln (bs ! i * x + (hs ! i) x) powr - (e / 2)\n  \\<le> ln (bs ! i * x - hb * x / ln x powr (1 + e)) powr - (e / 2)\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "have \"... < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln (bs ! i * x - hb * x / ln x powr (1 + e)) powr - (e / 2) < 1", "using asymptotics5[of x i] assms x0_le_x1"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> x; i < k\\<rbrakk>\n  \\<Longrightarrow> ln (bs ! i * x - hb * x * ln x powr - (1 + e)) powr\n                    (- e / 2)\n                    < 1\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x - hb * x / ln x powr (1 + e)) powr - (e / 2) < 1", "by (subst (asm) powr_minus) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  ln (bs ! i * x - hb * x / ln x powr (1 + e)) powr - (e / 2) < 1\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "finally"], ["proof (chain)\npicking this:\n  ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "show ?thesis"], ["proof (prove)\nusing this:\n  ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1\n\ngoal (1 subgoal):\n 1. ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "."], ["proof (state)\nthis:\n  ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1\n\ngoal:\nNo subgoals!", "qed"], ["", "definition akra_bazzi_measure :: \"real \\<Rightarrow> nat\" where\n  \"akra_bazzi_measure x = nat \\<lceil>x\\<rceil>\""], ["", "lemma akra_bazzi_measure_decreases:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"akra_bazzi_measure (bs!i*x + (hs!i) x) < akra_bazzi_measure x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x", "from step_diff assms"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < k; x\\<^sub>1 \\<le> ?x\\<rbrakk>\n  \\<Longrightarrow> bs ! ?i * ?x + (hs ! ?i) ?x + 1 < ?x\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"(bs!i * x + (hs!i) x) + 1 < x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < k; x\\<^sub>1 \\<le> ?x\\<rbrakk>\n  \\<Longrightarrow> bs ! ?i * ?x + (hs ! ?i) ?x + 1 < ?x\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x + 1 < x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x + 1 < x\n\ngoal (1 subgoal):\n 1. akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x", "hence \"\\<lceil>(bs!i * x + (hs!i) x) + 1\\<rceil> \\<le> \\<lceil>x\\<rceil>\""], ["proof (prove)\nusing this:\n  bs ! i * x + (hs ! i) x + 1 < x\n\ngoal (1 subgoal):\n 1. \\<lceil>bs ! i * x + (hs ! i) x + 1\\<rceil> \\<le> \\<lceil>x\\<rceil>", "by (intro ceiling_mono) simp"], ["proof (state)\nthis:\n  \\<lceil>bs ! i * x + (hs ! i) x + 1\\<rceil> \\<le> \\<lceil>x\\<rceil>\n\ngoal (1 subgoal):\n 1. akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x", "hence \"\\<lceil>(bs!i * x + (hs!i) x)\\<rceil> < \\<lceil>x\\<rceil>\""], ["proof (prove)\nusing this:\n  \\<lceil>bs ! i * x + (hs ! i) x + 1\\<rceil> \\<le> \\<lceil>x\\<rceil>\n\ngoal (1 subgoal):\n 1. \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < \\<lceil>x\\<rceil>", "by simp"], ["proof (state)\nthis:\n  \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < \\<lceil>x\\<rceil>\n\ngoal (1 subgoal):\n 1. akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x", "with assms x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n  \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < \\<lceil>x\\<rceil>", "have \"nat \\<lceil>(bs!i * x + (hs!i) x)\\<rceil> < nat \\<lceil>x\\<rceil>\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < x\\<^sub>1\n  \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < \\<lceil>x\\<rceil>\n\ngoal (1 subgoal):\n 1. nat \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < nat \\<lceil>x\\<rceil>", "by (subst nat_mono_iff) simp_all"], ["proof (state)\nthis:\n  nat \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < nat \\<lceil>x\\<rceil>\n\ngoal (1 subgoal):\n 1. akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x", "thus ?thesis"], ["proof (prove)\nusing this:\n  nat \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < nat \\<lceil>x\\<rceil>\n\ngoal (1 subgoal):\n 1. akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x", "unfolding akra_bazzi_measure_def"], ["proof (prove)\nusing this:\n  nat \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < nat \\<lceil>x\\<rceil>\n\ngoal (1 subgoal):\n 1. nat \\<lceil>bs ! i * x + (hs ! i) x\\<rceil> < nat \\<lceil>x\\<rceil>", "."], ["proof (state)\nthis:\n  akra_bazzi_measure (bs ! i * x + (hs ! i) x) < akra_bazzi_measure x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma akra_bazzi_induct[consumes 1, case_names base rec]:\n  assumes \"x \\<ge> x\\<^sub>0\"\n  assumes base: \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x\"\n  assumes rec:  \"\\<And>x. x > x\\<^sub>1 \\<Longrightarrow> (\\<And>i. i < k \\<Longrightarrow> P (bs!i*x + (hs!i) x)) \\<Longrightarrow> P x\"\n  shows   \"P x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x", "proof (insert \\<open>x \\<ge> x\\<^sub>0\\<close>, induction \"akra_bazzi_measure x\" arbitrary: x rule: less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>xa.\n                   \\<lbrakk>akra_bazzi_measure xa < akra_bazzi_measure x;\n                    x\\<^sub>0 \\<le> xa\\<rbrakk>\n                   \\<Longrightarrow> P xa;\n        x\\<^sub>0 \\<le> x\\<rbrakk>\n       \\<Longrightarrow> P x", "case less"], ["proof (state)\nthis:\n  \\<lbrakk>akra_bazzi_measure ?x < akra_bazzi_measure x;\n   x\\<^sub>0 \\<le> ?x\\<rbrakk>\n  \\<Longrightarrow> P ?x\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>xa.\n                   \\<lbrakk>akra_bazzi_measure xa < akra_bazzi_measure x;\n                    x\\<^sub>0 \\<le> xa\\<rbrakk>\n                   \\<Longrightarrow> P xa;\n        x\\<^sub>0 \\<le> x\\<rbrakk>\n       \\<Longrightarrow> P x", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P x", "proof (cases \"x \\<le> x\\<^sub>1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<le> x\\<^sub>1 \\<Longrightarrow> P x\n 2. \\<not> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x", "case True"], ["proof (state)\nthis:\n  x \\<le> x\\<^sub>1\n\ngoal (2 subgoals):\n 1. x \\<le> x\\<^sub>1 \\<Longrightarrow> P x\n 2. \\<not> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x", "with base and \\<open>x \\<ge> x\\<^sub>0\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> P ?x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> P ?x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. P x", "."], ["proof (state)\nthis:\n  P x\n\ngoal (1 subgoal):\n 1. \\<not> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x", "case False"], ["proof (state)\nthis:\n  \\<not> x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<not> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x", "hence x: \"x > x\\<^sub>1\""], ["proof (prove)\nusing this:\n  \\<not> x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>1 < x", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>1 < x\n\ngoal (1 subgoal):\n 1. \\<not> x \\<le> x\\<^sub>1 \\<Longrightarrow> P x", "thus ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n\ngoal (1 subgoal):\n 1. P x", "proof (rule rec)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. i < k \\<Longrightarrow> P (bs ! i * x + (hs ! i) x)", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. i < k \\<Longrightarrow> P (bs ! i * x + (hs ! i) x)", "assume i: \"i < k\""], ["proof (state)\nthis:\n  i < k\n\ngoal (1 subgoal):\n 1. \\<And>i. i < k \\<Longrightarrow> P (bs ! i * x + (hs ! i) x)", "from x0_hb_bound7[OF _ i, of x] x"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x \\<Longrightarrow> x\\<^sub>0 < bs ! i * x + (hs ! i) x\n  x\\<^sub>1 < x", "have \"bs!i*x + (hs!i) x \\<ge> x\\<^sub>0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x \\<Longrightarrow> x\\<^sub>0 < bs ! i * x + (hs ! i) x\n  x\\<^sub>1 < x\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> bs ! i * x + (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<And>i. i < k \\<Longrightarrow> P (bs ! i * x + (hs ! i) x)", "with i x"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 < x\n  x\\<^sub>0 \\<le> bs ! i * x + (hs ! i) x", "show \"P (bs ! i * x + (hs ! i) x)\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 < x\n  x\\<^sub>0 \\<le> bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. P (bs ! i * x + (hs ! i) x)", "by (intro less akra_bazzi_measure_decreases) simp_all"], ["proof (state)\nthis:\n  P (bs ! i * x + (hs ! i) x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale akra_bazzi_real = akra_bazzi_real_recursion +\n  fixes integrable integral\n  assumes integral: \"akra_bazzi_integral integrable integral\"\n  fixes f :: \"real \\<Rightarrow> real\"\n  and   g :: \"real \\<Rightarrow> real\"\n  and   C :: real\n  assumes p_props:      \"(\\<Sum>i<k. as!i * bs!i powr p) = 1\"\n  and     f_base:       \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f x \\<ge> 0\"\n  and     f_rec:        \"x > x\\<^sub>1 \\<Longrightarrow> f x = g x + (\\<Sum>i<k. as!i * f (bs!i * x + (hs!i) x))\"\n  and     g_nonneg:     \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> g x \\<ge> 0\"\n  and     C_bound:      \"b \\<in> set bs \\<Longrightarrow> x \\<ge> x\\<^sub>1 \\<Longrightarrow> C*x \\<le> b*x - hb*x/ln x powr (1+e)\"\n  and     g_integrable: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> integrable (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\"\nbegin"], ["", "interpretation akra_bazzi_integral integrable integral"], ["proof (prove)\ngoal (1 subgoal):\n 1. akra_bazzi_integral integrable integral", "by (rule integral)"], ["", "lemma akra_bazzi_integrable:\n  \"a \\<ge> x\\<^sub>0 \\<Longrightarrow> a \\<le> b \\<Longrightarrow> integrable (\\<lambda>x. g x / x powr (p + 1)) a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>0 \\<le> a; a \\<le> b\\<rbrakk>\n    \\<Longrightarrow> integrable (\\<lambda>x. g x / x powr (p + 1)) a b", "by (rule integrable_subinterval[OF g_integrable, of b]) simp_all"], ["", "definition g_approx :: \"nat \\<Rightarrow> real \\<Rightarrow> real\" where\n  \"g_approx i x = x powr p * integral (\\<lambda>u. g u / u powr (p + 1)) (bs!i * x + (hs!i) x) x\""], ["", "lemma f_nonneg: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> f x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x \\<Longrightarrow> 0 \\<le> f x", "proof (induction x rule: akra_bazzi_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "case (base x)"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "with f_base[of x]"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> f x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> f x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 \\<le> f x", "by simp"], ["proof (state)\nthis:\n  0 \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "case (rec x)"], ["proof (state)\nthis:\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow> 0 \\<le> f (bs ! ?i * x + (hs ! ?i) x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "with x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow> 0 \\<le> f (bs ! ?i * x + (hs ! ?i) x)", "have \"g x \\<ge> 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow> 0 \\<le> f (bs ! ?i * x + (hs ! ?i) x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> g x", "by (intro g_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "moreover"], ["proof (state)\nthis:\n  0 \\<le> g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "{"], ["proof (state)\nthis:\n  0 \\<le> g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "assume i: \"i < k\""], ["proof (state)\nthis:\n  i < k\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "with rec.IH"], ["proof (chain)\npicking this:\n  ?i < k \\<Longrightarrow> 0 \\<le> f (bs ! ?i * x + (hs ! ?i) x)\n  i < k", "have \"f (bs!i*x + (hs!i) x) \\<ge> 0\""], ["proof (prove)\nusing this:\n  ?i < k \\<Longrightarrow> 0 \\<le> f (bs ! ?i * x + (hs ! ?i) x)\n  i < k\n\ngoal (1 subgoal):\n 1. 0 \\<le> f (bs ! i * x + (hs ! i) x)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> f (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "with i"], ["proof (chain)\npicking this:\n  i < k\n  0 \\<le> f (bs ! i * x + (hs ! i) x)", "have \"as!i * f (bs!i*x + (hs!i) x) \\<ge> 0\""], ["proof (prove)\nusing this:\n  i < k\n  0 \\<le> f (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "by (intro mult_nonneg_nonneg[OF a_ge_0]) simp_all"], ["proof (state)\nthis:\n  0 \\<le> as ! i * f (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "}"], ["proof (state)\nthis:\n  ?i2 < k \\<Longrightarrow>\n  0 \\<le> as ! ?i2 * f (bs ! ?i2 * x + (hs ! ?i2) x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "hence \"(\\<Sum>i<k. as!i * f (bs!i*x + (hs!i) x)) \\<ge> 0\""], ["proof (prove)\nusing this:\n  ?i2 < k \\<Longrightarrow>\n  0 \\<le> as ! ?i2 * f (bs ! ?i2 * x + (hs ! ?i2) x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))", "by (intro sum_nonneg) blast"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           0 \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> f x", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> g x\n  0 \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))", "show \"f x \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> g x\n  0 \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. 0 \\<le> f x", "using rec.hyps"], ["proof (prove)\nusing this:\n  0 \\<le> g x\n  0 \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n  x\\<^sub>1 < x\n\ngoal (1 subgoal):\n 1. 0 \\<le> f x", "by (subst f_rec) simp_all"], ["proof (state)\nthis:\n  0 \\<le> f x\n\ngoal:\nNo subgoals!", "qed"], ["", "definition f_approx :: \"real \\<Rightarrow> real\" where\n  \"f_approx x = x powr p * (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x)\""], ["", "lemma f_approx_aux:\n  assumes \"x \\<ge> x\\<^sub>0\"\n  shows   \"1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x", "have \"integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x \\<ge> 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. 0 \\<le> integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "by (intro integral_nonneg ballI g_nonneg divide_nonneg_nonneg g_integrable) simp_all"], ["proof (state)\nthis:\n  0 \\<le> integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. 1 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. 1 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "by simp"], ["proof (state)\nthis:\n  1 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma f_approx_pos: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> f_approx x > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x \\<Longrightarrow> 0 < f_approx x", "unfolding f_approx_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x \\<Longrightarrow>\n    0 < x powr p *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x)", "by (intro mult_pos_pos, insert x0_pos, simp, drule f_approx_aux, simp)"], ["", "lemma f_approx_nonneg: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> f_approx x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x \\<Longrightarrow> 0 \\<le> f_approx x", "using f_approx_pos[of x]"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x \\<Longrightarrow> 0 < f_approx x\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x \\<Longrightarrow> 0 \\<le> f_approx x", "by simp"], ["", "lemma f_approx_bounded_below:\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f_approx x \\<ge> c\" \"c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<ge> x\\<^sub>0\" \"x \\<le> x\\<^sub>1\""], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with x0_pos"], ["proof (chain)\npicking this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"x powr p \\<ge> min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\""], ["proof (prove)\nusing this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) \\<le> x powr p", "by (intro powr_lower_bound) simp_all"], ["proof (state)\nthis:\n  min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) \\<le> x powr p\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with x"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) \\<le> x powr p", "have \"f_approx x \\<ge> min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) * 1\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) \\<le> x powr p\n\ngoal (1 subgoal):\n 1. min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) * 1 \\<le> f_approx x", "unfolding f_approx_def"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) \\<le> x powr p\n\ngoal (1 subgoal):\n 1. min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) * 1\n    \\<le> x powr p *\n          (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x)", "by (intro mult_mono f_approx_aux) simp_all"], ["proof (state)\nthis:\n  min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) * 1 \\<le> f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) * 1\n                    \\<le> f_approx ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from this x0_pos x1_pos"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) * 1\n                    \\<le> f_approx ?x2\n  0 < x\\<^sub>0\n  0 < x\\<^sub>1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) * 1\n                    \\<le> f_approx ?x2\n  0 < x\\<^sub>0\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. thesis", "by (intro that[of \"min (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\"]) auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma asymptotics_aux:\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  assumes \"s \\<equiv> (if p \\<ge> 0 then 1 else -1)\"\n  shows \"(bs!i*x - s*hb*x*ln x powr -(1+e)) powr p \\<le> (bs!i*x + (hs!i) x) powr p\" (is \"?thesis1\")\n  and   \"(bs!i*x + (hs!i) x) powr p \\<le> (bs!i*x + s*hb*x*ln x powr -(1+e)) powr p\" (is \"?thesis2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p &&&\n    (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "proof-"], ["proof (state)\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "from assms x1_gt_1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  1 < x\\<^sub>1", "have ln_x_pos: \"ln x > 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  1 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 < ln x", "by simp"], ["proof (state)\nthis:\n  0 < ln x\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "from assms x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  0 < x\\<^sub>1", "have x_pos: \"x > 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 < x", "by simp"], ["proof (state)\nthis:\n  0 < x\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have *: \"hb / ln x powr (1+e) < bs!i/2\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. hb / ln x powr (1 + e) < bs ! i / 2", "by (intro x0_hb_bound0) simp_all"], ["proof (state)\nthis:\n  hb / ln x powr (1 + e) < bs ! i / 2\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "with hb_nonneg ln_x_pos"], ["proof (chain)\npicking this:\n  0 \\<le> hb\n  0 < ln x\n  hb / ln x powr (1 + e) < bs ! i / 2", "have \"(bs!i - hb * ln x powr -(1+e)) > 0\""], ["proof (prove)\nusing this:\n  0 \\<le> hb\n  0 < ln x\n  hb / ln x powr (1 + e) < bs ! i / 2\n\ngoal (1 subgoal):\n 1. 0 < bs ! i - hb * ln x powr - (1 + e)", "by (subst powr_minus) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  0 < bs ! i - hb * ln x powr - (1 + e)\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "with *"], ["proof (chain)\npicking this:\n  hb / ln x powr (1 + e) < bs ! i / 2\n  0 < bs ! i - hb * ln x powr - (1 + e)", "have \"0 < x * (bs!i - hb * ln x powr -(1+e))\""], ["proof (prove)\nusing this:\n  hb / ln x powr (1 + e) < bs ! i / 2\n  0 < bs ! i - hb * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. 0 < x * (bs ! i - hb * ln x powr - (1 + e))", "using x_pos"], ["proof (prove)\nusing this:\n  hb / ln x powr (1 + e) < bs ! i / 2\n  0 < bs ! i - hb * ln x powr - (1 + e)\n  0 < x\n\ngoal (1 subgoal):\n 1. 0 < x * (bs ! i - hb * ln x powr - (1 + e))", "by (subst (asm) powr_minus, intro mult_pos_pos)"], ["proof (state)\nthis:\n  0 < x * (bs ! i - hb * ln x powr - (1 + e))\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "hence A: \"0 < bs!i*x - hb * x * ln x powr -(1+e)\""], ["proof (prove)\nusing this:\n  0 < x * (bs ! i - hb * ln x powr - (1 + e))\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x - hb * x * ln x powr - (1 + e)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  0 < bs ! i * x - hb * x * ln x powr - (1 + e)\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1", "have \"-(hb*x*ln x powr -(1+e)) \\<le> -\\<bar>(hs!i) x\\<bar>\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n\ngoal (1 subgoal):\n 1. - (hb * x * ln x powr - (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>", "using h_bounds[of x \"hs!i\"]"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  \\<lbrakk>x\\<^sub>1 \\<le> x; hs ! i \\<in> set hs\\<rbrakk>\n  \\<Longrightarrow> \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. - (hb * x * ln x powr - (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>", "by (subst neg_le_iff_le, subst powr_minus) (simp add: field_simps)"], ["proof (state)\nthis:\n  - (hb * x * ln x powr - (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "also"], ["proof (state)\nthis:\n  - (hb * x * ln x powr - (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "have \"... \\<le> (hs!i) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "finally"], ["proof (chain)\npicking this:\n  - (hb * x * ln x powr - (1 + e)) \\<le> (hs ! i) x", "have B: \"bs!i*x - hb*x*ln x powr -(1+e) \\<le> bs!i*x + (hs!i) x\""], ["proof (prove)\nusing this:\n  - (hb * x * ln x powr - (1 + e)) \\<le> (hs ! i) x\n\ngoal (1 subgoal):\n 1. bs ! i * x - hb * x * ln x powr - (1 + e) \\<le> bs ! i * x + (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  bs ! i * x - hb * x * ln x powr - (1 + e) \\<le> bs ! i * x + (hs ! i) x\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "have \"(hs!i) x \\<le> \\<bar>(hs!i) x\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "also"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1", "have \"... \\<le> (hb*x*ln x powr -(1+e))\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n\ngoal (1 subgoal):\n 1. \\<bar>(hs ! i) x\\<bar> \\<le> hb * x * ln x powr - (1 + e)", "using h_bounds[of x \"hs!i\"]"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n  \\<lbrakk>x\\<^sub>1 \\<le> x; hs ! i \\<in> set hs\\<rbrakk>\n  \\<Longrightarrow> \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<bar>(hs ! i) x\\<bar> \\<le> hb * x * ln x powr - (1 + e)", "by (subst powr_minus) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x * ln x powr - (1 + e)\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "finally"], ["proof (chain)\npicking this:\n  (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)", "have C: \"bs!i*x + hb*x*ln x powr -(1+e) \\<ge> bs!i*x + (hs!i) x\""], ["proof (prove)\nusing this:\n  (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x * ln x powr - (1 + e)", "by simp"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x * ln x powr - (1 + e)\n\ngoal (2 subgoals):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p\n 2. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "from A B C"], ["proof (chain)\npicking this:\n  0 < bs ! i * x - hb * x * ln x powr - (1 + e)\n  bs ! i * x - hb * x * ln x powr - (1 + e) \\<le> bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x * ln x powr - (1 + e)", "show ?thesis1"], ["proof (prove)\nusing this:\n  0 < bs ! i * x - hb * x * ln x powr - (1 + e)\n  bs ! i * x - hb * x * ln x powr - (1 + e) \\<le> bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p", "by (cases \"p \\<ge> 0\") (auto intro: powr_mono2 powr_mono2' simp: assms(3))"], ["proof (state)\nthis:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n  \\<le> (bs ! i * x + (hs ! i) x) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "from A B C"], ["proof (chain)\npicking this:\n  0 < bs ! i * x - hb * x * ln x powr - (1 + e)\n  bs ! i * x - hb * x * ln x powr - (1 + e) \\<le> bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x * ln x powr - (1 + e)", "show ?thesis2"], ["proof (prove)\nusing this:\n  0 < bs ! i * x - hb * x * ln x powr - (1 + e)\n  bs ! i * x - hb * x * ln x powr - (1 + e) \\<le> bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "by (cases \"p \\<ge> 0\") (auto intro: powr_mono2 powr_mono2' simp: assms(3))"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr p\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma asymptotics1':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs!i*x) powr p * (1 + ln x powr (-e/2)) \\<le>\n           (bs!i*x + (hs!i) x) powr p * (1 + ln (bs!i*x + (hs!i) x) powr (-e/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have x: \"x \\<ge> x\\<^sub>0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from b_pos[of \"bs!i\"] assms"], ["proof (chain)\npicking this:\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  x\\<^sub>1 \\<le> x\n  i < k", "have b_pos: \"bs!i > 0\" \"bs!i \\<noteq> 0\""], ["proof (prove)\nusing this:\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. 0 < bs ! i &&& bs ! i \\<noteq> 0", "by simp_all"], ["proof (state)\nthis:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from b_less_1[of \"bs!i\"] assms"], ["proof (chain)\npicking this:\n  bs ! i \\<in> set bs \\<Longrightarrow> bs ! i < 1\n  x\\<^sub>1 \\<le> x\n  i < k", "have b_less_1: \"bs!i < 1\""], ["proof (prove)\nusing this:\n  bs ! i \\<in> set bs \\<Longrightarrow> bs ! i < 1\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. bs ! i < 1", "by simp"], ["proof (state)\nthis:\n  bs ! i < 1\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from x1_gt_1 assms"], ["proof (chain)\npicking this:\n  1 < x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k", "have ln_x_pos: \"ln x > 0\""], ["proof (prove)\nusing this:\n  1 < x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. 0 < ln x", "by simp"], ["proof (state)\nthis:\n  0 < ln x\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "have mono: \"\\<And>a b. a \\<le> b \\<Longrightarrow> (bs!i*x) powr p * a \\<le> (bs!i*x) powr p * b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<le> b \\<Longrightarrow>\n       (bs ! i * x) powr p * a \\<le> (bs ! i * x) powr p * b", "by (rule mult_left_mono) simp_all"], ["proof (state)\nthis:\n  ?a \\<le> ?b \\<Longrightarrow>\n  (bs ! i * x) powr p * ?a \\<le> (bs ! i * x) powr p * ?b\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "define s :: real where [abs_def]: \"s = (if p \\<ge> 0 then 1 else -1)\""], ["proof (state)\nthis:\n  s \\<equiv> if 0 \\<le> p then 1 else - 1\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "have \"1 + ln x powr (-e/2) \\<le>\n          (1 - s*hb*inverse(bs!i)*ln x powr -(1+e)) powr p *\n          (1 + ln (bs!i*x + hb * x / ln x powr (1+e)) powr (-e/2))\" (is \"_ \\<le> ?A * ?B\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + ln x powr (- e / 2)\n    \\<le> (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))", "using assms x"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. 1 + ln x powr (- e / 2)\n    \\<le> (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))", "unfolding s_def"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. 1 + ln x powr (- e / 2)\n    \\<le> (1 -\n           (if 0 \\<le> p then 1 else - 1) * hb * inverse (bs ! i) *\n           ln x powr - (1 + e)) powr\n          p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))", "using asymptotics1[OF x assms(2)] asymptotics1'[OF x assms(2)]"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n  1 + ln x powr (- e / 2)\n  \\<le> (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n        (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n  1 + ln x powr (- e / 2)\n  \\<le> (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n        (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. 1 + ln x powr (- e / 2)\n    \\<le> (1 -\n           (if 0 \\<le> p then 1 else - 1) * hb * inverse (bs ! i) *\n           ln x powr - (1 + e)) powr\n          p *\n          (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))", "by simp"], ["proof (state)\nthis:\n  1 + ln x powr (- e / 2)\n  \\<le> (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n        (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "also"], ["proof (state)\nthis:\n  1 + ln x powr (- e / 2)\n  \\<le> (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n        (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "have \"(bs!i*x) powr p * ... = (bs!i*x) powr p * ?A * ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p *\n    ((1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n     (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))) =\n    (bs ! i * x) powr p *\n    (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))", "by simp"], ["proof (state)\nthis:\n  (bs ! i * x) powr p *\n  ((1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n   (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))) =\n  (bs ! i * x) powr p *\n  (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n  (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "also"], ["proof (state)\nthis:\n  (bs ! i * x) powr p *\n  ((1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n   (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))) =\n  (bs ! i * x) powr p *\n  (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n  (1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from x0_hb_bound0'[OF x, of \"bs!i\"] hb_nonneg x ln_x_pos assms"], ["proof (chain)\npicking this:\n  bs ! i \\<in> set bs \\<Longrightarrow> hb / ln x powr (1 + e) < bs ! i\n  0 \\<le> hb\n  x\\<^sub>0 \\<le> x\n  0 < ln x\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"s*hb * ln x powr -(1 + e) < bs ! i\""], ["proof (prove)\nusing this:\n  bs ! i \\<in> set bs \\<Longrightarrow> hb / ln x powr (1 + e) < bs ! i\n  0 \\<le> hb\n  x\\<^sub>0 \\<le> x\n  0 < ln x\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. s * hb * ln x powr - (1 + e) < bs ! i", "by (subst powr_minus) (simp_all add: field_simps s_def)"], ["proof (state)\nthis:\n  s * hb * ln x powr - (1 + e) < bs ! i\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "hence \"(bs!i*x) powr p * ?A = (bs!i*x*(1 - s*hb*inverse (bs!i)*ln x powr -(1+e))) powr p\""], ["proof (prove)\nusing this:\n  s * hb * ln x powr - (1 + e) < bs ! i\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p *\n    (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p =\n    (bs ! i * x *\n     (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n    p", "using b_pos assms x x0_pos b_less_1 ln_x_pos"], ["proof (prove)\nusing this:\n  s * hb * ln x powr - (1 + e) < bs ! i\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n  0 < x\\<^sub>0\n  bs ! i < 1\n  0 < ln x\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p *\n    (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p =\n    (bs ! i * x *\n     (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n    p", "by (subst powr_mult[symmetric]) (simp_all add: s_def field_simps)"], ["proof (state)\nthis:\n  (bs ! i * x) powr p *\n  (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p =\n  (bs ! i * x * (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n  p\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "also"], ["proof (state)\nthis:\n  (bs ! i * x) powr p *\n  (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p =\n  (bs ! i * x * (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n  p\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "have \"bs!i*x*(1 - s*hb*inverse (bs!i)*ln x powr -(1+e)) = bs!i*x - s*hb*x*ln x powr -(1+e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bs ! i * x * (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) =\n    bs ! i * x - s * hb * x * ln x powr - (1 + e)", "using b_pos assms"], ["proof (prove)\nusing this:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. bs ! i * x * (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) =\n    bs ! i * x - s * hb * x * ln x powr - (1 + e)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  bs ! i * x * (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) =\n  bs ! i * x - s * hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "also"], ["proof (state)\nthis:\n  bs ! i * x * (1 - s * hb * inverse (bs ! i) * ln x powr - (1 + e)) =\n  bs ! i * x - s * hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "have \"?B = 1 + ln (bs!i*x + hb*x*ln x powr -(1+e)) powr (-e/2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2) =\n    1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)", "by (subst powr_minus) (simp add: field_simps)"], ["proof (state)\nthis:\n  1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2) =\n  1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "also"], ["proof (state)\nthis:\n  1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2) =\n  1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "{"], ["proof (state)\nthis:\n  1 + ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2) =\n  1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from x assms"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"(bs!i*x - s*hb*x*ln x powr -(1+e)) powr p \\<le> (bs!i*x + (hs!i) x) powr p\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p", "using asymptotics_aux(1)[OF assms(1,2) s_def]"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x\\<^sub>1 \\<le> x\n  i < k\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n  \\<le> (bs ! i * x + (hs ! i) x) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n    \\<le> (bs ! i * x + (hs ! i) x) powr p", "by blast"], ["proof (state)\nthis:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n  \\<le> (bs ! i * x + (hs ! i) x) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "moreover"], ["proof (state)\nthis:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n  \\<le> (bs ! i * x + (hs ! i) x) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "{"], ["proof (state)\nthis:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n  \\<le> (bs ! i * x + (hs ! i) x) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "have \"(hs!i) x \\<le> \\<bar>(hs!i) x\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "also"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k", "have \"\\<bar>(hs!i) x\\<bar> \\<le> hb * x / ln x powr (1+e)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)", "by (intro h_bounds) simp_all"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "finally"], ["proof (chain)\npicking this:\n  (hs ! i) x \\<le> hb * x / ln x powr (1 + e)", "have \"(hs ! i) x \\<le> hb * x * ln x powr -(1 + e)\""], ["proof (prove)\nusing this:\n  (hs ! i) x \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)", "by (subst powr_minus) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "moreover"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "from x hb_nonneg x0_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  0 \\<le> hb\n  0 < x\\<^sub>0", "have \"hb * x * ln x powr -(1+e) \\<ge> 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  0 \\<le> hb\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0 \\<le> hb * x * ln x powr - (1 + e)", "by (intro mult_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "ultimately"], ["proof (chain)\npicking this:\n  (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)\n  0 \\<le> hb * x * ln x powr - (1 + e)", "have \"1 + ln (bs!i*x + hb * x * ln x powr -(1+e)) powr (-e/2) \\<le>\n                       1 + ln (bs!i*x + (hs!i) x) powr (-e/2)\""], ["proof (prove)\nusing this:\n  (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)\n  0 \\<le> hb * x * ln x powr - (1 + e)\n\ngoal (1 subgoal):\n 1. 1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n    \\<le> 1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)", "using assms x e_pos b_pos x0_pos"], ["proof (prove)\nusing this:\n  (hs ! i) x \\<le> hb * x * ln x powr - (1 + e)\n  0 \\<le> hb * x * ln x powr - (1 + e)\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n  0 < e\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n    \\<le> 1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)", "by (intro add_left_mono powr_mono2' ln_mono ln_gt_zero step_pos x0_hb_bound7'\n                add_pos_nonneg mult_pos_pos) simp_all"], ["proof (state)\nthis:\n  1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n  \\<le> 1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "}"], ["proof (state)\nthis:\n  1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n  \\<le> 1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "ultimately"], ["proof (chain)\npicking this:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n  \\<le> (bs ! i * x + (hs ! i) x) powr p\n  1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n  \\<le> 1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)", "have \"(bs!i*x - s*hb*x*ln x powr -(1+e)) powr p *\n                         (1 + ln (bs!i*x + hb * x * ln x powr -(1+e)) powr (-e/2))\n                     \\<le> (bs!i*x + (hs!i) x) powr p * (1 + ln (bs!i*x + (hs!i) x) powr (-e/2))\""], ["proof (prove)\nusing this:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p\n  \\<le> (bs ! i * x + (hs ! i) x) powr p\n  1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2)\n  \\<le> 1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p *\n    (1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "by (rule mult_mono) simp_all"], ["proof (state)\nthis:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p *\n  (1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2))\n  \\<le> (bs ! i * x + (hs ! i) x) powr p *\n        (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "}"], ["proof (state)\nthis:\n  (bs ! i * x - s * hb * x * ln x powr - (1 + e)) powr p *\n  (1 + ln (bs ! i * x + hb * x * ln x powr - (1 + e)) powr (- e / 2))\n  \\<le> (bs ! i * x + (hs ! i) x) powr p *\n        (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "finally"], ["proof (chain)\npicking this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      (bs ! i * x) powr p * xa\n      \\<le> (bs ! i * x) powr p * y) \\<Longrightarrow>\n  (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n  \\<le> (bs ! i * x + (hs ! i) x) powr p *\n        (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      (bs ! i * x) powr p * xa\n      \\<le> (bs ! i * x) powr p * y) \\<Longrightarrow>\n  (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n  \\<le> (bs ! i * x + (hs ! i) x) powr p *\n        (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n    \\<le> (bs ! i * x + (hs ! i) x) powr p *\n          (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "by (simp_all add: mono)"], ["proof (state)\nthis:\n  (bs ! i * x) powr p * (1 + ln x powr (- e / 2))\n  \\<le> (bs ! i * x + (hs ! i) x) powr p *\n        (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma asymptotics2':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\"\n  shows   \"(bs!i*x + (hs!i) x) powr p * (1 - ln (bs!i*x + (hs!i) x) powr (-e/2)) \\<le>\n           (bs!i*x) powr p * (1 - ln x powr (-e/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "define s :: real where \"s = (if p \\<ge> 0 then 1 else -1)\""], ["proof (state)\nthis:\n  s = (if 0 \\<le> p then 1 else - 1)\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have x: \"x \\<ge> x\\<^sub>0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "from assms x1_gt_1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  1 < x\\<^sub>1", "have ln_x_pos: \"ln x > 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  1 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 < ln x", "by simp"], ["proof (state)\nthis:\n  0 < ln x\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "from b_pos[of \"bs!i\"] assms"], ["proof (chain)\npicking this:\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  x\\<^sub>1 \\<le> x\n  i < k", "have b_pos: \"bs!i > 0\" \"bs!i \\<noteq> 0\""], ["proof (prove)\nusing this:\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. 0 < bs ! i &&& bs ! i \\<noteq> 0", "by simp_all"], ["proof (state)\nthis:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "from b_pos hb_nonneg"], ["proof (chain)\npicking this:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  0 \\<le> hb", "have pos: \"1 + s * hb * (inverse (bs!i) * ln x powr -(1+e)) > 0\""], ["proof (prove)\nusing this:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  0 \\<le> hb\n\ngoal (1 subgoal):\n 1. 0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))", "using x0_hb_bound0'[OF x, of \"bs!i\"] b_pos assms ln_x_pos"], ["proof (prove)\nusing this:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  0 \\<le> hb\n  bs ! i \\<in> set bs \\<Longrightarrow> hb / ln x powr (1 + e) < bs ! i\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < ln x\n\ngoal (1 subgoal):\n 1. 0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))", "by (subst powr_minus) (simp add: field_simps s_def)"], ["proof (state)\nthis:\n  0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "have mono: \"\\<And>a b. a \\<le> b \\<Longrightarrow> (bs!i*x) powr p * a \\<le> (bs!i*x) powr p * b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<le> b \\<Longrightarrow>\n       (bs ! i * x) powr p * a \\<le> (bs ! i * x) powr p * b", "by (rule mult_left_mono) simp_all"], ["proof (state)\nthis:\n  ?a \\<le> ?b \\<Longrightarrow>\n  (bs ! i * x) powr p * ?a \\<le> (bs ! i * x) powr p * ?b\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "let ?A = \"(1 + s*hb*inverse(bs!i)*ln x powr -(1+e)) powr p\""], ["proof (state)\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "let ?B = \"1 - ln (bs!i*x + (hs!i) x) powr (-e/2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "let ?B' = \"1 - ln (bs!i*x + hb * x / ln x powr (1+e)) powr (-e/2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "from assms x"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x", "have \"(bs!i*x + (hs!i) x) powr p \\<le> (bs!i*x + s*hb*x*ln x powr -(1+e)) powr p\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p", "by (intro asymptotics_aux(2)) (simp_all add: s_def)"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr p\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "moreover"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr p\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "from x0_hb_bound9[OF assms(1,2)]"], ["proof (chain)\npicking this:\n  ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1", "have \"?B \\<ge> 0\""], ["proof (prove)\nusing this:\n  ln (bs ! i * x + (hs ! i) x) powr - (e / 2) < 1\n\ngoal (1 subgoal):\n 1. 0 \\<le> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  0 \\<le> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "ultimately"], ["proof (chain)\npicking this:\n  (bs ! i * x + (hs ! i) x) powr p\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p\n  0 \\<le> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)", "have \"(bs!i*x + (hs!i) x) powr p * ?B \\<le>\n                   (bs!i*x + s*hb*x*ln x powr -(1+e)) powr p * ?B\""], ["proof (prove)\nusing this:\n  (bs ! i * x + (hs ! i) x) powr p\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p\n  0 \\<le> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n          (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))", "by (rule mult_right_mono)"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr p *\n  (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n        (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "also"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr p *\n  (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n        (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "from assms e_pos pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < e\n  0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))", "have \"?B \\<le> ?B'\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < e\n  0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\n\ngoal (1 subgoal):\n 1. 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n    \\<le> 1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "from x0_hb_bound8'[OF assms(1,2)] x0_hb_bound8[OF assms(1,2)] x0_ge_1"], ["proof (chain)\npicking this:\n  x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n  1 \\<le> x\\<^sub>0", "have *: \"bs ! i * x + s*hb * x / ln x powr (1 + e) > 1\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x + hb * x / ln x powr (1 + e)\n  x\\<^sub>0 < bs ! i * x - hb * x / ln x powr (1 + e)\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 1 < bs ! i * x + s * hb * x / ln x powr (1 + e)", "by (simp add: s_def)"], ["proof (state)\nthis:\n  1 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "moreover"], ["proof (state)\nthis:\n  1 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "from *"], ["proof (chain)\npicking this:\n  1 < bs ! i * x + s * hb * x / ln x powr (1 + e)", "have \"... > 0\""], ["proof (prove)\nusing this:\n  1 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + s * hb * x / ln x powr (1 + e)", "by simp"], ["proof (state)\nthis:\n  0 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "moreover"], ["proof (state)\nthis:\n  0 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "from x0_hb_bound7[OF assms(1,2)] x0_ge_1"], ["proof (chain)\npicking this:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n  1 \\<le> x\\<^sub>0", "have \"bs ! i * x + (hs ! i) x > 1\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 1 < bs ! i * x + (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  1 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "moreover"], ["proof (state)\nthis:\n  1 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "{"], ["proof (state)\nthis:\n  1 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "have \"(hs!i) x \\<le> \\<bar>(hs!i) x\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "also"], ["proof (state)\nthis:\n  (hs ! i) x \\<le> \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "from assms x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"... \\<le> hb*x/ln x powr (1+e)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)", "by (intro h_bounds) simp_all"], ["proof (state)\nthis:\n  \\<bar>(hs ! i) x\\<bar> \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "finally"], ["proof (chain)\npicking this:\n  (hs ! i) x \\<le> hb * x / ln x powr (1 + e)", "have \"bs!i*x + (hs!i) x \\<le> bs!i*x + hb*x/ln x powr (1+e)\""], ["proof (prove)\nusing this:\n  (hs ! i) x \\<le> hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x / ln x powr (1 + e)", "by simp"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "}"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; 0 < e;\n     0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\\<rbrakk>\n    \\<Longrightarrow> 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n                      \\<le> 1 -\n                            ln (bs ! i * x +\n                                hb * x / ln x powr (1 + e)) powr\n                            (- e / 2)", "ultimately"], ["proof (chain)\npicking this:\n  1 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n  0 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n  1 < bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x / ln x powr (1 + e)", "show \"?B \\<le> ?B'\""], ["proof (prove)\nusing this:\n  1 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n  0 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n  1 < bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n    \\<le> 1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)", "using assms e_pos x step_pos"], ["proof (prove)\nusing this:\n  1 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n  0 < bs ! i * x + s * hb * x / ln x powr (1 + e)\n  1 < bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> bs ! i * x + hb * x / ln x powr (1 + e)\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < e\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>?i < k; x\\<^sub>1 \\<le> ?x\\<rbrakk>\n  \\<Longrightarrow> 0 < bs ! ?i * ?x + (hs ! ?i) ?x\n\ngoal (1 subgoal):\n 1. 1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n    \\<le> 1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)", "by (intro diff_left_mono powr_mono2' ln_mono ln_gt_zero) simp_all"], ["proof (state)\nthis:\n  1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n  \\<le> 1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n  \\<le> 1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "hence \"(bs!i*x + s*hb*x*ln x powr -(1+e)) powr p * ?B \\<le>\n             (bs!i*x + s*hb*x*ln x powr -(1+e)) powr p * ?B'\""], ["proof (prove)\nusing this:\n  1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)\n  \\<le> 1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n          (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))", "by (intro mult_left_mono) simp_all"], ["proof (state)\nthis:\n  (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n  (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n        (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "also"], ["proof (state)\nthis:\n  (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n  (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n  \\<le> (bs ! i * x + s * hb * x * ln x powr - (1 + e)) powr p *\n        (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "have \"bs!i*x + s*hb*x*ln x powr -(1+e) = bs!i*x*(1 + s*hb*inverse (bs!i)*ln x powr -(1+e))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bs ! i * x + s * hb * x * ln x powr - (1 + e) =\n    bs ! i * x * (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))", "using b_pos"], ["proof (prove)\nusing this:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. bs ! i * x + s * hb * x * ln x powr - (1 + e) =\n    bs ! i * x * (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))", "by (simp_all add: field_simps)"], ["proof (state)\nthis:\n  bs ! i * x + s * hb * x * ln x powr - (1 + e) =\n  bs ! i * x * (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "also"], ["proof (state)\nthis:\n  bs ! i * x + s * hb * x * ln x powr - (1 + e) =\n  bs ! i * x * (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "have \"... powr p = (bs!i*x) powr p * ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i * x *\n     (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n    p =\n    (bs ! i * x) powr p *\n    (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p", "using b_pos x x0_pos pos"], ["proof (prove)\nusing this:\n  0 < bs ! i\n  bs ! i \\<noteq> 0\n  x\\<^sub>0 \\<le> x\n  0 < x\\<^sub>0\n  0 < 1 + s * hb * (inverse (bs ! i) * ln x powr - (1 + e))\n\ngoal (1 subgoal):\n 1. (bs ! i * x *\n     (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n    p =\n    (bs ! i * x) powr p *\n    (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p", "by (intro powr_mult) simp_all"], ["proof (state)\nthis:\n  (bs ! i * x * (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n  p =\n  (bs ! i * x) powr p *\n  (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "also"], ["proof (state)\nthis:\n  (bs ! i * x * (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e))) powr\n  p =\n  (bs ! i * x) powr p *\n  (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "have \"(bs!i*x) powr p * ?A * ?B' = (bs!i*x) powr p * (?A * ?B')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i * x) powr p *\n    (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)) =\n    (bs ! i * x) powr p *\n    ((1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n     (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)))", "by simp"], ["proof (state)\nthis:\n  (bs ! i * x) powr p *\n  (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n  (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)) =\n  (bs ! i * x) powr p *\n  ((1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n   (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "also"], ["proof (state)\nthis:\n  (bs ! i * x) powr p *\n  (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n  (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)) =\n  (bs ! i * x) powr p *\n  ((1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n   (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "have \"?A * ?B' \\<le> 1 - ln x powr (-e/2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)", "using assms x"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)", "using asymptotics2[OF x assms(2)] asymptotics2'[OF x assms(2)]"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\n  (1 + hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n  (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n  \\<le> 1 - ln x powr (- e / 2)\n  (1 - hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n  (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n  \\<le> 1 - ln x powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n    (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n    \\<le> 1 - ln x powr (- e / 2)", "by (simp add: s_def)"], ["proof (state)\nthis:\n  (1 + s * hb * inverse (bs ! i) * ln x powr - (1 + e)) powr p *\n  (1 - ln (bs ! i * x + hb * x / ln x powr (1 + e)) powr (- e / 2))\n  \\<le> 1 - ln x powr (- e / 2)\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "finally"], ["proof (chain)\npicking this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      (bs ! i * x) powr p * xa\n      \\<le> (bs ! i * x) powr p * y) \\<Longrightarrow>\n  (bs ! i * x + (hs ! i) x) powr p *\n  (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n  \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      (bs ! i * x) powr p * xa\n      \\<le> (bs ! i * x) powr p * y) \\<Longrightarrow>\n  (bs ! i * x + (hs ! i) x) powr p *\n  (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n  \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr p *\n    (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n    \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))", "by (simp_all add: mono)"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr p *\n  (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2))\n  \\<le> (bs ! i * x) powr p * (1 - ln x powr (- e / 2))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Cx_le_step:\n  assumes \"i < k\" \"x \\<ge> x\\<^sub>1\"\n  shows   \"C*x \\<le> bs!i*x + (hs!i) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "from assms"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x", "have \"C*x \\<le> bs!i*x - hb*x/ln x powr (1+e)\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x - hb * x / ln x powr (1 + e)", "by (intro C_bound) simp_all"], ["proof (state)\nthis:\n  C * x \\<le> bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  C * x \\<le> bs ! i * x - hb * x / ln x powr (1 + e)\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "from assms"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x", "have \"-(hb*x/ln x powr (1+e)) \\<le> -\\<bar>(hs!i) x\\<bar>\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. - (hb * x / ln x powr (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>", "by (subst neg_le_iff_le, intro h_bounds) simp_all"], ["proof (state)\nthis:\n  - (hb * x / ln x powr (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "hence \"bs!i*x - hb*x/ln x powr (1+e) \\<le> bs!i*x + -\\<bar>(hs!i) x\\<bar>\""], ["proof (prove)\nusing this:\n  - (hb * x / ln x powr (1 + e)) \\<le> - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. bs ! i * x - hb * x / ln x powr (1 + e)\n    \\<le> bs ! i * x + - \\<bar>(hs ! i) x\\<bar>", "by simp"], ["proof (state)\nthis:\n  bs ! i * x - hb * x / ln x powr (1 + e)\n  \\<le> bs ! i * x + - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "also"], ["proof (state)\nthis:\n  bs ! i * x - hb * x / ln x powr (1 + e)\n  \\<le> bs ! i * x + - \\<bar>(hs ! i) x\\<bar>\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "have \"-\\<bar>(hs!i) x\\<bar> \\<le> (hs!i) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  - \\<bar>(hs ! i) x\\<bar> \\<le> (hs ! i) x\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "finally"], ["proof (chain)\npicking this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      bs ! i * x + xa \\<le> bs ! i * x + y) \\<Longrightarrow>\n  C * x \\<le> bs ! i * x + (hs ! i) x", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>xa y.\n      xa \\<le> y \\<Longrightarrow>\n      bs ! i * x + xa \\<le> bs ! i * x + y) \\<Longrightarrow>\n  C * x \\<le> bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "by simp"], ["proof (state)\nthis:\n  C * x \\<le> bs ! i * x + (hs ! i) x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale akra_bazzi_nat_to_real = akra_bazzi_real_recursion +\n  fixes f :: \"nat \\<Rightarrow> real\"\n  and   g :: \"real \\<Rightarrow> real\"\n  assumes f_base: \"real x \\<ge> x\\<^sub>0 \\<Longrightarrow> real x \\<le> x\\<^sub>1 \\<Longrightarrow> f x \\<ge> 0\"\n  and     f_rec:  \"real x > x\\<^sub>1 \\<Longrightarrow>\n                          f x = g (real x) + (\\<Sum>i<k. as!i * f (nat \\<lfloor>bs!i * x + (hs!i) (real x)\\<rfloor>))\"\n  and     x0_int: \"real (nat \\<lfloor>x\\<^sub>0\\<rfloor>) = x\\<^sub>0\"\nbegin"], ["", "function f' :: \"real \\<Rightarrow> real\" where\n  \"x \\<le> x\\<^sub>1 \\<Longrightarrow> f' x = f (nat \\<lfloor>x\\<rfloor>)\"\n| \"x > x\\<^sub>1 \\<Longrightarrow> f' x = g x + (\\<Sum>i<k. as!i * f' (bs!i * x + (hs!i) x))\""], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P x.\n       \\<lbrakk>\\<And>xa.\n                   \\<lbrakk>xa \\<le> x\\<^sub>1; x = xa\\<rbrakk>\n                   \\<Longrightarrow> P;\n        \\<And>xa.\n           \\<lbrakk>x\\<^sub>1 < xa; x = xa\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>x xa.\n       \\<lbrakk>x \\<le> x\\<^sub>1; xa \\<le> x\\<^sub>1; x = xa\\<rbrakk>\n       \\<Longrightarrow> f (nat \\<lfloor>x\\<rfloor>) =\n                         f (nat \\<lfloor>xa\\<rfloor>)\n 3. \\<And>x xa.\n       \\<lbrakk>x \\<le> x\\<^sub>1; x\\<^sub>1 < xa; x = xa\\<rbrakk>\n       \\<Longrightarrow> f (nat \\<lfloor>x\\<rfloor>) =\n                         g xa +\n                         (\\<Sum>i<k.\n                             as ! i * f'_sumC (bs ! i * xa + (hs ! i) xa))\n 4. \\<And>x xa.\n       \\<lbrakk>x\\<^sub>1 < x; x\\<^sub>1 < xa; x = xa\\<rbrakk>\n       \\<Longrightarrow> g x +\n                         (\\<Sum>i<k.\n                             as ! i * f'_sumC (bs ! i * x + (hs ! i) x)) =\n                         g xa +\n                         (\\<Sum>i<k.\n                             as ! i * f'_sumC (bs ! i * xa + (hs ! i) xa))", "by (force, simp_all)"], ["", "termination"], ["proof (prove)\ngoal (1 subgoal):\n 1. All f'_dom", "by (relation \"Wellfounded.measure akra_bazzi_measure\")\n               (simp_all add: akra_bazzi_measure_decreases)"], ["", "lemma f'_base: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f' x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> f' x", "apply (subst f'.simps(1), assumption)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> f (nat \\<lfloor>x\\<rfloor>)", "apply (rule f_base)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> x\\<^sub>0 \\<le> real (nat \\<lfloor>x\\<rfloor>)\n 2. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> real (nat \\<lfloor>x\\<rfloor>) \\<le> x\\<^sub>1", "apply (rule order.trans[of _ \"real (nat \\<lfloor>x\\<^sub>0\\<rfloor>)\"], simp add: x0_int)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> real (nat \\<lfloor>x\\<^sub>0\\<rfloor>)\n                      \\<le> real (nat \\<lfloor>x\\<rfloor>)\n 2. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> real (nat \\<lfloor>x\\<rfloor>) \\<le> x\\<^sub>1", "apply (subst of_nat_le_iff, intro nat_mono floor_mono, assumption)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> real (nat \\<lfloor>x\\<rfloor>) \\<le> x\\<^sub>1", "using x0_pos"], ["proof (prove)\nusing this:\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> real (nat \\<lfloor>x\\<rfloor>) \\<le> x\\<^sub>1", "apply linarith"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemmas f'_rec = f'.simps(2)"], ["", "end"], ["", "locale akra_bazzi_real_lower = akra_bazzi_real +\n  fixes fb2 gb2 c2 :: real\n  assumes f_base2:   \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f x \\<ge> fb2\"\n  and     fb2_pos:   \"fb2 > 0\"\n  and     g_growth2: \"\\<forall>x\\<ge>x\\<^sub>1. \\<forall>u\\<in>{C*x..x}. c2 * g x \\<ge> g u\"\n  and     c2_pos:    \"c2 > 0\"\n  and     g_bounded: \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> g x \\<le> gb2\"\nbegin"], ["", "interpretation akra_bazzi_integral integrable integral"], ["proof (prove)\ngoal (1 subgoal):\n 1. akra_bazzi_integral integrable integral", "by (rule integral)"], ["", "lemma gb2_nonneg: \"gb2 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> gb2", "using g_bounded[of x\\<^sub>0] x0_le_x1 x0_pos g_nonneg[of x\\<^sub>0]"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> x\\<^sub>0; x\\<^sub>0 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> g x\\<^sub>0 \\<le> gb2\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>0 \\<Longrightarrow> 0 \\<le> g x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0 \\<le> gb2", "by simp"], ["", "lemma g_growth2':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\" \"u \\<in> {bs!i*x+(hs!i) x..x}\"\n  shows   \"c2 * g x \\<ge> g u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g u \\<le> c2 * g x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. g u \\<le> c2 * g x", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}", "have \"C*x \\<le> bs!i*x+(hs!i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "by (intro Cx_le_step)"], ["proof (state)\nthis:\n  C * x \\<le> bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. g u \\<le> c2 * g x", "with assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  C * x \\<le> bs ! i * x + (hs ! i) x", "have \"u \\<in> {C*x..x}\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  C * x \\<le> bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. u \\<in> {C * x..x}", "by auto"], ["proof (state)\nthis:\n  u \\<in> {C * x..x}\n\ngoal (1 subgoal):\n 1. g u \\<le> c2 * g x", "with assms g_growth2"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  \\<forall>x\\<ge>x\\<^sub>1. \\<forall>u\\<in>{C * x..x}. g u \\<le> c2 * g x\n  u \\<in> {C * x..x}", "show ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  \\<forall>x\\<ge>x\\<^sub>1. \\<forall>u\\<in>{C * x..x}. g u \\<le> c2 * g x\n  u \\<in> {C * x..x}\n\ngoal (1 subgoal):\n 1. g u \\<le> c2 * g x", "by simp"], ["proof (state)\nthis:\n  g u \\<le> c2 * g x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma g_bounds2:\n  obtains c4 where \"\\<And>x i. x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> g_approx i x \\<le> c4 * g x\" \"c4 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define c4\n    where \"c4 = Max {c2 / min 1 (min ((b/2) powr (p+1)) ((b*3/2) powr (p+1))) |b. b \\<in> set bs}\""], ["proof (state)\nthis:\n  c4 =\n  Max {c2 / min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n       b. b \\<in> set bs}\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  c4 =\n  Max {c2 / min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n       b. b \\<in> set bs}\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from bs_nonempty"], ["proof (chain)\npicking this:\n  bs \\<noteq> []", "obtain b where b: \"b \\<in> set bs\""], ["proof (prove)\nusing this:\n  bs \\<noteq> []\n\ngoal (1 subgoal):\n 1. (\\<And>b. b \\<in> set bs \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases bs) auto"], ["proof (state)\nthis:\n  b \\<in> set bs\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m = \"min 1 (min ((b/2) powr (p+1)) ((b*3/2) powr (p+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from b b_pos"], ["proof (chain)\npicking this:\n  b \\<in> set bs\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b", "have \"?m > 0\""], ["proof (prove)\nusing this:\n  b \\<in> set bs\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n\ngoal (1 subgoal):\n 1. 0 < min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "unfolding min_def"], ["proof (prove)\nusing this:\n  b \\<in> set bs\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n\ngoal (1 subgoal):\n 1. 0 < (if 1 \\<le> (if (b / 2) powr (p + 1) \\<le> (b * 3 / 2) powr (p + 1)\n                     then (b / 2) powr (p + 1)\n                     else (b * 3 / 2) powr (p + 1))\n         then 1\n         else if (b / 2) powr (p + 1) \\<le> (b * 3 / 2) powr (p + 1)\n              then (b / 2) powr (p + 1) else (b * 3 / 2) powr (p + 1))", "by (auto simp: not_le)"], ["proof (state)\nthis:\n  0 < min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with b b_pos c2_pos"], ["proof (chain)\npicking this:\n  b \\<in> set bs\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  0 < c2\n  0 < min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "have \"c2 / ?m > 0\""], ["proof (prove)\nusing this:\n  b \\<in> set bs\n  ?b \\<in> set bs \\<Longrightarrow> 0 < ?b\n  0 < c2\n  0 < min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. 0 < c2 / min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "by (simp_all add: field_simps)"], ["proof (state)\nthis:\n  0 < c2 / min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with b"], ["proof (chain)\npicking this:\n  b \\<in> set bs\n  0 < c2 / min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "have \"c4 > 0\""], ["proof (prove)\nusing this:\n  b \\<in> set bs\n  0 < c2 / min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. 0 < c4", "unfolding c4_def"], ["proof (prove)\nusing this:\n  b \\<in> set bs\n  0 < c2 / min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. 0 < Max {c2 /\n             min 1 (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n             b. b \\<in> set bs}", "by (subst Max_gr_iff) (simp, simp, blast)"], ["proof (state)\nthis:\n  0 < c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  0 < c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  0 < c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x i"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume i: \"i < k\" and x: \"x \\<ge> x\\<^sub>1\""], ["proof (state)\nthis:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have powr_negD: \"a powr b \\<le> 0 \\<Longrightarrow> a = 0\"\n      for a b :: real"], ["proof (prove)\ngoal (1 subgoal):\n 1. a powr b \\<le> 0 \\<Longrightarrow> a = 0", "unfolding powr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if a = 0 then 0 else exp (b * ln a)) \\<le> 0 \\<Longrightarrow> a = 0", "by (simp split: if_split_asm)"], ["proof (state)\nthis:\n  ?a powr ?b \\<le> 0 \\<Longrightarrow> ?a = 0\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m = \"min 1 (min ((bs!i/2) powr (p+1)) ((bs!i*3/2) powr (p+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"min 1 ((bs!i + (hs ! i) x / x) powr (p+1)) \\<ge> min 1 (min ((bs!i/2) powr (p+1)) ((bs!i*3/2) powr (p+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n    \\<le> min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))", "apply (insert x i x0_le_x1 x1_pos step_pos b_pos[OF b_in_bs[OF i]],\n             rule min.mono, simp, cases \"p + 1 \\<ge> 0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; x\\<^sub>0 \\<le> x\\<^sub>1;\n     0 < x\\<^sub>1;\n     \\<And>i x.\n        \\<lbrakk>i < k; x\\<^sub>1 \\<le> x\\<rbrakk>\n        \\<Longrightarrow> 0 < bs ! i * x + (hs ! i) x;\n     0 < bs ! i; 0 \\<le> p + 1\\<rbrakk>\n    \\<Longrightarrow> min ((bs ! i / 2) powr (p + 1))\n                       ((bs ! i * 3 / 2) powr (p + 1))\n                      \\<le> (bs ! i + (hs ! i) x / x) powr (p + 1)\n 2. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; x\\<^sub>0 \\<le> x\\<^sub>1;\n     0 < x\\<^sub>1;\n     \\<And>i x.\n        \\<lbrakk>i < k; x\\<^sub>1 \\<le> x\\<rbrakk>\n        \\<Longrightarrow> 0 < bs ! i * x + (hs ! i) x;\n     0 < bs ! i; \\<not> 0 \\<le> p + 1\\<rbrakk>\n    \\<Longrightarrow> min ((bs ! i / 2) powr (p + 1))\n                       ((bs ! i * 3 / 2) powr (p + 1))\n                      \\<le> (bs ! i + (hs ! i) x / x) powr (p + 1)", "apply (rule order.trans[OF min.cobounded1 powr_mono2[OF _ _ x0_hb_bound4']], simp_all add: field_simps) []"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; x\\<^sub>0 \\<le> x\\<^sub>1;\n     0 < x\\<^sub>1;\n     \\<And>i x.\n        \\<lbrakk>i < k; x\\<^sub>1 \\<le> x\\<rbrakk>\n        \\<Longrightarrow> 0 < bs ! i * x + (hs ! i) x;\n     0 < bs ! i; \\<not> 0 \\<le> p + 1\\<rbrakk>\n    \\<Longrightarrow> min ((bs ! i / 2) powr (p + 1))\n                       ((bs ! i * 3 / 2) powr (p + 1))\n                      \\<le> (bs ! i + (hs ! i) x / x) powr (p + 1)", "apply (rule order.trans[OF min.cobounded2 powr_mono2'[OF _ _ x0_hb_bound5]], simp_all add: field_simps) []"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n  \\<le> min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with i b_pos[of \"bs!i\"]"], ["proof (chain)\npicking this:\n  i < k\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n  \\<le> min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))", "have \"c2 / min 1 ((bs!i + (hs ! i) x / x) powr (p+1)) \\<le> c2 / ?m\""], ["proof (prove)\nusing this:\n  i < k\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n  \\<le> min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n\ngoal (1 subgoal):\n 1. c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n    \\<le> c2 /\n          min 1\n           (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))", "using c2_pos"], ["proof (prove)\nusing this:\n  i < k\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n  \\<le> min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n  0 < c2\n\ngoal (1 subgoal):\n 1. c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n    \\<le> c2 /\n          min 1\n           (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))", "unfolding min_def"], ["proof (prove)\nusing this:\n  i < k\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  (if 1 \\<le> (if (bs ! i / 2) powr (p + 1)\n                  \\<le> (bs ! i * 3 / 2) powr (p + 1)\n               then (bs ! i / 2) powr (p + 1)\n               else (bs ! i * 3 / 2) powr (p + 1))\n   then 1\n   else if (bs ! i / 2) powr (p + 1) \\<le> (bs ! i * 3 / 2) powr (p + 1)\n        then (bs ! i / 2) powr (p + 1) else (bs ! i * 3 / 2) powr (p + 1))\n  \\<le> (if 1 \\<le> (bs ! i + (hs ! i) x / x) powr (p + 1) then 1\n         else (bs ! i + (hs ! i) x / x) powr (p + 1))\n  0 < c2\n\ngoal (1 subgoal):\n 1. c2 /\n    (if 1 \\<le> (bs ! i + (hs ! i) x / x) powr (p + 1) then 1\n     else (bs ! i + (hs ! i) x / x) powr (p + 1))\n    \\<le> c2 /\n          (if 1 \\<le> (if (bs ! i / 2) powr (p + 1)\n                          \\<le> (bs ! i * 3 / 2) powr (p + 1)\n                       then (bs ! i / 2) powr (p + 1)\n                       else (bs ! i * 3 / 2) powr (p + 1))\n           then 1\n           else if (bs ! i / 2) powr (p + 1)\n                   \\<le> (bs ! i * 3 / 2) powr (p + 1)\n                then (bs ! i / 2) powr (p + 1)\n                else (bs ! i * 3 / 2) powr (p + 1))", "by (intro divide_left_mono) (auto intro!: mult_pos_pos dest!: powr_negD)"], ["proof (state)\nthis:\n  c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n  \\<le> c2 /\n        min 1\n         (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n  \\<le> c2 /\n        min 1\n         (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from i x"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x", "have \"... \\<le> c4\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. c2 /\n    min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n    \\<le> c4", "unfolding c4_def"], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. c2 /\n    min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n    \\<le> Max {c2 /\n               min 1\n                (min ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n               b. b \\<in> set bs}", "by (intro Max.coboundedI) auto"], ["proof (state)\nthis:\n  c2 /\n  min 1 (min ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n  \\<le> c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) \\<le> c4", "have \"c2 / min 1 ((bs!i + (hs ! i) x / x) powr (p+1)) \\<le> c4\""], ["proof (prove)\nusing this:\n  c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) \\<le> c4\n\ngoal (1 subgoal):\n 1. c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) \\<le> c4", "."], ["proof (state)\nthis:\n  c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) \\<le> c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < k; x\\<^sub>1 \\<le> ?x2\\<rbrakk>\n  \\<Longrightarrow> c2 /\n                    min 1 ((bs ! ?i2 + (hs ! ?i2) ?x2 / ?x2) powr (p + 1))\n                    \\<le> c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note c4 = this"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < k; x\\<^sub>1 \\<le> ?x2\\<rbrakk>\n  \\<Longrightarrow> c2 /\n                    min 1 ((bs ! ?i2 + (hs ! ?i2) ?x2 / ?x2) powr (p + 1))\n                    \\<le> c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < k; x\\<^sub>1 \\<le> ?x2\\<rbrakk>\n  \\<Longrightarrow> c2 /\n                    min 1 ((bs ! ?i2 + (hs ! ?i2) ?x2 / ?x2) powr (p + 1))\n                    \\<le> c4\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x :: real and i :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<ge> x\\<^sub>1\" and i: \"i < k\""], ["proof (state)\nthis:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>1", "have x_pos: \"x > 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 < x", "by simp"], ["proof (state)\nthis:\n  0 < x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?x' = \"bs ! i * x + (hs ! i) x\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?x'' = \"bs ! i + (hs ! i) x / x\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x x1_ge_1 i g_growth2' x0_le_x1 c2_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  1 \\<le> x\\<^sub>1\n  i < k\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k;\n   ?u \\<in> {bs ! ?i * ?x + (hs ! ?i) ?x..?x}\\<rbrakk>\n  \\<Longrightarrow> g ?u \\<le> c2 * g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < c2", "have c2: \"c2 > 0\" \"\\<forall>u\\<in>{?x'..x}. g u \\<le> c2 * g x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  1 \\<le> x\\<^sub>1\n  i < k\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k;\n   ?u \\<in> {bs ! ?i * ?x + (hs ! ?i) ?x..?x}\\<rbrakk>\n  \\<Longrightarrow> g ?u \\<le> c2 * g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < c2\n\ngoal (1 subgoal):\n 1. 0 < c2 &&&\n    \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x", "by auto"], ["proof (state)\nthis:\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x0_le_x1 x i"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k", "have x'_le_x: \"?x' \\<le> x\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x \\<le> x", "by (intro step_le_x) simp_all"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m = \"min (?x' powr (p + 1)) (x powr (p + 1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define m' where \"m' = min 1 (?x'' powr (p + 1))\""], ["proof (state)\nthis:\n  m' = min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have [simp]: \"bs ! i > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < bs ! i", "by (intro b_pos nth_mem) (simp add: i length_bs)"], ["proof (state)\nthis:\n  0 < bs ! i\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x0_le_x1 x i"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k", "have [simp]: \"?x' > 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "by (intro step_pos) simp_all"], ["proof (state)\nthis:\n  0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume u: \"u \\<ge> ?x'\" \"u \\<le> x\""], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?m \\<le> u powr (p + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n    \\<le> u powr (p + 1)", "using x u"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n\ngoal (1 subgoal):\n 1. min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n    \\<le> u powr (p + 1)", "by (intro powr_lower_bound mult_pos_pos) simp_all"], ["proof (state)\nthis:\n  min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  \\<le> u powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  \\<le> u powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from c2 and u"], ["proof (chain)\npicking this:\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x", "have \"g u \\<le> c2 * g x\""], ["proof (prove)\nusing this:\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n\ngoal (1 subgoal):\n 1. g u \\<le> c2 * g x", "by simp"], ["proof (state)\nthis:\n  g u \\<le> c2 * g x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  \\<le> u powr (p + 1)\n  g u \\<le> c2 * g x", "have \"g u * ?m \\<le> c2 * g x * u powr (p + 1)\""], ["proof (prove)\nusing this:\n  min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  \\<le> u powr (p + 1)\n  g u \\<le> c2 * g x\n\ngoal (1 subgoal):\n 1. g u * min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n    \\<le> c2 * g x * u powr (p + 1)", "using c2 x x1_pos x0_le_x1"], ["proof (prove)\nusing this:\n  min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  \\<le> u powr (p + 1)\n  g u \\<le> c2 * g x\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>1\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. g u * min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n    \\<le> c2 * g x * u powr (p + 1)", "by (intro mult_mono mult_nonneg_nonneg g_nonneg) auto"], ["proof (state)\nthis:\n  g u * min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  \\<le> c2 * g x * u powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>bs ! i * x + (hs ! i) x \\<le> ?u2; ?u2 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> g ?u2 *\n                    min ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                     (x powr (p + 1))\n                    \\<le> c2 * g x * ?u2 powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"integral (\\<lambda>u. g u / u powr (p+1)) ?x' x \\<le> integral (\\<lambda>u. c2 * g x / ?m) ?x' x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>bs ! i * x + (hs ! i) x \\<le> ?u2; ?u2 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> g ?u2 *\n                    min ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                     (x powr (p + 1))\n                    \\<le> c2 * g x * ?u2 powr (p + 1)\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n    \\<le> integral\n           (\\<lambda>u.\n               c2 * g x /\n               min ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                (x powr (p + 1)))\n           (bs ! i * x + (hs ! i) x) x", "using x_pos step_pos[OF i x] x0_hb_bound7[OF x i] c2 x x0_le_x1"], ["proof (prove)\nusing this:\n  \\<lbrakk>bs ! i * x + (hs ! i) x \\<le> ?u2; ?u2 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> g ?u2 *\n                    min ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                     (x powr (p + 1))\n                    \\<le> c2 * g x * ?u2 powr (p + 1)\n  0 < x\n  0 < bs ! i * x + (hs ! i) x\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n    \\<le> integral\n           (\\<lambda>u.\n               c2 * g x /\n               min ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                (x powr (p + 1)))\n           (bs ! i * x + (hs ! i) x) x", "by (intro integral_le x'_le_x akra_bazzi_integrable ballI integrable_const)\n         (auto simp: field_simps intro!: mult_nonneg_nonneg g_nonneg)"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> integral\n         (\\<lambda>u.\n             c2 * g x /\n             min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n         (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> integral\n         (\\<lambda>u.\n             c2 * g x /\n             min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n         (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x0_pos x x0_le_x1 x'_le_x c2"], ["proof (chain)\npicking this:\n  0 < x\\<^sub>0\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  bs ! i * x + (hs ! i) x \\<le> x\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x", "have \"... = (x - ?x') * (c2 * g x / ?m)\""], ["proof (prove)\nusing this:\n  0 < x\\<^sub>0\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  bs ! i * x + (hs ! i) x \\<le> x\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n\ngoal (1 subgoal):\n 1. integral\n     (\\<lambda>u.\n         c2 * g x /\n         min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n     (bs ! i * x + (hs ! i) x) x =\n    (x - (bs ! i * x + (hs ! i) x)) *\n    (c2 * g x /\n     min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))", "by (subst integral_const) (simp_all add: g_nonneg)"], ["proof (state)\nthis:\n  integral\n   (\\<lambda>u.\n       c2 * g x /\n       min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n   (bs ! i * x + (hs ! i) x) x =\n  (x - (bs ! i * x + (hs ! i) x)) *\n  (c2 * g x / min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  integral\n   (\\<lambda>u.\n       c2 * g x /\n       min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n   (bs ! i * x + (hs ! i) x) x =\n  (x - (bs ! i * x + (hs ! i) x)) *\n  (c2 * g x / min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from c2 x_pos x x0_le_x1"], ["proof (chain)\npicking this:\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n  0 < x\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"c2 * g x \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 < c2\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. g u \\<le> c2 * g x\n  0 < x\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 \\<le> c2 * g x", "by (intro mult_nonneg_nonneg g_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> c2 * g x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with x i x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 \\<le> c2 * g x", "have \"(x - ?x') * (c2 * g x / ?m) \\<le> x * (c2 * g x / ?m)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 \\<le> c2 * g x\n\ngoal (1 subgoal):\n 1. (x - (bs ! i * x + (hs ! i) x)) *\n    (c2 * g x /\n     min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n    \\<le> x *\n          (c2 * g x /\n           min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))", "by (intro x0_hb_bound3 mult_right_mono) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  (x - (bs ! i * x + (hs ! i) x)) *\n  (c2 * g x / min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n  \\<le> x *\n        (c2 * g x /\n         min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  (x - (bs ! i * x + (hs ! i) x)) *\n  (c2 * g x / min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n  \\<le> x *\n        (c2 * g x /\n         min ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x powr (p + 1) = x powr (p + 1) * 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x powr (p + 1) = x powr (p + 1) * 1", "by simp"], ["proof (state)\nthis:\n  x powr (p + 1) = x powr (p + 1) * 1\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  x powr (p + 1) = x powr (p + 1) * 1\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(bs ! i * x + (hs ! i) x) powr (p + 1) =\n               (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr (p + 1) =\n    (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)", "using x x1_pos step_pos[OF i x] x_pos i x0_le_x1"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>1\n  0 < bs ! i * x + (hs ! i) x\n  0 < x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. (bs ! i * x + (hs ! i) x) powr (p + 1) =\n    (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)", "by (subst powr_mult[symmetric]) (simp add: field_simps, simp, simp add: algebra_simps)"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr (p + 1) =\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  (bs ! i * x + (hs ! i) x) powr (p + 1) =\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"... = x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1) =\n    x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1)", "by simp"], ["proof (state)\nthis:\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1) =\n  x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1) =\n  x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"min ... (x powr (p + 1) * 1) = x powr (p + 1) * m'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n     (x powr (p + 1) * 1) =\n    x powr (p + 1) * m'", "unfolding m'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. min (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n     (x powr (p + 1) * 1) =\n    x powr (p + 1) * min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))", "using x_pos"], ["proof (prove)\nusing this:\n  0 < x\n\ngoal (1 subgoal):\n 1. min (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n     (x powr (p + 1) * 1) =\n    x powr (p + 1) * min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))", "by (subst min.commute, intro min_mult_left[symmetric]) simp"], ["proof (state)\nthis:\n  min (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n   (x powr (p + 1) * 1) =\n  x powr (p + 1) * m'\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  min (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n   (x powr (p + 1) * 1) =\n  x powr (p + 1) * m'\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x_pos"], ["proof (chain)\npicking this:\n  0 < x", "have \"x * (c2 * g x / (x powr (p + 1) * m')) = (c2/m') * (g x / x powr p)\""], ["proof (prove)\nusing this:\n  0 < x\n\ngoal (1 subgoal):\n 1. x * (c2 * g x / (x powr (p + 1) * m')) = c2 / m' * (g x / x powr p)", "by (simp add: field_simps powr_add)"], ["proof (state)\nthis:\n  x * (c2 * g x / (x powr (p + 1) * m')) = c2 / m' * (g x / x powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  x * (c2 * g x / (x powr (p + 1) * m')) = c2 / m' * (g x / x powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x i g_nonneg x0_le_x1 x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < x\\<^sub>1", "have \"... \\<le> c4 * (g x / x powr p)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. c2 / m' * (g x / x powr p) \\<le> c4 * (g x / x powr p)", "unfolding m'_def"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. c2 / min 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) * (g x / x powr p)\n    \\<le> c4 * (g x / x powr p)", "by (intro mult_right_mono c4) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  c2 / m' * (g x / x powr p) \\<le> c4 * (g x / x powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * (g x / x powr p)", "have \"g_approx i x \\<le> c4 * g x\""], ["proof (prove)\nusing this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * (g x / x powr p)\n\ngoal (1 subgoal):\n 1. g_approx i x \\<le> c4 * g x", "unfolding g_approx_def"], ["proof (prove)\nusing this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * (g x / x powr p)\n\ngoal (1 subgoal):\n 1. x powr p *\n    integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n    \\<le> c4 * g x", "using x_pos"], ["proof (prove)\nusing this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * (g x / x powr p)\n  0 < x\n\ngoal (1 subgoal):\n 1. x powr p *\n    integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n    \\<le> c4 * g x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  g_approx i x \\<le> c4 * g x\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x2; ?i2 < k\\<rbrakk>\n  \\<Longrightarrow> g_approx ?i2 ?x2 \\<le> c4 * g ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x2; ?i2 < k\\<rbrakk>\n  \\<Longrightarrow> g_approx ?i2 ?x2 \\<le> c4 * g ?x2\n\ngoal (1 subgoal):\n 1. thesis", "using that \\<open>c4 > 0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x2; ?i2 < k\\<rbrakk>\n  \\<Longrightarrow> g_approx ?i2 ?x2 \\<le> c4 * g ?x2\n  \\<lbrakk>\\<And>x i.\n              \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n              \\<Longrightarrow> g_approx i x \\<le> ?c4.0 * g x;\n   0 < ?c4.0\\<rbrakk>\n  \\<Longrightarrow> thesis\n  0 < c4\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma f_approx_bounded_above:\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f_approx x \\<le> c\" \"c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m1 = \"max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m2 = \"max (x\\<^sub>0 powr (-(p+1))) (x\\<^sub>1 powr (-(p+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m3 = \"gb2 * ?m2\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m4 = \"1 + (x\\<^sub>1 - x\\<^sub>0) * ?m3\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?int = \"\\<lambda>x. integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<ge> x\\<^sub>0\" \"x \\<le> x\\<^sub>1\""], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with x0_pos"], ["proof (chain)\npicking this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"x powr p \\<le> ?m1\" \"?m1 \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x powr p \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) &&&\n    0 \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)", "by (intro powr_upper_bound) (simp_all add: max_def)"], ["proof (state)\nthis:\n  x powr p \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  0 \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  x powr p \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  0 \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  x powr p \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  0 \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume u: \"u \\<in> {x\\<^sub>0..x}\""], ["proof (state)\nthis:\n  u \\<in> {x\\<^sub>0..x}\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"g u / u powr (p + 1) = g u * u powr (-(p+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g u / u powr (p + 1) = g u * u powr - (p + 1)", "by (subst powr_minus) (simp add: field_simps)"], ["proof (state)\nthis:\n  g u / u powr (p + 1) = g u * u powr - (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  g u / u powr (p + 1) = g u * u powr - (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from u x x0_pos"], ["proof (chain)\npicking this:\n  u \\<in> {x\\<^sub>0..x}\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 < x\\<^sub>0", "have \"u powr (-(p+1)) \\<le> ?m2\""], ["proof (prove)\nusing this:\n  u \\<in> {x\\<^sub>0..x}\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. u powr - (p + 1)\n    \\<le> max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))", "by (intro powr_upper_bound) simp_all"], ["proof (state)\nthis:\n  u powr - (p + 1)\n  \\<le> max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"g u * u powr (-(p+1)) \\<le> g u * ?m2\""], ["proof (prove)\nusing this:\n  u powr - (p + 1)\n  \\<le> max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. g u * u powr - (p + 1)\n    \\<le> g u * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))", "using u g_nonneg x0_pos"], ["proof (prove)\nusing this:\n  u powr - (p + 1)\n  \\<le> max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n  u \\<in> {x\\<^sub>0..x}\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. g u * u powr - (p + 1)\n    \\<le> g u * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))", "by (intro mult_left_mono) simp_all"], ["proof (state)\nthis:\n  g u * u powr - (p + 1)\n  \\<le> g u * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  g u * u powr - (p + 1)\n  \\<le> g u * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x u x0_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  u \\<in> {x\\<^sub>0..x}\n  0 < x\\<^sub>0", "have \"g u \\<le> gb2\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  u \\<in> {x\\<^sub>0..x}\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. g u \\<le> gb2", "by (intro g_bounded) simp_all"], ["proof (state)\nthis:\n  g u \\<le> gb2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"g u * ?m2 \\<le> gb2 * ?m2\""], ["proof (prove)\nusing this:\n  g u \\<le> gb2\n\ngoal (1 subgoal):\n 1. g u * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n    \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))", "by (intro mult_right_mono) (simp_all add: max_def)"], ["proof (state)\nthis:\n  g u * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  g u / u powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))", "have \"g u / u powr (p + 1) \\<le> ?m3\""], ["proof (prove)\nusing this:\n  g u / u powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. g u / u powr (p + 1)\n    \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))", "."], ["proof (state)\nthis:\n  g u / u powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?u2 \\<in> {x\\<^sub>0..x} \\<Longrightarrow>\n  g ?u2 / ?u2 powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note A = this"], ["proof (state)\nthis:\n  ?u2 \\<in> {x\\<^sub>0..x} \\<Longrightarrow>\n  g ?u2 / ?u2 powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  ?u2 \\<in> {x\\<^sub>0..x} \\<Longrightarrow>\n  g ?u2 / ?u2 powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from A x gb2_nonneg"], ["proof (chain)\npicking this:\n  ?u2 \\<in> {x\\<^sub>0..x} \\<Longrightarrow>\n  g ?u2 / ?u2 powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 \\<le> gb2", "have \"?int x \\<le> integral (\\<lambda>_. ?m3) x\\<^sub>0 x\""], ["proof (prove)\nusing this:\n  ?u2 \\<in> {x\\<^sub>0..x} \\<Longrightarrow>\n  g ?u2 / ?u2 powr (p + 1)\n  \\<le> gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 \\<le> gb2\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n    \\<le> integral\n           (\\<lambda>_.\n               gb2 *\n               max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n           x\\<^sub>0 x", "by (intro integral_le akra_bazzi_integrable integrable_const mult_nonneg_nonneg)\n           (simp_all add: le_max_iff_disj)"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> integral\n         (\\<lambda>_.\n             gb2 *\n             max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n         x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> integral\n         (\\<lambda>_.\n             gb2 *\n             max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n         x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x gb2_nonneg"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 \\<le> gb2", "have \"... \\<le> (x - x\\<^sub>0) * ?m3\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 \\<le> gb2\n\ngoal (1 subgoal):\n 1. integral\n     (\\<lambda>_.\n         gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n     x\\<^sub>0 x\n    \\<le> (x - x\\<^sub>0) *\n          (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))", "by (subst integral_const) (simp_all add: le_max_iff_disj)"], ["proof (state)\nthis:\n  integral\n   (\\<lambda>_.\n       gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n   x\\<^sub>0 x\n  \\<le> (x - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  integral\n   (\\<lambda>_.\n       gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n   x\\<^sub>0 x\n  \\<le> (x - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x gb2_nonneg"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 \\<le> gb2", "have \"... \\<le> (x\\<^sub>1 - x\\<^sub>0) * ?m3\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  0 \\<le> gb2\n\ngoal (1 subgoal):\n 1. (x - x\\<^sub>0) *\n    (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n    \\<le> (x\\<^sub>1 - x\\<^sub>0) *\n          (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))", "by (intro mult_right_mono mult_nonneg_nonneg) (simp_all add: max_def)"], ["proof (state)\nthis:\n  (x - x\\<^sub>0) *\n  (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n  \\<le> (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))", "have \"1 + ?int x \\<le> ?m4\""], ["proof (prove)\nusing this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n\ngoal (1 subgoal):\n 1. 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n    \\<le> 1 +\n          (x\\<^sub>1 - x\\<^sub>0) *\n          (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))", "by simp"], ["proof (state)\nthis:\n  1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> 1 +\n        (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> 1 +\n        (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> 1 +\n        (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x g_nonneg x0_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  0 < x\\<^sub>0", "have \"?int x \\<ge> 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0 \\<le> integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "by (intro integral_nonneg akra_bazzi_integrable) (simp_all add: powr_def field_simps)"], ["proof (state)\nthis:\n  0 \\<le> integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"1 + ?int x \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. 0 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "by simp"], ["proof (state)\nthis:\n  0 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  x powr p \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  0 \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> 1 +\n        (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n  0 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "have \"f_approx x \\<le> ?m1 * ?m4\""], ["proof (prove)\nusing this:\n  x powr p \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  0 \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> 1 +\n        (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n  0 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. f_approx x\n    \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n          (1 +\n           (x\\<^sub>1 - x\\<^sub>0) *\n           (gb2 *\n            max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))))", "unfolding f_approx_def"], ["proof (prove)\nusing this:\n  x powr p \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  0 \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p)\n  1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n  \\<le> 1 +\n        (x\\<^sub>1 - x\\<^sub>0) *\n        (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))\n  0 \\<le> 1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x\n\ngoal (1 subgoal):\n 1. x powr p * (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x)\n    \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n          (1 +\n           (x\\<^sub>1 - x\\<^sub>0) *\n           (gb2 *\n            max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))))", "by (intro mult_mono)"], ["proof (state)\nthis:\n  f_approx x\n  \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n        (1 +\n         (x\\<^sub>1 - x\\<^sub>0) *\n         (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"f_approx x \\<le> max 1 (?m1 * ?m4)\""], ["proof (prove)\nusing this:\n  f_approx x\n  \\<le> max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n        (1 +\n         (x\\<^sub>1 - x\\<^sub>0) *\n         (gb2 * max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1))))\n\ngoal (1 subgoal):\n 1. f_approx x\n    \\<le> max 1\n           (max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n            (1 +\n             (x\\<^sub>1 - x\\<^sub>0) *\n             (gb2 *\n              max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))))", "by simp"], ["proof (state)\nthis:\n  f_approx x\n  \\<le> max 1\n         (max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n          (1 +\n           (x\\<^sub>1 - x\\<^sub>0) *\n           (gb2 *\n            max (x\\<^sub>0 powr - (p + 1)) (x\\<^sub>1 powr - (p + 1)))))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f_approx ?x2\n                    \\<le> max 1\n                           (max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n                            (1 +\n                             (x\\<^sub>1 - x\\<^sub>0) *\n                             (gb2 *\n                              max (x\\<^sub>0 powr - (p + 1))\n                               (x\\<^sub>1 powr - (p + 1)))))\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from that[OF this]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x.\n              \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n              \\<Longrightarrow> x\\<^sub>0 \\<le> x;\n   \\<And>x.\n      \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n      \\<Longrightarrow> x \\<le> x\\<^sub>1;\n   0 < max 1\n        (max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n         (1 +\n          (x\\<^sub>1 - x\\<^sub>0) *\n          (gb2 *\n           max (x\\<^sub>0 powr - (p + 1))\n            (x\\<^sub>1 powr - (p + 1)))))\\<rbrakk>\n  \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x.\n              \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n              \\<Longrightarrow> x\\<^sub>0 \\<le> x;\n   \\<And>x.\n      \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n      \\<Longrightarrow> x \\<le> x\\<^sub>1;\n   0 < max 1\n        (max (x\\<^sub>0 powr p) (x\\<^sub>1 powr p) *\n         (1 +\n          (x\\<^sub>1 - x\\<^sub>0) *\n          (gb2 *\n           max (x\\<^sub>0 powr - (p + 1))\n            (x\\<^sub>1 powr - (p + 1)))))\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma f_bounded_below:\n  assumes c': \"c' > 0\"\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x\" \"c \\<le> c'\" \"c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain c where c: \"\\<And>x. x\\<^sub>0 \\<le> x \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f_approx x \\<le> c\" \"c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f_approx x \\<le> c;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule f_approx_bounded_above) blast"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f_approx ?x \\<le> c\n  0 < c\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f_approx ?x \\<le> c\n  0 < c\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x\\<^sub>0 \\<le> x\" \"x \\<le> x\\<^sub>1\""], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with c"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f_approx ?x \\<le> c\n  0 < c\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"inverse c * f_approx x \\<le> 1\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f_approx ?x \\<le> c\n  0 < c\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. inverse c * f_approx x \\<le> 1", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  inverse c * f_approx x \\<le> 1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  inverse c * f_approx x \\<le> 1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x f_base2 x0_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> fb2 \\<le> f ?x\n  0 < x\\<^sub>0", "have \"f x \\<ge> fb2\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> fb2 \\<le> f ?x\n  0 < x\\<^sub>0\n\ngoal (1 subgoal):\n 1. fb2 \\<le> f x", "by auto"], ["proof (state)\nthis:\n  fb2 \\<le> f x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  inverse c * f_approx x \\<le> 1\n  fb2 \\<le> f x", "have \"inverse c * f_approx x * fb2 \\<le> 1 * f x\""], ["proof (prove)\nusing this:\n  inverse c * f_approx x \\<le> 1\n  fb2 \\<le> f x\n\ngoal (1 subgoal):\n 1. inverse c * f_approx x * fb2 \\<le> 1 * f x", "using fb2_pos"], ["proof (prove)\nusing this:\n  inverse c * f_approx x \\<le> 1\n  fb2 \\<le> f x\n  0 < fb2\n\ngoal (1 subgoal):\n 1. inverse c * f_approx x * fb2 \\<le> 1 * f x", "by (intro mult_mono) simp_all"], ["proof (state)\nthis:\n  inverse c * f_approx x * fb2 \\<le> 1 * f x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"inverse c * fb2 * f_approx x \\<le> f x\""], ["proof (prove)\nusing this:\n  inverse c * f_approx x * fb2 \\<le> 1 * f x\n\ngoal (1 subgoal):\n 1. inverse c * fb2 * f_approx x \\<le> f x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  inverse c * fb2 * f_approx x \\<le> f x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  inverse c * fb2 * f_approx x \\<le> f x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"min c' (inverse c * fb2) * f_approx x \\<le> inverse c * fb2 * f_approx x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min c' (inverse c * fb2) * f_approx x \\<le> inverse c * fb2 * f_approx x", "using f_approx_nonneg x c"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f_approx ?x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f_approx ?x \\<le> c\n  0 < c\n\ngoal (1 subgoal):\n 1. min c' (inverse c * fb2) * f_approx x \\<le> inverse c * fb2 * f_approx x", "by (intro mult_right_mono f_approx_nonneg) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  min c' (inverse c * fb2) * f_approx x \\<le> inverse c * fb2 * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  inverse c * fb2 * f_approx x \\<le> f x\n  min c' (inverse c * fb2) * f_approx x \\<le> inverse c * fb2 * f_approx x", "have \"2 * (min c' (inverse c * fb2) / 2 * f_approx x) \\<le> f x\""], ["proof (prove)\nusing this:\n  inverse c * fb2 * f_approx x \\<le> f x\n  min c' (inverse c * fb2) * f_approx x \\<le> inverse c * fb2 * f_approx x\n\ngoal (1 subgoal):\n 1. 2 * (min c' (inverse c * fb2) / 2 * f_approx x) \\<le> f x", "by simp"], ["proof (state)\nthis:\n  2 * (min c' (inverse c * fb2) / 2 * f_approx x) \\<le> f x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (min c' (inverse c * fb2) / 2 * f_approx ?x2)\n                    \\<le> f ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (min c' (inverse c * fb2) / 2 * f_approx ?x2)\n                    \\<le> f ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from c'"], ["proof (chain)\npicking this:\n  0 < c'", "have \"min c' (inverse c * fb2) / 2 \\<le> c'\""], ["proof (prove)\nusing this:\n  0 < c'\n\ngoal (1 subgoal):\n 1. min c' (inverse c * fb2) / 2 \\<le> c'", "by simp"], ["proof (state)\nthis:\n  min c' (inverse c * fb2) / 2 \\<le> c'\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  min c' (inverse c * fb2) / 2 \\<le> c'\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"min c' (inverse c * fb2) / 2 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < min c' (inverse c * fb2) / 2", "using c fb2_pos c'"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f_approx ?x \\<le> c\n  0 < c\n  0 < fb2\n  0 < c'\n\ngoal (1 subgoal):\n 1. 0 < min c' (inverse c * fb2) / 2", "by simp"], ["proof (state)\nthis:\n  0 < min c' (inverse c * fb2) / 2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c * f_approx x) \\<le> f x;\n         c \\<le> c'; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (min c' (inverse c * fb2) / 2 * f_approx ?x2)\n                    \\<le> f ?x2\n  min c' (inverse c * fb2) / 2 \\<le> c'\n  0 < min c' (inverse c * fb2) / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (min c' (inverse c * fb2) / 2 * f_approx ?x2)\n                    \\<le> f ?x2\n  min c' (inverse c * fb2) / 2 \\<le> c'\n  0 < min c' (inverse c * fb2) / 2\n\ngoal (1 subgoal):\n 1. thesis", "by (rule that)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma akra_bazzi_lower:\n  obtains c5 where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> f x \\<ge> c5 * f_approx x\" \"c5 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain c4 where c4: \"\\<And>x i. x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> g_approx i x \\<le> c4 * g x\" \"c4 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c4.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> g_approx i x \\<le> c4 * g x;\n         0 < c4\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule g_bounds2) blast"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> g_approx ?i ?x \\<le> c4 * g ?x\n  0 < c4\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"inverse c4 / 2 > 0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> g_approx ?i ?x \\<le> c4 * g ?x\n  0 < c4\n\ngoal (1 subgoal):\n 1. 0 < inverse c4 / 2", "by simp"], ["proof (state)\nthis:\n  0 < inverse c4 / 2\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < inverse c4 / 2", "obtain c5 where c5: \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> 2 * (c5 * f_approx x) \\<le> f x\"\n                           \"c5 \\<le> inverse c4 / 2\" \"c5 > 0\""], ["proof (prove)\nusing this:\n  0 < inverse c4 / 2\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> 2 * (c5 * f_approx x) \\<le> f x;\n         c5 \\<le> inverse c4 / 2; 0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule f_bounded_below) blast"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x :: real"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<ge> x\\<^sub>0\""], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from c5 x"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n  x\\<^sub>0 \\<le> x", "have  \" c5 * 1 * f_approx x \\<le> c5 * (1 + ln x powr (- e / 2)) * f_approx x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. c5 * 1 * f_approx x \\<le> c5 * (1 + ln x powr (- e / 2)) * f_approx x", "by (intro mult_right_mono mult_left_mono f_approx_nonneg) simp_all"], ["proof (state)\nthis:\n  c5 * 1 * f_approx x \\<le> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  c5 * 1 * f_approx x \\<le> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x", "have \"c5 * (1 + ln x powr (-e/2)) * f_approx x \\<le> f x\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x", "proof (induction x rule: akra_bazzi_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "case (base x)"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "have \"1 + ln x powr (-e/2) \\<le> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + ln x powr (- e / 2) \\<le> 2", "using asymptotics3 base"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow>\n  (1 + ln ?x powr (- e / 2)) / 2 \\<le> 1\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 1 + ln x powr (- e / 2) \\<le> 2", "by simp"], ["proof (state)\nthis:\n  1 + ln x powr (- e / 2) \\<le> 2\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "hence \"(1 + ln x powr (-e/2)) * (c5 * f_approx x) \\<le> 2 * (c5 * f_approx x)\""], ["proof (prove)\nusing this:\n  1 + ln x powr (- e / 2) \\<le> 2\n\ngoal (1 subgoal):\n 1. (1 + ln x powr (- e / 2)) * (c5 * f_approx x)\n    \\<le> 2 * (c5 * f_approx x)", "using c5 f_approx_nonneg base x0_ge_1"], ["proof (prove)\nusing this:\n  1 + ln x powr (- e / 2) \\<le> 2\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f_approx ?x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. (1 + ln x powr (- e / 2)) * (c5 * f_approx x)\n    \\<le> 2 * (c5 * f_approx x)", "by (intro mult_right_mono mult_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  (1 + ln x powr (- e / 2)) * (c5 * f_approx x) \\<le> 2 * (c5 * f_approx x)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "also"], ["proof (state)\nthis:\n  (1 + ln x powr (- e / 2)) * (c5 * f_approx x) \\<le> 2 * (c5 * f_approx x)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "from base"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"2 * (c5 * f_approx x) \\<le> f x\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 2 * (c5 * f_approx x) \\<le> f x", "by (intro c5) simp_all"], ["proof (state)\nthis:\n  2 * (c5 * f_approx x) \\<le> f x\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "finally"], ["proof (chain)\npicking this:\n  (1 + ln x powr (- e / 2)) * (c5 * f_approx x) \\<le> f x", "show ?case"], ["proof (prove)\nusing this:\n  (1 + ln x powr (- e / 2)) * (c5 * f_approx x) \\<le> f x\n\ngoal (1 subgoal):\n 1. c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "case (rec x)"], ["proof (state)\nthis:\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow>\n  c5 * (1 + ln (bs ! ?i * x + (hs ! ?i) x) powr (- e / 2)) *\n  f_approx (bs ! ?i * x + (hs ! ?i) x)\n  \\<le> f (bs ! ?i * x + (hs ! ?i) x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "let ?a = \"\\<lambda>i. as!i\" and ?b = \"\\<lambda>i. bs!i\" and ?h = \"\\<lambda>i. hs!i\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "let ?int = \"integral (\\<lambda>u. g u / u powr (p+1)) x\\<^sub>0 x\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "let ?int1 = \"\\<lambda>i. integral (\\<lambda>u. g u / u powr (p+1)) x\\<^sub>0 (?b i*x+?h i x)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "let ?int2 = \"\\<lambda>i. integral (\\<lambda>u. g u / u powr (p+1)) (?b i*x+?h i x) x\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "let ?l = \"ln x powr (-e/2)\" and ?l' = \"\\<lambda>i. ln (?b i*x + ?h i x) powr (-e/2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "from rec and x0_le_x1 x0_ge_1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow>\n  c5 * (1 + ln (bs ! ?i * x + (hs ! ?i) x) powr (- e / 2)) *\n  f_approx (bs ! ?i * x + (hs ! ?i) x)\n  \\<le> f (bs ! ?i * x + (hs ! ?i) x)\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  1 \\<le> x\\<^sub>0", "have x: \"x \\<ge> x\\<^sub>0\" and x_gt_1: \"x > 1\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow>\n  c5 * (1 + ln (bs ! ?i * x + (hs ! ?i) x) powr (- e / 2)) *\n  f_approx (bs ! ?i * x + (hs ! ?i) x)\n  \\<le> f (bs ! ?i * x + (hs ! ?i) x)\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x &&& 1 < x", "by simp_all"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  1 < x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "with x0_pos"], ["proof (chain)\npicking this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  1 < x", "have x_pos: \"x > 0\" and x_nonneg: \"x \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  1 < x\n\ngoal (1 subgoal):\n 1. 0 < x &&& 0 \\<le> x", "by simp_all"], ["proof (state)\nthis:\n  0 < x\n  0 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "from c5 c4"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> g_approx ?i ?x \\<le> c4 * g ?x\n  0 < c4", "have \"c5 * c4 \\<le> 1/2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> g_approx ?i ?x \\<le> c4 * g ?x\n  0 < c4\n\ngoal (1 subgoal):\n 1. c5 * c4 \\<le> 1 / 2", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  c5 * c4 \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "moreover"], ["proof (state)\nthis:\n  c5 * c4 \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "from asymptotics3 x"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow>\n  (1 + ln ?x powr (- e / 2)) / 2 \\<le> 1\n  x\\<^sub>0 \\<le> x", "have \"(1 + ?l) \\<le> 2\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow>\n  (1 + ln ?x powr (- e / 2)) / 2 \\<le> 1\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. 1 + ln x powr (- e / 2) \\<le> 2", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  1 + ln x powr (- e / 2) \\<le> 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "ultimately"], ["proof (chain)\npicking this:\n  c5 * c4 \\<le> 1 / 2\n  1 + ln x powr (- e / 2) \\<le> 2", "have \"(c5*c4)*(1 + ?l) \\<le> (1/2) * 2\""], ["proof (prove)\nusing this:\n  c5 * c4 \\<le> 1 / 2\n  1 + ln x powr (- e / 2) \\<le> 2\n\ngoal (1 subgoal):\n 1. c5 * c4 * (1 + ln x powr (- e / 2)) \\<le> 1 / 2 * 2", "by (rule mult_mono) simp_all"], ["proof (state)\nthis:\n  c5 * c4 * (1 + ln x powr (- e / 2)) \\<le> 1 / 2 * 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "hence \"0 \\<le> 1 - c5*c4*(1 + ?l)\""], ["proof (prove)\nusing this:\n  c5 * c4 * (1 + ln x powr (- e / 2)) \\<le> 1 / 2 * 2\n\ngoal (1 subgoal):\n 1. 0 \\<le> 1 - c5 * c4 * (1 + ln x powr (- e / 2))", "by simp"], ["proof (state)\nthis:\n  0 \\<le> 1 - c5 * c4 * (1 + ln x powr (- e / 2))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "with g_nonneg[OF x]"], ["proof (chain)\npicking this:\n  0 \\<le> g x\n  0 \\<le> 1 - c5 * c4 * (1 + ln x powr (- e / 2))", "have \"0 \\<le> g x * ...\""], ["proof (prove)\nusing this:\n  0 \\<le> g x\n  0 \\<le> 1 - c5 * c4 * (1 + ln x powr (- e / 2))\n\ngoal (1 subgoal):\n 1. 0 \\<le> g x * (1 - c5 * c4 * (1 + ln x powr (- e / 2)))", "by (intro mult_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> g x * (1 - c5 * c4 * (1 + ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "hence \"c5 * (1 + ?l) * f_approx x \\<le> c5 * (1 + ?l) * f_approx x + g x - c5*c4*(1 + ?l) * g x\""], ["proof (prove)\nusing this:\n  0 \\<le> g x * (1 - c5 * c4 * (1 + ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. c5 * (1 + ln x powr (- e / 2)) * f_approx x\n    \\<le> c5 * (1 + ln x powr (- e / 2)) * f_approx x + g x -\n          c5 * c4 * (1 + ln x powr (- e / 2)) * g x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x\n  \\<le> c5 * (1 + ln x powr (- e / 2)) * f_approx x + g x -\n        c5 * c4 * (1 + ln x powr (- e / 2)) * g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "also"], ["proof (state)\nthis:\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x\n  \\<le> c5 * (1 + ln x powr (- e / 2)) * f_approx x + g x -\n        c5 * c4 * (1 + ln x powr (- e / 2)) * g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "from x_gt_1"], ["proof (chain)\npicking this:\n  1 < x", "have \"... = c5 * x powr p * (1 + ?l) * (1 + ?int - c4*g x/x powr p) + g x\""], ["proof (prove)\nusing this:\n  1 < x\n\ngoal (1 subgoal):\n 1. c5 * (1 + ln x powr (- e / 2)) * f_approx x + g x -\n    c5 * c4 * (1 + ln x powr (- e / 2)) * g x =\n    c5 * x powr p * (1 + ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c4 * g x / x powr p) +\n    g x", "by (simp add: field_simps f_approx_def powr_minus)"], ["proof (state)\nthis:\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x + g x -\n  c5 * c4 * (1 + ln x powr (- e / 2)) * g x =\n  c5 * x powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p) +\n  g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "also"], ["proof (state)\nthis:\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x + g x -\n  c5 * c4 * (1 + ln x powr (- e / 2)) * g x =\n  c5 * x powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p) +\n  g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "have \"c5 * x powr p * (1 + ?l) * (1 + ?int - c4*g x/x powr p) =\n                 (\\<Sum>i<k. (?a i * ?b i powr p) * (c5 * x powr p * (1 + ?l) * (1 + ?int - c4*g x/x powr p)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c5 * x powr p * (1 + ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c4 * g x / x powr p) =\n    (\\<Sum>i<k.\n        as ! i * bs ! i powr p *\n        (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n         (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          c4 * g x / x powr p)))", "by (subst sum_distrib_right[symmetric]) (simp add: p_props)"], ["proof (state)\nthis:\n  c5 * x powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p) =\n  (\\<Sum>i<k.\n      as ! i * bs ! i powr p *\n      (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n       (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n        c4 * g x / x powr p)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "also"], ["proof (state)\nthis:\n  c5 * x powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p) =\n  (\\<Sum>i<k.\n      as ! i * bs ! i powr p *\n      (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n       (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n        c4 * g x / x powr p)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "have \"... \\<le> (\\<Sum>i<k. ?a i * f (?b i*x + ?h i x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k.\n        as ! i * bs ! i powr p *\n        (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n         (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          c4 * g x / x powr p)))\n    \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))", "proof (intro sum_mono, clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "assume i: \"i < k\""], ["proof (state)\nthis:\n  i < k\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "let ?f = \"c5 * ?a i * (?b i * x) powr p\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "from rec.hyps i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  i < k", "have \"x\\<^sub>0 < bs ! i * x + (hs ! i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  i < k\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "by (intro x0_hb_bound7) simp_all"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "hence \"1 + ?int1 i \\<ge> 1\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. 1 \\<le> 1 +\n            integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n             (bs ! i * x + (hs ! i) x)", "by (intro f_approx_aux x0_hb_bound7) simp_all"], ["proof (state)\nthis:\n  1 \\<le> 1 +\n          integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n           (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "hence int_nonneg: \"1 + ?int1 i \\<ge> 0\""], ["proof (prove)\nusing this:\n  1 \\<le> 1 +\n          integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n           (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> 1 +\n            integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n             (bs ! i * x + (hs ! i) x)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> 1 +\n          integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n           (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "have \"(?a i * ?b i powr p) * (c5 * x powr p * (1 + ?l) * (1 + ?int - c4*g x/x powr p)) =\n            ?f * (1 + ?l) * (1 + ?int - c4*g x/x powr p)\" (is \"?expr = ?A * ?B\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr p *\n    (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n     (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n      c4 * g x / x powr p)) =\n    c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c4 * g x / x powr p)", "using x_pos b_pos[of \"bs!i\"] i"], ["proof (prove)\nusing this:\n  0 < x\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  i < k\n\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr p *\n    (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n     (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n      c4 * g x / x powr p)) =\n    c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c4 * g x / x powr p)", "by (subst powr_mult) simp_all"], ["proof (state)\nthis:\n  as ! i * bs ! i powr p *\n  (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n   (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    c4 * g x / x powr p)) =\n  c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  as ! i * bs ! i powr p *\n  (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n   (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    c4 * g x / x powr p)) =\n  c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "from rec.hyps i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  i < k", "have \"g_approx i x \\<le> c4 * g x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  i < k\n\ngoal (1 subgoal):\n 1. g_approx i x \\<le> c4 * g x", "by (intro c4) simp_all"], ["proof (state)\nthis:\n  g_approx i x \\<le> c4 * g x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "hence \"c4*g x/x powr p \\<ge> ?int2 i\""], ["proof (prove)\nusing this:\n  g_approx i x \\<le> c4 * g x\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n    \\<le> c4 * g x / x powr p", "unfolding g_approx_def"], ["proof (prove)\nusing this:\n  x powr p *\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * g x\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n    \\<le> c4 * g x / x powr p", "using x_pos"], ["proof (prove)\nusing this:\n  x powr p *\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * g x\n  0 < x\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n    \\<le> c4 * g x / x powr p", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * g x / x powr p\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "hence \"?A * ?B \\<le> ?A * (1 + (?int - ?int2 i))\""], ["proof (prove)\nusing this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * g x / x powr p\n\ngoal (1 subgoal):\n 1. c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c4 * g x / x powr p)\n    \\<le> c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n          (1 +\n           (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n            integral (\\<lambda>u. g u / u powr (p + 1))\n             (bs ! i * x + (hs ! i) x) x))", "using i c5 a_ge_0"], ["proof (prove)\nusing this:\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n  \\<le> c4 * g x / x powr p\n  i < k\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n\ngoal (1 subgoal):\n 1. c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c4 * g x / x powr p)\n    \\<le> c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n          (1 +\n           (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n            integral (\\<lambda>u. g u / u powr (p + 1))\n             (bs ! i * x + (hs ! i) x) x))", "by (intro mult_left_mono mult_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p)\n  \\<le> c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n        (1 +\n         (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c4 * g x / x powr p)\n  \\<le> c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n        (1 +\n         (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "from rec.hyps i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  i < k", "have \"x\\<^sub>0 < bs ! i * x + (hs ! i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  i < k\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "by (intro x0_hb_bound7) simp_all"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "hence \"?int - ?int2 i = ?int1 i\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x)\n     x =\n    integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n     (bs ! i * x + (hs ! i) x)", "apply (subst diff_eq_eq, subst eq_commute)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>0 < bs ! i * x + (hs ! i) x;\n     x\\<^sub>0 < bs ! i * x + (hs ! i) x\\<rbrakk>\n    \\<Longrightarrow> integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n                       (bs ! i * x + (hs ! i) x) +\n                      integral (\\<lambda>u. g u / u powr (p + 1))\n                       (bs ! i * x + (hs ! i) x) x =\n                      integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n                       x", "apply (intro integral_combine akra_bazzi_integrable)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>x\\<^sub>0 < bs ! i * x + (hs ! i) x;\n     x\\<^sub>0 < bs ! i * x + (hs ! i) x\\<rbrakk>\n    \\<Longrightarrow> x\\<^sub>0 \\<le> bs ! i * x + (hs ! i) x\n 2. \\<lbrakk>x\\<^sub>0 < bs ! i * x + (hs ! i) x;\n     x\\<^sub>0 < bs ! i * x + (hs ! i) x\\<rbrakk>\n    \\<Longrightarrow> bs ! i * x + (hs ! i) x \\<le> x\n 3. \\<lbrakk>x\\<^sub>0 < bs ! i * x + (hs ! i) x;\n     x\\<^sub>0 < bs ! i * x + (hs ! i) x\\<rbrakk>\n    \\<Longrightarrow> x\\<^sub>0 \\<le> x\\<^sub>0\n 4. \\<lbrakk>x\\<^sub>0 < bs ! i * x + (hs ! i) x;\n     x\\<^sub>0 < bs ! i * x + (hs ! i) x\\<rbrakk>\n    \\<Longrightarrow> x\\<^sub>0 \\<le> x", "apply (insert rec.hyps step_le_x[OF i, of x], simp_all)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x =\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n   (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x =\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n   (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "have \"?A * (1 + ?int1 i) = (c5*?a i*(1 + ?int1 i)) * ((?b i*x) powr p * (1 + ?l))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) =\n    c5 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x) powr p * (1 + ln x powr (- e / 2)))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) =\n  c5 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x) powr p * (1 + ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  c5 * as ! i * (bs ! i * x) powr p * (1 + ln x powr (- e / 2)) *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) =\n  c5 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x) powr p * (1 + ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "have \"... \\<le> (c5*?a i*(1 + ?int1 i)) * ((?b i*x + ?h i x) powr p * (1 + ?l' i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c5 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x) powr p * (1 + ln x powr (- e / 2)))\n    \\<le> c5 * as ! i *\n          (1 +\n           integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n            (bs ! i * x + (hs ! i) x)) *\n          ((bs ! i * x + (hs ! i) x) powr p *\n           (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))", "using rec.hyps i c5 a_ge_0 int_nonneg"], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  i < k\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> 2 * (c5 * f_approx ?x) \\<le> f ?x\n  c5 \\<le> inverse c4 / 2\n  0 < c5\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  0 \\<le> 1 +\n          integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n           (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. c5 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x) powr p * (1 + ln x powr (- e / 2)))\n    \\<le> c5 * as ! i *\n          (1 +\n           integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n            (bs ! i * x + (hs ! i) x)) *\n          ((bs ! i * x + (hs ! i) x) powr p *\n           (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))", "by (intro mult_left_mono asymptotics1' mult_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  c5 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x) powr p * (1 + ln x powr (- e / 2)))\n  \\<le> c5 * as ! i *\n        (1 +\n         integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n          (bs ! i * x + (hs ! i) x)) *\n        ((bs ! i * x + (hs ! i) x) powr p *\n         (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  c5 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x) powr p * (1 + ln x powr (- e / 2)))\n  \\<le> c5 * as ! i *\n        (1 +\n         integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n          (bs ! i * x + (hs ! i) x)) *\n        ((bs ! i * x + (hs ! i) x) powr p *\n         (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "have \"... = ?a i*(c5*(1 + ?l' i)*f_approx (?b i*x + ?h i x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c5 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x + (hs ! i) x) powr p *\n     (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))) =\n    as ! i *\n    (c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n     f_approx (bs ! i * x + (hs ! i) x))", "by (simp add: algebra_simps f_approx_def)"], ["proof (state)\nthis:\n  c5 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x + (hs ! i) x) powr p *\n   (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))) =\n  as ! i *\n  (c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n   f_approx (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "also"], ["proof (state)\nthis:\n  c5 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x + (hs ! i) x) powr p *\n   (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2))) =\n  as ! i *\n  (c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n   f_approx (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "from i"], ["proof (chain)\npicking this:\n  i < k", "have \"... \\<le> ?a i * f (?b i*x + ?h i x)\""], ["proof (prove)\nusing this:\n  i < k\n\ngoal (1 subgoal):\n 1. as ! i *\n    (c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n     f_approx (bs ! i * x + (hs ! i) x))\n    \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "by (intro mult_left_mono a_ge_0 rec.IH) simp_all"], ["proof (state)\nthis:\n  as ! i *\n  (c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n   f_approx (bs ! i * x + (hs ! i) x))\n  \\<le> as ! i * f (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * bs ! i powr p *\n       (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n        (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c4 * g x / x powr p))\n       \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "finally"], ["proof (chain)\npicking this:\n  as ! i * bs ! i powr p *\n  (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n   (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    c4 * g x / x powr p))\n  \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "show \"?expr \\<le> ?a i * f (?b i*x + ?h i x)\""], ["proof (prove)\nusing this:\n  as ! i * bs ! i powr p *\n  (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n   (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    c4 * g x / x powr p))\n  \\<le> as ! i * f (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. as ! i * bs ! i powr p *\n    (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n     (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n      c4 * g x / x powr p))\n    \\<le> as ! i * f (bs ! i * x + (hs ! i) x)", "."], ["proof (state)\nthis:\n  as ! i * bs ! i powr p *\n  (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n   (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    c4 * g x / x powr p))\n  \\<le> as ! i * f (bs ! i * x + (hs ! i) x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i<k.\n      as ! i * bs ! i powr p *\n      (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n       (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n        c4 * g x / x powr p)))\n  \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<k.\n      as ! i * bs ! i powr p *\n      (c5 * x powr p * (1 + ln x powr (- e / 2)) *\n       (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n        c4 * g x / x powr p)))\n  \\<le> (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "have \"... + g x = f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x = f x", "using f_rec[of x] rec.hyps x0_le_x1"], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x \\<Longrightarrow>\n  f x = g x + (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n  x\\<^sub>1 < x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x = f x", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x = f x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           c5 * (1 + ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x)\n           \\<le> f (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> c5 * (1 + ln x powr (- e / 2)) * f_approx x\n                         \\<le> f x", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow> x + g x \\<le> y + g x) \\<Longrightarrow>\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x", "show ?case"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow> x + g x \\<le> y + g x) \\<Longrightarrow>\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x\n\ngoal (1 subgoal):\n 1. c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x", "by simp"], ["proof (state)\nthis:\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c5 * (1 + ln x powr (- e / 2)) * f_approx x \\<le> f x\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  c5 * 1 * f_approx x \\<le> f x", "have \"c5 * f_approx x \\<le> f x\""], ["proof (prove)\nusing this:\n  c5 * 1 * f_approx x \\<le> f x\n\ngoal (1 subgoal):\n 1. c5 * f_approx x \\<le> f x", "by simp"], ["proof (state)\nthis:\n  c5 * f_approx x \\<le> f x\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> ?x2 \\<Longrightarrow> c5 * f_approx ?x2 \\<le> f ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>c5.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    c5 * f_approx x \\<le> f x;\n         0 < c5\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from this and c5(3)"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> ?x2 \\<Longrightarrow> c5 * f_approx ?x2 \\<le> f ?x2\n  0 < c5", "show ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> ?x2 \\<Longrightarrow> c5 * f_approx ?x2 \\<le> f ?x2\n  0 < c5\n\ngoal (1 subgoal):\n 1. thesis", "by (rule that)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma akra_bazzi_bigomega:\n  \"f \\<in> \\<Omega>(\\<lambda>x. x powr p * (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> \\<Omega>(\\<lambda>x.\n                        x powr p *\n                        (1 +\n                         integral (\\<lambda>u. g u / u powr (p + 1))\n                          x\\<^sub>0 x))", "apply (fold f_approx_def, rule akra_bazzi_lower, erule landau_omega.bigI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c5.\n       (\\<And>x.\n           x\\<^sub>0 \\<le> x \\<Longrightarrow>\n           c5 * f_approx x \\<le> f x) \\<Longrightarrow>\n       \\<forall>\\<^sub>F x in at_top.\n          c5 * norm (f_approx x) \\<le> norm (f x)", "apply (subst eventually_at_top_linorder, rule exI[of _ x\\<^sub>0])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c5.\n       (\\<And>x.\n           x\\<^sub>0 \\<le> x \\<Longrightarrow>\n           c5 * f_approx x \\<le> f x) \\<Longrightarrow>\n       \\<forall>n\\<ge>x\\<^sub>0. c5 * norm (f_approx n) \\<le> norm (f n)", "apply (simp add: f_nonneg f_approx_nonneg)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"], ["", "locale akra_bazzi_real_upper = akra_bazzi_real +\n  fixes fb1 c1 :: real\n  assumes f_base1:   \"x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f x \\<le> fb1\"\n  and     g_growth1: \"\\<forall>x\\<ge>x\\<^sub>1. \\<forall>u\\<in>{C*x..x}. c1 * g x \\<le> g u\"\n  and     c1_pos:    \"c1 > 0\"\nbegin"], ["", "interpretation akra_bazzi_integral integrable integral"], ["proof (prove)\ngoal (1 subgoal):\n 1. akra_bazzi_integral integrable integral", "by (rule integral)"], ["", "lemma g_growth1':\n  assumes \"x \\<ge> x\\<^sub>1\" \"i < k\" \"u \\<in> {bs!i*x+(hs!i) x..x}\"\n  shows   \"c1 * g x \\<le> g u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 * g x \\<le> g u", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. c1 * g x \\<le> g u", "from assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}", "have \"C*x \\<le> bs!i*x+(hs!i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n\ngoal (1 subgoal):\n 1. C * x \\<le> bs ! i * x + (hs ! i) x", "by (intro Cx_le_step)"], ["proof (state)\nthis:\n  C * x \\<le> bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. c1 * g x \\<le> g u", "with assms"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  C * x \\<le> bs ! i * x + (hs ! i) x", "have \"u \\<in> {C*x..x}\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  C * x \\<le> bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. u \\<in> {C * x..x}", "by auto"], ["proof (state)\nthis:\n  u \\<in> {C * x..x}\n\ngoal (1 subgoal):\n 1. c1 * g x \\<le> g u", "with assms g_growth1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  \\<forall>x\\<ge>x\\<^sub>1. \\<forall>u\\<in>{C * x..x}. c1 * g x \\<le> g u\n  u \\<in> {C * x..x}", "show ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  u \\<in> {bs ! i * x + (hs ! i) x..x}\n  \\<forall>x\\<ge>x\\<^sub>1. \\<forall>u\\<in>{C * x..x}. c1 * g x \\<le> g u\n  u \\<in> {C * x..x}\n\ngoal (1 subgoal):\n 1. c1 * g x \\<le> g u", "by simp"], ["proof (state)\nthis:\n  c1 * g x \\<le> g u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma g_bounds1:\n  obtains c3 where\n    \"\\<And>x i. x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> c3 * g x \\<le> g_approx i x\" \"c3 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define c3 where \"c3 =\n    Min {c1*((1-b)/2) / max 1 (max ((b/2) powr (p+1)) ((b*3/2) powr (p+1))) |b. b \\<in> set bs}\""], ["proof (state)\nthis:\n  c3 =\n  Min {c1 * ((1 - b) / 2) /\n       max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n       b. b \\<in> set bs}\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  c3 =\n  Min {c1 * ((1 - b) / 2) /\n       max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n       b. b \\<in> set bs}\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix b"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume b: \"b \\<in> set bs\""], ["proof (state)\nthis:\n  b \\<in> set bs\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?x = \"max 1 (max ((b/2) powr (p+1)) ((b*3/2) powr (p+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?x \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "by simp"], ["proof (state)\nthis:\n  1 \\<le> max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"?x > 0\""], ["proof (prove)\nusing this:\n  1 \\<le> max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. 0 < max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "by (rule less_le_trans[OF zero_less_one])"], ["proof (state)\nthis:\n  0 < max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with b b_less_1 c1_pos"], ["proof (chain)\npicking this:\n  b \\<in> set bs\n  ?b \\<in> set bs \\<Longrightarrow> ?b < 1\n  0 < c1\n  0 < max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "have \"c1*((1-b)/2) / ?x > 0\""], ["proof (prove)\nusing this:\n  b \\<in> set bs\n  ?b \\<in> set bs \\<Longrightarrow> ?b < 1\n  0 < c1\n  0 < max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. 0 < c1 * ((1 - b) / 2) /\n        max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))", "by (intro divide_pos_pos mult_pos_pos) (simp_all add: algebra_simps)"], ["proof (state)\nthis:\n  0 < c1 * ((1 - b) / 2) /\n      max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?b2 \\<in> set bs \\<Longrightarrow>\n  0 < c1 * ((1 - ?b2) / 2) /\n      max 1 (max ((?b2 / 2) powr (p + 1)) ((?b2 * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"c3 > 0\""], ["proof (prove)\nusing this:\n  ?b2 \\<in> set bs \\<Longrightarrow>\n  0 < c1 * ((1 - ?b2) / 2) /\n      max 1 (max ((?b2 / 2) powr (p + 1)) ((?b2 * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. 0 < c3", "unfolding c3_def"], ["proof (prove)\nusing this:\n  ?b2 \\<in> set bs \\<Longrightarrow>\n  0 < c1 * ((1 - ?b2) / 2) /\n      max 1 (max ((?b2 / 2) powr (p + 1)) ((?b2 * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. 0 < Min {c1 * ((1 - b) / 2) /\n             max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n             b. b \\<in> set bs}", "by (subst Min_gr_iff) auto"], ["proof (state)\nthis:\n  0 < c3\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  0 < c3\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x i"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume i: \"i < k\" and x: \"x \\<ge> x\\<^sub>1\""], ["proof (state)\nthis:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with b_less_1"], ["proof (chain)\npicking this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b < 1\n  i < k\n  x\\<^sub>1 \\<le> x", "have b_less_1': \"bs ! i < 1\""], ["proof (prove)\nusing this:\n  ?b \\<in> set bs \\<Longrightarrow> ?b < 1\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. bs ! i < 1", "by simp"], ["proof (state)\nthis:\n  bs ! i < 1\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m = \"max 1 (max ((bs!i/2) powr (p+1)) ((bs!i*3/2) powr (p+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from i x"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 \\<le> x", "have \"c3 \\<le> c1*((1-bs!i)/2) / ?m\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. c3 \\<le> c1 * ((1 - bs ! i) / 2) /\n             max 1\n              (max ((bs ! i / 2) powr (p + 1))\n                ((bs ! i * 3 / 2) powr (p + 1)))", "unfolding c3_def"], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 \\<le> x\n\ngoal (1 subgoal):\n 1. Min {c1 * ((1 - b) / 2) /\n         max 1 (max ((b / 2) powr (p + 1)) ((b * 3 / 2) powr (p + 1))) |\n         b. b \\<in> set bs}\n    \\<le> c1 * ((1 - bs ! i) / 2) /\n          max 1\n           (max ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))", "by (intro Min.coboundedI) auto"], ["proof (state)\nthis:\n  c3 \\<le> c1 * ((1 - bs ! i) / 2) /\n           max 1\n            (max ((bs ! i / 2) powr (p + 1))\n              ((bs ! i * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  c3 \\<le> c1 * ((1 - bs ! i) / 2) /\n           max 1\n            (max ((bs ! i / 2) powr (p + 1))\n              ((bs ! i * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"max 1 ((bs!i + (hs ! i) x / x) powr (p+1)) \\<le> max 1 (max ((bs!i/2) powr (p+1)) ((bs!i*3/2) powr (p+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n    \\<le> max 1\n           (max ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))", "apply (insert x i x0_le_x1 x1_pos step_pos[OF i x] b_pos[OF b_in_bs[OF i]],\n             rule max.mono, simp, cases \"p + 1 \\<ge> 0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; x\\<^sub>0 \\<le> x\\<^sub>1;\n     0 < x\\<^sub>1; 0 < bs ! i * x + (hs ! i) x; 0 < bs ! i;\n     0 \\<le> p + 1\\<rbrakk>\n    \\<Longrightarrow> (bs ! i + (hs ! i) x / x) powr (p + 1)\n                      \\<le> max ((bs ! i / 2) powr (p + 1))\n                             ((bs ! i * 3 / 2) powr (p + 1))\n 2. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; x\\<^sub>0 \\<le> x\\<^sub>1;\n     0 < x\\<^sub>1; 0 < bs ! i * x + (hs ! i) x; 0 < bs ! i;\n     \\<not> 0 \\<le> p + 1\\<rbrakk>\n    \\<Longrightarrow> (bs ! i + (hs ! i) x / x) powr (p + 1)\n                      \\<le> max ((bs ! i / 2) powr (p + 1))\n                             ((bs ! i * 3 / 2) powr (p + 1))", "apply (rule order.trans[OF powr_mono2[OF _ _ x0_hb_bound5] max.cobounded2], simp_all add: field_simps) []"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x\\<^sub>1 \\<le> x; i < k; x\\<^sub>0 \\<le> x\\<^sub>1;\n     0 < x\\<^sub>1; 0 < bs ! i * x + (hs ! i) x; 0 < bs ! i;\n     \\<not> 0 \\<le> p + 1\\<rbrakk>\n    \\<Longrightarrow> (bs ! i + (hs ! i) x / x) powr (p + 1)\n                      \\<le> max ((bs ! i / 2) powr (p + 1))\n                             ((bs ! i * 3 / 2) powr (p + 1))", "apply (rule order.trans[OF powr_mono2'[OF _ _ x0_hb_bound4'] max.cobounded1], simp_all add: field_simps) []"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n  \\<le> max 1\n         (max ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with b_less_1' c1_pos"], ["proof (chain)\npicking this:\n  bs ! i < 1\n  0 < c1\n  max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n  \\<le> max 1\n         (max ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))", "have \"c1*((1-bs!i)/2) / ?m \\<le>\n          c1*((1-bs!i)/2) / max 1 ((bs!i + (hs ! i) x / x) powr (p+1))\""], ["proof (prove)\nusing this:\n  bs ! i < 1\n  0 < c1\n  max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n  \\<le> max 1\n         (max ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n\ngoal (1 subgoal):\n 1. c1 * ((1 - bs ! i) / 2) /\n    max 1 (max ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n    \\<le> c1 * ((1 - bs ! i) / 2) /\n          max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))", "by (intro divide_left_mono mult_nonneg_nonneg) (simp_all add: algebra_simps)"], ["proof (state)\nthis:\n  c1 * ((1 - bs ! i) / 2) /\n  max 1 (max ((bs ! i / 2) powr (p + 1)) ((bs ! i * 3 / 2) powr (p + 1)))\n  \\<le> c1 * ((1 - bs ! i) / 2) /\n        max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  c3 \\<le> c1 * ((1 - bs ! i) / 2) /\n           max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))", "have \"c3 \\<le> c1*((1-bs!i)/2) / max 1 ((bs!i + (hs ! i) x / x) powr (p+1))\""], ["proof (prove)\nusing this:\n  c3 \\<le> c1 * ((1 - bs ! i) / 2) /\n           max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n\ngoal (1 subgoal):\n 1. c3 \\<le> c1 * ((1 - bs ! i) / 2) /\n             max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))", "."], ["proof (state)\nthis:\n  c3 \\<le> c1 * ((1 - bs ! i) / 2) /\n           max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < k; x\\<^sub>1 \\<le> ?x2\\<rbrakk>\n  \\<Longrightarrow> c3 \\<le> c1 * ((1 - bs ! ?i2) / 2) /\n                             max 1\n                              ((bs ! ?i2 + (hs ! ?i2) ?x2 / ?x2) powr\n                               (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note c3 = this"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < k; x\\<^sub>1 \\<le> ?x2\\<rbrakk>\n  \\<Longrightarrow> c3 \\<le> c1 * ((1 - bs ! ?i2) / 2) /\n                             max 1\n                              ((bs ! ?i2 + (hs ! ?i2) ?x2 / ?x2) powr\n                               (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?i2 < k; x\\<^sub>1 \\<le> ?x2\\<rbrakk>\n  \\<Longrightarrow> c3 \\<le> c1 * ((1 - bs ! ?i2) / 2) /\n                             max 1\n                              ((bs ! ?i2 + (hs ! ?i2) ?x2 / ?x2) powr\n                               (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x :: real and i :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<ge> x\\<^sub>1\" and i: \"i < k\""], ["proof (state)\nthis:\n  x\\<^sub>1 \\<le> x\n  i < k\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x x1_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>1", "have x_pos: \"x > 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 < x", "by simp"], ["proof (state)\nthis:\n  0 < x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?x' = \"bs ! i * x + (hs ! i) x\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?x'' = \"bs ! i + (hs ! i) x / x\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x x1_ge_1 x0_le_x1 i c1_pos g_growth1'"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  1 \\<le> x\\<^sub>1\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  i < k\n  0 < c1\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k;\n   ?u \\<in> {bs ! ?i * ?x + (hs ! ?i) ?x..?x}\\<rbrakk>\n  \\<Longrightarrow> c1 * g ?x \\<le> g ?u", "have c1: \"c1 > 0\" \"\\<forall>u\\<in>{?x'..x}. g u \\<ge> c1 * g x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  1 \\<le> x\\<^sub>1\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  i < k\n  0 < c1\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k;\n   ?u \\<in> {bs ! ?i * ?x + (hs ! ?i) ?x..?x}\\<rbrakk>\n  \\<Longrightarrow> c1 * g ?x \\<le> g ?u\n\ngoal (1 subgoal):\n 1. 0 < c1 &&&\n    \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. c1 * g x \\<le> g u", "by auto"], ["proof (state)\nthis:\n  0 < c1\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. c1 * g x \\<le> g u\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define b' where \"b' = (1 - bs!i)/2\""], ["proof (state)\nthis:\n  b' = (1 - bs ! i) / 2\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x x0_le_x1 i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  i < k", "have x'_le_x: \"?x' \\<le> x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  i < k\n\ngoal (1 subgoal):\n 1. bs ! i * x + (hs ! i) x \\<le> x", "by (intro step_le_x) simp_all"], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?m = \"max (?x' powr (p + 1)) (x powr (p + 1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define m' where \"m' = max 1 (?x'' powr (p + 1))\""], ["proof (state)\nthis:\n  m' = max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have [simp]: \"bs ! i > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < bs ! i", "by (intro b_pos nth_mem) (simp add: i length_bs)"], ["proof (state)\nthis:\n  0 < bs ! i\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x x0_le_x1 i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  i < k", "have x'_pos: \"?x' > 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  i < k\n\ngoal (1 subgoal):\n 1. 0 < bs ! i * x + (hs ! i) x", "by (intro step_pos) simp_all"], ["proof (state)\nthis:\n  0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have m_pos: \"?m > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "unfolding max_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (if (bs ! i * x + (hs ! i) x) powr (p + 1) \\<le> x powr (p + 1)\n         then x powr (p + 1) else (bs ! i * x + (hs ! i) x) powr (p + 1))", "using x_pos step_pos[OF i x]"], ["proof (prove)\nusing this:\n  0 < x\n  0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. 0 < (if (bs ! i * x + (hs ! i) x) powr (p + 1) \\<le> x powr (p + 1)\n         then x powr (p + 1) else (bs ! i * x + (hs ! i) x) powr (p + 1))", "by auto"], ["proof (state)\nthis:\n  0 < max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with x x0_le_x1 c1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < c1\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. c1 * g x \\<le> g u\n  0 < max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "have c1_g_m_nonneg: \"c1 * g x / ?m \\<ge> 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < c1\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. c1 * g x \\<le> g u\n  0 < max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n\ngoal (1 subgoal):\n 1. 0 \\<le> c1 * g x /\n            max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "by (intro mult_nonneg_nonneg divide_nonneg_pos g_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> c1 * g x /\n          max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x i g_nonneg x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"c3 * (g x / x powr p) \\<le> (c1*b'/m') * (g x / x powr p)\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. c3 * (g x / x powr p) \\<le> c1 * b' / m' * (g x / x powr p)", "unfolding m'_def b'_def"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> g ?x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. c3 * (g x / x powr p)\n    \\<le> c1 * ((1 - bs ! i) / 2) /\n          max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) *\n          (g x / x powr p)", "by (intro mult_right_mono c3) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  c3 * (g x / x powr p) \\<le> c1 * b' / m' * (g x / x powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  c3 * (g x / x powr p) \\<le> c1 * b' / m' * (g x / x powr p)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x_pos"], ["proof (chain)\npicking this:\n  0 < x", "have \"... = (x * b') * (c1 * g x / (x powr (p + 1) * m'))\""], ["proof (prove)\nusing this:\n  0 < x\n\ngoal (1 subgoal):\n 1. c1 * b' / m' * (g x / x powr p) =\n    x * b' * (c1 * g x / (x powr (p + 1) * m'))", "by (simp add: field_simps powr_add)"], ["proof (state)\nthis:\n  c1 * b' / m' * (g x / x powr p) =\n  x * b' * (c1 * g x / (x powr (p + 1) * m'))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  c1 * b' / m' * (g x / x powr p) =\n  x * b' * (c1 * g x / (x powr (p + 1) * m'))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x i c1_pos x1_pos x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < c1\n  0 < x\\<^sub>1\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have \"... \\<le> (x - ?x') * (c1 * g x / (x powr (p + 1) * m'))\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < c1\n  0 < x\\<^sub>1\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x * b' * (c1 * g x / (x powr (p + 1) * m'))\n    \\<le> (x - (bs ! i * x + (hs ! i) x)) *\n          (c1 * g x / (x powr (p + 1) * m'))", "unfolding b'_def m'_def"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  i < k\n  0 < c1\n  0 < x\\<^sub>1\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x * ((1 - bs ! i) / 2) *\n    (c1 * g x /\n     (x powr (p + 1) * max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))))\n    \\<le> (x - (bs ! i * x + (hs ! i) x)) *\n          (c1 * g x /\n           (x powr (p + 1) *\n            max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1))))", "by (intro x0_hb_bound6 mult_right_mono mult_nonneg_nonneg\n                                        divide_nonneg_nonneg g_nonneg) simp_all"], ["proof (state)\nthis:\n  x * b' * (c1 * g x / (x powr (p + 1) * m'))\n  \\<le> (x - (bs ! i * x + (hs ! i) x)) * (c1 * g x / (x powr (p + 1) * m'))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  x * b' * (c1 * g x / (x powr (p + 1) * m'))\n  \\<le> (x - (bs ! i * x + (hs ! i) x)) * (c1 * g x / (x powr (p + 1) * m'))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x powr (p + 1) * m' =\n                 max (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1)) (x powr (p + 1) * 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x powr (p + 1) * m' =\n    max (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n     (x powr (p + 1) * 1)", "unfolding m'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x powr (p + 1) * max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) =\n    max (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n     (x powr (p + 1) * 1)", "using x_pos"], ["proof (prove)\nusing this:\n  0 < x\n\ngoal (1 subgoal):\n 1. x powr (p + 1) * max 1 ((bs ! i + (hs ! i) x / x) powr (p + 1)) =\n    max (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n     (x powr (p + 1) * 1)", "by (subst max.commute, intro max_mult_left) simp"], ["proof (state)\nthis:\n  x powr (p + 1) * m' =\n  max (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n   (x powr (p + 1) * 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  x powr (p + 1) * m' =\n  max (x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1))\n   (x powr (p + 1) * 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1)) =\n                 (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1) =\n    (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)", "by simp"], ["proof (state)\nthis:\n  x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1) =\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  x powr (p + 1) * (bs ! i + (hs ! i) x / x) powr (p + 1) =\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"... = (bs ! i * x + (hs ! i) x) powr (p + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1) =\n    (bs ! i * x + (hs ! i) x) powr (p + 1)", "using x x1_pos step_pos[OF i x] x_pos i x0_le_x1 x_pos"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  0 < x\\<^sub>1\n  0 < bs ! i * x + (hs ! i) x\n  0 < x\n  i < k\n  x\\<^sub>0 \\<le> x\\<^sub>1\n  0 < x\n\ngoal (1 subgoal):\n 1. (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1) =\n    (bs ! i * x + (hs ! i) x) powr (p + 1)", "by (subst powr_mult[symmetric]) (simp add: field_simps, simp, simp add: algebra_simps)"], ["proof (state)\nthis:\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1) =\n  (bs ! i * x + (hs ! i) x) powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  (bs ! i + (hs ! i) x / x) powr (p + 1) * x powr (p + 1) =\n  (bs ! i * x + (hs ! i) x) powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x powr (p + 1) * 1 = x powr (p + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x powr (p + 1) * 1 = x powr (p + 1)", "by simp"], ["proof (state)\nthis:\n  x powr (p + 1) * 1 = x powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  x powr (p + 1) * 1 = x powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(x - ?x') * (c1 * g x / ?m) = integral (\\<lambda>_. c1 * g x / ?m) ?x' x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - (bs ! i * x + (hs ! i) x)) *\n    (c1 * g x /\n     max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))) =\n    integral\n     (\\<lambda>_.\n         c1 * g x /\n         max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n     (bs ! i * x + (hs ! i) x) x", "using x'_le_x"], ["proof (prove)\nusing this:\n  bs ! i * x + (hs ! i) x \\<le> x\n\ngoal (1 subgoal):\n 1. (x - (bs ! i * x + (hs ! i) x)) *\n    (c1 * g x /\n     max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))) =\n    integral\n     (\\<lambda>_.\n         c1 * g x /\n         max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n     (bs ! i * x + (hs ! i) x) x", "by (subst integral_const[OF c1_g_m_nonneg]) auto"], ["proof (state)\nthis:\n  (x - (bs ! i * x + (hs ! i) x)) *\n  (c1 * g x /\n   max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))) =\n  integral\n   (\\<lambda>_.\n       c1 * g x /\n       max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n   (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  (x - (bs ! i * x + (hs ! i) x)) *\n  (c1 * g x /\n   max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))) =\n  integral\n   (\\<lambda>_.\n       c1 * g x /\n       max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n   (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  (x - (bs ! i * x + (hs ! i) x)) *\n  (c1 * g x /\n   max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))) =\n  integral\n   (\\<lambda>_.\n       c1 * g x /\n       max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n   (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume u: \"u \\<ge> ?x'\" \"u \\<le> x\""], ["proof (state)\nthis:\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"u powr (p + 1) \\<le> ?m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u powr (p + 1)\n    \\<le> max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "using x u x'_pos"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> x\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n  0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. u powr (p + 1)\n    \\<le> max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "by (intro powr_upper_bound mult_pos_pos) simp_all"], ["proof (state)\nthis:\n  u powr (p + 1)\n  \\<le> max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  u powr (p + 1)\n  \\<le> max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x'_pos u"], ["proof (chain)\npicking this:\n  0 < bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x", "have \"u \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 < bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n\ngoal (1 subgoal):\n 1. 0 \\<le> u", "by simp"], ["proof (state)\nthis:\n  0 \\<le> u\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 \\<le> u\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from c1 and u"], ["proof (chain)\npicking this:\n  0 < c1\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. c1 * g x \\<le> g u\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x", "have \"c1 * g x \\<le> g u\""], ["proof (prove)\nusing this:\n  0 < c1\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. c1 * g x \\<le> g u\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n\ngoal (1 subgoal):\n 1. c1 * g x \\<le> g u", "by simp"], ["proof (state)\nthis:\n  c1 * g x \\<le> g u\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  u powr (p + 1)\n  \\<le> max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  0 \\<le> u\n  c1 * g x \\<le> g u", "have \"c1 * g x * u powr (p + 1) \\<le> g u * ?m\""], ["proof (prove)\nusing this:\n  u powr (p + 1)\n  \\<le> max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  0 \\<le> u\n  c1 * g x \\<le> g u\n\ngoal (1 subgoal):\n 1. c1 * g x * u powr (p + 1)\n    \\<le> g u *\n          max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "using c1 x u x0_hb_bound7[OF x i]"], ["proof (prove)\nusing this:\n  u powr (p + 1)\n  \\<le> max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  0 \\<le> u\n  c1 * g x \\<le> g u\n  0 < c1\n  \\<forall>u\\<in>{bs ! i * x + (hs ! i) x..x}. c1 * g x \\<le> g u\n  x\\<^sub>1 \\<le> x\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. c1 * g x * u powr (p + 1)\n    \\<le> g u *\n          max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "by (intro mult_mono g_nonneg) auto"], ["proof (state)\nthis:\n  c1 * g x * u powr (p + 1)\n  \\<le> g u * max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with m_pos u step_pos[OF i x]"], ["proof (chain)\npicking this:\n  0 < max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n  0 < bs ! i * x + (hs ! i) x\n  c1 * g x * u powr (p + 1)\n  \\<le> g u * max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))", "have \"c1 * g x / ?m \\<le> g u / u powr (p + 1)\""], ["proof (prove)\nusing this:\n  0 < max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  bs ! i * x + (hs ! i) x \\<le> u\n  u \\<le> x\n  0 < bs ! i * x + (hs ! i) x\n  c1 * g x * u powr (p + 1)\n  \\<le> g u * max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n\ngoal (1 subgoal):\n 1. c1 * g x / max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n    \\<le> g u / u powr (p + 1)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  c1 * g x / max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1))\n  \\<le> g u / u powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>bs ! i * x + (hs ! i) x \\<le> ?u2; ?u2 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> c1 * g x /\n                    max ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                     (x powr (p + 1))\n                    \\<le> g ?u2 / ?u2 powr (p + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"integral (\\<lambda>_. c1 * g x / ?m) ?x' x \\<le> integral (\\<lambda>u. g u / u powr (p + 1)) ?x' x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>bs ! i * x + (hs ! i) x \\<le> ?u2; ?u2 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> c1 * g x /\n                    max ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                     (x powr (p + 1))\n                    \\<le> g ?u2 / ?u2 powr (p + 1)\n\ngoal (1 subgoal):\n 1. integral\n     (\\<lambda>_.\n         c1 * g x /\n         max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n     (bs ! i * x + (hs ! i) x) x\n    \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x", "using x0_hb_bound7[OF x i] x'_le_x"], ["proof (prove)\nusing this:\n  \\<lbrakk>bs ! i * x + (hs ! i) x \\<le> ?u2; ?u2 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> c1 * g x /\n                    max ((bs ! i * x + (hs ! i) x) powr (p + 1))\n                     (x powr (p + 1))\n                    \\<le> g ?u2 / ?u2 powr (p + 1)\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n  bs ! i * x + (hs ! i) x \\<le> x\n\ngoal (1 subgoal):\n 1. integral\n     (\\<lambda>_.\n         c1 * g x /\n         max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n     (bs ! i * x + (hs ! i) x) x\n    \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x", "by (intro integral_le ballI akra_bazzi_integrable integrable_const c1_g_m_nonneg) simp_all"], ["proof (state)\nthis:\n  integral\n   (\\<lambda>_.\n       c1 * g x /\n       max ((bs ! i * x + (hs ! i) x) powr (p + 1)) (x powr (p + 1)))\n   (bs ! i * x + (hs ! i) x) x\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  c3 * (g x / x powr p)\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x", "have \"c3 * g x \\<le> g_approx i x\""], ["proof (prove)\nusing this:\n  c3 * (g x / x powr p)\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. c3 * g x \\<le> g_approx i x", "using x_pos"], ["proof (prove)\nusing this:\n  c3 * (g x / x powr p)\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n  0 < x\n\ngoal (1 subgoal):\n 1. c3 * g x \\<le> g_approx i x", "unfolding g_approx_def"], ["proof (prove)\nusing this:\n  c3 * (g x / x powr p)\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n  0 < x\n\ngoal (1 subgoal):\n 1. c3 * g x\n    \\<le> x powr p *\n          integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  c3 * g x \\<le> g_approx i x\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x2; ?i2 < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x2 \\<le> g_approx ?i2 ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x2; ?i2 < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x2 \\<le> g_approx ?i2 ?x2\n\ngoal (1 subgoal):\n 1. thesis", "using that \\<open>c3 > 0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x2; ?i2 < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x2 \\<le> g_approx ?i2 ?x2\n  \\<lbrakk>\\<And>x i.\n              \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n              \\<Longrightarrow> ?c3.0 * g x \\<le> g_approx i x;\n   0 < ?c3.0\\<rbrakk>\n  \\<Longrightarrow> thesis\n  0 < c3\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma f_bounded_above:\n  assumes c': \"c' > 0\"\n  obtains c where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f x \\<le> (1/2) * (c * f_approx x)\" \"c \\<ge> c'\" \"c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain c where c: \"\\<And>x. x\\<^sub>0 \\<le> x \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f_approx x \\<ge> c\" \"c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> c \\<le> f_approx x;\n         0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule f_approx_bounded_below) blast"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> c \\<le> f_approx ?x\n  0 < c\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have fb1_nonneg: \"fb1 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> fb1", "using f_base1[of \"x\\<^sub>0\"] f_nonneg[of x\\<^sub>0] x0_le_x1"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> x\\<^sub>0; x\\<^sub>0 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f x\\<^sub>0 \\<le> fb1\n  x\\<^sub>0 \\<le> x\\<^sub>0 \\<Longrightarrow> 0 \\<le> f x\\<^sub>0\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 0 \\<le> fb1", "by simp"], ["proof (state)\nthis:\n  0 \\<le> fb1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  0 \\<le> fb1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<ge> x\\<^sub>0\" \"x \\<le> x\\<^sub>1\""], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with f_base1 x0_pos"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> fb1\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"f x \\<le> fb1\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> fb1\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. f x \\<le> fb1", "by simp"], ["proof (state)\nthis:\n  f x \\<le> fb1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  f x \\<le> fb1\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from c and x"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> c \\<le> f_approx ?x\n  0 < c\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"f_approx x \\<ge> c\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> c \\<le> f_approx ?x\n  0 < c\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. c \\<le> f_approx x", "by blast"], ["proof (state)\nthis:\n  c \\<le> f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  f x \\<le> fb1\n  c \\<le> f_approx x", "have \"f x * c \\<le> fb1 * f_approx x\""], ["proof (prove)\nusing this:\n  f x \\<le> fb1\n  c \\<le> f_approx x\n\ngoal (1 subgoal):\n 1. f x * c \\<le> fb1 * f_approx x", "using c fb1_nonneg"], ["proof (prove)\nusing this:\n  f x \\<le> fb1\n  c \\<le> f_approx x\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> c \\<le> f_approx ?x\n  0 < c\n  0 \\<le> fb1\n\ngoal (1 subgoal):\n 1. f x * c \\<le> fb1 * f_approx x", "by (intro mult_mono) simp_all"], ["proof (state)\nthis:\n  f x * c \\<le> fb1 * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  f x * c \\<le> fb1 * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from f_approx_nonneg x"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f_approx ?x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"... \\<le> (fb1 + 1) * f_approx x\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f_approx ?x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. fb1 * f_approx x \\<le> (fb1 + 1) * f_approx x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  fb1 * f_approx x \\<le> (fb1 + 1) * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  f x * c \\<le> (fb1 + 1) * f_approx x", "have \"f x \\<le> ((fb1+1) / c) * f_approx x\""], ["proof (prove)\nusing this:\n  f x * c \\<le> (fb1 + 1) * f_approx x\n\ngoal (1 subgoal):\n 1. f x \\<le> (fb1 + 1) / c * f_approx x", "by (simp add: field_simps c)"], ["proof (state)\nthis:\n  f x \\<le> (fb1 + 1) / c * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  f x \\<le> (fb1 + 1) / c * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"... \\<le> max ((fb1+1) / c) c' * f_approx x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (fb1 + 1) / c * f_approx x \\<le> max ((fb1 + 1) / c) c' * f_approx x", "by (intro mult_right_mono) (simp_all add: f_approx_nonneg x)"], ["proof (state)\nthis:\n  (fb1 + 1) / c * f_approx x \\<le> max ((fb1 + 1) / c) c' * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  f x \\<le> max ((fb1 + 1) / c) c' * f_approx x", "have \"f x \\<le> 1/2 * (max ((fb1+1) / c) c' * 2 * f_approx x)\""], ["proof (prove)\nusing this:\n  f x \\<le> max ((fb1 + 1) / c) c' * f_approx x\n\ngoal (1 subgoal):\n 1. f x \\<le> 1 / 2 * (max ((fb1 + 1) / c) c' * 2 * f_approx x)", "by simp"], ["proof (state)\nthis:\n  f x \\<le> 1 / 2 * (max ((fb1 + 1) / c) c' * 2 * f_approx x)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x2\n                    \\<le> 1 / 2 *\n                          (max ((fb1 + 1) / c) c' * 2 * f_approx ?x2)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x2\n                    \\<le> 1 / 2 *\n                          (max ((fb1 + 1) / c) c' * 2 * f_approx ?x2)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"max ((fb1+1) / c) c' * 2 \\<ge> max ((fb1+1) / c) c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max ((fb1 + 1) / c) c' \\<le> max ((fb1 + 1) / c) c' * 2", "by (subst mult_le_cancel_left1) (insert c', simp)"], ["proof (state)\nthis:\n  max ((fb1 + 1) / c) c' \\<le> max ((fb1 + 1) / c) c' * 2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"max ((fb1+1) / c) c' * 2 \\<ge> c'\""], ["proof (prove)\nusing this:\n  max ((fb1 + 1) / c) c' \\<le> max ((fb1 + 1) / c) c' * 2\n\ngoal (1 subgoal):\n 1. c' \\<le> max ((fb1 + 1) / c) c' * 2", "by (rule order.trans[OF max.cobounded2])"], ["proof (state)\nthis:\n  c' \\<le> max ((fb1 + 1) / c) c' * 2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  c' \\<le> max ((fb1 + 1) / c) c' * 2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from fb1_nonneg and c"], ["proof (chain)\npicking this:\n  0 \\<le> fb1\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> c \\<le> f_approx ?x\n  0 < c", "have \"(fb1+1) / c > 0\""], ["proof (prove)\nusing this:\n  0 \\<le> fb1\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> c \\<le> f_approx ?x\n  0 < c\n\ngoal (1 subgoal):\n 1. 0 < (fb1 + 1) / c", "by simp"], ["proof (state)\nthis:\n  0 < (fb1 + 1) / c\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"max ((fb1+1) / c) c' * 2 > 0\""], ["proof (prove)\nusing this:\n  0 < (fb1 + 1) / c\n\ngoal (1 subgoal):\n 1. 0 < max ((fb1 + 1) / c) c' * 2", "by simp"], ["proof (state)\nthis:\n  0 < max ((fb1 + 1) / c) c' * 2\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c * f_approx x);\n         c' \\<le> c; 0 < c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x2\n                    \\<le> 1 / 2 *\n                          (max ((fb1 + 1) / c) c' * 2 * f_approx ?x2)\n  c' \\<le> max ((fb1 + 1) / c) c' * 2\n  0 < max ((fb1 + 1) / c) c' * 2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x2; ?x2 \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x2\n                    \\<le> 1 / 2 *\n                          (max ((fb1 + 1) / c) c' * 2 * f_approx ?x2)\n  c' \\<le> max ((fb1 + 1) / c) c' * 2\n  0 < max ((fb1 + 1) / c) c' * 2\n\ngoal (1 subgoal):\n 1. thesis", "by (rule that)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma akra_bazzi_upper:\n  obtains c6 where \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> f x \\<le> c6 * f_approx x\" \"c6 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain c3 where c3: \"\\<And>x i. x \\<ge> x\\<^sub>1 \\<Longrightarrow> i < k \\<Longrightarrow> c3 * g x \\<le> g_approx i x\" \"c3 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        \\<lbrakk>\\<And>x i.\n                    \\<lbrakk>x\\<^sub>1 \\<le> x; i < k\\<rbrakk>\n                    \\<Longrightarrow> c3 * g x \\<le> g_approx i x;\n         0 < c3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule g_bounds1) blast"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x \\<le> g_approx ?i ?x\n  0 < c3\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"2 / c3 > 0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x \\<le> g_approx ?i ?x\n  0 < c3\n\ngoal (1 subgoal):\n 1. 0 < 2 / c3", "by simp"], ["proof (state)\nthis:\n  0 < 2 / c3\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < 2 / c3", "obtain c6 where c6: \"\\<And>x. x \\<ge> x\\<^sub>0 \\<Longrightarrow> x \\<le> x\\<^sub>1 \\<Longrightarrow> f x \\<le> 1/2 * (c6 * f_approx x)\"\n                           \"c6 \\<ge> 2 / c3\" \"c6 > 0\""], ["proof (prove)\nusing this:\n  0 < 2 / c3\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n                    \\<Longrightarrow> f x \\<le> 1 / 2 * (c6 * f_approx x);\n         2 / c3 \\<le> c6; 0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule f_bounded_above) blast"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x :: real"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<ge> x\\<^sub>0\""], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"f x \\<le> c6 * (1 - ln x powr (-e/2)) * f_approx x\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "proof (induction x rule: akra_bazzi_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "case (base x)"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "from base"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1", "have \"f x \\<le> 1/2 * (c6 * f_approx x)\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. f x \\<le> 1 / 2 * (c6 * f_approx x)", "by (intro c6) simp_all"], ["proof (state)\nthis:\n  f x \\<le> 1 / 2 * (c6 * f_approx x)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "also"], ["proof (state)\nthis:\n  f x \\<le> 1 / 2 * (c6 * f_approx x)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "have \"1 - ln x powr (-e/2) \\<ge> 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> 1 - ln x powr (- e / 2)", "using asymptotics4 base"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow>\n  1 \\<le> (1 - ln ?x powr (- e / 2)) * 2\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> 1 - ln x powr (- e / 2)", "by simp"], ["proof (state)\nthis:\n  1 / 2 \\<le> 1 - ln x powr (- e / 2)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "hence \"(1 - ln x powr (-e/2)) * (c6 * f_approx x) \\<ge> 1/2 * (c6 * f_approx x)\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> 1 - ln x powr (- e / 2)\n\ngoal (1 subgoal):\n 1. 1 / 2 * (c6 * f_approx x)\n    \\<le> (1 - ln x powr (- e / 2)) * (c6 * f_approx x)", "using c6 f_approx_nonneg base x0_ge_1"], ["proof (prove)\nusing this:\n  1 / 2 \\<le> 1 - ln x powr (- e / 2)\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  x\\<^sub>0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f_approx ?x\n  x\\<^sub>0 \\<le> x\n  x \\<le> x\\<^sub>1\n  1 \\<le> x\\<^sub>0\n\ngoal (1 subgoal):\n 1. 1 / 2 * (c6 * f_approx x)\n    \\<le> (1 - ln x powr (- e / 2)) * (c6 * f_approx x)", "by (intro mult_right_mono mult_nonneg_nonneg) simp_all"], ["proof (state)\nthis:\n  1 / 2 * (c6 * f_approx x)\n  \\<le> (1 - ln x powr (- e / 2)) * (c6 * f_approx x)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>0 \\<le> x; x \\<le> x\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n 2. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "finally"], ["proof (chain)\npicking this:\n  f x \\<le> (1 - ln x powr (- e / 2)) * (c6 * f_approx x)", "show ?case"], ["proof (prove)\nusing this:\n  f x \\<le> (1 - ln x powr (- e / 2)) * (c6 * f_approx x)\n\ngoal (1 subgoal):\n 1. f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "case (rec x)"], ["proof (state)\nthis:\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow>\n  f (bs ! ?i * x + (hs ! ?i) x)\n  \\<le> c6 * (1 - ln (bs ! ?i * x + (hs ! ?i) x) powr (- e / 2)) *\n        f_approx (bs ! ?i * x + (hs ! ?i) x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "let ?a = \"\\<lambda>i. as!i\" and ?b = \"\\<lambda>i. bs!i\" and ?h = \"\\<lambda>i. hs!i\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "let ?int = \"integral (\\<lambda>u. g u / u powr (p+1)) x\\<^sub>0 x\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "let ?int1 = \"\\<lambda>i. integral (\\<lambda>u. g u / u powr (p+1)) x\\<^sub>0 (?b i*x+?h i x)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "let ?int2 = \"\\<lambda>i. integral (\\<lambda>u. g u / u powr (p+1)) (?b i*x+?h i x) x\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "let ?l = \"ln x powr (-e/2)\" and ?l' = \"\\<lambda>i. ln (?b i*x + ?h i x) powr (-e/2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "from rec and x0_le_x1"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow>\n  f (bs ! ?i * x + (hs ! ?i) x)\n  \\<le> c6 * (1 - ln (bs ! ?i * x + (hs ! ?i) x) powr (- e / 2)) *\n        f_approx (bs ! ?i * x + (hs ! ?i) x)\n  x\\<^sub>0 \\<le> x\\<^sub>1", "have x: \"x \\<ge> x\\<^sub>0\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  ?i < k \\<Longrightarrow>\n  f (bs ! ?i * x + (hs ! ?i) x)\n  \\<le> c6 * (1 - ln (bs ! ?i * x + (hs ! ?i) x) powr (- e / 2)) *\n        f_approx (bs ! ?i * x + (hs ! ?i) x)\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 \\<le> x", "by simp"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "with x0_pos"], ["proof (chain)\npicking this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x", "have x_pos: \"x > 0\" and x_nonneg: \"x \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 < x\\<^sub>0\n  x\\<^sub>0 \\<le> x\n\ngoal (1 subgoal):\n 1. 0 < x &&& 0 \\<le> x", "by simp_all"], ["proof (state)\nthis:\n  0 < x\n  0 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "from c6 c3"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x \\<le> g_approx ?i ?x\n  0 < c3", "have \"c6 * c3 \\<ge> 2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x \\<le> g_approx ?i ?x\n  0 < c3\n\ngoal (1 subgoal):\n 1. 2 \\<le> c6 * c3", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  2 \\<le> c6 * c3\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "have \"f x = (\\<Sum>i<k. ?a i * f (?b i*x + ?h i x)) + g x\" (is \"_ = ?sum + _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. f x = (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x", "using f_rec[of x] rec.hyps x0_le_x1"], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x \\<Longrightarrow>\n  f x = g x + (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n  x\\<^sub>1 < x\n  x\\<^sub>0 \\<le> x\\<^sub>1\n\ngoal (1 subgoal):\n 1. f x = (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x", "by simp"], ["proof (state)\nthis:\n  f x = (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "also"], ["proof (state)\nthis:\n  f x = (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "have \"?sum \\<le> (\\<Sum>i<k. (?a i*?b i powr p) * (c6*x powr p*(1 - ?l)*(1 + ?int - c3*g x/x powr p)))\" (is \"_ \\<le> ?sum'\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n    \\<le> (\\<Sum>i<k.\n              as ! i * bs ! i powr p *\n              (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n               (1 +\n                integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n                c3 * g x / x powr p)))", "proof (rule sum_mono, clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "assume i: \"i < k\""], ["proof (state)\nthis:\n  i < k\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "from rec.hyps i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  i < k", "have \"x\\<^sub>0 < bs ! i * x + (hs ! i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  i < k\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "by (intro x0_hb_bound7) simp_all"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "hence \"1 + ?int1 i \\<ge> 1\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. 1 \\<le> 1 +\n            integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n             (bs ! i * x + (hs ! i) x)", "by (intro f_approx_aux x0_hb_bound7) simp_all"], ["proof (state)\nthis:\n  1 \\<le> 1 +\n          integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n           (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "hence int_nonneg: \"1 + ?int1 i \\<ge> 0\""], ["proof (prove)\nusing this:\n  1 \\<le> 1 +\n          integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n           (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> 1 +\n            integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n             (bs ! i * x + (hs ! i) x)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> 1 +\n          integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n           (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "have l_le_1: \"ln x powr -(e/2) \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln x powr - (e / 2) \\<le> 1", "using asymptotics3[OF x]"], ["proof (prove)\nusing this:\n  (1 + ln x powr (- e / 2)) / 2 \\<le> 1\n\ngoal (1 subgoal):\n 1. ln x powr - (e / 2) \\<le> 1", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  ln x powr - (e / 2) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "from i"], ["proof (chain)\npicking this:\n  i < k", "have \"f (?b i*x + ?h i x) \\<le> c6 * (1 - ?l' i) * f_approx (?b i*x + ?h i x)\""], ["proof (prove)\nusing this:\n  i < k\n\ngoal (1 subgoal):\n 1. f (bs ! i * x + (hs ! i) x)\n    \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n          f_approx (bs ! i * x + (hs ! i) x)", "by (rule rec.IH)"], ["proof (state)\nthis:\n  f (bs ! i * x + (hs ! i) x)\n  \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n        f_approx (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "hence \"?a i * f (?b i*x + ?h i x) \\<le> ?a i * ...\""], ["proof (prove)\nusing this:\n  f (bs ! i * x + (hs ! i) x)\n  \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n        f_approx (bs ! i * x + (hs ! i) x)\n\ngoal (1 subgoal):\n 1. as ! i * f (bs ! i * x + (hs ! i) x)\n    \\<le> as ! i *\n          (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x))", "using a_ge_0 i"], ["proof (prove)\nusing this:\n  f (bs ! i * x + (hs ! i) x)\n  \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n        f_approx (bs ! i * x + (hs ! i) x)\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  i < k\n\ngoal (1 subgoal):\n 1. as ! i * f (bs ! i * x + (hs ! i) x)\n    \\<le> as ! i *\n          (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n           f_approx (bs ! i * x + (hs ! i) x))", "by (intro mult_left_mono) simp_all"], ["proof (state)\nthis:\n  as ! i * f (bs ! i * x + (hs ! i) x)\n  \\<le> as ! i *\n        (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n         f_approx (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "also"], ["proof (state)\nthis:\n  as ! i * f (bs ! i * x + (hs ! i) x)\n  \\<le> as ! i *\n        (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n         f_approx (bs ! i * x + (hs ! i) x))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "have \"... = (c6*?a i*(1 + ?int1 i)) * ((?b i*x + ?h i x) powr p * (1 - ?l' i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. as ! i *\n    (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n     f_approx (bs ! i * x + (hs ! i) x)) =\n    c6 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x + (hs ! i) x) powr p *\n     (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))", "unfolding f_approx_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. as ! i *\n    (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n     ((bs ! i * x + (hs ! i) x) powr p *\n      (1 +\n       integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n        (bs ! i * x + (hs ! i) x)))) =\n    c6 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x + (hs ! i) x) powr p *\n     (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  as ! i *\n  (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n   f_approx (bs ! i * x + (hs ! i) x)) =\n  c6 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x + (hs ! i) x) powr p *\n   (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "also"], ["proof (state)\nthis:\n  as ! i *\n  (c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n   f_approx (bs ! i * x + (hs ! i) x)) =\n  c6 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x + (hs ! i) x) powr p *\n   (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "from i rec.hyps c6 a_ge_0"], ["proof (chain)\npicking this:\n  i < k\n  x\\<^sub>1 < x\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a", "have \"... \\<le> (c6*?a i*(1 + ?int1 i)) * ((?b i*x) powr p * (1 - ?l))\""], ["proof (prove)\nusing this:\n  i < k\n  x\\<^sub>1 < x\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n\ngoal (1 subgoal):\n 1. c6 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x + (hs ! i) x) powr p *\n     (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))\n    \\<le> c6 * as ! i *\n          (1 +\n           integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n            (bs ! i * x + (hs ! i) x)) *\n          ((bs ! i * x) powr p * (1 - ln x powr (- e / 2)))", "by (intro mult_left_mono asymptotics2' mult_nonneg_nonneg int_nonneg) simp_all"], ["proof (state)\nthis:\n  c6 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x + (hs ! i) x) powr p *\n   (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))\n  \\<le> c6 * as ! i *\n        (1 +\n         integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n          (bs ! i * x + (hs ! i) x)) *\n        ((bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "also"], ["proof (state)\nthis:\n  c6 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x + (hs ! i) x) powr p *\n   (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)))\n  \\<le> c6 * as ! i *\n        (1 +\n         integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n          (bs ! i * x + (hs ! i) x)) *\n        ((bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "have \"... = (1 + ?int1 i) * (c6*?a i*(?b i*x) powr p * (1 - ?l))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c6 * as ! i *\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    ((bs ! i * x) powr p * (1 - ln x powr (- e / 2))) =\n    (1 +\n     integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n      (bs ! i * x + (hs ! i) x)) *\n    (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  c6 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x) powr p * (1 - ln x powr (- e / 2))) =\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "also"], ["proof (state)\nthis:\n  c6 * as ! i *\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  ((bs ! i * x) powr p * (1 - ln x powr (- e / 2))) =\n  (1 +\n   integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n    (bs ! i * x + (hs ! i) x)) *\n  (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "from rec.hyps i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  i < k", "have \"x\\<^sub>0 < bs ! i * x + (hs ! i) x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  i < k\n\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x", "by (intro x0_hb_bound7) simp_all"], ["proof (state)\nthis:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "hence \"?int1 i = ?int - ?int2 i\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 < bs ! i * x + (hs ! i) x\n\ngoal (1 subgoal):\n 1. integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n     (bs ! i * x + (hs ! i) x) =\n    integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x", "apply (subst eq_diff_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x \\<Longrightarrow>\n    integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n     (bs ! i * x + (hs ! i) x) +\n    integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x)\n     x =\n    integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x", "apply (intro integral_combine akra_bazzi_integrable)"], ["proof (prove)\ngoal (4 subgoals):\n 1. x\\<^sub>0 < bs ! i * x + (hs ! i) x \\<Longrightarrow>\n    x\\<^sub>0 \\<le> bs ! i * x + (hs ! i) x\n 2. x\\<^sub>0 < bs ! i * x + (hs ! i) x \\<Longrightarrow>\n    bs ! i * x + (hs ! i) x \\<le> x\n 3. x\\<^sub>0 < bs ! i * x + (hs ! i) x \\<Longrightarrow>\n    x\\<^sub>0 \\<le> x\\<^sub>0\n 4. x\\<^sub>0 < bs ! i * x + (hs ! i) x \\<Longrightarrow> x\\<^sub>0 \\<le> x", "apply (insert rec.hyps step_le_x[OF i, of x], simp_all)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n   (bs ! i * x + (hs ! i) x) =\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "also"], ["proof (state)\nthis:\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0\n   (bs ! i * x + (hs ! i) x) =\n  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n  integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "from rec.hyps i"], ["proof (chain)\npicking this:\n  x\\<^sub>1 < x\n  i < k", "have \"c3 * g x \\<le> g_approx i x\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < x\n  i < k\n\ngoal (1 subgoal):\n 1. c3 * g x \\<le> g_approx i x", "by (intro c3) simp_all"], ["proof (state)\nthis:\n  c3 * g x \\<le> g_approx i x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "hence \"?int2 i \\<ge> c3*g x/x powr p\""], ["proof (prove)\nusing this:\n  c3 * g x \\<le> g_approx i x\n\ngoal (1 subgoal):\n 1. c3 * g x / x powr p\n    \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x", "unfolding g_approx_def"], ["proof (prove)\nusing this:\n  c3 * g x\n  \\<le> x powr p *\n        integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. c3 * g x / x powr p\n    \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x", "using x_pos"], ["proof (prove)\nusing this:\n  c3 * g x\n  \\<le> x powr p *\n        integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n  0 < x\n\ngoal (1 subgoal):\n 1. c3 * g x / x powr p\n    \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n           (bs ! i * x + (hs ! i) x) x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  c3 * g x / x powr p\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "hence \"(1 + (?int - ?int2 i)) * (c6*?a i*(?b i*x) powr p * (1 - ?l)) \\<le>\n             (1 + ?int - c3*g x/x powr p) * (c6*?a i*(?b i*x) powr p * (1 - ?l))\""], ["proof (prove)\nusing this:\n  c3 * g x / x powr p\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n\ngoal (1 subgoal):\n 1. (1 +\n     (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n      integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x)\n       x)) *\n    (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n    \\<le> (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n           c3 * g x / x powr p) *\n          (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))", "using i c6 a_ge_0 l_le_1"], ["proof (prove)\nusing this:\n  c3 * g x / x powr p\n  \\<le> integral (\\<lambda>u. g u / u powr (p + 1))\n         (bs ! i * x + (hs ! i) x) x\n  i < k\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  ?a \\<in> set as \\<Longrightarrow> 0 \\<le> ?a\n  ln x powr - (e / 2) \\<le> 1\n\ngoal (1 subgoal):\n 1. (1 +\n     (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n      integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x)\n       x)) *\n    (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n    \\<le> (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n           c3 * g x / x powr p) *\n          (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))", "by (intro mult_right_mono mult_nonneg_nonneg) (simp_all add: field_simps)"], ["proof (state)\nthis:\n  (1 +\n   (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x)\n     x)) *\n  (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n  \\<le> (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c3 * g x / x powr p) *\n        (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "also"], ["proof (state)\nthis:\n  (1 +\n   (integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    integral (\\<lambda>u. g u / u powr (p + 1)) (bs ! i * x + (hs ! i) x)\n     x)) *\n  (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n  \\<le> (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n         c3 * g x / x powr p) *\n        (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "have \"... = (?a i*?b i powr p) * (c6*x powr p*(1 - ?l) * (1 + ?int - c3*g x/x powr p))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c3 * g x / x powr p) *\n    (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2))) =\n    as ! i * bs ! i powr p *\n    (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n     (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n      c3 * g x / x powr p))", "using b_pos[of \"bs!i\"] x x0_pos i"], ["proof (prove)\nusing this:\n  bs ! i \\<in> set bs \\<Longrightarrow> 0 < bs ! i\n  x\\<^sub>0 \\<le> x\n  0 < x\\<^sub>0\n  i < k\n\ngoal (1 subgoal):\n 1. (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c3 * g x / x powr p) *\n    (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2))) =\n    as ! i * bs ! i powr p *\n    (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n     (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n      c3 * g x / x powr p))", "by (subst powr_mult) (simp_all add: algebra_simps)"], ["proof (state)\nthis:\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c3 * g x / x powr p) *\n  (c6 * as ! i * (bs ! i * x) powr p * (1 - ln x powr (- e / 2))) =\n  as ! i * bs ! i powr p *\n  (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n   (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n    c3 * g x / x powr p))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < k \\<Longrightarrow>\n       as ! i * f (bs ! i * x + (hs ! i) x)\n       \\<le> as ! i * bs ! i powr p *\n             (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n              (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n               c3 * g x / x powr p))", "finally"], ["proof (chain)\npicking this:\n  as ! i * f (bs ! i * x + (hs ! i) x)\n  \\<le> as ! i * bs ! i powr p *\n        (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n         (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          c3 * g x / x powr p))", "show \"?a i * f (?b i*x + ?h i x) \\<le> ...\""], ["proof (prove)\nusing this:\n  as ! i * f (bs ! i * x + (hs ! i) x)\n  \\<le> as ! i * bs ! i powr p *\n        (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n         (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          c3 * g x / x powr p))\n\ngoal (1 subgoal):\n 1. as ! i * f (bs ! i * x + (hs ! i) x)\n    \\<le> as ! i * bs ! i powr p *\n          (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n           (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n            c3 * g x / x powr p))", "."], ["proof (state)\nthis:\n  as ! i * f (bs ! i * x + (hs ! i) x)\n  \\<le> as ! i * bs ! i powr p *\n        (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n         (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          c3 * g x / x powr p))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n  \\<le> (\\<Sum>i<k.\n            as ! i * bs ! i powr p *\n            (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n             (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n              c3 * g x / x powr p)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "hence \"?sum + g x \\<le> ?sum' + g x\""], ["proof (prove)\nusing this:\n  (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x))\n  \\<le> (\\<Sum>i<k.\n            as ! i * bs ! i powr p *\n            (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n             (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n              c3 * g x / x powr p)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x\n    \\<le> (\\<Sum>i<k.\n              as ! i * bs ! i powr p *\n              (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n               (1 +\n                integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n                c3 * g x / x powr p))) +\n          g x", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x\n  \\<le> (\\<Sum>i<k.\n            as ! i * bs ! i powr p *\n            (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n             (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n              c3 * g x / x powr p))) +\n        g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<k. as ! i * f (bs ! i * x + (hs ! i) x)) + g x\n  \\<le> (\\<Sum>i<k.\n            as ! i * bs ! i powr p *\n            (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n             (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n              c3 * g x / x powr p))) +\n        g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "have \"... = c6 * x powr p * (1 - ?l) * (1 + ?int - c3*g x/x powr p) + g x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k.\n        as ! i * bs ! i powr p *\n        (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n         (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n          c3 * g x / x powr p))) +\n    g x =\n    c6 * x powr p * (1 - ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c3 * g x / x powr p) +\n    g x", "by (simp add: sum_distrib_right[symmetric] p_props)"], ["proof (state)\nthis:\n  (\\<Sum>i<k.\n      as ! i * bs ! i powr p *\n      (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n       (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n        c3 * g x / x powr p))) +\n  g x =\n  c6 * x powr p * (1 - ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c3 * g x / x powr p) +\n  g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<k.\n      as ! i * bs ! i powr p *\n      (c6 * x powr p * (1 - ln x powr (- e / 2)) *\n       (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n        c3 * g x / x powr p))) +\n  g x =\n  c6 * x powr p * (1 - ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c3 * g x / x powr p) +\n  g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "have \"... = c6 * (1 - ?l) * f_approx x - (c6*c3*(1 - ?l) - 1) * g x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c6 * x powr p * (1 - ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c3 * g x / x powr p) +\n    g x =\n    c6 * (1 - ln x powr (- e / 2)) * f_approx x -\n    (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x", "unfolding f_approx_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. c6 * x powr p * (1 - ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c3 * g x / x powr p) +\n    g x =\n    c6 * (1 - ln x powr (- e / 2)) *\n    (x powr p *\n     (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x)) -\n    (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x", "using x_pos"], ["proof (prove)\nusing this:\n  0 < x\n\ngoal (1 subgoal):\n 1. c6 * x powr p * (1 - ln x powr (- e / 2)) *\n    (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n     c3 * g x / x powr p) +\n    g x =\n    c6 * (1 - ln x powr (- e / 2)) *\n    (x powr p *\n     (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x)) -\n    (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  c6 * x powr p * (1 - ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c3 * g x / x powr p) +\n  g x =\n  c6 * (1 - ln x powr (- e / 2)) * f_approx x -\n  (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "also"], ["proof (state)\nthis:\n  c6 * x powr p * (1 - ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c3 * g x / x powr p) +\n  g x =\n  c6 * (1 - ln x powr (- e / 2)) * f_approx x -\n  (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "{"], ["proof (state)\nthis:\n  c6 * x powr p * (1 - ln x powr (- e / 2)) *\n  (1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x -\n   c3 * g x / x powr p) +\n  g x =\n  c6 * (1 - ln x powr (- e / 2)) * f_approx x -\n  (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "from c6 c3"], ["proof (chain)\npicking this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x \\<le> g_approx ?i ?x\n  0 < c3", "have \"c6*c3 \\<ge> 2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n  \\<lbrakk>x\\<^sub>1 \\<le> ?x; ?i < k\\<rbrakk>\n  \\<Longrightarrow> c3 * g ?x \\<le> g_approx ?i ?x\n  0 < c3\n\ngoal (1 subgoal):\n 1. 2 \\<le> c6 * c3", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  2 \\<le> c6 * c3\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "moreover"], ["proof (state)\nthis:\n  2 \\<le> c6 * c3\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "have \"(1 - ?l) \\<ge> 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> 1 - ln x powr (- e / 2)", "using asymptotics4[OF x]"], ["proof (prove)\nusing this:\n  1 \\<le> (1 - ln x powr (- e / 2)) * 2\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> 1 - ln x powr (- e / 2)", "by simp"], ["proof (state)\nthis:\n  1 / 2 \\<le> 1 - ln x powr (- e / 2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "ultimately"], ["proof (chain)\npicking this:\n  2 \\<le> c6 * c3\n  1 / 2 \\<le> 1 - ln x powr (- e / 2)", "have \"c6*c3*(1 - ?l) \\<ge> 2 * (1/2)\""], ["proof (prove)\nusing this:\n  2 \\<le> c6 * c3\n  1 / 2 \\<le> 1 - ln x powr (- e / 2)\n\ngoal (1 subgoal):\n 1. 2 * (1 / 2) \\<le> c6 * c3 * (1 - ln x powr (- e / 2))", "by (intro mult_mono) simp_all"], ["proof (state)\nthis:\n  2 * (1 / 2) \\<le> c6 * c3 * (1 - ln x powr (- e / 2))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "with x x_pos"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  0 < x\n  2 * (1 / 2) \\<le> c6 * c3 * (1 - ln x powr (- e / 2))", "have \"(c6*c3*(1 - ?l) - 1) * g x \\<ge> 0\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  0 < x\n  2 * (1 / 2) \\<le> c6 * c3 * (1 - ln x powr (- e / 2))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x", "by (intro mult_nonneg_nonneg g_nonneg) simp_all"], ["proof (state)\nthis:\n  0 \\<le> (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "hence \"c6 * (1 - ?l) * f_approx x - (c6*c3*(1 - ?l) - 1) * g x \\<le>\n                  c6 * (1 - ?l) * f_approx x\""], ["proof (prove)\nusing this:\n  0 \\<le> (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n\ngoal (1 subgoal):\n 1. c6 * (1 - ln x powr (- e / 2)) * f_approx x -\n    (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n    \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  c6 * (1 - ln x powr (- e / 2)) * f_approx x -\n  (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n  \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "}"], ["proof (state)\nthis:\n  c6 * (1 - ln x powr (- e / 2)) * f_approx x -\n  (c6 * c3 * (1 - ln x powr (- e / 2)) - 1) * g x\n  \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x\\<^sub>1 < x;\n        \\<And>i.\n           i < k \\<Longrightarrow>\n           f (bs ! i * x + (hs ! i) x)\n           \\<le> c6 * (1 - ln (bs ! i * x + (hs ! i) x) powr (- e / 2)) *\n                 f_approx (bs ! i * x + (hs ! i) x)\\<rbrakk>\n       \\<Longrightarrow> f x\n                         \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "finally"], ["proof (chain)\npicking this:\n  f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "show ?case"], ["proof (prove)\nusing this:\n  f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x", "."], ["proof (state)\nthis:\n  f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  f x \\<le> c6 * (1 - ln x powr (- e / 2)) * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from x c6"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6", "have \"... \\<le> c6 * 1 * f_approx x\""], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> x\n  \\<lbrakk>x\\<^sub>0 \\<le> ?x; ?x \\<le> x\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<le> 1 / 2 * (c6 * f_approx ?x)\n  2 / c3 \\<le> c6\n  0 < c6\n\ngoal (1 subgoal):\n 1. c6 * (1 - ln x powr (- e / 2)) * f_approx x \\<le> c6 * 1 * f_approx x", "by (intro mult_left_mono mult_right_mono f_approx_nonneg) simp_all"], ["proof (state)\nthis:\n  c6 * (1 - ln x powr (- e / 2)) * f_approx x \\<le> c6 * 1 * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  f x \\<le> c6 * 1 * f_approx x", "have \"f x \\<le> c6 * f_approx x\""], ["proof (prove)\nusing this:\n  f x \\<le> c6 * 1 * f_approx x\n\ngoal (1 subgoal):\n 1. f x \\<le> c6 * f_approx x", "by simp"], ["proof (state)\nthis:\n  f x \\<le> c6 * f_approx x\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  x\\<^sub>0 \\<le> ?x2 \\<Longrightarrow> f ?x2 \\<le> c6 * f_approx ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>c6.\n        \\<lbrakk>\\<And>x.\n                    x\\<^sub>0 \\<le> x \\<Longrightarrow>\n                    f x \\<le> c6 * f_approx x;\n         0 < c6\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from this and c6(3)"], ["proof (chain)\npicking this:\n  x\\<^sub>0 \\<le> ?x2 \\<Longrightarrow> f ?x2 \\<le> c6 * f_approx ?x2\n  0 < c6", "show ?thesis"], ["proof (prove)\nusing this:\n  x\\<^sub>0 \\<le> ?x2 \\<Longrightarrow> f ?x2 \\<le> c6 * f_approx ?x2\n  0 < c6\n\ngoal (1 subgoal):\n 1. thesis", "by (rule that)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma akra_bazzi_bigo:\n  \"f \\<in> O(\\<lambda>x. x powr p *(1 + integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> O(\\<lambda>x.\n                 x powr p *\n                 (1 +\n                  integral (\\<lambda>u. g u / u powr (p + 1)) x\\<^sub>0 x))", "apply (fold f_approx_def, rule akra_bazzi_upper, erule landau_o.bigI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c6.\n       (\\<And>x.\n           x\\<^sub>0 \\<le> x \\<Longrightarrow>\n           f x \\<le> c6 * f_approx x) \\<Longrightarrow>\n       \\<forall>\\<^sub>F x in at_top.\n          norm (f x) \\<le> c6 * norm (f_approx x)", "apply (subst eventually_at_top_linorder, rule exI[of _ x\\<^sub>0])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c6.\n       (\\<And>x.\n           x\\<^sub>0 \\<le> x \\<Longrightarrow>\n           f x \\<le> c6 * f_approx x) \\<Longrightarrow>\n       \\<forall>n\\<ge>x\\<^sub>0. norm (f n) \\<le> c6 * norm (f_approx n)", "apply (simp add: f_nonneg f_approx_nonneg)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"], ["", "end"]]}