{"file_name": "/home/qj213/afp-2021-10-22/thys/Belief_Revision/AGM_Contraction.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Belief_Revision", "problem_names": ["lemma pmc_inclusion: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> \\<subseteq> K\\<close>", "lemma pmc_vacuity: \\<open>K = Cn(A) \\<Longrightarrow> \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K\\<close>", "lemma pmc_closure: \\<open>K = Cn(A) \\<Longrightarrow> (K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>) = Cn(K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>)\\<close>", "lemma pmc_extensionality: \\<open>K = Cn(A) \\<Longrightarrow> Cn({\\<phi>}) = Cn({\\<psi>}) \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<psi>\\<close>", "lemma pmc_tautology: \\<open>K = Cn(A) \\<Longrightarrow> \\<tturnstile> \\<phi> \\<Longrightarrow>  K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K\\<close>", "lemma selection_completion: \"K = Cn(A) \\<Longrightarrow> \\<gamma> K \\<phi> \\<subseteq> * \\<gamma> K \\<phi>\"", "lemma (in Tarskian_logic) completion_completion: \"K = Cn(A) \\<Longrightarrow> * (* \\<gamma>) K \\<phi> = * \\<gamma> K \\<phi>\"", "lemma pmc_completion: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div>\\<^bsub>*\\<gamma>\\<^esub> \\<phi> = K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<close>", "lemma pmc_recovery: \\<open>K = Cn(A) \\<Longrightarrow> K \\<subseteq> ((K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>) \\<oplus> \\<phi>)\\<close>", "lemma pmc_success: \\<open>K = Cn(A) \\<Longrightarrow> \\<phi> \\<notin> Cn({}) \\<Longrightarrow> \\<phi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<close>", "lemma contraction_is_pmc: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div> \\<phi> = K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\\<close> \\<comment> \\<open>requires a supraclassical logic\\<close>", "lemma contraction_with_completion: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div> \\<phi> = K \\<div>\\<^bsub>* \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\\<close>", "lemma rel_sel_conj_overlap: \\<open>K = Cn(A) \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union> \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\\<close>", "lemma trmc_conj_overlap: \\<open>K = Cn(A) \\<Longrightarrow> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>) \\<inter> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<psi>) \\<subseteq> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>))\\<close>", "lemma rel_sel_conj_inclusion: \\<open>K = Cn(A) \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter> (K .\\<bottom>. \\<phi>) \\<noteq> {} \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<close>", "lemma trmc_conj_inclusion: \\<open>K = Cn(A) \\<Longrightarrow> \\<phi> \\<notin> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>)) \\<Longrightarrow> ((K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>)))\\<close>", "lemma AGM_rel_sel_completion: \\<open>K = Cn(A) \\<Longrightarrow> \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> = * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi>\\<close>", "lemmas fullcontraction_is_pmc = contraction_is_pmc", "lemmas fullcontraction_is_trmc = contraction_with_completion", "lemma full_meet_weak1: \\<open>K = Cn(A) \\<Longrightarrow> K \\<turnstile> \\<phi> \\<Longrightarrow> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>) = K \\<inter> Cn({.\\<not> \\<phi>})\\<close>", "lemma full_meet_weak2:\\<open>K = Cn(A) \\<Longrightarrow> K \\<turnstile> \\<phi> \\<Longrightarrow> Cn((K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>) \\<union> {.\\<not> \\<phi>}) = Cn({.\\<not> \\<phi>})\\<close>"], "translations": [["", "lemma pmc_inclusion: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> \\<subseteq> K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> \\<subseteq> K", "apply (cases \\<open>(K .\\<bottom>. \\<phi>) = {}\\<close>, simp_all add: mc tautology_selection)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; Cn A .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<Inter> (\\<gamma> (Cn A) \\<phi>) \\<subseteq> Cn A", "by (meson Inf_less_eq in_mono is_selection nonempty_selection rem_inclusion)"], ["", "text\\<open>@{text \\<open>pmc_vacuity\\<close>} :  if @{term \\<open>\\<phi>\\<close>} is not included in a set @{term \\<open>K\\<close>} then the partial meet contraction of @{term \\<open>K\\<close>} by @{term \\<open>\\<phi>\\<close>} involves not change at all\\<close>"], ["", "lemma pmc_vacuity: \\<open>K = Cn(A) \\<Longrightarrow> \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K", "unfolding mc nonconsequence_remainder"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<Inter> (\\<gamma> K \\<phi>) = K", "by (metis Inf_superset_mono Un_absorb1 cInf_singleton insert_not_empty is_selection mc nonconsequence_remainder pmc_inclusion sup_commute)"], ["", "text\\<open>@{text \\<open>pmc_closure\\<close>} : a partial meet contraction is logically closed\\<close>"], ["", "lemma pmc_closure: \\<open>K = Cn(A) \\<Longrightarrow> (K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>) = Cn(K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> =\n    Cn (K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>)", "proof (rule subset_antisym, simp_all add:inclusion_L mc transitivity_L, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    Cn (\\<Inter> (\\<gamma> (Cn A) \\<phi>))\n    \\<subseteq> \\<Inter> (\\<gamma> (Cn A) \\<phi>)", "case 1"], ["proof (state)\nthis:\n  K = Cn A\n\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    Cn (\\<Inter> (\\<gamma> (Cn A) \\<phi>))\n    \\<subseteq> \\<Inter> (\\<gamma> (Cn A) \\<phi>)", "have \\<open>\\<Inter>(\\<gamma> (Cn A) \\<phi>) = \\<Inter>{Cn(B)|B. B \\<in> \\<gamma> (Cn A) \\<phi>}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter> (\\<gamma> (Cn A) \\<phi>) =\n    \\<Inter> {Cn B |B. B \\<in> \\<gamma> (Cn A) \\<phi>}", "by auto (metis idempotency_L insert_absorb insert_iff insert_subset is_selection rem_closure tautology_selection)+"], ["proof (state)\nthis:\n  \\<Inter> (\\<gamma> (Cn A) \\<phi>) =\n  \\<Inter> {Cn B |B. B \\<in> \\<gamma> (Cn A) \\<phi>}\n\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    Cn (\\<Inter> (\\<gamma> (Cn A) \\<phi>))\n    \\<subseteq> \\<Inter> (\\<gamma> (Cn A) \\<phi>)", "from Cn_Inter[OF this]"], ["proof (chain)\npicking this:\n  \\<Inter> (\\<gamma> (Cn A) \\<phi>) = Cn (\\<Inter> (\\<gamma> (Cn A) \\<phi>))", "show ?case"], ["proof (prove)\nusing this:\n  \\<Inter> (\\<gamma> (Cn A) \\<phi>) = Cn (\\<Inter> (\\<gamma> (Cn A) \\<phi>))\n\ngoal (1 subgoal):\n 1. Cn (\\<Inter> (\\<gamma> (Cn A) \\<phi>))\n    \\<subseteq> \\<Inter> (\\<gamma> (Cn A) \\<phi>)", "by blast"], ["proof (state)\nthis:\n  Cn (\\<Inter> (\\<gamma> (Cn A) \\<phi>))\n  \\<subseteq> \\<Inter> (\\<gamma> (Cn A) \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>@{text \\<open>pmc_extensionality\\<close>} : Extensionality guarantees that the logic of contraction is extensional in the sense of allowing logically equivalent sentences to be freely substituted for each other\\<close>"], ["", "lemma pmc_extensionality: \\<open>K = Cn(A) \\<Longrightarrow> Cn({\\<phi>}) = Cn({\\<psi>}) \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<psi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> =\n                      K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<psi>", "by (metis extensional_selection mc)"], ["", "text \\<open>@{text \\<open>pmc_tautology\\<close>} : if @{term \\<open>\\<phi>\\<close>} is a tautology then the partial meet contraction of @{term \\<open>K\\<close>} by @{term \\<open>\\<phi>\\<close>} is @{term \\<open>K\\<close>}\\<close>"], ["", "lemma pmc_tautology: \\<open>K = Cn(A) \\<Longrightarrow> \\<tturnstile> \\<phi> \\<Longrightarrow>  K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; \\<tturnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi> = K", "by (simp add: mc taut2emptyrem tautology_selection)"], ["", "text\\<open>@{text \\<open>completion\\<close>} is a an operator that can build an equivalent selection from an existing one\\<close>"], ["", "definition (in Tarskian_logic) completion::\\<open>('a set \\<Rightarrow> 'a  \\<Rightarrow> 'a set set) \\<Rightarrow> 'a set \\<Rightarrow> 'a  \\<Rightarrow> 'a set set\\<close> (\\<open>*\\<close>)\n  where \\<open>* \\<gamma> A \\<phi> \\<equiv> if (A .\\<bottom>. \\<phi>) = {} then {A} else {B. B \\<in> A .\\<bottom>. \\<phi> \\<and> \\<Inter> (\\<gamma> A \\<phi>) \\<subseteq> B}\\<close>"], ["", "lemma selection_completion: \"K = Cn(A) \\<Longrightarrow> \\<gamma> K \\<phi> \\<subseteq> * \\<gamma> K \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    \\<gamma> K \\<phi> \\<subseteq> * \\<gamma> K \\<phi>", "using completion_def is_selection tautology_selection"], ["proof (prove)\nusing this:\n  * ?\\<gamma> ?A ?\\<phi> \\<equiv>\n  if ?A .\\<bottom>. ?\\<phi> = {} then {?A}\n  else {B \\<in> ?A .\\<bottom>. ?\\<phi>.\n        \\<Inter> (?\\<gamma> ?A ?\\<phi>) \\<subseteq> B}\n  \\<lbrakk>?K = Cn ?A; ?K .\\<bottom>. ?\\<phi> \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> \\<gamma> ?K ?\\<phi> \\<subseteq> ?K .\\<bottom>. ?\\<phi>\n  \\<lbrakk>?K = Cn ?A; ?K .\\<bottom>. ?\\<phi> = {}\\<rbrakk>\n  \\<Longrightarrow> \\<gamma> ?K ?\\<phi> = {?K}\n\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    \\<gamma> K \\<phi> \\<subseteq> * \\<gamma> K \\<phi>", "by fastforce"], ["", "lemma (in Tarskian_logic) completion_completion: \"K = Cn(A) \\<Longrightarrow> * (* \\<gamma>) K \\<phi> = * \\<gamma> K \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow> * (* \\<gamma>) K \\<phi> = * \\<gamma> K \\<phi>", "by (auto simp add:completion_def)"], ["", "lemma pmc_completion: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div>\\<^bsub>*\\<gamma>\\<^esub> \\<phi> = K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>* \\<gamma>\\<^esub> \\<phi> =\n    K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>", "apply(auto simp add: mc completion_def tautology_selection)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa X.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           \\<Inter> (\\<gamma> (Cn A) \\<phi>) \\<subseteq> x \\<longrightarrow>\n           xa \\<in> x;\n        X \\<in> \\<gamma> (Cn A) \\<phi>\\<rbrakk>\n       \\<Longrightarrow> xa \\<in> X", "by (metis Inter_lower equals0D in_mono is_selection)"], ["", "end"], ["", "text\\<open>A transitively relational meet contraction is a partial meet contraction using a binary relation between the elements of the selection function\\<close>"], ["", "text\\<open>A relation is : \n\\<^item> transitive (@{text \\<open>trans_rel\\<close>})\n\\<^item> non empty (there is always an element  preferred to the others (@{text \\<open>nonempty_rel\\<close>}))\\<close>"], ["", "text\\<open>A selection function @{term \\<open>\\<gamma>\\<^sub>T\\<^sub>R\\<close>} is transitively relational @{text \\<open>rel_sel\\<close>} with the following condition :\n\\<^item> If the the remainders @{text \\<open>K .\\<bottom>. \\<phi>\\<close>} is empty then the selection function return @{term \\<open>K\\<close>}\n\\<^item> Else the selection function return a non empty transitive relation on the remainders\\<close>"], ["", "locale TransitivelyRelationalMeetContraction =  Tarskian_logic +\n\nfixes relation::\\<open>'a set \\<Rightarrow> 'a set \\<Rightarrow> 'a set \\<Rightarrow> bool\\<close> (\\<open>_ \\<preceq>\\<^bsub>_\\<^esub> _\\<close> [60,50,60]55)\nassumes trans_rel: \\<open>K = Cn(A) \\<Longrightarrow> B \\<preceq>\\<^bsub>K\\<^esub> C \\<Longrightarrow> C \\<preceq>\\<^bsub>K\\<^esub> D \\<Longrightarrow> B \\<preceq>\\<^bsub>K\\<^esub> D\\<close>\nassumes nonempty_rel: \\<open>K = Cn(A) \\<Longrightarrow> (K .\\<bottom>. \\<phi>) \\<noteq> {} \\<Longrightarrow> \\<exists>B\\<in>(K .\\<bottom>. \\<phi>). (\\<forall>C\\<in>(K .\\<bottom>. \\<phi>). C \\<preceq>\\<^bsub>K\\<^esub> B)\\<close> \\<comment> \\<open>pas clair dans la litterrature\\<close>\n\nfixes rel_sel::\\<open>'a set \\<Rightarrow> 'a  \\<Rightarrow> 'a set set\\<close> (\\<open>\\<gamma>\\<^sub>T\\<^sub>R\\<close>) \ndefines rel_sel: \\<open>\\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<equiv> if (K .\\<bottom>. \\<phi>) = {} then {K} \n                                              else {B. B\\<in>(K .\\<bottom>. \\<phi>) \\<and> (\\<forall>C\\<in>(K .\\<bottom>. \\<phi>). C \\<preceq>\\<^bsub>K\\<^esub> B)}\\<close>\n\nbegin"], ["", "text\\<open>A transitively relational selection function respect the partial meet contraction postulates.\\<close>"], ["", "sublocale PartialMeetContraction where selection = \\<gamma>\\<^sub>T\\<^sub>R"], ["proof (prove)\ngoal (1 subgoal):\n 1. (PartialMeetContraction Cn \\<gamma>\\<^sub>T\\<^sub>R &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>. A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>}))", "apply(unfold_locales)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\n                         \\<subseteq> K .\\<bottom>. \\<phi>\n 2. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> = {}\\<rbrakk>\n       \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> = {K}\n 3. \\<And>K A \\<phi>.\n       K = Cn A \\<Longrightarrow>\n       \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<noteq> {}\n 4. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> =\n                         \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "apply(simp_all add: rel_sel)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       K = Cn A \\<Longrightarrow>\n       Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n       (\\<exists>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           (\\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n               C \\<preceq>\\<^bsub>Cn A\\<^esub> x))\n 2. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                              C \\<preceq>\\<^bsub>Cn A\\<^esub> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B}))", "using nonempty_rel"], ["proof (prove)\nusing this:\n  \\<lbrakk>?K = Cn ?A; ?K .\\<bottom>. ?\\<phi> \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>B\\<in>?K .\\<bottom>. ?\\<phi>.\n                       \\<forall>C\\<in>?K .\\<bottom>. ?\\<phi>.\n                          C \\<preceq>\\<^bsub>?K\\<^esub> B\n\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       K = Cn A \\<Longrightarrow>\n       Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n       (\\<exists>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           (\\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n               C \\<preceq>\\<^bsub>Cn A\\<^esub> x))\n 2. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                              C \\<preceq>\\<^bsub>Cn A\\<^esub> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B}))", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                              C \\<preceq>\\<^bsub>Cn A\\<^esub> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B}))", "using remainder_extensionality"], ["proof (prove)\nusing this:\n  Cn {?\\<phi>} = Cn {?\\<psi>} \\<Longrightarrow>\n  ?A .\\<bottom>. ?\\<phi> = ?A .\\<bottom>. ?\\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                              C \\<preceq>\\<^bsub>Cn A\\<^esub> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            \\<forall>C\\<in>Cn A .\\<bottom>. \\<psi>.\n                               C \\<preceq>\\<^bsub>Cn A\\<^esub> B}))", "by blast"], ["", "end"], ["", "text\\<open>A full meet contraction is a limiting case of the partial meet contraction where if the remainders are not empty then\nthe selection function return all the remainders (as defined by @{text \\<open>full_sel\\<close>}\\<close>"], ["", "locale FullMeetContraction = Tarskian_logic +\n\nfixes full_sel::\\<open>'a set \\<Rightarrow> 'a  \\<Rightarrow> 'a set set\\<close> (\\<open>\\<gamma>\\<^sub>F\\<^sub>C\\<close>) \ndefines full_sel: \\<open>\\<gamma>\\<^sub>F\\<^sub>C K \\<phi> \\<equiv> if K .\\<bottom>. \\<phi> = {} then {K} else K .\\<bottom>. \\<phi>\\<close>\n\nbegin"], ["", "text\\<open>A full selection and a relation ? is a transitively relational meet contraction postulates.\\<close>"], ["", "sublocale TransitivelyRelationalMeetContraction where relation = \\<open>\\<lambda> K A B. True\\<close> and rel_sel=\\<gamma>\\<^sub>F\\<^sub>C"], ["proof (prove)\ngoal (1 subgoal):\n 1. (TransitivelyRelationalMeetContraction Cn (\\<lambda>K A B. True) &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>.\n        A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>})) &&&\n    (\\<And>K \\<phi>.\n        \\<gamma>\\<^sub>F\\<^sub>C K \\<phi> \\<equiv>\n        if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. True})", "by (unfold_locales, auto simp add:full_sel, rule eq_reflection, simp)"], ["", "end"], ["", "subsection\\<open>Equivalence of partial meet contraction and AGM contraction\\<close>"], ["", "locale PMC_SC = PartialMeetContraction + Supraclassical_logic + Compact_logic \n\nbegin"], ["", "text \\<open>In a context of a supraclassical and a compact logic the two remaining postulates of AGM contraction :\n\\<^item> @{text \\<open>contract_recovery\\<close>}\n\\<^item> @{text \\<open>contract_success\\<close>}\ncan be proved on a partial meet contraction.\\<close>"], ["", "text\\<open>@{text \\<open>pmc_recovery\\<close>} : all proposition removed by a partial meet contraction of @{term \\<open>\\<phi>\\<close>} will be recovered by the expansion of @{term \\<open>\\<phi>\\<close>}\\<close>\n\n\\<comment> \\<open>recovery requires supraclassicality\\<close>"], ["", "lemma pmc_recovery: \\<open>K = Cn(A) \\<Longrightarrow> K \\<subseteq> ((K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>) \\<oplus> \\<phi>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<subseteq> (K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>) \\<oplus> \\<phi>", "apply(cases \\<open>(K .\\<bottom>. \\<phi>) = {}\\<close>, simp_all (no_asm) add:mc expansion_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> = {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))\n 2. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "using inclusion_L tautology_selection"], ["proof (prove)\nusing this:\n  ?A \\<subseteq> Cn ?A\n  \\<lbrakk>?K = Cn ?A; ?K .\\<bottom>. ?\\<phi> = {}\\<rbrakk>\n  \\<Longrightarrow> \\<gamma> ?K ?\\<phi> = {?K}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> = {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))\n 2. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "apply fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>K .\\<bottom>. \\<phi> \\<noteq> {}\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "{"], ["proof (state)\nthis:\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "fix \\<psi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "assume d:\\<open>K \\<turnstile> \\<psi>\\<close>"], ["proof (state)\nthis:\n  K \\<turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "have \\<open>\\<phi> .\\<longrightarrow>. \\<psi> \\<in> \\<Inter>(\\<gamma> K \\<phi>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> .\\<longrightarrow>. \\<psi> \\<in> \\<Inter> (\\<gamma> K \\<phi>)", "using is_selection[OF a b]"], ["proof (prove)\nusing this:\n  \\<gamma> K \\<phi> \\<subseteq> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<phi> .\\<longrightarrow>. \\<psi> \\<in> \\<Inter> (\\<gamma> K \\<phi>)", "by auto (metis a d infer_def rem_closure remainder_recovery subsetD)"], ["proof (state)\nthis:\n  \\<phi> .\\<longrightarrow>. \\<psi> \\<in> \\<Inter> (\\<gamma> K \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "}"], ["proof (state)\nthis:\n  K \\<turnstile> ?\\<psi>2 \\<Longrightarrow>\n  \\<phi> .\\<longrightarrow>. ?\\<psi>2 \\<in> \\<Inter> (\\<gamma> K \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> K \\<subseteq> Cn (insert \\<phi>\n   (\\<Inter> (\\<gamma> K \\<phi>)))", "with a b"], ["proof (chain)\npicking this:\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n  K \\<turnstile> ?\\<psi>2 \\<Longrightarrow>\n  \\<phi> .\\<longrightarrow>. ?\\<psi>2 \\<in> \\<Inter> (\\<gamma> K \\<phi>)", "show \\<open>K \\<subseteq> Cn (insert \\<phi> (\\<Inter> (\\<gamma> K \\<phi>)))\\<close>"], ["proof (prove)\nusing this:\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n  K \\<turnstile> ?\\<psi>2 \\<Longrightarrow>\n  \\<phi> .\\<longrightarrow>. ?\\<psi>2 \\<in> \\<Inter> (\\<gamma> K \\<phi>)\n\ngoal (1 subgoal):\n 1. K \\<subseteq> Cn (insert \\<phi> (\\<Inter> (\\<gamma> K \\<phi>)))", "by (metis (no_types, lifting) Un_commute assumption_L imp_PL infer_def insert_is_Un subsetI)"], ["proof (state)\nthis:\n  K \\<subseteq> Cn (insert \\<phi> (\\<Inter> (\\<gamma> K \\<phi>)))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>@{text \\<open>pmc_success\\<close>} : a partial meet contraction of @{term \\<open>K\\<close>} by @{term \\<open>\\<phi>\\<close>} not imply @{term \\<open>\\<phi>\\<close>}\\<close>\n\\<comment> \\<open>success requires compacteness\\<close>"], ["", "lemma pmc_success: \\<open>K = Cn(A) \\<Longrightarrow> \\<phi> \\<notin> Cn({}) \\<Longrightarrow> \\<phi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; \\<phi> \\<notin> Cn {}\\<rbrakk>\n    \\<Longrightarrow> \\<phi>\n                      \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; \\<phi> \\<notin> Cn {};\n     \\<phi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> False", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>\\<phi> \\<notin> Cn({})\\<close> and c:\\<open>\\<phi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  \\<phi> \\<notin> Cn {}\n  \\<phi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; \\<phi> \\<notin> Cn {};\n     \\<phi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> False", "from c"], ["proof (chain)\npicking this:\n  \\<phi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>", "show False"], ["proof (prove)\nusing this:\n  \\<phi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. False", "unfolding mc"], ["proof (prove)\nusing this:\n  \\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>)\n\ngoal (1 subgoal):\n 1. False", "proof(cases \\<open>K .\\<bottom>. \\<phi> = {K}\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> = {K}\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "case True"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> = {K}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> = {K}\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  K .\\<bottom>. \\<phi> = {K}", "show ?thesis"], ["proof (prove)\nusing this:\n  K .\\<bottom>. \\<phi> = {K}\n\ngoal (1 subgoal):\n 1. False", "by (meson assumption_L c nonconsequence_remainder pmc_inclusion[OF a] subsetD)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "case False"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> \\<noteq> {K}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "hence \\<open>\\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B\\<close>"], ["proof (prove)\nusing this:\n  K .\\<bottom>. \\<phi> \\<noteq> {K}\n\ngoal (1 subgoal):\n 1. \\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B", "using assumption_L rem"], ["proof (prove)\nusing this:\n  K .\\<bottom>. \\<phi> \\<noteq> {K}\n  ?\\<phi> \\<in> ?A \\<Longrightarrow> ?A \\<turnstile> ?\\<phi>\n  ?A .\\<bottom>. ?\\<phi> \\<equiv>\n  {B. B \\<subseteq> ?A \\<and>\n      \\<not> B \\<turnstile> ?\\<phi> \\<and>\n      (\\<forall>B'\\<subseteq>?A.\n          B \\<subset> B' \\<longrightarrow> B' \\<turnstile> ?\\<phi>)}\n\ngoal (1 subgoal):\n 1. \\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B", "by auto"], ["proof (state)\nthis:\n  \\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "have \\<open>K .\\<bottom>. \\<phi> \\<noteq> {}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> \\<noteq> {}", "using b emptyrem2taut validD_L"], ["proof (prove)\nusing this:\n  \\<phi> \\<notin> Cn {}\n  ?A .\\<bottom>. ?\\<phi> = {} \\<Longrightarrow> \\<tturnstile> ?\\<phi>\n  \\<tturnstile> ?\\<phi> \\<Longrightarrow> ?\\<phi> \\<in> Cn ?A\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> \\<Inter> (\\<gamma> K \\<phi>);\n     K .\\<bottom>. \\<phi> \\<noteq> {K}\\<rbrakk>\n    \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B\n  K .\\<bottom>. \\<phi> \\<noteq> {}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "using b c mc nonempty_selection[OF a] validD_L emptyrem2taut is_selection[OF a]"], ["proof (prove)\nusing this:\n  \\<forall>B\\<in>K .\\<bottom>. \\<phi>. \\<phi> \\<notin> B\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n  \\<phi> \\<notin> Cn {}\n  \\<phi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\n  ?A \\<div>\\<^bsub>?\\<gamma>\\<^esub> ?\\<phi> \\<equiv>\n  \\<Inter> (?\\<gamma> ?A ?\\<phi>)\n  \\<gamma> K ?\\<phi> \\<noteq> {}\n  \\<tturnstile> ?\\<phi> \\<Longrightarrow> ?\\<phi> \\<in> Cn ?A\n  ?A .\\<bottom>. ?\\<phi> = {} \\<Longrightarrow> \\<tturnstile> ?\\<phi>\n  K .\\<bottom>. ?\\<phi> \\<noteq> {} \\<Longrightarrow>\n  \\<gamma> K ?\\<phi> \\<subseteq> K .\\<bottom>. ?\\<phi>\n\ngoal (1 subgoal):\n 1. False", "by (metis Inter_iff bot.extremum_uniqueI subset_iff)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>As a partial meet contraction has been proven to respect all postulates of AGM contraction \nthe equivalence between the both are straightforward\\<close>"], ["", "sublocale AGM_Contraction where contraction = \\<open>\\<lambda>A \\<phi>. A \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (AGM_Contraction Cn (\\<lambda>A. meet_contraction A \\<gamma>) &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>. A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>}))", "using pmc_closure pmc_inclusion pmc_vacuity \n        pmc_success pmc_recovery pmc_extensionality\n        expansion_def idempotency_L infer_def"], ["proof (prove)\nusing this:\n  ?K = Cn ?A \\<Longrightarrow>\n  ?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<phi> =\n  Cn (?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<phi>)\n  ?K = Cn ?A \\<Longrightarrow>\n  ?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<phi> \\<subseteq> ?K\n  \\<lbrakk>?K = Cn ?A; \\<not> ?K \\<turnstile> ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<phi> = ?K\n  \\<lbrakk>?K = Cn ?A; ?\\<phi> \\<notin> Cn {}\\<rbrakk>\n  \\<Longrightarrow> ?\\<phi>\n                    \\<notin> ?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<phi>\n  ?K = Cn ?A \\<Longrightarrow>\n  ?K \\<subseteq> (?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<phi>) \\<oplus>\n                 ?\\<phi>\n  \\<lbrakk>?K = Cn ?A; Cn {?\\<phi>} = Cn {?\\<psi>}\\<rbrakk>\n  \\<Longrightarrow> ?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<phi> =\n                    ?K \\<div>\\<^bsub>\\<gamma>\\<^esub> ?\\<psi>\n  ?A \\<oplus> ?\\<phi> \\<equiv> Cn (?A \\<union> {?\\<phi>})\n  Cn (Cn ?A) = Cn ?A\n  ?A \\<turnstile> ?\\<phi> \\<equiv> ?\\<phi> \\<in> Cn ?A\n\ngoal (1 subgoal):\n 1. (AGM_Contraction Cn (\\<lambda>A. meet_contraction A \\<gamma>) &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>. A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>}))", "by (unfold_locales) metis+"], ["", "end"], ["", "locale AGMC_SC = AGM_Contraction + Supraclassical_logic + Compact_logic\n\nbegin"], ["", "text \\<open>obs 2.5 page 514\\<close>"], ["", "definition AGM_selection::\\<open>'a set \\<Rightarrow> 'a  \\<Rightarrow> 'a set set\\<close> (\\<open>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<close>)\n  where AGM_sel: \\<open>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M A \\<phi> \\<equiv> if A .\\<bottom>. \\<phi> = {} then {A} else {B. B \\<in> A .\\<bottom>. \\<phi> \\<and> A \\<div> \\<phi> \\<subseteq> B}\\<close>"], ["", "text\\<open>The selection function @{term \\<open>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<close>} respect the partial meet contraction postulates\\<close>"], ["", "sublocale PartialMeetContraction where selection = \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M"], ["proof (prove)\ngoal (1 subgoal):\n 1. (PartialMeetContraction Cn \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>. A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>}))", "proof(unfold_locales, unfold AGM_sel, simp_all, goal_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       K = Cn A \\<Longrightarrow>\n       Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n       (\\<exists>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x)\n 2. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           Cn A \\<div> \\<psi> \\<subseteq> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            Cn A \\<div> \\<psi> \\<subseteq> B}))", "case (1 K A \\<phi>) \\<comment> \\<open>@{text \\<open>non_emptiness\\<close>} of selection requires a compact logic\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       K = Cn A \\<Longrightarrow>\n       Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n       (\\<exists>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x)\n 2. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           Cn A \\<div> \\<psi> \\<subseteq> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            Cn A \\<div> \\<psi> \\<subseteq> B}))", "then"], ["proof (chain)\npicking this:\n  K = Cn A", "show ?case"], ["proof (prove)\nusing this:\n  K = Cn A\n\ngoal (1 subgoal):\n 1. Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n    (\\<exists>x.\n        x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n        Cn A \\<div> \\<phi> \\<subseteq> x)", "using upper_remainder[of \\<open>K \\<div> \\<phi>\\<close> K \\<phi>] contract_success[OF 1(1)]"], ["proof (prove)\nusing this:\n  K = Cn A\n  \\<lbrakk>K \\<div> \\<phi> \\<subseteq> K;\n   \\<not> K \\<div> \\<phi> \\<turnstile> \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>B'.\n                       K \\<div> \\<phi> \\<subseteq> B' \\<and>\n                       B' \\<in> K .\\<bottom>. \\<phi>\n  ?\\<phi> \\<notin> Cn {} \\<Longrightarrow> ?\\<phi> \\<notin> K \\<div> ?\\<phi>\n\ngoal (1 subgoal):\n 1. Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n    (\\<exists>x.\n        x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n        Cn A \\<div> \\<phi> \\<subseteq> x)", "by (metis contract_closure contract_inclusion infer_def taut2emptyrem valid_def)"], ["proof (state)\nthis:\n  Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n  (\\<exists>x.\n      x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n      Cn A \\<div> \\<phi> \\<subseteq> x)\n\ngoal (1 subgoal):\n 1. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           Cn A \\<div> \\<psi> \\<subseteq> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            Cn A \\<div> \\<psi> \\<subseteq> B}))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           Cn A \\<div> \\<psi> \\<subseteq> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            Cn A \\<div> \\<psi> \\<subseteq> B}))", "case (2 K A \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  K = Cn A\n  Cn {\\<phi>} = Cn {\\<psi>}\n\ngoal (1 subgoal):\n 1. \\<And>K A \\<phi> \\<psi>.\n       \\<lbrakk>K = Cn A; Cn {\\<phi>} = Cn {\\<psi>}\\<rbrakk>\n       \\<Longrightarrow> (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n                          Cn A .\\<bottom>. \\<psi> \\<noteq>\n                          {} \\<longrightarrow>\n                          {Cn A} =\n                          {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                           Cn A \\<div> \\<psi> \\<subseteq> B}) \\<and>\n                         (Cn A .\\<bottom>. \\<phi> \\<noteq>\n                          {} \\<longrightarrow>\n                          (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {Cn A}) \\<and>\n                          (Cn A .\\<bottom>. \\<psi> \\<noteq>\n                           {} \\<longrightarrow>\n                           {B \\<in> Cn A .\\<bottom>. \\<phi>.\n                            Cn A \\<div> \\<phi> \\<subseteq> B} =\n                           {B \\<in> Cn A .\\<bottom>. \\<psi>.\n                            Cn A \\<div> \\<psi> \\<subseteq> B}))", "then"], ["proof (chain)\npicking this:\n  K = Cn A\n  Cn {\\<phi>} = Cn {\\<psi>}", "show ?case"], ["proof (prove)\nusing this:\n  K = Cn A\n  Cn {\\<phi>} = Cn {\\<psi>}\n\ngoal (1 subgoal):\n 1. (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n     Cn A .\\<bottom>. \\<psi> \\<noteq> {} \\<longrightarrow>\n     {Cn A} =\n     {B \\<in> Cn A .\\<bottom>. \\<psi>.\n      Cn A \\<div> \\<psi> \\<subseteq> B}) \\<and>\n    (Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n     (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n      {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B} =\n      {Cn A}) \\<and>\n     (Cn A .\\<bottom>. \\<psi> \\<noteq> {} \\<longrightarrow>\n      {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B} =\n      {B \\<in> Cn A .\\<bottom>. \\<psi>. Cn A \\<div> \\<psi> \\<subseteq> B}))", "by (metis (mono_tags, lifting) contract_extensionality Collect_cong remainder_extensionality)"], ["proof (state)\nthis:\n  (Cn A .\\<bottom>. \\<phi> = {} \\<longrightarrow>\n   Cn A .\\<bottom>. \\<psi> \\<noteq> {} \\<longrightarrow>\n   {Cn A} =\n   {B \\<in> Cn A .\\<bottom>. \\<psi>.\n    Cn A \\<div> \\<psi> \\<subseteq> B}) \\<and>\n  (Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n   (Cn A .\\<bottom>. \\<psi> = {} \\<longrightarrow>\n    {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B} =\n    {Cn A}) \\<and>\n   (Cn A .\\<bottom>. \\<psi> \\<noteq> {} \\<longrightarrow>\n    {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B} =\n    {B \\<in> Cn A .\\<bottom>. \\<psi>. Cn A \\<div> \\<psi> \\<subseteq> B}))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>@{text \\<open>contraction_is_pmc\\<close>} : an AGM contraction is equivalent to a partial met contraction using the selection function \\<open>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<close>\\<close>"], ["", "lemma contraction_is_pmc: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div> \\<phi> = K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\\<close> \\<comment> \\<open>requires a supraclassical logic\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div> \\<phi> =\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div> \\<phi>\n    \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n 2. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "assume a:\\<open>K = Cn(A)\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n\ngoal (2 subgoals):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div> \\<phi>\n    \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n 2. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "show \\<open>K \\<div> \\<phi> \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K \\<div> \\<phi>\n    \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>", "using contract_inclusion[OF a]"], ["proof (prove)\nusing this:\n  K \\<div> ?\\<phi> \\<subseteq> K\n\ngoal (1 subgoal):\n 1. K \\<div> \\<phi>\n    \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>", "by (auto simp add:mc AGM_sel)"], ["proof (state)\nthis:\n  K \\<div> \\<phi>\n  \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "assume a:\\<open>K = Cn(A)\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "show \\<open>K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi> \\<subseteq> K \\<div> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "proof (cases \\<open>\\<tturnstile> \\<phi>\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>\n 2. \\<not> \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "case True"], ["proof (state)\nthis:\n  \\<tturnstile> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>\n 2. \\<not> \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "hence \\<open>K .\\<bottom>. \\<phi> = {}\\<close>"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {}", "using nonconsequence_remainder taut2emptyrem"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<phi>\n  (?A .\\<bottom>. ?\\<phi> = {?A}) = (\\<not> ?A \\<turnstile> ?\\<phi>)\n  \\<tturnstile> ?\\<phi> \\<Longrightarrow> ?A .\\<bottom>. ?\\<phi> = {}\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {}", "by auto"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> = {}\n\ngoal (2 subgoals):\n 1. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>\n 2. \\<not> \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "then"], ["proof (chain)\npicking this:\n  K .\\<bottom>. \\<phi> = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  K .\\<bottom>. \\<phi> = {}\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "apply(simp_all add:mc AGM_sel)"], ["proof (prove)\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {} \\<Longrightarrow>\n    K \\<subseteq> K \\<div> \\<phi>", "by (metis a emptyrem2taut contract_closure contract_recovery valid_expansion)"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n  \\<subseteq> K \\<div> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<not> \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "case validFalse:False"], ["proof (state)\nthis:\n  \\<not> \\<tturnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<not> \\<tturnstile> \\<phi> \\<Longrightarrow>\n    K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<not> \\<tturnstile> \\<phi>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> \\<tturnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "proof (cases \\<open>K \\<turnstile> \\<phi>\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "case True"], ["proof (state)\nthis:\n  K \\<turnstile> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "hence b:\\<open>K .\\<bottom>. \\<phi> \\<noteq> {}\\<close>"], ["proof (prove)\nusing this:\n  K \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> \\<noteq> {}", "using emptyrem2taut validFalse"], ["proof (prove)\nusing this:\n  K \\<turnstile> \\<phi>\n  ?A .\\<bottom>. ?\\<phi> = {} \\<Longrightarrow> \\<tturnstile> ?\\<phi>\n  \\<not> \\<tturnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "have d:\\<open>\\<psi> \\<in> K \\<Longrightarrow> \\<phi> .\\<longrightarrow>. \\<psi> \\<in> K \\<div> \\<phi>\\<close> for \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> K \\<Longrightarrow>\n    \\<phi> .\\<longrightarrow>. \\<psi> \\<in> K \\<div> \\<phi>", "using Supraclassical_logic.impI_PL Supraclassical_logic_axioms a contract_closure contract_recovery expansion_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>Supraclassical_logic ?Cn ?true_PL ?false_PL ?imp_PL ?not_PL\n            ?conj_PL ?disj_PL ?equiv_PL;\n   ?q \\<in> ?Cn (?A \\<union> {?p})\\<rbrakk>\n  \\<Longrightarrow> ?imp_PL ?p ?q \\<in> ?Cn ?A\n  Supraclassical_logic Cn \\<top> \\<bottom> (.\\<longrightarrow>.) .\\<not>\n   (.\\<and>.) (.\\<or>.) (.\\<longleftrightarrow>.)\n  K = Cn A\n  ?K = Cn ?A \\<Longrightarrow> ?K \\<div> ?\\<phi> = Cn (?K \\<div> ?\\<phi>)\n  ?K = Cn ?A \\<Longrightarrow>\n  ?K \\<subseteq> (?K \\<div> ?\\<phi>) \\<oplus> ?\\<phi>\n  ?A \\<oplus> ?\\<phi> \\<equiv> Cn (?A \\<union> {?\\<phi>})\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> K \\<Longrightarrow>\n    \\<phi> .\\<longrightarrow>. \\<psi> \\<in> K \\<div> \\<phi>", "by fastforce"], ["proof (state)\nthis:\n  ?\\<psi> \\<in> K \\<Longrightarrow>\n  \\<phi> .\\<longrightarrow>. ?\\<psi> \\<in> K \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "{"], ["proof (state)\nthis:\n  ?\\<psi> \\<in> K \\<Longrightarrow>\n  \\<phi> .\\<longrightarrow>. ?\\<psi> \\<in> K \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "fix \\<psi>"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "assume e:\\<open>\\<psi> \\<in> K \\<close> and f:\\<open>\\<psi> \\<notin> K \\<div> \\<phi>\\<close>"], ["proof (state)\nthis:\n  \\<psi> \\<in> K\n  \\<psi> \\<notin> K \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "have \\<open>(\\<psi> .\\<longrightarrow>. \\<phi>) .\\<longrightarrow>. \\<phi> \\<notin> K \\<div> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<psi> .\\<longrightarrow>. \\<phi>) .\\<longrightarrow>. \\<phi>\n    \\<notin> K \\<div> \\<phi>", "using imp_recovery2[of \\<open>K \\<div> \\<phi>\\<close> \\<phi> \\<psi>] a contract_closure d e f"], ["proof (prove)\nusing this:\n  \\<lbrakk>K \\<div> \\<phi> \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>;\n   K \\<div> \\<phi> \\<turnstile>\n   (\\<psi> .\\<longrightarrow>. \\<phi>) .\\<longrightarrow>. \\<phi>\\<rbrakk>\n  \\<Longrightarrow> K \\<div> \\<phi> \\<turnstile> \\<psi>\n  K = Cn A\n  ?K = Cn ?A \\<Longrightarrow> ?K \\<div> ?\\<phi> = Cn (?K \\<div> ?\\<phi>)\n  ?\\<psi> \\<in> K \\<Longrightarrow>\n  \\<phi> .\\<longrightarrow>. ?\\<psi> \\<in> K \\<div> \\<phi>\n  \\<psi> \\<in> K\n  \\<psi> \\<notin> K \\<div> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<psi> .\\<longrightarrow>. \\<phi>) .\\<longrightarrow>. \\<phi>\n    \\<notin> K \\<div> \\<phi>", "by auto"], ["proof (state)\nthis:\n  (\\<psi> .\\<longrightarrow>. \\<phi>) .\\<longrightarrow>. \\<phi>\n  \\<notin> K \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "hence g:\\<open>\\<not> (K \\<div> \\<phi>) \\<union> {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile> \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  (\\<psi> .\\<longrightarrow>. \\<phi>) .\\<longrightarrow>. \\<phi>\n  \\<notin> K \\<div> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<not> (K \\<div> \\<phi>) \\<union>\n           {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile>\n           \\<phi>", "using a contract_closure impI_PL"], ["proof (prove)\nusing this:\n  (\\<psi> .\\<longrightarrow>. \\<phi>) .\\<longrightarrow>. \\<phi>\n  \\<notin> K \\<div> \\<phi>\n  K = Cn A\n  ?K = Cn ?A \\<Longrightarrow> ?K \\<div> ?\\<phi> = Cn (?K \\<div> ?\\<phi>)\n  ?A \\<union> {?p} \\<turnstile> ?q \\<Longrightarrow>\n  ?A \\<turnstile> ?p .\\<longrightarrow>. ?q\n\ngoal (1 subgoal):\n 1. \\<not> (K \\<div> \\<phi>) \\<union>\n           {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile>\n           \\<phi>", "by fastforce"], ["proof (state)\nthis:\n  \\<not> (K \\<div> \\<phi>) \\<union>\n         {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile>\n         \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<not> (K \\<div> \\<phi>) \\<union>\n         {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile>\n         \\<phi>", "obtain B where h:\\<open>(K \\<div> \\<phi>) \\<union> {\\<psi> .\\<longrightarrow>. \\<phi>} \\<subseteq> B\\<close> and i:\\<open>B \\<in> K .\\<bottom>. \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  \\<not> (K \\<div> \\<phi>) \\<union>\n         {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile>\n         \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<lbrakk>(K \\<div> \\<phi>) \\<union>\n                 {\\<psi> .\\<longrightarrow>. \\<phi>}\n                 \\<subseteq> B;\n         B \\<in> K .\\<bottom>. \\<phi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using upper_remainder[of \\<open>(K \\<div> \\<phi>) \\<union> {\\<psi> .\\<longrightarrow>. \\<phi>}\\<close> K \\<phi>] a True contract_inclusion idempotency_L impI2"], ["proof (prove)\nusing this:\n  \\<not> (K \\<div> \\<phi>) \\<union>\n         {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile>\n         \\<phi>\n  \\<lbrakk>(K \\<div> \\<phi>) \\<union> {\\<psi> .\\<longrightarrow>. \\<phi>}\n           \\<subseteq> K;\n   \\<not> (K \\<div> \\<phi>) \\<union>\n          {\\<psi> .\\<longrightarrow>. \\<phi>} \\<turnstile>\n          \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>B'.\n                       (K \\<div> \\<phi>) \\<union>\n                       {\\<psi> .\\<longrightarrow>. \\<phi>}\n                       \\<subseteq> B' \\<and>\n                       B' \\<in> K .\\<bottom>. \\<phi>\n  K = Cn A\n  K \\<turnstile> \\<phi>\n  ?K = Cn ?A \\<Longrightarrow> ?K \\<div> ?\\<phi> \\<subseteq> ?K\n  Cn (Cn ?A) = Cn ?A\n  ?A \\<turnstile> ?q \\<Longrightarrow>\n  ?A \\<turnstile> ?p .\\<longrightarrow>. ?q\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<lbrakk>(K \\<div> \\<phi>) \\<union>\n                 {\\<psi> .\\<longrightarrow>. \\<phi>}\n                 \\<subseteq> B;\n         B \\<in> K .\\<bottom>. \\<phi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  (K \\<div> \\<phi>) \\<union> {\\<psi> .\\<longrightarrow>. \\<phi>}\n  \\<subseteq> B\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "hence j:\\<open>\\<psi> \\<notin> Cn(B)\\<close>"], ["proof (prove)\nusing this:\n  (K \\<div> \\<phi>) \\<union> {\\<psi> .\\<longrightarrow>. \\<phi>}\n  \\<subseteq> B\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<notin> Cn B", "by (metis (no_types, lifting) CollectD mp_PL Un_insert_right a infer_def insert_subset rem rem_closure)"], ["proof (state)\nthis:\n  \\<psi> \\<notin> Cn B\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "have \\<open>\\<psi> \\<notin>  K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>", "apply(simp add:mc AGM_sel b, rule_tac x=B in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. \\<phi> \\<and>\n    K \\<div> \\<phi> \\<subseteq> B \\<and> \\<psi> \\<notin> B", "by (meson Tarskian_logic.assumption_L Tarskian_logic_axioms h i j le_sup_iff)"], ["proof (state)\nthis:\n  \\<psi>\n  \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<psi>2 \\<in> K; ?\\<psi>2 \\<notin> K \\<div> \\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<psi>2\n                    \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>\n 2. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<psi>2 \\<in> K; ?\\<psi>2 \\<notin> K \\<div> \\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<psi>2\n                    \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<psi>2 \\<in> K; ?\\<psi>2 \\<notin> K \\<div> \\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<psi>2\n                    \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "using a pmc_inclusion"], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<psi>2 \\<in> K; ?\\<psi>2 \\<notin> K \\<div> \\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<psi>2\n                    \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n  K = Cn A\n  ?K = Cn ?A \\<Longrightarrow>\n  ?K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> ?\\<phi>\n  \\<subseteq> ?K\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "by fastforce"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n  \\<subseteq> K \\<div> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "case False"], ["proof (state)\nthis:\n  \\<not> K \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "hence \\<open>K .\\<bottom>. \\<phi> = {K}\\<close>"], ["proof (prove)\nusing this:\n  \\<not> K \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {K}", "using nonconsequence_remainder taut2emptyrem"], ["proof (prove)\nusing this:\n  \\<not> K \\<turnstile> \\<phi>\n  (?A .\\<bottom>. ?\\<phi> = {?A}) = (\\<not> ?A \\<turnstile> ?\\<phi>)\n  \\<tturnstile> ?\\<phi> \\<Longrightarrow> ?A .\\<bottom>. ?\\<phi> = {}\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {K}", "by auto"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> = {K}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> \\<tturnstile> \\<phi>;\n     \\<not> K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n                      \\<subseteq> K \\<div> \\<phi>", "then"], ["proof (chain)\npicking this:\n  K .\\<bottom>. \\<phi> = {K}", "show ?thesis"], ["proof (prove)\nusing this:\n  K .\\<bottom>. \\<phi> = {K}\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "using False a contract_vacuity idempotency_L pmc_vacuity"], ["proof (prove)\nusing this:\n  K .\\<bottom>. \\<phi> = {K}\n  \\<not> K \\<turnstile> \\<phi>\n  K = Cn A\n  \\<lbrakk>?K = Cn ?A; ?\\<phi> \\<notin> ?K\\<rbrakk>\n  \\<Longrightarrow> ?K \\<div> ?\\<phi> = ?K\n  Cn (Cn ?A) = Cn ?A\n  \\<lbrakk>?K = Cn ?A; \\<not> ?K \\<turnstile> ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> ?\\<phi> =\n                    ?K\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n    \\<subseteq> K \\<div> \\<phi>", "by auto"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n  \\<subseteq> K \\<div> \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n  \\<subseteq> K \\<div> \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\n  \\<subseteq> K \\<div> \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma contraction_with_completion: \\<open>K = Cn(A) \\<Longrightarrow> K \\<div> \\<phi> = K \\<div>\\<^bsub>* \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    K \\<div> \\<phi> =\n    K \\<div>\\<^bsub>* \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^esub> \\<phi>", "by (simp add: contraction_is_pmc pmc_completion)"], ["", "end"], ["", "(* in case of doubt uncomment one of these\\<in>\nsublocale AGMC_SC \\<subseteq> PMC_SC where selection = \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>C \n  by (unfold_locales)\n\nsublocale PMC_SC \\<subseteq> AGMC_SC where contraction = \\<open>\\<lambda>A \\<phi>. A \\<div>\\<^bsub>\\<gamma>\\<^esub> \\<phi>\\<close>\n  by (unfold_locales)\n*)"], ["", "locale TRMC_SC = TransitivelyRelationalMeetContraction + PMC_SC where selection = \\<gamma>\\<^sub>T\\<^sub>R\n\nbegin"], ["", "text \\<open>A transitively relational selection function respect conjuctive overlap.\\<close>"], ["", "lemma rel_sel_conj_overlap: \\<open>K = Cn(A) \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union> \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n    \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n                \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "proof(intro subsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>K = Cn A;\n        x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n                                 \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "fix B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>K = Cn A;\n        x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n                                 \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>K = Cn A;\n        x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n                                 \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "show \\<open>B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union> \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\\<close> (is ?A)"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "proof(cases \\<open>\\<tturnstile> \\<phi> \\<or> \\<tturnstile> \\<psi> \\<or> \\<not> K \\<turnstile> \\<phi> \\<or> \\<not> K \\<turnstile> \\<psi>\\<close>, elim disjE)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 4. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 5. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "assume \\<open>\\<tturnstile> \\<phi>\\<close>"], ["proof (state)\nthis:\n  \\<tturnstile> \\<phi>\n\ngoal (5 subgoals):\n 1. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 4. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 5. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "hence c:\\<open>Cn({\\<phi> .\\<and>. \\<psi>}) = Cn({\\<psi>})\\<close>"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<psi>}", "using conj_equiv valid_Cn_equiv valid_def"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<phi>\n  ?A \\<turnstile> ?p \\<Longrightarrow>\n  ?A \\<turnstile> (?p .\\<and>. ?q) .\\<longleftrightarrow>. ?q\n  \\<tturnstile> (?p .\\<longleftrightarrow>. ?q) = (Cn {?p} = Cn {?q})\n  \\<tturnstile> ?\\<phi> \\<equiv> {} \\<turnstile> ?\\<phi>\n\ngoal (1 subgoal):\n 1. Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<psi>}", "by blast"], ["proof (state)\nthis:\n  Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<psi>}\n\ngoal (5 subgoals):\n 1. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 4. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 5. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "from b"], ["proof (chain)\npicking this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "show ?A"], ["proof (prove)\nusing this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "by (metis Un_iff a c extensional_selection)"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n          \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n\ngoal (4 subgoals):\n 1. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 4. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 4. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "assume \\<open>\\<tturnstile> \\<psi>\\<close>"], ["proof (state)\nthis:\n  \\<tturnstile> \\<psi>\n\ngoal (4 subgoals):\n 1. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 4. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "hence c:\\<open>Cn({\\<phi> .\\<and>. \\<psi>}) = Cn({\\<phi>})\\<close>"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<phi>}", "by (simp add: Cn_conj_bis Cn_same validD_L)"], ["proof (state)\nthis:\n  Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<phi>}\n\ngoal (4 subgoals):\n 1. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 4. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "from b"], ["proof (chain)\npicking this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "show ?A"], ["proof (prove)\nusing this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "by (metis Un_iff a c extensional_selection)"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n          \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n\ngoal (3 subgoals):\n 1. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "assume \\<open>\\<not> K \\<turnstile> \\<phi>\\<close>"], ["proof (state)\nthis:\n  \\<not> K \\<turnstile> \\<phi>\n\ngoal (3 subgoals):\n 1. \\<not> K \\<turnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 3. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "then"], ["proof (chain)\npicking this:\n  \\<not> K \\<turnstile> \\<phi>", "show ?A"], ["proof (prove)\nusing this:\n  \\<not> K \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "by (metis UnI1 a b conjE1_PL is_selection nonconsequence_remainder nonempty_selection tautology_selection subset_singletonD)"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n          \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n\ngoal (2 subgoals):\n 1. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "assume \\<open>\\<not> K \\<turnstile> \\<psi>\\<close>"], ["proof (state)\nthis:\n  \\<not> K \\<turnstile> \\<psi>\n\ngoal (2 subgoals):\n 1. \\<not> K \\<turnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n 2. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "then"], ["proof (chain)\npicking this:\n  \\<not> K \\<turnstile> \\<psi>", "show ?A"], ["proof (prove)\nusing this:\n  \\<not> K \\<turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "by (metis UnI2 a b conjE2_PL is_selection nonconsequence_remainder nonempty_selection tautology_selection subset_singletonD)"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n          \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n\ngoal (1 subgoal):\n 1. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "assume d:\\<open>\\<not> (\\<tturnstile> \\<phi> \\<or> \\<tturnstile> \\<psi> \\<or> \\<not> K \\<turnstile> \\<phi> \\<or> \\<not> K \\<turnstile> \\<psi>)\\<close>"], ["proof (state)\nthis:\n  \\<not> (\\<tturnstile> \\<phi> \\<or>\n          \\<tturnstile> \\<psi> \\<or>\n          \\<not> K \\<turnstile> \\<phi> \\<or> \\<not> K \\<turnstile> \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "hence h:\\<open>K .\\<bottom>. \\<phi>  \\<noteq> {}\\<close> and i:\\<open>K .\\<bottom>. \\<psi> \\<noteq> {}\\<close> and j:\\<open>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {}\\<close> and k:\"K \\<turnstile> \\<phi> .\\<and>. \\<psi>\""], ["proof (prove)\nusing this:\n  \\<not> (\\<tturnstile> \\<phi> \\<or>\n          \\<tturnstile> \\<psi> \\<or>\n          \\<not> K \\<turnstile> \\<phi> \\<or> \\<not> K \\<turnstile> \\<psi>)\n\ngoal (1 subgoal):\n 1. (K .\\<bottom>. \\<phi> \\<noteq> {} &&&\n     K .\\<bottom>. \\<psi> \\<noteq> {}) &&&\n    K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {} &&&\n    K \\<turnstile> \\<phi> .\\<and>. \\<psi>", "using d emptyrem2taut valid_conj_PL"], ["proof (prove)\nusing this:\n  \\<not> (\\<tturnstile> \\<phi> \\<or>\n          \\<tturnstile> \\<psi> \\<or>\n          \\<not> K \\<turnstile> \\<phi> \\<or> \\<not> K \\<turnstile> \\<psi>)\n  \\<not> (\\<tturnstile> \\<phi> \\<or>\n          \\<tturnstile> \\<psi> \\<or>\n          \\<not> K \\<turnstile> \\<phi> \\<or> \\<not> K \\<turnstile> \\<psi>)\n  ?A .\\<bottom>. ?\\<phi> = {} \\<Longrightarrow> \\<tturnstile> ?\\<phi>\n  \\<tturnstile> (?p .\\<and>. ?q) =\n  (\\<tturnstile> ?p \\<and> \\<tturnstile> ?q)\n\ngoal (1 subgoal):\n 1. (K .\\<bottom>. \\<phi> \\<noteq> {} &&&\n     K .\\<bottom>. \\<psi> \\<noteq> {}) &&&\n    K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {} &&&\n    K \\<turnstile> \\<phi> .\\<and>. \\<psi>", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>A \\<phi>.\n                A .\\<bottom>. \\<phi> = {} \\<Longrightarrow>\n                \\<tturnstile> \\<phi>;\n     \\<And>p q.\n        \\<tturnstile> (p .\\<and>. q) =\n        (\\<tturnstile> p \\<and> \\<tturnstile> q);\n     \\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> \\<phi> .\\<and>. \\<psi> \\<in> Cn K", "by (meson Supraclassical_logic.conjI_PL Supraclassical_logic_axioms d)"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n  K .\\<bottom>. \\<psi> \\<noteq> {}\n  K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {}\n  K \\<turnstile> \\<phi> .\\<and>. \\<psi>\n\ngoal (1 subgoal):\n 1. \\<not> (\\<tturnstile> \\<phi> \\<or>\n            \\<tturnstile> \\<psi> \\<or>\n            \\<not> K \\<turnstile> \\<phi> \\<or>\n            \\<not> K \\<turnstile> \\<psi>) \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "show ?A"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "using remainder_conj[OF a k] b h i j rel_sel"], ["proof (prove)\nusing this:\n  K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) =\n  (K .\\<bottom>. \\<phi>) \\<union> (K .\\<bottom>. \\<psi>)\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n  K .\\<bottom>. \\<psi> \\<noteq> {}\n  K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {}\n  \\<gamma>\\<^sub>T\\<^sub>R ?K ?\\<phi> \\<equiv>\n  if ?K .\\<bottom>. ?\\<phi> = {} then {?K}\n  else {B \\<in> ?K .\\<bottom>. ?\\<phi>.\n        \\<forall>C\\<in>?K .\\<bottom>. ?\\<phi>.\n           C \\<preceq>\\<^bsub>?K\\<^esub> B}\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n            \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>", "by auto"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n          \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<union>\n          \\<gamma>\\<^sub>T\\<^sub>R K \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>A transitively relational meet contraction respect conjuctive overlap.\\<close>"], ["", "lemma trmc_conj_overlap: \\<open>K = Cn(A) \\<Longrightarrow> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>) \\<inter> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<psi>) \\<subseteq> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>) \\<inter>\n    (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<psi>)\n    \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                            \\<psi>)", "unfolding mc"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K \\<phi>) \\<inter>\n    \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K \\<psi>)\n    \\<subseteq> \\<Inter>\n                 (\\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>))", "using rel_sel_conj_overlap"], ["proof (prove)\nusing this:\n  ?K = Cn ?A \\<Longrightarrow>\n  \\<gamma>\\<^sub>T\\<^sub>R ?K (?\\<phi> .\\<and>. ?\\<psi>)\n  \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R ?K ?\\<phi> \\<union>\n              \\<gamma>\\<^sub>T\\<^sub>R ?K ?\\<psi>\n\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K \\<phi>) \\<inter>\n    \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K \\<psi>)\n    \\<subseteq> \\<Inter>\n                 (\\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>))", "by blast"], ["", "text\\<open>A transitively relational selection function respect conjuctive inclusion\\<close>"], ["", "lemma rel_sel_conj_inclusion: \\<open>K = Cn(A) \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter> (K .\\<bottom>. \\<phi>) \\<noteq> {} \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi> \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A;\n     \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n     (K .\\<bottom>. \\<phi>) \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\n                      \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R K\n                                   (\\<phi> .\\<and>. \\<psi>)", "proof(intro subsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>K = Cn A;\n        \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n        (K .\\<bottom>. \\<phi>) \\<noteq>\n        {};\n        x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                                  (\\<phi> .\\<and>. \\<psi>)", "fix B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>K = Cn A;\n        \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n        (K .\\<bottom>. \\<phi>) \\<noteq>\n        {};\n        x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                                  (\\<phi> .\\<and>. \\<psi>)", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>\\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter> (K .\\<bottom>. \\<phi>) \\<noteq> {}\\<close> and c:\\<open>B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>K = Cn A;\n        \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n        (K .\\<bottom>. \\<phi>) \\<noteq>\n        {};\n        x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                                  (\\<phi> .\\<and>. \\<psi>)", "show \\<open>B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<close> (is ?A)"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "proof(cases \\<open>\\<tturnstile> \\<phi> \\<or> \\<tturnstile> \\<psi> \\<or> \\<not> K \\<turnstile> \\<phi> \\<or> \\<not> K \\<turnstile> \\<psi>\\<close>, auto)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 4. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 5. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "assume \\<open>\\<tturnstile> \\<phi>\\<close>"], ["proof (state)\nthis:\n  \\<tturnstile> \\<phi>\n\ngoal (5 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<tturnstile> \\<phi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 4. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 5. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "then"], ["proof (chain)\npicking this:\n  \\<tturnstile> \\<phi>", "show ?A"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "using b taut2emptyrem"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<phi>\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n  \\<tturnstile> ?\\<phi> \\<Longrightarrow> ?A .\\<bottom>. ?\\<phi> = {}\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "by auto"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (4 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 4. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 4. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "assume \\<open>\\<tturnstile> \\<psi>\\<close>"], ["proof (state)\nthis:\n  \\<tturnstile> \\<psi>\n\ngoal (4 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 4. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "hence \\<open>Cn({\\<phi> .\\<and>. \\<psi>}) = Cn({\\<phi>})\\<close>"], ["proof (prove)\nusing this:\n  \\<tturnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<phi>}", "by (simp add: Cn_conj_bis Cn_same validD_L)"], ["proof (state)\nthis:\n  Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<phi>}\n\ngoal (4 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<tturnstile> \\<psi> \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 4. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "then"], ["proof (chain)\npicking this:\n  Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<phi>}", "show ?A"], ["proof (prove)\nusing this:\n  Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<phi>}\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "using a c extensional_selection"], ["proof (prove)\nusing this:\n  Cn {\\<phi> .\\<and>. \\<psi>} = Cn {\\<phi>}\n  K = Cn A\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\n  \\<lbrakk>?K = Cn ?A; Cn {?\\<phi>} = Cn {?\\<psi>}\\<rbrakk>\n  \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R ?K ?\\<phi> =\n                    \\<gamma>\\<^sub>T\\<^sub>R ?K ?\\<psi>\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "by blast"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (3 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "assume d:\\<open>\\<phi> \\<notin> Cn K\\<close>"], ["proof (state)\nthis:\n  \\<phi> \\<notin> Cn K\n\ngoal (3 subgoals):\n 1. \\<phi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 3. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "with d"], ["proof (chain)\npicking this:\n  \\<phi> \\<notin> Cn K\n  \\<phi> \\<notin> Cn K", "show ?A"], ["proof (prove)\nusing this:\n  \\<phi> \\<notin> Cn K\n  \\<phi> \\<notin> Cn K\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "by (metis Int_emptyI Tarskian_logic.nonconsequence_remainder Tarskian_logic_axioms a b c idempotency_L \n                inf_bot_right is_selection nonempty_selection singletonD subset_singletonD)"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (2 subgoals):\n 1. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "assume d:\\<open>\\<psi> \\<notin> Cn K\\<close>"], ["proof (state)\nthis:\n  \\<psi> \\<notin> Cn K\n\ngoal (2 subgoals):\n 1. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "hence e:\\<open>(\\<phi> .\\<and>. \\<psi>) \\<notin> Cn K\\<close>"], ["proof (prove)\nusing this:\n  \\<psi> \\<notin> Cn K\n\ngoal (1 subgoal):\n 1. \\<phi> .\\<and>. \\<psi> \\<notin> Cn K", "by (meson Supraclassical_logic.conjE2_PL Supraclassical_logic_axioms)"], ["proof (state)\nthis:\n  \\<phi> .\\<and>. \\<psi> \\<notin> Cn K\n\ngoal (2 subgoals):\n 1. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "hence f:\\<open>\\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\\<close>"], ["proof (prove)\nusing this:\n  \\<phi> .\\<and>. \\<psi> \\<notin> Cn K\n\ngoal (1 subgoal):\n 1. \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}", "by (metis Tarskian_logic.nonconsequence_remainder Tarskian_logic_axioms a insert_not_empty is_selection \n                nonempty_selection subset_singletonD)"], ["proof (state)\nthis:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\n\ngoal (2 subgoals):\n 1. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "with b"], ["proof (chain)\npicking this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}", "have g:\\<open>(K .\\<bottom>. \\<phi>) = {K}\\<close>"], ["proof (prove)\nusing this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {K}", "unfolding nonconsequence_remainder[symmetric]"], ["proof (prove)\nusing this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {K}", "using rem"], ["proof (prove)\nusing this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\n  ?A .\\<bottom>. ?\\<phi> \\<equiv>\n  {B. B \\<subseteq> ?A \\<and>\n      \\<not> B \\<turnstile> ?\\<phi> \\<and>\n      (\\<forall>B'\\<subseteq>?A.\n          B \\<subset> B' \\<longrightarrow> B' \\<turnstile> ?\\<phi>)}\n\ngoal (1 subgoal):\n 1. K .\\<bottom>. \\<phi> = {K}", "by auto"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> = {K}\n\ngoal (2 subgoals):\n 1. \\<psi> \\<notin> Cn K \\<Longrightarrow>\n    B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n 2. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "with d f"], ["proof (chain)\npicking this:\n  \\<psi> \\<notin> Cn K\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\n  K .\\<bottom>. \\<phi> = {K}", "show ?A"], ["proof (prove)\nusing this:\n  \\<psi> \\<notin> Cn K\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\n  K .\\<bottom>. \\<phi> = {K}\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "using a c is_selection"], ["proof (prove)\nusing this:\n  \\<psi> \\<notin> Cn K\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) = {K}\n  K .\\<bottom>. \\<phi> = {K}\n  K = Cn A\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\n  \\<lbrakk>?K = Cn ?A; ?K .\\<bottom>. ?\\<phi> \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> \\<gamma>\\<^sub>T\\<^sub>R ?K ?\\<phi>\n                    \\<subseteq> ?K .\\<bottom>. ?\\<phi>\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "by fastforce"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "assume d:\\<open>\\<not> \\<tturnstile> \\<phi>\\<close> and e:\\<open>\\<not> \\<tturnstile> \\<psi>\\<close> and f:\\<open>\\<phi> \\<in> Cn K\\<close> and g:\\<open>\\<psi> \\<in> Cn K\\<close>"], ["proof (state)\nthis:\n  \\<not> \\<tturnstile> \\<phi>\n  \\<not> \\<tturnstile> \\<psi>\n  \\<phi> \\<in> Cn K\n  \\<psi> \\<in> Cn K\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "hence h:\\<open>K .\\<bottom>. \\<phi>  \\<noteq> {}\\<close> and i:\\<open>K .\\<bottom>. \\<psi> \\<noteq> {}\\<close> and j:\\<open>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {}\\<close> and k:\"K \\<turnstile> \\<phi> .\\<and>. \\<psi>\""], ["proof (prove)\nusing this:\n  \\<not> \\<tturnstile> \\<phi>\n  \\<not> \\<tturnstile> \\<psi>\n  \\<phi> \\<in> Cn K\n  \\<psi> \\<in> Cn K\n\ngoal (1 subgoal):\n 1. (K .\\<bottom>. \\<phi> \\<noteq> {} &&&\n     K .\\<bottom>. \\<psi> \\<noteq> {}) &&&\n    K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {} &&&\n    K \\<turnstile> \\<phi> .\\<and>. \\<psi>", "using e d emptyrem2taut valid_conj_PL"], ["proof (prove)\nusing this:\n  \\<not> \\<tturnstile> \\<phi>\n  \\<not> \\<tturnstile> \\<psi>\n  \\<phi> \\<in> Cn K\n  \\<psi> \\<in> Cn K\n  \\<not> \\<tturnstile> \\<psi>\n  \\<not> \\<tturnstile> \\<phi>\n  ?A .\\<bottom>. ?\\<phi> = {} \\<Longrightarrow> \\<tturnstile> ?\\<phi>\n  \\<tturnstile> (?p .\\<and>. ?q) =\n  (\\<tturnstile> ?p \\<and> \\<tturnstile> ?q)\n\ngoal (1 subgoal):\n 1. (K .\\<bottom>. \\<phi> \\<noteq> {} &&&\n     K .\\<bottom>. \\<psi> \\<noteq> {}) &&&\n    K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {} &&&\n    K \\<turnstile> \\<phi> .\\<and>. \\<psi>", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<psi> \\<in> Cn K;\n     \\<not> \\<tturnstile> \\<psi>; \\<not> \\<tturnstile> \\<phi>;\n     \\<And>A \\<phi>.\n        A .\\<bottom>. \\<phi> = {} \\<Longrightarrow> \\<tturnstile> \\<phi>;\n     \\<And>p q.\n        \\<tturnstile> (p .\\<and>. q) =\n        (\\<tturnstile> p \\<and> \\<tturnstile> q)\\<rbrakk>\n    \\<Longrightarrow> \\<phi> .\\<and>. \\<psi> \\<in> Cn K", "by (meson Supraclassical_logic.conjI_PL Supraclassical_logic_axioms f g)"], ["proof (state)\nthis:\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n  K .\\<bottom>. \\<psi> \\<noteq> {}\n  K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) \\<noteq> {}\n  K \\<turnstile> \\<phi> .\\<and>. \\<psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "have o:\\<open>B \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow> B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\\<close> for B"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow>\n    B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)", "using a k remainder_conj"], ["proof (prove)\nusing this:\n  K = Cn A\n  K \\<turnstile> \\<phi> .\\<and>. \\<psi>\n  \\<lbrakk>?K = Cn ?A; ?K \\<turnstile> ?\\<phi> .\\<and>. ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> ?K .\\<bottom>. (?\\<phi> .\\<and>. ?\\<psi>) =\n                    (?K .\\<bottom>. ?\\<phi>) \\<union>\n                    (?K .\\<bottom>. ?\\<psi>)\n\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow>\n    B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)", "by auto"], ["proof (state)\nthis:\n  ?B \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow>\n  ?B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "from b"], ["proof (chain)\npicking this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}", "obtain B' where l:\\<open>B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\\<close> and m:\\<open>\\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>). C \\<preceq>\\<^bsub>K\\<^esub> B'\\<close> and n:\\<open>\\<phi> \\<notin> B'\\<close>"], ["proof (prove)\nusing this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. (\\<And>B'.\n        \\<lbrakk>B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>);\n         \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n            C \\<preceq>\\<^bsub>K\\<^esub> B';\n         \\<phi> \\<notin> B'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply (auto simp add:mc rel_sel j)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>B'.\n                   \\<lbrakk>B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>);\n                    \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n                       C \\<preceq>\\<^bsub>K\\<^esub> B';\n                    \\<phi> \\<notin> B'\\<rbrakk>\n                   \\<Longrightarrow> False;\n        \\<not> thesis; x \\<in> K .\\<bottom>. \\<phi>;\n        x \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>);\n        \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n           C \\<preceq>\\<^bsub>K\\<^esub> x\\<rbrakk>\n       \\<Longrightarrow> False", "using assumption_L rem"], ["proof (prove)\nusing this:\n  ?\\<phi> \\<in> ?A \\<Longrightarrow> ?A \\<turnstile> ?\\<phi>\n  ?A .\\<bottom>. ?\\<phi> \\<equiv>\n  {B. B \\<subseteq> ?A \\<and>\n      \\<not> B \\<turnstile> ?\\<phi> \\<and>\n      (\\<forall>B'\\<subseteq>?A.\n          B \\<subset> B' \\<longrightarrow> B' \\<turnstile> ?\\<phi>)}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>B'.\n                   \\<lbrakk>B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>);\n                    \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n                       C \\<preceq>\\<^bsub>K\\<^esub> B';\n                    \\<phi> \\<notin> B'\\<rbrakk>\n                   \\<Longrightarrow> False;\n        \\<not> thesis; x \\<in> K .\\<bottom>. \\<phi>;\n        x \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>);\n        \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n           C \\<preceq>\\<^bsub>K\\<^esub> x\\<rbrakk>\n       \\<Longrightarrow> False", "by force"], ["proof (state)\nthis:\n  B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n     C \\<preceq>\\<^bsub>K\\<^esub> B'\n  \\<phi> \\<notin> B'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "have p:\\<open>B' \\<in> K .\\<bottom>. \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. B' \\<in> K .\\<bottom>. \\<phi>", "apply(simp add: rem)"], ["proof (prove)\ngoal (1 subgoal):\n 1. B' \\<subseteq> K \\<and>\n    \\<phi> \\<notin> Cn B' \\<and>\n    (\\<forall>B'a\\<subseteq>K.\n        B' \\<subset> B'a \\<longrightarrow> \\<phi> \\<in> Cn B'a)", "by (metis (no_types, lifting) Supraclassical_logic.conjE1_PL Supraclassical_logic_axioms \n                Tarskian_logic.rem Tarskian_logic_axioms a l mem_Collect_eq n rem_closure)"], ["proof (state)\nthis:\n  B' \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn K; \\<not> \\<tturnstile> \\<phi>;\n     \\<not> \\<tturnstile> \\<psi>; \\<psi> \\<in> Cn K\\<rbrakk>\n    \\<Longrightarrow> B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                               (\\<phi> .\\<and>. \\<psi>)", "from c"], ["proof (chain)\npicking this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>", "show ?A"], ["proof (prove)\nusing this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\n\ngoal (1 subgoal):\n 1. B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)", "apply (simp add:rel_sel o j h)"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. \\<phi> \\<and>\n    (\\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n        C \\<preceq>\\<^bsub>K\\<^esub> B) \\<Longrightarrow>\n    \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n       C \\<preceq>\\<^bsub>K\\<^esub> B", "using m p trans_rel a"], ["proof (prove)\nusing this:\n  \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n     C \\<preceq>\\<^bsub>K\\<^esub> B'\n  B' \\<in> K .\\<bottom>. \\<phi>\n  \\<lbrakk>?K = Cn ?A; ?B \\<preceq>\\<^bsub>?K\\<^esub> ?C;\n   ?C \\<preceq>\\<^bsub>?K\\<^esub> ?D\\<rbrakk>\n  \\<Longrightarrow> ?B \\<preceq>\\<^bsub>?K\\<^esub> ?D\n  K = Cn A\n\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. \\<phi> \\<and>\n    (\\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n        C \\<preceq>\\<^bsub>K\\<^esub> B) \\<Longrightarrow>\n    \\<forall>C\\<in>K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>).\n       C \\<preceq>\\<^bsub>K\\<^esub> B", "by blast"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>A transitively relational meet contraction respect conjuctive inclusion\\<close>"], ["", "lemma trmc_conj_inclusion: \\<open>K = Cn(A) \\<Longrightarrow> \\<phi> \\<notin> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>)) \\<Longrightarrow> ((K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>)))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A;\n     \\<phi>\n     \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                          \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                                  \\<psi>)\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A;\n     \\<phi>\n     \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                          \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                                  \\<psi>)\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>\\<phi> \\<notin> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>))\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  \\<phi>\n  \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                       \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A;\n     \\<phi>\n     \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                          \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                                  \\<psi>)\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>", "then"], ["proof (chain)\npicking this:\n  K = Cn A\n  \\<phi>\n  \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                       \\<psi>)", "obtain B where c:\\<open>B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\\<close> and d:\\<open>\\<not> B \\<turnstile> \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  K = Cn A\n  \\<phi>\n  \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                       \\<psi>)\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<lbrakk>B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K\n                          (\\<phi> .\\<and>. \\<psi>);\n         \\<not> B \\<turnstile> \\<phi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply(simp add:mc)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B.\n                \\<lbrakk>B \\<in> \\<gamma>\\<^sub>T\\<^sub>R (Cn A)\n                                  (\\<phi> .\\<and>. \\<psi>);\n                 \\<phi> \\<notin> Cn B\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     K = Cn A;\n     \\<exists>x\\<in>\\<gamma>\\<^sub>T\\<^sub>R (Cn A)\n                     (\\<phi> .\\<and>. \\<psi>).\n        \\<phi> \\<notin> x\\<rbrakk>\n    \\<Longrightarrow> thesis", "by (metis b emptyrem2taut is_selection pmc_tautology rem_closure subset_iff validD_L valid_conj_PL)"], ["proof (state)\nthis:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n  \\<not> B \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A;\n     \\<phi>\n     \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                          \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                                  \\<psi>)\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>", "hence \\<open>B \\<in> (K .\\<bottom>. \\<phi>)\\<close>"], ["proof (prove)\nusing this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n  \\<not> B \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. \\<phi>", "using remainder_recovery_bis[OF a _ d, of \\<open>\\<phi> .\\<and>. \\<psi>\\<close>]"], ["proof (prove)\nusing this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n  \\<not> B \\<turnstile> \\<phi>\n  \\<lbrakk>K \\<turnstile> \\<phi>;\n   B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\\<rbrakk>\n  \\<Longrightarrow> B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. \\<phi>", "by (metis (no_types, hide_lams) a conj_PL emptyrem2taut insert_not_empty is_selection \n                                    nonconsequence_remainder subsetD taut2emptyrem)"], ["proof (state)\nthis:\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A;\n     \\<phi>\n     \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                          \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                                  \\<psi>)\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>", "with c"], ["proof (chain)\npicking this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n  B \\<in> K .\\<bottom>. \\<phi>", "have e:\\<open>\\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter> (K .\\<bottom>. \\<phi>) \\<noteq> {}\\<close>"], ["proof (prove)\nusing this:\n  B \\<in> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n    (K .\\<bottom>. \\<phi>) \\<noteq>\n    {}", "by blast"], ["proof (state)\nthis:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A;\n     \\<phi>\n     \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                          \\<psi>)\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                                  \\<psi>)\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}", "show \\<open>((K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>)))\\<close>"], ["proof (prove)\nusing this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>.\n                \\<psi>)\n    \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>", "unfolding mc"], ["proof (prove)\nusing this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>))\n    \\<subseteq> \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K \\<phi>)", "using rel_sel_conj_inclusion[OF a e]"], ["proof (prove)\nusing this:\n  \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>) \\<inter>\n  (K .\\<bottom>. \\<phi>) \\<noteq>\n  {}\n  \\<gamma>\\<^sub>T\\<^sub>R K \\<phi>\n  \\<subseteq> \\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K (\\<phi> .\\<and>. \\<psi>))\n    \\<subseteq> \\<Inter> (\\<gamma>\\<^sub>T\\<^sub>R K \\<phi>)", "by blast"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (\\<phi> .\\<and>. \\<psi>)\n  \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>As a transitively relational meet contraction has been proven to respect all postulates of AGM full contraction \nthe equivalence between the both are straightforward\\<close>"], ["", "sublocale AGM_FullContraction where contraction = \\<open>\\<lambda>A \\<phi>. A  \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (AGM_FullContraction Cn\n      (\\<lambda>A. meet_contraction A \\<gamma>\\<^sub>T\\<^sub>R) \\<top>\n      \\<bottom> (.\\<longrightarrow>.) .\\<not> (.\\<and>.) (.\\<or>.)\n      (.\\<longleftrightarrow>.) &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>. A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>}))", "using trmc_conj_inclusion trmc_conj_overlap"], ["proof (prove)\nusing this:\n  \\<lbrakk>?K = Cn ?A;\n   ?\\<phi>\n   \\<notin> ?K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (?\\<phi> .\\<and>.\n                         ?\\<psi>)\\<rbrakk>\n  \\<Longrightarrow> ?K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (?\\<phi> .\\<and>.\n                                 ?\\<psi>)\n                    \\<subseteq> ?K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> ?\\<phi>\n  ?K = Cn ?A \\<Longrightarrow>\n  (?K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> ?\\<phi>) \\<inter>\n  (?K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> ?\\<psi>)\n  \\<subseteq> ?K \\<div>\\<^bsub>\\<gamma>\\<^sub>T\\<^sub>R\\<^esub> (?\\<phi> .\\<and>.\n                           ?\\<psi>)\n\ngoal (1 subgoal):\n 1. (AGM_FullContraction Cn\n      (\\<lambda>A. meet_contraction A \\<gamma>\\<^sub>T\\<^sub>R) \\<top>\n      \\<bottom> (.\\<longrightarrow>.) .\\<not> (.\\<and>.) (.\\<or>.)\n      (.\\<longleftrightarrow>.) &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>. A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>}))", "by (unfold_locales, simp_all)"], ["", "end"], ["", "locale AGMFC_SC = AGM_FullContraction + AGMC_SC \n\nbegin"], ["", "text\\<open>An AGM relation is defined as ?\\<close>"], ["", "definition AGM_relation::\\<open>'a set \\<Rightarrow> 'a set \\<Rightarrow> 'a set \\<Rightarrow> bool\\<close> \n  where AGM_rel: \\<open>AGM_relation C K B  \\<equiv> (C = K \\<and> B = K) \\<or> (  (\\<exists>\\<phi>. K \\<turnstile> \\<phi> \\<and> C \\<in> K .\\<bottom>. \\<phi>)\n                                                            \\<and> (\\<exists>\\<phi>. K \\<turnstile> \\<phi> \\<and> B \\<in> K .\\<bottom>. \\<phi> \\<and>  K \\<div> \\<phi> \\<subseteq> B)\n                                                            \\<and> (\\<forall>\\<phi>. (K \\<turnstile> \\<phi> \\<and> C \\<in> K .\\<bottom>. \\<phi> \\<and> B \\<in> K .\\<bottom>. \\<phi> \\<and> K \\<div> \\<phi> \\<subseteq> C) \\<longrightarrow> K \\<div> \\<phi> \\<subseteq> B))\\<close>"], ["", "text\\<open>An AGM relational selection is defined as a function that return @{term \\<open>K\\<close>} if the remainders of @{text \\<open>K .\\<bottom>. \\<phi>\\<close>} is empty and\nthe best element of the remainders according to an AGM relation\\<close>"], ["", "definition AGM_relational_selection::\\<open>'a set \\<Rightarrow> 'a  \\<Rightarrow> 'a set set\\<close> (\\<open>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R\\<close>)\n  where AGM_rel_sel: \\<open>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R  K \\<phi> \\<equiv> if (K .\\<bottom>. \\<phi>) = {} \n                                   then {K} \n                                   else {B. B\\<in>(K .\\<bottom>. \\<phi>) \\<and> (\\<forall>C\\<in>(K .\\<bottom>. \\<phi>). AGM_relation C K B)}\\<close>"], ["", "lemma AGM_rel_sel_completion: \\<open>K = Cn(A) \\<Longrightarrow> \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> = * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n    * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi>", "apply (unfold AGM_rel_sel, simp add:completion_def split: if_splits)"], ["proof (prove)\ngoal (1 subgoal):\n 1. K = Cn A \\<Longrightarrow>\n    Cn A .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n    {B \\<in> Cn A .\\<bottom>. \\<phi>.\n     \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) B} =\n    {B \\<in> Cn A .\\<bottom>. \\<phi>.\n     \\<Inter> (\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M (Cn A) \\<phi>)\n     \\<subseteq> B}", "proof(auto simp add:AGM_sel)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa\n 2. \\<And>x xa C.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<Inter>\n         {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n        \\<subseteq> xa;\n        C \\<in> Cn A .\\<bottom>. \\<phi>\\<rbrakk>\n       \\<Longrightarrow> AGM_relation C (Cn A) xa", "fix S B C"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa\n 2. \\<And>x xa C.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<Inter>\n         {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n        \\<subseteq> xa;\n        C \\<in> Cn A .\\<bottom>. \\<phi>\\<rbrakk>\n       \\<Longrightarrow> AGM_relation C (Cn A) xa", "assume a:\\<open>S \\<in> Cn(A) .\\<bottom>. \\<phi>\\<close> and b:\\<open>B \\<in> Cn(A) .\\<bottom>. \\<phi>\\<close> and c:\\<open>\\<Inter> {B \\<in> Cn(A) .\\<bottom>. \\<phi>. Cn(A) \\<div> \\<phi> \\<subseteq> B} \\<subseteq> B\\<close> \n     and d:\\<open>C \\<in> Cn(A) .\\<bottom>. \\<phi>\\<close>"], ["proof (state)\nthis:\n  S \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<Inter>\n   {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n  \\<subseteq> B\n  C \\<in> Cn A .\\<bottom>. \\<phi>\n\ngoal (2 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa\n 2. \\<And>x xa C.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<Inter>\n         {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n        \\<subseteq> xa;\n        C \\<in> Cn A .\\<bottom>. \\<phi>\\<rbrakk>\n       \\<Longrightarrow> AGM_relation C (Cn A) xa", "hence e:\\<open>\\<phi> \\<notin>  Cn(A) \\<div> \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  S \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<Inter>\n   {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n  \\<subseteq> B\n  C \\<in> Cn A .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<notin> Cn A \\<div> \\<phi>", "using Tarskian_logic.taut2emptyrem Tarskian_logic_axioms contract_success"], ["proof (prove)\nusing this:\n  S \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<Inter>\n   {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n  \\<subseteq> B\n  C \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<lbrakk>Tarskian_logic ?Cn; ?\\<phi> \\<in> ?Cn {}\\<rbrakk>\n  \\<Longrightarrow> Tarskian_logic.remainder ?Cn ?A ?\\<phi> = {}\n  Tarskian_logic Cn\n  \\<lbrakk>?K = Cn ?A; ?\\<phi> \\<notin> Cn {}\\<rbrakk>\n  \\<Longrightarrow> ?\\<phi> \\<notin> ?K \\<div> ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<notin> Cn A \\<div> \\<phi>", "by fastforce"], ["proof (state)\nthis:\n  \\<phi> \\<notin> Cn A \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa\n 2. \\<And>x xa C.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<Inter>\n         {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n        \\<subseteq> xa;\n        C \\<in> Cn A .\\<bottom>. \\<phi>\\<rbrakk>\n       \\<Longrightarrow> AGM_relation C (Cn A) xa", "show \\<open>AGM_relation C (Cn(A)) B\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. AGM_relation C (Cn A) B", "proof(cases \\<open>\\<phi> \\<in> Cn(A)\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "case True"], ["proof (state)\nthis:\n  \\<phi> \\<in> Cn A\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "{"], ["proof (state)\nthis:\n  \\<phi> \\<in> Cn A\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "fix \\<psi>"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "assume \\<open>Cn A \\<div> \\<psi> \\<subseteq> C\\<close>"], ["proof (state)\nthis:\n  Cn A \\<div> \\<psi> \\<subseteq> C\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "hence \\<open>Cn A \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> Cn A \\<div> \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  Cn A \\<div> \\<psi> \\<subseteq> C\n\ngoal (1 subgoal):\n 1. Cn A \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> Cn A \\<div> \\<phi>", "using contract_conj_inclusion_variant[of \\<open>Cn(A)\\<close> A \\<phi> \\<psi>]"], ["proof (prove)\nusing this:\n  Cn A \\<div> \\<psi> \\<subseteq> C\n  Cn A = Cn A \\<Longrightarrow>\n  Cn A \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> Cn A \\<div> \\<phi> \\<or>\n  Cn A \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> Cn A \\<div> \\<psi>\n\ngoal (1 subgoal):\n 1. Cn A \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> Cn A \\<div> \\<phi>", "by (metis (mono_tags, lifting) assumption_L contract_conj_inclusion d mem_Collect_eq rem subset_iff)"], ["proof (state)\nthis:\n  Cn A \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> Cn A \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "}"], ["proof (state)\nthis:\n  Cn A \\<div> ?\\<psi>2 \\<subseteq> C \\<Longrightarrow>\n  Cn A \\<div> (\\<phi> .\\<and>. ?\\<psi>2) \\<subseteq> Cn A \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "note f = this"], ["proof (state)\nthis:\n  Cn A \\<div> ?\\<psi>2 \\<subseteq> C \\<Longrightarrow>\n  Cn A \\<div> (\\<phi> .\\<and>. ?\\<psi>2) \\<subseteq> Cn A \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "{"], ["proof (state)\nthis:\n  Cn A \\<div> ?\\<psi>2 \\<subseteq> C \\<Longrightarrow>\n  Cn A \\<div> (\\<phi> .\\<and>. ?\\<psi>2) \\<subseteq> Cn A \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "fix \\<psi> \\<phi>'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "assume g:\\<open>\\<psi> \\<in> Cn A \\<div> \\<phi>'\\<close> and h:\\<open>B \\<in> Cn A .\\<bottom>. \\<phi>'\\<close> and j:\\<open>Cn A \\<div> \\<phi>' \\<subseteq> C\\<close> and i:\\<open>\\<psi> \\<notin> B\\<close>"], ["proof (state)\nthis:\n  \\<psi> \\<in> Cn A \\<div> \\<phi>'\n  B \\<in> Cn A .\\<bottom>. \\<phi>'\n  Cn A \\<div> \\<phi>' \\<subseteq> C\n  \\<psi> \\<notin> B\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "hence \\<open>\\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>'\\<close>"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> Cn A \\<div> \\<phi>'\n  B \\<in> Cn A .\\<bottom>. \\<phi>'\n  Cn A \\<div> \\<phi>' \\<subseteq> C\n  \\<psi> \\<notin> B\n\ngoal (1 subgoal):\n 1. \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>'", "using Supraclassical_logic.disjI2_PL Supraclassical_logic_axioms contract_closure"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> Cn A \\<div> \\<phi>'\n  B \\<in> Cn A .\\<bottom>. \\<phi>'\n  Cn A \\<div> \\<phi>' \\<subseteq> C\n  \\<psi> \\<notin> B\n  \\<lbrakk>Supraclassical_logic ?Cn ?true_PL ?false_PL ?imp_PL ?not_PL\n            ?conj_PL ?disj_PL ?equiv_PL;\n   ?q \\<in> ?Cn ?A\\<rbrakk>\n  \\<Longrightarrow> ?disj_PL ?p ?q \\<in> ?Cn ?A\n  Supraclassical_logic Cn \\<top> \\<bottom> (.\\<longrightarrow>.) .\\<not>\n   (.\\<and>.) (.\\<or>.) (.\\<longleftrightarrow>.)\n  ?K = Cn ?A \\<Longrightarrow> ?K \\<div> ?\\<phi> = Cn (?K \\<div> ?\\<phi>)\n\ngoal (1 subgoal):\n 1. \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>'", "by fastforce"], ["proof (state)\nthis:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>'\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "hence k:\\<open>\\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>'\n\ngoal (1 subgoal):\n 1. \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>", "using contract_conj_overlap_variant[of \\<open>Cn(A)\\<close> A \\<phi>' \\<phi>] f[OF j]"], ["proof (prove)\nusing this:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>'\n  Cn A = Cn A \\<Longrightarrow>\n  (Cn A \\<div> \\<phi>') \\<inter> Cn {\\<phi>'}\n  \\<subseteq> Cn A \\<div> (\\<phi>' .\\<and>. \\<phi>)\n  Cn A \\<div> (\\<phi> .\\<and>. \\<phi>') \\<subseteq> Cn A \\<div> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>", "by (metis IntI Supraclassical_logic.disjI1_PL Supraclassical_logic_axioms conj_com_Cn \n                  contract_extensionality inclusion_L singletonI subsetD)"], ["proof (state)\nthis:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "hence l:\\<open>Cn A \\<div> \\<phi> \\<subseteq> B\\<close>"], ["proof (prove)\nusing this:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>\n\ngoal (1 subgoal):\n 1. Cn A \\<div> \\<phi> \\<subseteq> B", "using c"], ["proof (prove)\nusing this:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>\n  \\<Inter>\n   {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n  \\<subseteq> B\n\ngoal (1 subgoal):\n 1. Cn A \\<div> \\<phi> \\<subseteq> B", "by auto"], ["proof (state)\nthis:\n  Cn A \\<div> \\<phi> \\<subseteq> B\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "from k l"], ["proof (chain)\npicking this:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>\n  Cn A \\<div> \\<phi> \\<subseteq> B", "have m:\\<open>\\<phi>' .\\<or>. \\<psi> \\<in> B\\<close> and n:\\<open>B =Cn(B)\\<close>"], ["proof (prove)\nusing this:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>\n  Cn A \\<div> \\<phi> \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<phi>' .\\<or>. \\<psi> \\<in> B &&& B = Cn B", "using b rem_closure"], ["proof (prove)\nusing this:\n  \\<phi>' .\\<or>. \\<psi> \\<in> Cn A \\<div> \\<phi>\n  Cn A \\<div> \\<phi> \\<subseteq> B\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<lbrakk>?K = Cn ?A; ?B \\<in> ?K .\\<bottom>. ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?B = Cn ?B\n\ngoal (1 subgoal):\n 1. \\<phi>' .\\<or>. \\<psi> \\<in> B &&& B = Cn B", "by blast+"], ["proof (state)\nthis:\n  \\<phi>' .\\<or>. \\<psi> \\<in> B\n  B = Cn B\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "have \\<open>B \\<union> {\\<psi>} \\<turnstile> \\<phi>'\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<union> {\\<psi>} \\<turnstile> \\<phi>'", "using g h i"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> Cn A \\<div> \\<phi>'\n  B \\<in> Cn A .\\<bottom>. \\<phi>'\n  \\<psi> \\<notin> B\n\ngoal (1 subgoal):\n 1. B \\<union> {\\<psi>} \\<turnstile> \\<phi>'", "by (simp add:rem) (metis contract_inclusion insertI1 insert_subsetI psubsetI subsetD subset_insertI)"], ["proof (state)\nthis:\n  B \\<union> {\\<psi>} \\<turnstile> \\<phi>'\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "with n m"], ["proof (chain)\npicking this:\n  B = Cn B\n  \\<phi>' .\\<or>. \\<psi> \\<in> B\n  B \\<union> {\\<psi>} \\<turnstile> \\<phi>'", "have  \\<open>B \\<turnstile> \\<phi>'\\<close>"], ["proof (prove)\nusing this:\n  B = Cn B\n  \\<phi>' .\\<or>. \\<psi> \\<in> B\n  B \\<union> {\\<psi>} \\<turnstile> \\<phi>'\n\ngoal (1 subgoal):\n 1. B \\<turnstile> \\<phi>'", "by (metis Cn_equiv assumption_L disjE_PL disj_com equiv_PL imp_PL)"], ["proof (state)\nthis:\n  B \\<turnstile> \\<phi>'\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "with h"], ["proof (chain)\npicking this:\n  B \\<in> Cn A .\\<bottom>. \\<phi>'\n  B \\<turnstile> \\<phi>'", "have False"], ["proof (prove)\nusing this:\n  B \\<in> Cn A .\\<bottom>. \\<phi>'\n  B \\<turnstile> \\<phi>'\n\ngoal (1 subgoal):\n 1. False", "using assumption_L rem"], ["proof (prove)\nusing this:\n  B \\<in> Cn A .\\<bottom>. \\<phi>'\n  B \\<turnstile> \\<phi>'\n  ?\\<phi> \\<in> ?A \\<Longrightarrow> ?A \\<turnstile> ?\\<phi>\n  ?A .\\<bottom>. ?\\<phi> \\<equiv>\n  {B. B \\<subseteq> ?A \\<and>\n      \\<not> B \\<turnstile> ?\\<phi> \\<and>\n      (\\<forall>B'\\<subseteq>?A.\n          B \\<subset> B' \\<longrightarrow> B' \\<turnstile> ?\\<phi>)}\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<psi>2 \\<in> Cn A \\<div> ?\\<phi>'2;\n   B \\<in> Cn A .\\<bottom>. ?\\<phi>'2; Cn A \\<div> ?\\<phi>'2 \\<subseteq> C;\n   ?\\<psi>2 \\<notin> B\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "note g = this"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<psi>2 \\<in> Cn A \\<div> ?\\<phi>'2;\n   B \\<in> Cn A .\\<bottom>. ?\\<phi>'2; Cn A \\<div> ?\\<phi>'2 \\<subseteq> C;\n   ?\\<psi>2 \\<notin> B\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (2 subgoals):\n 1. \\<phi> \\<in> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B\n 2. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "with True"], ["proof (chain)\npicking this:\n  \\<phi> \\<in> Cn A\n  \\<lbrakk>?\\<psi>2 \\<in> Cn A \\<div> ?\\<phi>'2;\n   B \\<in> Cn A .\\<bottom>. ?\\<phi>'2; Cn A \\<div> ?\\<phi>'2 \\<subseteq> C;\n   ?\\<psi>2 \\<notin> B\\<rbrakk>\n  \\<Longrightarrow> False", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<phi> \\<in> Cn A\n  \\<lbrakk>?\\<psi>2 \\<in> Cn A \\<div> ?\\<phi>'2;\n   B \\<in> Cn A .\\<bottom>. ?\\<phi>'2; Cn A \\<div> ?\\<phi>'2 \\<subseteq> C;\n   ?\\<psi>2 \\<notin> B\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. AGM_relation C (Cn A) B", "apply(unfold AGM_rel, rule_tac disjI2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn A;\n     \\<And>\\<psi> \\<phi>'.\n        \\<lbrakk>\\<psi> \\<in> Cn A \\<div> \\<phi>';\n         B \\<in> Cn A .\\<bottom>. \\<phi>';\n         Cn A \\<div> \\<phi>' \\<subseteq> C; \\<psi> \\<notin> B\\<rbrakk>\n        \\<Longrightarrow> False;\n     \\<phi> \\<in> Cn A;\n     \\<And>\\<psi> \\<phi>'.\n        \\<lbrakk>\\<psi> \\<in> Cn A \\<div> \\<phi>';\n         B \\<in> Cn A .\\<bottom>. \\<phi>';\n         Cn A \\<div> \\<phi>' \\<subseteq> C; \\<psi> \\<notin> B\\<rbrakk>\n        \\<Longrightarrow> False\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>\\<phi>.\n                          Cn A \\<turnstile> \\<phi> \\<and>\n                          C \\<in> Cn A .\\<bottom>. \\<phi>) \\<and>\n                      (\\<exists>\\<phi>.\n                          Cn A \\<turnstile> \\<phi> \\<and>\n                          B \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n                          Cn A \\<div> \\<phi> \\<subseteq> B) \\<and>\n                      (\\<forall>\\<phi>.\n                          Cn A \\<turnstile> \\<phi> \\<and>\n                          C \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n                          B \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n                          Cn A \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                          Cn A \\<div> \\<phi> \\<subseteq> B)", "using d b c"], ["proof (prove)\nusing this:\n  C \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<Inter>\n   {B \\<in> Cn A .\\<bottom>. \\<phi>. Cn A \\<div> \\<phi> \\<subseteq> B}\n  \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<phi> \\<in> Cn A;\n     \\<And>\\<psi> \\<phi>'.\n        \\<lbrakk>\\<psi> \\<in> Cn A \\<div> \\<phi>';\n         B \\<in> Cn A .\\<bottom>. \\<phi>';\n         Cn A \\<div> \\<phi>' \\<subseteq> C; \\<psi> \\<notin> B\\<rbrakk>\n        \\<Longrightarrow> False;\n     \\<phi> \\<in> Cn A;\n     \\<And>\\<psi> \\<phi>'.\n        \\<lbrakk>\\<psi> \\<in> Cn A \\<div> \\<phi>';\n         B \\<in> Cn A .\\<bottom>. \\<phi>';\n         Cn A \\<div> \\<phi>' \\<subseteq> C; \\<psi> \\<notin> B\\<rbrakk>\n        \\<Longrightarrow> False\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>\\<phi>.\n                          Cn A \\<turnstile> \\<phi> \\<and>\n                          C \\<in> Cn A .\\<bottom>. \\<phi>) \\<and>\n                      (\\<exists>\\<phi>.\n                          Cn A \\<turnstile> \\<phi> \\<and>\n                          B \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n                          Cn A \\<div> \\<phi> \\<subseteq> B) \\<and>\n                      (\\<forall>\\<phi>.\n                          Cn A \\<turnstile> \\<phi> \\<and>\n                          C \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n                          B \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n                          Cn A \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                          Cn A \\<div> \\<phi> \\<subseteq> B)", "by (auto simp add:AGM_rel idempotency_L del:subsetI) blast+"], ["proof (state)\nthis:\n  AGM_relation C (Cn A) B\n\ngoal (1 subgoal):\n 1. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "case False"], ["proof (state)\nthis:\n  \\<phi> \\<notin> Cn A\n\ngoal (1 subgoal):\n 1. \\<phi> \\<notin> Cn A \\<Longrightarrow> AGM_relation C (Cn A) B", "then"], ["proof (chain)\npicking this:\n  \\<phi> \\<notin> Cn A", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<phi> \\<notin> Cn A\n\ngoal (1 subgoal):\n 1. AGM_relation C (Cn A) B", "by (metis AGM_rel b d idempotency_L infer_def nonconsequence_remainder singletonD)"], ["proof (state)\nthis:\n  AGM_relation C (Cn A) B\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  AGM_relation C (Cn A) B\n\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa", "fix S B \\<psi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa", "assume a:\\<open>S \\<in> Cn(A) .\\<bottom>. \\<phi>\\<close> and b:\\<open>B \\<in> Cn(A) .\\<bottom>. \\<phi>\\<close> and c:\\<open>\\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) B\\<close> \n     and d:\\<open>\\<forall>C'. C' \\<in> Cn A .\\<bottom>. \\<phi> \\<and> Cn A \\<div> \\<phi> \\<subseteq> C' \\<longrightarrow> \\<psi> \\<in> C'\\<close>"], ["proof (state)\nthis:\n  S \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) B\n  \\<forall>C'.\n     C' \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n     Cn A \\<div> \\<phi> \\<subseteq> C' \\<longrightarrow>\n     \\<psi> \\<in> C'\n\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>K = Cn A; x \\<in> Cn A .\\<bottom>. \\<phi>;\n        xa \\<in> Cn A .\\<bottom>. \\<phi>;\n        \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) xa;\n        \\<forall>x.\n           x \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n           Cn A \\<div> \\<phi> \\<subseteq> x \\<longrightarrow>\n           xb \\<in> x\\<rbrakk>\n       \\<Longrightarrow> xb \\<in> xa", "then"], ["proof (chain)\npicking this:\n  S \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) B\n  \\<forall>C'.\n     C' \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n     Cn A \\<div> \\<phi> \\<subseteq> C' \\<longrightarrow>\n     \\<psi> \\<in> C'", "show \\<open>\\<psi> \\<in> B\\<close>"], ["proof (prove)\nusing this:\n  S \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>. AGM_relation C (Cn A) B\n  \\<forall>C'.\n     C' \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n     Cn A \\<div> \\<phi> \\<subseteq> C' \\<longrightarrow>\n     \\<psi> \\<in> C'\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> B", "unfolding AGM_rel"], ["proof (prove)\nusing this:\n  S \\<in> Cn A .\\<bottom>. \\<phi>\n  B \\<in> Cn A .\\<bottom>. \\<phi>\n  \\<forall>C\\<in>Cn A .\\<bottom>. \\<phi>.\n     C = Cn A \\<and> B = Cn A \\<or>\n     (\\<exists>\\<phi>.\n         Cn A \\<turnstile> \\<phi> \\<and>\n         C \\<in> Cn A .\\<bottom>. \\<phi>) \\<and>\n     (\\<exists>\\<phi>.\n         Cn A \\<turnstile> \\<phi> \\<and>\n         B \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n         Cn A \\<div> \\<phi> \\<subseteq> B) \\<and>\n     (\\<forall>\\<phi>.\n         Cn A \\<turnstile> \\<phi> \\<and>\n         C \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n         B \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n         Cn A \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n         Cn A \\<div> \\<phi> \\<subseteq> B)\n  \\<forall>C'.\n     C' \\<in> Cn A .\\<bottom>. \\<phi> \\<and>\n     Cn A \\<div> \\<phi> \\<subseteq> C' \\<longrightarrow>\n     \\<psi> \\<in> C'\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> B", "by (metis (no_types, lifting) AGM_sel empty_Collect_eq insert_Diff insert_not_empty \n              nonconsequence_remainder nonempty_selection singletonD)"], ["proof (state)\nthis:\n  \\<psi> \\<in> B\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>A transitively relational selection and an AGM relation is a transitively relational meet contraction\\<close>"], ["", "sublocale TransitivelyRelationalMeetContraction where relation = AGM_relation and rel_sel = \\<open>\\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (TransitivelyRelationalMeetContraction Cn AGM_relation &&&\n     (\\<And>A \\<phi>. A \\<turnstile> \\<phi> \\<equiv> \\<phi> \\<in> Cn A)) &&&\n    (\\<And>\\<phi>. \\<tturnstile> \\<phi> \\<equiv> {} \\<turnstile> \\<phi>) &&&\n    (\\<And>A \\<phi>.\n        A \\<oplus> \\<phi> \\<equiv> Cn (A \\<union> {\\<phi>})) &&&\n    (\\<And>K \\<phi>.\n        \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> \\<equiv>\n        if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "proof(unfold_locales, simp_all (no_asm) only:atomize_eq, goal_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>K A B C D.\n       \\<lbrakk>K = Cn A; AGM_relation B K C; AGM_relation C K D\\<rbrakk>\n       \\<Longrightarrow> AGM_relation B K D\n 2. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n                               AGM_relation C K B\n 3. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "case a:(1 K A C B' B) \\<comment> \\<open>Very difficult proof requires litterature and high automation of isabelle!\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  AGM_relation C K B'\n  AGM_relation B' K B\n\ngoal (3 subgoals):\n 1. \\<And>K A B C D.\n       \\<lbrakk>K = Cn A; AGM_relation B K C; AGM_relation C K D\\<rbrakk>\n       \\<Longrightarrow> AGM_relation B K D\n 2. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n                               AGM_relation C K B\n 3. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "from a(2,3)"], ["proof (chain)\npicking this:\n  AGM_relation C K B'\n  AGM_relation B' K B", "show ?case"], ["proof (prove)\nusing this:\n  AGM_relation C K B'\n  AGM_relation B' K B\n\ngoal (1 subgoal):\n 1. AGM_relation C K B", "unfolding AGM_rel"], ["proof (prove)\nusing this:\n  C = K \\<and> B' = K \\<or>\n  (\\<exists>\\<phi>.\n      K \\<turnstile> \\<phi> \\<and> C \\<in> K .\\<bottom>. \\<phi>) \\<and>\n  (\\<exists>\\<phi>.\n      K \\<turnstile> \\<phi> \\<and>\n      B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n      K \\<div> \\<phi> \\<subseteq> B') \\<and>\n  (\\<forall>\\<phi>.\n      K \\<turnstile> \\<phi> \\<and>\n      C \\<in> K .\\<bottom>. \\<phi> \\<and>\n      B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n      K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n      K \\<div> \\<phi> \\<subseteq> B')\n  B' = K \\<and> B = K \\<or>\n  (\\<exists>\\<phi>.\n      K \\<turnstile> \\<phi> \\<and> B' \\<in> K .\\<bottom>. \\<phi>) \\<and>\n  (\\<exists>\\<phi>.\n      K \\<turnstile> \\<phi> \\<and>\n      B \\<in> K .\\<bottom>. \\<phi> \\<and>\n      K \\<div> \\<phi> \\<subseteq> B) \\<and>\n  (\\<forall>\\<phi>.\n      K \\<turnstile> \\<phi> \\<and>\n      B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n      B \\<in> K .\\<bottom>. \\<phi> \\<and>\n      K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n      K \\<div> \\<phi> \\<subseteq> B)\n\ngoal (1 subgoal):\n 1. C = K \\<and> B = K \\<or>\n    (\\<exists>\\<phi>.\n        K \\<turnstile> \\<phi> \\<and> C \\<in> K .\\<bottom>. \\<phi>) \\<and>\n    (\\<exists>\\<phi>.\n        K \\<turnstile> \\<phi> \\<and>\n        B \\<in> K .\\<bottom>. \\<phi> \\<and>\n        K \\<div> \\<phi> \\<subseteq> B) \\<and>\n    (\\<forall>\\<phi>.\n        K \\<turnstile> \\<phi> \\<and>\n        C \\<in> K .\\<bottom>. \\<phi> \\<and>\n        B \\<in> K .\\<bottom>. \\<phi> \\<and>\n        K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n        K \\<div> \\<phi> \\<subseteq> B)", "apply(elim disjE conjE, simp_all)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>\\<phi>.\n                \\<phi> \\<in> Cn K \\<and> C \\<in> K .\\<bottom>. \\<phi>;\n     \\<exists>\\<phi>.\n        \\<phi> \\<in> Cn K \\<and> B' \\<in> K .\\<bottom>. \\<phi>;\n     \\<exists>\\<phi>.\n        \\<phi> \\<in> Cn K \\<and>\n        B' \\<in> K .\\<bottom>. \\<phi> \\<and> K \\<div> \\<phi> \\<subseteq> B';\n     \\<forall>\\<phi>.\n        \\<phi> \\<in> Cn K \\<and>\n        C \\<in> K .\\<bottom>. \\<phi> \\<and>\n        B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n        K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n        K \\<div> \\<phi> \\<subseteq> B';\n     \\<exists>\\<phi>.\n        \\<phi> \\<in> Cn K \\<and>\n        B \\<in> K .\\<bottom>. \\<phi> \\<and> K \\<div> \\<phi> \\<subseteq> B;\n     \\<forall>\\<phi>.\n        \\<phi> \\<in> Cn K \\<and>\n        B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n        B \\<in> K .\\<bottom>. \\<phi> \\<and>\n        K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n        K \\<div> \\<phi> \\<subseteq> B\\<rbrakk>\n    \\<Longrightarrow> C = K \\<and> B = K \\<or>\n                      (\\<forall>\\<phi>.\n                          \\<phi> \\<in> Cn K \\<and>\n                          C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                          B \\<in> K .\\<bottom>. \\<phi> \\<and>\n                          K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                          K \\<div> \\<phi> \\<subseteq> B)", "proof(intro disjI2 allI impI, elim exE conjE, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "case (1 \\<psi> _ _ \\<phi>)"], ["proof (state)\nthis:\n  \\<forall>\\<phi>.\n     \\<phi> \\<in> Cn K \\<and>\n     C \\<in> K .\\<bottom>. \\<phi> \\<and>\n     B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n     K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n     K \\<div> \\<phi> \\<subseteq> B'\n  \\<forall>\\<phi>.\n     \\<phi> \\<in> Cn K \\<and>\n     B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n     B \\<in> K .\\<bottom>. \\<phi> \\<and>\n     K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n     K \\<div> \\<phi> \\<subseteq> B\n  \\<psi> \\<in> Cn K\n  \\<phi>'_ \\<in> Cn K\n  C \\<in> K .\\<bottom>. \\<phi>'_\n  \\<phi>''_ \\<in> Cn K\n  B' \\<in> K .\\<bottom>. \\<phi>''_\n  \\<phi> \\<in> Cn K\n  \\<phi>''''_ \\<in> Cn K\n  C \\<in> K .\\<bottom>. \\<psi>\n  B' \\<in> K .\\<bottom>. \\<phi>\n  K \\<div> \\<phi> \\<subseteq> B'\n  B \\<in> K .\\<bottom>. \\<phi>''''_\n  K \\<div> \\<phi>''''_ \\<subseteq> B\n  B \\<in> K .\\<bottom>. \\<psi>\n  K \\<div> \\<psi> \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "have b:\\<open>B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\\<close> and c:\\<open>B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\\<close> and d:\\<open>C \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) &&&\n    B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) &&&\n    C \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)", "using remainder_conj[OF a(1)] 1 conjI_PL"], ["proof (prove)\nusing this:\n  K \\<turnstile> ?\\<phi> .\\<and>. ?\\<psi> \\<Longrightarrow>\n  K .\\<bottom>. (?\\<phi> .\\<and>. ?\\<psi>) =\n  (K .\\<bottom>. ?\\<phi>) \\<union> (K .\\<bottom>. ?\\<psi>)\n  \\<forall>\\<phi>.\n     \\<phi> \\<in> Cn K \\<and>\n     C \\<in> K .\\<bottom>. \\<phi> \\<and>\n     B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n     K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n     K \\<div> \\<phi> \\<subseteq> B'\n  \\<forall>\\<phi>.\n     \\<phi> \\<in> Cn K \\<and>\n     B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n     B \\<in> K .\\<bottom>. \\<phi> \\<and>\n     K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n     K \\<div> \\<phi> \\<subseteq> B\n  \\<psi> \\<in> Cn K\n  \\<phi>'_ \\<in> Cn K\n  C \\<in> K .\\<bottom>. \\<phi>'_\n  \\<phi>''_ \\<in> Cn K\n  B' \\<in> K .\\<bottom>. \\<phi>''_\n  \\<phi> \\<in> Cn K\n  \\<phi>''''_ \\<in> Cn K\n  C \\<in> K .\\<bottom>. \\<psi>\n  B' \\<in> K .\\<bottom>. \\<phi>\n  K \\<div> \\<phi> \\<subseteq> B'\n  B \\<in> K .\\<bottom>. \\<phi>''''_\n  K \\<div> \\<phi>''''_ \\<subseteq> B\n  B \\<in> K .\\<bottom>. \\<psi>\n  K \\<div> \\<psi> \\<subseteq> C\n  \\<lbrakk>?A \\<turnstile> ?p; ?A \\<turnstile> ?q\\<rbrakk>\n  \\<Longrightarrow> ?A \\<turnstile> ?p .\\<and>. ?q\n\ngoal (1 subgoal):\n 1. B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) &&&\n    B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>) &&&\n    C \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)", "by auto"], ["proof (state)\nthis:\n  B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  C \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "hence e:\\<open>K \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> B\\<close>"], ["proof (prove)\nusing this:\n  B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  C \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n\ngoal (1 subgoal):\n 1. K \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> B", "using contract_conj_inclusion_variant[OF a(1), of \\<phi>  \\<psi>]"], ["proof (prove)\nusing this:\n  B \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  B' \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  C \\<in> K .\\<bottom>. (\\<phi> .\\<and>. \\<psi>)\n  K \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> K \\<div> \\<phi> \\<or>\n  K \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> K \\<div> \\<psi>\n\ngoal (1 subgoal):\n 1. K \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> B", "by (meson \"1\"(1) \"1\"(12) \"1\"(16) \"1\"(2) \"1\"(3) \"1\"(8) Supraclassical_logic.conj_PL \n                Supraclassical_logic_axioms dual_order.trans)"], ["proof (state)\nthis:\n  K \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "{"], ["proof (state)\nthis:\n  K \\<div> (\\<phi> .\\<and>. \\<psi>) \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "fix \\<chi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "assume f:\\<open>\\<chi> \\<in> K \\<div> \\<psi>\\<close>"], ["proof (state)\nthis:\n  \\<chi> \\<in> K \\<div> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "have \\<open>\\<psi> .\\<or>. \\<chi> \\<in> (K \\<div> \\<psi>) \\<inter> Cn {\\<psi>}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> .\\<or>. \\<chi> \\<in> (K \\<div> \\<psi>) \\<inter> Cn {\\<psi>}", "by (metis Int_iff Supraclassical_logic.disjI1_PL Supraclassical_logic.disjI2_PL Supraclassical_logic_axioms \n                  f a(1) contract_closure in_mono inclusion_L singletonI)"], ["proof (state)\nthis:\n  \\<psi> .\\<or>. \\<chi> \\<in> (K \\<div> \\<psi>) \\<inter> Cn {\\<psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "hence g:\\<open>\\<psi> .\\<or>. \\<chi> \\<in> B\\<close>"], ["proof (prove)\nusing this:\n  \\<psi> .\\<or>. \\<chi> \\<in> (K \\<div> \\<psi>) \\<inter> Cn {\\<psi>}\n\ngoal (1 subgoal):\n 1. \\<psi> .\\<or>. \\<chi> \\<in> B", "using contract_conj_overlap_variant[OF a(1), of \\<psi>]"], ["proof (prove)\nusing this:\n  \\<psi> .\\<or>. \\<chi> \\<in> (K \\<div> \\<psi>) \\<inter> Cn {\\<psi>}\n  (K \\<div> \\<psi>) \\<inter> Cn {\\<psi>}\n  \\<subseteq> K \\<div> (\\<psi> .\\<and>. ?\\<psi>)\n\ngoal (1 subgoal):\n 1. \\<psi> .\\<or>. \\<chi> \\<in> B", "by (metis AGM_Contraction.contract_extensionality AGM_Contraction_axioms a(1) conj_com_Cn e in_mono)"], ["proof (state)\nthis:\n  \\<psi> .\\<or>. \\<chi> \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "have \\<open>\\<psi> .\\<longrightarrow>. \\<chi> \\<in> B\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> .\\<longrightarrow>. \\<chi> \\<in> B", "by (metis a(1) \"1\"(10) \"1\"(15) \"1\"(16) assumption_L f in_mono infer_def rem_closure rem_inclusion remainder_recovery)"], ["proof (state)\nthis:\n  \\<psi> .\\<longrightarrow>. \\<chi> \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "with g"], ["proof (chain)\npicking this:\n  \\<psi> .\\<or>. \\<chi> \\<in> B\n  \\<psi> .\\<longrightarrow>. \\<chi> \\<in> B", "have \\<open>\\<chi> \\<in> B\\<close>"], ["proof (prove)\nusing this:\n  \\<psi> .\\<or>. \\<chi> \\<in> B\n  \\<psi> .\\<longrightarrow>. \\<chi> \\<in> B\n\ngoal (1 subgoal):\n 1. \\<chi> \\<in> B", "by (metis 1(15) a(1) disjE_PL infer_def order_refl rem_closure validD_L valid_Cn_imp)"], ["proof (state)\nthis:\n  \\<chi> \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "}"], ["proof (state)\nthis:\n  ?\\<chi>2 \\<in> K \\<div> \\<psi> \\<Longrightarrow> ?\\<chi>2 \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi> \\<phi>' \\<phi>'' \\<phi>''' \\<phi>''''.\n       \\<lbrakk>\\<forall>\\<phi>.\n                   \\<phi> \\<in> Cn K \\<and>\n                   C \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n                   K \\<div> \\<phi> \\<subseteq> C \\<longrightarrow>\n                   K \\<div> \\<phi> \\<subseteq> B';\n        \\<forall>\\<phi>.\n           \\<phi> \\<in> Cn K \\<and>\n           B' \\<in> K .\\<bottom>. \\<phi> \\<and>\n           B \\<in> K .\\<bottom>. \\<phi> \\<and>\n           K \\<div> \\<phi> \\<subseteq> B' \\<longrightarrow>\n           K \\<div> \\<phi> \\<subseteq> B;\n        \\<phi> \\<in> Cn K; \\<phi>' \\<in> Cn K;\n        C \\<in> K .\\<bottom>. \\<phi>'; \\<phi>'' \\<in> Cn K;\n        B' \\<in> K .\\<bottom>. \\<phi>''; \\<phi>''' \\<in> Cn K;\n        \\<phi>'''' \\<in> Cn K; C \\<in> K .\\<bottom>. \\<phi>;\n        B' \\<in> K .\\<bottom>. \\<phi>'''; K \\<div> \\<phi>''' \\<subseteq> B';\n        B \\<in> K .\\<bottom>. \\<phi>''''; K \\<div> \\<phi>'''' \\<subseteq> B;\n        B \\<in> K .\\<bottom>. \\<phi>; K \\<div> \\<phi> \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> K \\<div> \\<phi> \\<subseteq> B", "then"], ["proof (chain)\npicking this:\n  ?\\<chi>2 \\<in> K \\<div> \\<psi> \\<Longrightarrow> ?\\<chi>2 \\<in> B", "show ?case"], ["proof (prove)\nusing this:\n  ?\\<chi>2 \\<in> K \\<div> \\<psi> \\<Longrightarrow> ?\\<chi>2 \\<in> B\n\ngoal (1 subgoal):\n 1. K \\<div> \\<psi> \\<subseteq> B", "by blast"], ["proof (state)\nthis:\n  K \\<div> \\<psi> \\<subseteq> B\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  AGM_relation C K B\n\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n                               AGM_relation C K B\n 2. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n                               AGM_relation C K B\n 2. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "case (2 K A \\<phi>)"], ["proof (state)\nthis:\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n                               AGM_relation C K B\n 2. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "hence \\<open>* \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M  K \\<phi> \\<noteq> {}\\<close>"], ["proof (prove)\nusing this:\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (1 subgoal):\n 1. * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi> \\<noteq> {}", "using nonempty_selection[OF 2(1), of \\<phi>] selection_completion[OF 2(1), of \\<phi>]"], ["proof (prove)\nusing this:\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n  \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi> \\<noteq> {}\n  \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi>\n  \\<subseteq> * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi>\n\ngoal (1 subgoal):\n 1. * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi> \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi> \\<noteq> {}\n\ngoal (2 subgoals):\n 1. \\<And>K A \\<phi>.\n       \\<lbrakk>K = Cn A; K .\\<bottom>. \\<phi> \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n                            \\<forall>C\\<in>K .\\<bottom>. \\<phi>.\n                               AGM_relation C K B\n 2. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "then"], ["proof (chain)\npicking this:\n  * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi> \\<noteq> {}", "show ?case"], ["proof (prove)\nusing this:\n  * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi> \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n       \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B", "using AGM_rel_sel_completion[OF 2(1), of \\<phi>] AGM_rel_sel 2(1,2)"], ["proof (prove)\nusing this:\n  * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi> \\<noteq> {}\n  \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n  * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M K \\<phi>\n  \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R ?K ?\\<phi> \\<equiv>\n  if ?K .\\<bottom>. ?\\<phi> = {} then {?K}\n  else {B \\<in> ?K .\\<bottom>. ?\\<phi>.\n        \\<forall>C\\<in>?K .\\<bottom>. ?\\<phi>. AGM_relation C ?K B}\n  K = Cn A\n  K .\\<bottom>. \\<phi> \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n       \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B", "by force"], ["proof (state)\nthis:\n  \\<exists>B\\<in>K .\\<bottom>. \\<phi>.\n     \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B\n\ngoal (1 subgoal):\n 1. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "case (3 K \\<phi>)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>K \\<phi>.\n       \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n       (if K .\\<bottom>. \\<phi> = {} then {K}\n        else {B \\<in> K .\\<bottom>. \\<phi>.\n              \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n    (if K .\\<bottom>. \\<phi> = {} then {K}\n     else {B \\<in> K .\\<bottom>. \\<phi>.\n           \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "using AGM_rel_sel_completion AGM_rel_sel"], ["proof (prove)\nusing this:\n  ?K = Cn ?A \\<Longrightarrow>\n  \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R ?K ?\\<phi> =\n  * \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M ?K ?\\<phi>\n  \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R ?K ?\\<phi> \\<equiv>\n  if ?K .\\<bottom>. ?\\<phi> = {} then {?K}\n  else {B \\<in> ?K .\\<bottom>. ?\\<phi>.\n        \\<forall>C\\<in>?K .\\<bottom>. ?\\<phi>. AGM_relation C ?K B}\n\ngoal (1 subgoal):\n 1. \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n    (if K .\\<bottom>. \\<phi> = {} then {K}\n     else {B \\<in> K .\\<bottom>. \\<phi>.\n           \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})", "by simp"], ["proof (state)\nthis:\n  \\<gamma>\\<^sub>A\\<^sub>G\\<^sub>M\\<^sub>T\\<^sub>R K \\<phi> =\n  (if K .\\<bottom>. \\<phi> = {} then {K}\n   else {B \\<in> K .\\<bottom>. \\<phi>.\n         \\<forall>C\\<in>K .\\<bottom>. \\<phi>. AGM_relation C K B})\n\ngoal:\nNo subgoals!", "qed \n\n\\<comment> \\<open>?a marche tout seul! ==> Je ne vois pas o? sont utilis?s ces lemmas\\<close>"], ["", "lemmas fullcontraction_is_pmc = contraction_is_pmc"], ["", "lemmas fullcontraction_is_trmc = contraction_with_completion"], ["", "end"], ["", "locale FMC_SC = FullMeetContraction + TRMC_SC\n\nbegin"], ["", "lemma full_meet_weak1: \\<open>K = Cn(A) \\<Longrightarrow> K \\<turnstile> \\<phi> \\<Longrightarrow> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>) = K \\<inter> Cn({.\\<not> \\<phi>})\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> =\n                      K \\<inter> Cn {.\\<not> \\<phi>}", "proof(intro subset_antisym Int_greatest)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n                      \\<subseteq> K\n 2. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n                      \\<subseteq> Cn {.\\<not> \\<phi>}\n 3. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>K \\<turnstile> \\<phi>\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  K \\<turnstile> \\<phi>\n\ngoal (3 subgoals):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n                      \\<subseteq> K\n 2. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n                      \\<subseteq> Cn {.\\<not> \\<phi>}\n 3. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "then"], ["proof (chain)\npicking this:\n  K = Cn A\n  K \\<turnstile> \\<phi>", "show \\<open> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>) \\<subseteq> K\\<close>"], ["proof (prove)\nusing this:\n  K = Cn A\n  K \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<subseteq> K", "by (simp add: Inf_less_eq full_sel mc rem_inclusion)"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<subseteq> K\n\ngoal (2 subgoals):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n                      \\<subseteq> Cn {.\\<not> \\<phi>}\n 2. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n                      \\<subseteq> Cn {.\\<not> \\<phi>}\n 2. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>K \\<turnstile> \\<phi>\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  K \\<turnstile> \\<phi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n                      \\<subseteq> Cn {.\\<not> \\<phi>}\n 2. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "show \\<open>(K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>) \\<subseteq> Cn({.\\<not> \\<phi>})\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n    \\<subseteq> Cn {.\\<not> \\<phi>}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "fix \\<psi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "assume c:\\<open>\\<psi> \\<in> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>)\\<close>"], ["proof (state)\nthis:\n  \\<psi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "{"], ["proof (state)\nthis:\n  \\<psi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "assume \\<open>\\<not> {.\\<not> \\<phi>} \\<turnstile> \\<psi>\\<close>"], ["proof (state)\nthis:\n  \\<not> {.\\<not> \\<phi>} \\<turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "hence \\<open>\\<not> {.\\<not> \\<psi>} \\<turnstile> \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  \\<not> {.\\<not> \\<phi>} \\<turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<not> {.\\<not> \\<psi>} \\<turnstile> \\<phi>", "by (metis Un_insert_right insert_is_Un not_PL notnot_PL)"], ["proof (state)\nthis:\n  \\<not> {.\\<not> \\<psi>} \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "hence \\<open>\\<not> {\\<phi> .\\<or>. .\\<not> \\<psi>} \\<turnstile> \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  \\<not> {.\\<not> \\<psi>} \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<not> {\\<phi> .\\<or>. .\\<not> \\<psi>} \\<turnstile> \\<phi>", "by (metis assumption_L disjI2_PL singleton_iff transitivity2_L)"], ["proof (state)\nthis:\n  \\<not> {\\<phi> .\\<or>. .\\<not> \\<psi>} \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "then"], ["proof (chain)\npicking this:\n  \\<not> {\\<phi> .\\<or>. .\\<not> \\<psi>} \\<turnstile> \\<phi>", "obtain B where d:\\<open>{\\<phi> .\\<or>. .\\<not> \\<psi>} \\<subseteq> B\\<close> and e:\\<open>B \\<in> K .\\<bottom>. \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  \\<not> {\\<phi> .\\<or>. .\\<not> \\<psi>} \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<lbrakk>{\\<phi> .\\<or>. .\\<not> \\<psi>} \\<subseteq> B;\n         B \\<in> K .\\<bottom>. \\<phi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis a b disjI1_PL empty_subsetI idempotency_L infer_def insert_subset upper_remainder)"], ["proof (state)\nthis:\n  {\\<phi> .\\<or>. .\\<not> \\<psi>} \\<subseteq> B\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "hence f:\\<open>\\<not> \\<psi> \\<in> B\\<close>"], ["proof (prove)\nusing this:\n  {\\<phi> .\\<or>. .\\<not> \\<psi>} \\<subseteq> B\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<notin> B", "by (metis (no_types, lifting) CollectD assumption_L insert_subset disj_notE_PL rem)"], ["proof (state)\nthis:\n  \\<psi> \\<notin> B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "hence \\<open>\\<not> \\<psi> \\<in> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>)\\<close>"], ["proof (prove)\nusing this:\n  \\<psi> \\<notin> B\n\ngoal (1 subgoal):\n 1. \\<psi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "using e mc full_sel"], ["proof (prove)\nusing this:\n  \\<psi> \\<notin> B\n  B \\<in> K .\\<bottom>. \\<phi>\n  ?A \\<div>\\<^bsub>?\\<gamma>\\<^esub> ?\\<phi> \\<equiv>\n  \\<Inter> (?\\<gamma> ?A ?\\<phi>)\n  \\<gamma>\\<^sub>F\\<^sub>C ?K ?\\<phi> \\<equiv>\n  if ?K .\\<bottom>. ?\\<phi> = {} then {?K} else ?K .\\<bottom>. ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "by auto"], ["proof (state)\nthis:\n  \\<psi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "}"], ["proof (state)\nthis:\n  \\<not> {.\\<not> \\<phi>} \\<turnstile> \\<psi> \\<Longrightarrow>\n  \\<psi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi> \\<Longrightarrow>\n       x \\<in> Cn {.\\<not> \\<phi>}", "then"], ["proof (chain)\npicking this:\n  \\<not> {.\\<not> \\<phi>} \\<turnstile> \\<psi> \\<Longrightarrow>\n  \\<psi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "show \\<open>\\<psi> \\<in> Cn({.\\<not> \\<phi>})\\<close>"], ["proof (prove)\nusing this:\n  \\<not> {.\\<not> \\<phi>} \\<turnstile> \\<psi> \\<Longrightarrow>\n  \\<psi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> Cn {.\\<not> \\<phi>}", "using c infer_def"], ["proof (prove)\nusing this:\n  \\<not> {.\\<not> \\<phi>} \\<turnstile> \\<psi> \\<Longrightarrow>\n  \\<psi> \\<notin> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n  \\<psi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n  ?A \\<turnstile> ?\\<phi> \\<equiv> ?\\<phi> \\<in> Cn ?A\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> Cn {.\\<not> \\<phi>}", "by blast"], ["proof (state)\nthis:\n  \\<psi> \\<in> Cn {.\\<not> \\<phi>}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n  \\<subseteq> Cn {.\\<not> \\<phi>}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "assume a:\\<open>K = Cn(A)\\<close> and b:\\<open>K \\<turnstile> \\<phi>\\<close>"], ["proof (state)\nthis:\n  K = Cn A\n  K \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> K \\<inter> Cn {.\\<not> \\<phi>}\n                      \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "show \\<open>K \\<inter> Cn({.\\<not> \\<phi>}) \\<subseteq> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. K \\<inter> Cn {.\\<not> \\<phi>}\n    \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "proof(safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "fix \\<psi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "assume c:\\<open>\\<psi> \\<in> K\\<close> and d: \\<open>\\<psi> \\<in> Cn {.\\<not> \\<phi>}\\<close>"], ["proof (state)\nthis:\n  \\<psi> \\<in> K\n  \\<psi> \\<in> Cn {.\\<not> \\<phi>}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "have e:\\<open>B \\<turnstile> .\\<not> \\<phi> .\\<longrightarrow>. \\<psi>\\<close> for B"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<turnstile> .\\<not> \\<phi> .\\<longrightarrow>. \\<psi>", "by (simp add: d validD_L valid_imp_PL)"], ["proof (state)\nthis:\n  ?B \\<turnstile> .\\<not> \\<phi> .\\<longrightarrow>. \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "{"], ["proof (state)\nthis:\n  ?B \\<turnstile> .\\<not> \\<phi> .\\<longrightarrow>. \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "fix B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "assume f:\\<open>B \\<in> K .\\<bottom>. \\<phi>\\<close>"], ["proof (state)\nthis:\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "hence \\<open>B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>\\<close>"], ["proof (prove)\nusing this:\n  B \\<in> K .\\<bottom>. \\<phi>\n\ngoal (1 subgoal):\n 1. B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>", "using a assumption_L c remainder_recovery"], ["proof (prove)\nusing this:\n  B \\<in> K .\\<bottom>. \\<phi>\n  K = Cn A\n  ?\\<phi> \\<in> ?A \\<Longrightarrow> ?A \\<turnstile> ?\\<phi>\n  \\<psi> \\<in> K\n  \\<lbrakk>?K = Cn ?A; ?K \\<turnstile> ?\\<psi>;\n   ?B \\<in> ?K .\\<bottom>. ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?B \\<turnstile> ?\\<phi> .\\<longrightarrow>. ?\\<psi>\n\ngoal (1 subgoal):\n 1. B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>", "by auto"], ["proof (state)\nthis:\n  B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "then"], ["proof (chain)\npicking this:\n  B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>", "have f:\\<open>B \\<turnstile> \\<psi>\\<close>"], ["proof (prove)\nusing this:\n  B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>\n\ngoal (1 subgoal):\n 1. B \\<turnstile> \\<psi>", "using d e"], ["proof (prove)\nusing this:\n  B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>\n  \\<psi> \\<in> Cn {.\\<not> \\<phi>}\n  ?B \\<turnstile> .\\<not> \\<phi> .\\<longrightarrow>. \\<psi>\n\ngoal (1 subgoal):\n 1. B \\<turnstile> \\<psi>", "using disjE_PL ex_mid_PL"], ["proof (prove)\nusing this:\n  B \\<turnstile> \\<phi> .\\<longrightarrow>. \\<psi>\n  \\<psi> \\<in> Cn {.\\<not> \\<phi>}\n  ?B \\<turnstile> .\\<not> \\<phi> .\\<longrightarrow>. \\<psi>\n  \\<lbrakk>?A \\<turnstile> ?p .\\<or>. ?q;\n   ?A \\<turnstile> ?p .\\<longrightarrow>. ?r;\n   ?A \\<turnstile> ?q .\\<longrightarrow>. ?r\\<rbrakk>\n  \\<Longrightarrow> ?A \\<turnstile> ?r\n  ?A \\<turnstile> ?p .\\<or>. .\\<not> ?p\n\ngoal (1 subgoal):\n 1. B \\<turnstile> \\<psi>", "by blast"], ["proof (state)\nthis:\n  B \\<turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "}"], ["proof (state)\nthis:\n  ?B2 \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow> ?B2 \\<turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> K; x \\<in> Cn {.\\<not> \\<phi>}\\<rbrakk>\n       \\<Longrightarrow> x \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "then"], ["proof (chain)\npicking this:\n  ?B2 \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow> ?B2 \\<turnstile> \\<psi>", "show \\<open>\\<psi> \\<in> (K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>)\\<close>"], ["proof (prove)\nusing this:\n  ?B2 \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow> ?B2 \\<turnstile> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>", "apply(simp_all add:mc c full_sel)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B.\n        B \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow>\n        \\<psi> \\<in> Cn B) \\<Longrightarrow>\n    K .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n    Ball (K .\\<bottom>. \\<phi>) ((\\<in>) \\<psi>)", "using a rem_closure"], ["proof (prove)\nusing this:\n  K = Cn A\n  \\<lbrakk>?K = Cn ?A; ?B \\<in> ?K .\\<bottom>. ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?B = Cn ?B\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        B \\<in> K .\\<bottom>. \\<phi> \\<Longrightarrow>\n        \\<psi> \\<in> Cn B) \\<Longrightarrow>\n    K .\\<bottom>. \\<phi> \\<noteq> {} \\<longrightarrow>\n    Ball (K .\\<bottom>. \\<phi>) ((\\<in>) \\<psi>)", "by blast"], ["proof (state)\nthis:\n  \\<psi> \\<in> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K \\<inter> Cn {.\\<not> \\<phi>}\n  \\<subseteq> K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma full_meet_weak2:\\<open>K = Cn(A) \\<Longrightarrow> K \\<turnstile> \\<phi> \\<Longrightarrow> Cn((K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>) \\<union> {.\\<not> \\<phi>}) = Cn({.\\<not> \\<phi>})\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> Cn ((K \\<div>\\<^bsub>\\<gamma>\\<^sub>F\\<^sub>C\\<^esub> \\<phi>) \\<union>\n                          {.\\<not> \\<phi>}) =\n                      Cn {.\\<not> \\<phi>}", "unfolding full_meet_weak1"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>K = Cn A; K \\<turnstile> \\<phi>\\<rbrakk>\n    \\<Longrightarrow> Cn (K \\<inter> Cn {.\\<not> \\<phi>} \\<union>\n                          {.\\<not> \\<phi>}) =\n                      Cn {.\\<not> \\<phi>}", "by (metis Cn_union idempotency_L inf.cobounded2 sup.absorb_iff2 sup_commute)"], ["", "end"], ["", "end"]]}