{"file_name": "/home/qj213/afp-2021-10-22/thys/Automated_Stateful_Protocol_Verification/Term_Abstraction.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Automated_Stateful_Protocol_Verification", "problem_names": ["lemma to_abs_alt_def:\n  \"\\<alpha>\\<^sub>0 D n = {s. \\<exists>S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D}\"", "lemma abs_term_apply_const[simp]:\n  \"is_Val f \\<Longrightarrow> Fun f [] \\<cdot>\\<^sub>\\<alpha> a = Fun (Abs (a (the_Val f))) []\"\n  \"\\<not>is_Val f \\<Longrightarrow> Fun f [] \\<cdot>\\<^sub>\\<alpha> a = Fun f []\"", "lemma abs_fv: \"fv (t \\<cdot>\\<^sub>\\<alpha> a) = fv t\"", "lemma abs_eq_if_no_Val:\n  assumes \"\\<forall>f \\<in> funs_term t. \\<not>is_Val f\"\n  shows \"t \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot>\\<^sub>\\<alpha> b\"", "lemma abs_list_set_is_set_abs_set: \"set (M \\<cdot>\\<^sub>\\<alpha>\\<^sub>l\\<^sub>i\\<^sub>s\\<^sub>t \\<alpha>) = (set M) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\"", "lemma abs_set_empty[simp]: \"{} \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha> = {}\"", "lemma abs_in:\n  assumes \"t \\<in> M\"\n  shows \"t \\<cdot>\\<^sub>\\<alpha> \\<alpha> \\<in> M \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\"", "lemma abs_set_union: \"(A \\<union> B) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a = (A \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a) \\<union> (B \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a)\"", "lemma abs_subterms: \"subterms (t \\<cdot>\\<^sub>\\<alpha> \\<alpha>) = subterms t \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\"", "lemma abs_subterms_in: \"s \\<in> subterms t \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha> a \\<in> subterms (t \\<cdot>\\<^sub>\\<alpha> a)\"", "lemma abs_ik_append: \"(ik\\<^sub>s\\<^sub>s\\<^sub>t (A@B) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a = (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t B \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a\"", "lemma to_abs_in:\n  assumes \"(Fun (Val n) [], Fun (Set s) []) \\<in> set D\"\n  shows \"s \\<in> \\<alpha>\\<^sub>0 D n\"", "lemma to_abs_empty_iff_notin_db:\n  \"Fun (Val n) [] \\<cdot>\\<^sub>\\<alpha> \\<alpha>\\<^sub>0 D = Fun (Abs {}) [] \\<longleftrightarrow> (\\<nexists>s S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D)\"", "lemma to_abs_list_insert:\n  assumes \"Fun (Val n) [] \\<noteq> t\"\n  shows \"\\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (List.insert (t,s) D) n\"", "lemma to_abs_list_insert':\n  \"insert s (\\<alpha>\\<^sub>0 D n) = \\<alpha>\\<^sub>0 (List.insert (Fun (Val n) [], Fun (Set s) S) D) n\"", "lemma to_abs_list_remove_all:\n  assumes \"Fun (Val n) [] \\<noteq> t\"\n  shows \"\\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (List.removeAll (t,s) D) n\"", "lemma to_abs_list_remove_all':\n  \"\\<alpha>\\<^sub>0 D n - {s} = \\<alpha>\\<^sub>0 (filter (\\<lambda>d. \\<nexists>S. d = (Fun (Val n) [], Fun (Set s) S)) D) n\"", "lemma to_abs_db\\<^sub>s\\<^sub>s\\<^sub>t_append:\n  assumes \"\\<forall>u s. insert\\<langle>u, s\\<rangle> \\<in> set B \\<longrightarrow> Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\"\n    and \"\\<forall>u s. delete\\<langle>u, s\\<rangle> \\<in> set B \\<longrightarrow> Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\"\n  shows \"\\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n = \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B) \\<I> D) n\"", "lemma to_abs_neq_imp_db_update:\n  assumes \"\\<alpha>\\<^sub>0 (db\\<^sub>s\\<^sub>s\\<^sub>t A I) n \\<noteq> \\<alpha>\\<^sub>0 (db\\<^sub>s\\<^sub>s\\<^sub>t (A@B) I) n\"\n  shows \"\\<exists>u s. u \\<cdot> I = Fun (Val n) [] \\<and> (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or> delete\\<langle>u,s\\<rangle> \\<in> set B)\"", "lemma abs_term_subst_eq:\n  fixes \\<delta> \\<theta>::\"(('a,'b,'c) prot_fun, ('d,'e prot_atom) term \\<times> nat) subst\"\n  assumes \"\\<forall>x \\<in> fv t. \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x \\<cdot>\\<^sub>\\<alpha> b\"\n    and \"\\<nexists>n T. Fun (Val n) T \\<in> subterms t\"\n  shows \"t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\"", "lemma abs_term_subst_eq':\n  fixes \\<delta> \\<theta>::\"(('a,'b,'c) prot_fun, ('d,'e prot_atom) term \\<times> nat) subst\"\n  assumes \"\\<forall>x \\<in> fv t. \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x\"\n    and \"\\<nexists>n T. Fun (Val n) T \\<in> subterms t\"\n  shows \"t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot> \\<theta>\"", "lemma abs_val_in_funs_term:\n  assumes \"f \\<in> funs_term t\" \"is_Val f\"\n  shows \"Abs (\\<alpha> (the_Val f)) \\<in> funs_term (t \\<cdot>\\<^sub>\\<alpha> \\<alpha>)\""], "translations": [["", "lemma to_abs_alt_def:\n  \"\\<alpha>\\<^sub>0 D n = {s. \\<exists>S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 D n =\n    {s. \\<exists>S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D}", "by (induct D n rule: to_abs.induct) auto"], ["", "lemma abs_term_apply_const[simp]:\n  \"is_Val f \\<Longrightarrow> Fun f [] \\<cdot>\\<^sub>\\<alpha> a = Fun (Abs (a (the_Val f))) []\"\n  \"\\<not>is_Val f \\<Longrightarrow> Fun f [] \\<cdot>\\<^sub>\\<alpha> a = Fun f []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (is_Val f \\<Longrightarrow>\n     Fun f [] \\<cdot>\\<^sub>\\<alpha> a = Fun (Abs (a (the_Val f))) []) &&&\n    (\\<not> is_Val f \\<Longrightarrow>\n     Fun f [] \\<cdot>\\<^sub>\\<alpha> a = Fun f [])", "by (cases f; auto)+"], ["", "lemma abs_fv: \"fv (t \\<cdot>\\<^sub>\\<alpha> a) = fv t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (t \\<cdot>\\<^sub>\\<alpha> a) = fv t", "by (induct t a rule: abs_apply_term.induct) auto"], ["", "lemma abs_eq_if_no_Val:\n  assumes \"\\<forall>f \\<in> funs_term t. \\<not>is_Val f\"\n  shows \"t \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot>\\<^sub>\\<alpha> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot>\\<^sub>\\<alpha> b", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>f\\<in>funs_term t. \\<not> is_Val f\n\ngoal (1 subgoal):\n 1. t \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot>\\<^sub>\\<alpha> b", "proof (induction t)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<forall>f\\<in>funs_term (Var x). \\<not> is_Val f \\<Longrightarrow>\n       Var x \\<cdot>\\<^sub>\\<alpha> a = Var x \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2;\n                    \\<forall>f\\<in>funs_term x2a. \\<not> is_Val f\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\\<^sub>\\<alpha> a =\n                                     x2a \\<cdot>\\<^sub>\\<alpha> b;\n        \\<forall>f\\<in>funs_term (Fun x1a x2). \\<not> is_Val f\\<rbrakk>\n       \\<Longrightarrow> Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> b", "case (Fun f T)"], ["proof (state)\nthis:\n  \\<lbrakk>?x2a \\<in> set T;\n   \\<forall>f\\<in>funs_term ?x2a. \\<not> is_Val f\\<rbrakk>\n  \\<Longrightarrow> ?x2a \\<cdot>\\<^sub>\\<alpha> a =\n                    ?x2a \\<cdot>\\<^sub>\\<alpha> b\n  \\<forall>f\\<in>funs_term (Fun f T). \\<not> is_Val f\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<forall>f\\<in>funs_term (Var x). \\<not> is_Val f \\<Longrightarrow>\n       Var x \\<cdot>\\<^sub>\\<alpha> a = Var x \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2;\n                    \\<forall>f\\<in>funs_term x2a. \\<not> is_Val f\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\\<^sub>\\<alpha> a =\n                                     x2a \\<cdot>\\<^sub>\\<alpha> b;\n        \\<forall>f\\<in>funs_term (Fun x1a x2). \\<not> is_Val f\\<rbrakk>\n       \\<Longrightarrow> Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> b", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2a \\<in> set T;\n   \\<forall>f\\<in>funs_term ?x2a. \\<not> is_Val f\\<rbrakk>\n  \\<Longrightarrow> ?x2a \\<cdot>\\<^sub>\\<alpha> a =\n                    ?x2a \\<cdot>\\<^sub>\\<alpha> b\n  \\<forall>f\\<in>funs_term (Fun f T). \\<not> is_Val f\n\ngoal (1 subgoal):\n 1. Fun f T \\<cdot>\\<^sub>\\<alpha> a = Fun f T \\<cdot>\\<^sub>\\<alpha> b", "by (cases f) simp_all"], ["proof (state)\nthis:\n  Fun f T \\<cdot>\\<^sub>\\<alpha> a = Fun f T \\<cdot>\\<^sub>\\<alpha> b\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>f\\<in>funs_term (Var x). \\<not> is_Val f \\<Longrightarrow>\n       Var x \\<cdot>\\<^sub>\\<alpha> a = Var x \\<cdot>\\<^sub>\\<alpha> b", "qed simp"], ["", "lemma abs_list_set_is_set_abs_set: \"set (M \\<cdot>\\<^sub>\\<alpha>\\<^sub>l\\<^sub>i\\<^sub>s\\<^sub>t \\<alpha>) = (set M) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (M \\<cdot>\\<^sub>\\<alpha>\\<^sub>l\\<^sub>i\\<^sub>s\\<^sub>t\n         \\<alpha>) =\n    set M \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>", "unfolding abs_apply_list_def abs_apply_terms_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. set (map (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> \\<alpha>) M) =\n    (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> \\<alpha>) ` set M", "by simp"], ["", "lemma abs_set_empty[simp]: \"{} \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha> = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha> = {}", "unfolding abs_apply_terms_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> \\<alpha>) ` {} = {}", "by simp"], ["", "lemma abs_in:\n  assumes \"t \\<in> M\"\n  shows \"t \\<cdot>\\<^sub>\\<alpha> \\<alpha> \\<in> M \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<cdot>\\<^sub>\\<alpha> \\<alpha>\n    \\<in> M \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> M\n\ngoal (1 subgoal):\n 1. t \\<cdot>\\<^sub>\\<alpha> \\<alpha>\n    \\<in> M \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>", "unfolding abs_apply_terms_def"], ["proof (prove)\nusing this:\n  t \\<in> M\n\ngoal (1 subgoal):\n 1. t \\<cdot>\\<^sub>\\<alpha> \\<alpha>\n    \\<in> (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> \\<alpha>) ` M", "by (induct t \\<alpha> rule: abs_apply_term.induct) blast+"], ["", "lemma abs_set_union: \"(A \\<union> B) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a = (A \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a) \\<union> (B \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<union> B) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a =\n    A \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a \\<union>\n    B \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a", "unfolding abs_apply_terms_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> a) ` (A \\<union> B) =\n    (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> a) ` A \\<union>\n    (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> a) ` B", "by auto"], ["", "lemma abs_subterms: \"subterms (t \\<cdot>\\<^sub>\\<alpha> \\<alpha>) = subterms t \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subterms (t \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n    subterms t \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>", "proof (induction t)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       subterms (Var x \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n       subterms (Var x) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<alpha>\n 2. \\<And>x1a x2.\n       (\\<And>x2a.\n           x2a \\<in> set x2 \\<Longrightarrow>\n           subterms (x2a \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n           subterms x2a \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n           \\<alpha>) \\<Longrightarrow>\n       subterms (Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n       subterms (Fun x1a x2) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<alpha>", "case (Fun f T)"], ["proof (state)\nthis:\n  ?x2a \\<in> set T \\<Longrightarrow>\n  subterms (?x2a \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n  subterms ?x2a \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       subterms (Var x \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n       subterms (Var x) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<alpha>\n 2. \\<And>x1a x2.\n       (\\<And>x2a.\n           x2a \\<in> set x2 \\<Longrightarrow>\n           subterms (x2a \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n           subterms x2a \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n           \\<alpha>) \\<Longrightarrow>\n       subterms (Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n       subterms (Fun x1a x2) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<alpha>", "thus ?case"], ["proof (prove)\nusing this:\n  ?x2a \\<in> set T \\<Longrightarrow>\n  subterms (?x2a \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n  subterms ?x2a \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\n\ngoal (1 subgoal):\n 1. subterms (Fun f T \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n    subterms (Fun f T) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<alpha>", "by (cases f) (auto simp add: abs_apply_terms_def)"], ["proof (state)\nthis:\n  subterms (Fun f T \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n  subterms (Fun f T) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       subterms (Var x \\<cdot>\\<^sub>\\<alpha> \\<alpha>) =\n       subterms (Var x) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<alpha>", "qed (simp add: abs_apply_terms_def)"], ["", "lemma abs_subterms_in: \"s \\<in> subterms t \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha> a \\<in> subterms (t \\<cdot>\\<^sub>\\<alpha> a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<sqsubseteq> t \\<Longrightarrow>\n    s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq> t \\<cdot>\\<^sub>\\<alpha> a", "proof (induction t)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       s \\<sqsubseteq> Var x \\<Longrightarrow>\n       s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n       Var x \\<cdot>\\<^sub>\\<alpha> a\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2; s \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha>\n                                     a \\<sqsubseteq>\n                                     x2a \\<cdot>\\<^sub>\\<alpha> a;\n        s \\<sqsubseteq> Fun x1a x2\\<rbrakk>\n       \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n                         Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> a", "case (Fun f T)"], ["proof (state)\nthis:\n  \\<lbrakk>?x2a \\<in> set T; s \\<sqsubseteq> ?x2a\\<rbrakk>\n  \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n                    ?x2a \\<cdot>\\<^sub>\\<alpha> a\n  s \\<sqsubseteq> Fun f T\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       s \\<sqsubseteq> Var x \\<Longrightarrow>\n       s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n       Var x \\<cdot>\\<^sub>\\<alpha> a\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2; s \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha>\n                                     a \\<sqsubseteq>\n                                     x2a \\<cdot>\\<^sub>\\<alpha> a;\n        s \\<sqsubseteq> Fun x1a x2\\<rbrakk>\n       \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n                         Fun x1a x2 \\<cdot>\\<^sub>\\<alpha> a", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2a \\<in> set T; s \\<sqsubseteq> ?x2a\\<rbrakk>\n  \\<Longrightarrow> s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n                    ?x2a \\<cdot>\\<^sub>\\<alpha> a\n  s \\<sqsubseteq> Fun f T\n\ngoal (1 subgoal):\n 1. s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n    Fun f T \\<cdot>\\<^sub>\\<alpha> a", "by (cases f) auto"], ["proof (state)\nthis:\n  s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq> Fun f T \\<cdot>\\<^sub>\\<alpha> a\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       s \\<sqsubseteq> Var x \\<Longrightarrow>\n       s \\<cdot>\\<^sub>\\<alpha> a \\<sqsubseteq>\n       Var x \\<cdot>\\<^sub>\\<alpha> a", "qed simp"], ["", "lemma abs_ik_append: \"(ik\\<^sub>s\\<^sub>s\\<^sub>t (A@B) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a = (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t B \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ik\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n    a =\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n    a \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t B \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     I) \\<cdot>\\<^sub>\\<alpha>\\<^sub>s\\<^sub>e\\<^sub>t\n    a", "unfolding abs_apply_terms_def ik\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> a) `\n    ({t. receive\\<langle>t\\<rangle>\n         \\<in> set (A @ B)} \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     I) =\n    (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> a) `\n    ({t. receive\\<langle>t\\<rangle>\n         \\<in> set A} \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     I) \\<union>\n    (\\<lambda>t. t \\<cdot>\\<^sub>\\<alpha> a) `\n    ({t. receive\\<langle>t\\<rangle>\n         \\<in> set B} \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     I)", "by auto"], ["", "lemma to_abs_in:\n  assumes \"(Fun (Val n) [], Fun (Set s) []) \\<in> set D\"\n  shows \"s \\<in> \\<alpha>\\<^sub>0 D n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> \\<alpha>\\<^sub>0 D n", "using assms"], ["proof (prove)\nusing this:\n  (Fun (Val n) [], Fun (Set s) []) \\<in> set D\n\ngoal (1 subgoal):\n 1. s \\<in> \\<alpha>\\<^sub>0 D n", "by (induct rule: to_abs.induct) auto"], ["", "lemma to_abs_empty_iff_notin_db:\n  \"Fun (Val n) [] \\<cdot>\\<^sub>\\<alpha> \\<alpha>\\<^sub>0 D = Fun (Abs {}) [] \\<longleftrightarrow> (\\<nexists>s S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Fun (Val n) [] \\<cdot>\\<^sub>\\<alpha> \\<alpha>\\<^sub>0 D =\n     Fun (Abs {}) []) =\n    (\\<nexists>s S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D)", "by (simp add: to_abs_alt_def)"], ["", "lemma to_abs_list_insert:\n  assumes \"Fun (Val n) [] \\<noteq> t\"\n  shows \"\\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (List.insert (t,s) D) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (List.insert (t, s) D) n", "using assms to_abs_alt_def[of D n] to_abs_alt_def[of \"List.insert (t,s) D\" n]"], ["proof (prove)\nusing this:\n  Fun (Val n) [] \\<noteq> t\n  \\<alpha>\\<^sub>0 D n =\n  {s. \\<exists>S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D}\n  \\<alpha>\\<^sub>0 (List.insert (t, s) D) n =\n  {sa.\n   \\<exists>S.\n      (Fun (Val n) [], Fun (Set sa) S) \\<in> set (List.insert (t, s) D)}\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (List.insert (t, s) D) n", "by auto"], ["", "lemma to_abs_list_insert':\n  \"insert s (\\<alpha>\\<^sub>0 D n) = \\<alpha>\\<^sub>0 (List.insert (Fun (Val n) [], Fun (Set s) S) D) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert s (\\<alpha>\\<^sub>0 D n) =\n    \\<alpha>\\<^sub>0 (List.insert (Fun (Val n) [], Fun (Set s) S) D) n", "using to_abs_alt_def[of D n]\n      to_abs_alt_def[of \"List.insert (Fun (Val n) [], Fun (Set s) S) D\" n]"], ["proof (prove)\nusing this:\n  \\<alpha>\\<^sub>0 D n =\n  {s. \\<exists>S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D}\n  \\<alpha>\\<^sub>0 (List.insert (Fun (Val n) [], Fun (Set s) S) D) n =\n  {sa.\n   \\<exists>Sa.\n      (Fun (Val n) [], Fun (Set sa) Sa)\n      \\<in> set (List.insert (Fun (Val n) [], Fun (Set s) S) D)}\n\ngoal (1 subgoal):\n 1. insert s (\\<alpha>\\<^sub>0 D n) =\n    \\<alpha>\\<^sub>0 (List.insert (Fun (Val n) [], Fun (Set s) S) D) n", "by auto"], ["", "lemma to_abs_list_remove_all:\n  assumes \"Fun (Val n) [] \\<noteq> t\"\n  shows \"\\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (List.removeAll (t,s) D) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (removeAll (t, s) D) n", "using assms to_abs_alt_def[of D n] to_abs_alt_def[of \"List.removeAll (t,s) D\" n]"], ["proof (prove)\nusing this:\n  Fun (Val n) [] \\<noteq> t\n  \\<alpha>\\<^sub>0 D n =\n  {s. \\<exists>S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D}\n  \\<alpha>\\<^sub>0 (removeAll (t, s) D) n =\n  {sa.\n   \\<exists>S.\n      (Fun (Val n) [], Fun (Set sa) S) \\<in> set (removeAll (t, s) D)}\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 D n = \\<alpha>\\<^sub>0 (removeAll (t, s) D) n", "by auto"], ["", "lemma to_abs_list_remove_all':\n  \"\\<alpha>\\<^sub>0 D n - {s} = \\<alpha>\\<^sub>0 (filter (\\<lambda>d. \\<nexists>S. d = (Fun (Val n) [], Fun (Set s) S)) D) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 D n - {s} =\n    \\<alpha>\\<^sub>0\n     (filter (\\<lambda>d. \\<nexists>S. d = (Fun (Val n) [], Fun (Set s) S))\n       D)\n     n", "using to_abs_alt_def[of D n]\n      to_abs_alt_def[of \"filter (\\<lambda>d. \\<nexists>S. d = (Fun (Val n) [], Fun (Set s) S)) D\" n]"], ["proof (prove)\nusing this:\n  \\<alpha>\\<^sub>0 D n =\n  {s. \\<exists>S. (Fun (Val n) [], Fun (Set s) S) \\<in> set D}\n  \\<alpha>\\<^sub>0\n   (filter (\\<lambda>d. \\<nexists>S. d = (Fun (Val n) [], Fun (Set s) S)) D)\n   n =\n  {sa.\n   \\<exists>S.\n      (Fun (Val n) [], Fun (Set sa) S)\n      \\<in> set (filter\n                  (\\<lambda>d.\n                      \\<nexists>S. d = (Fun (Val n) [], Fun (Set s) S))\n                  D)}\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 D n - {s} =\n    \\<alpha>\\<^sub>0\n     (filter (\\<lambda>d. \\<nexists>S. d = (Fun (Val n) [], Fun (Set s) S))\n       D)\n     n", "by auto"], ["", "lemma to_abs_db\\<^sub>s\\<^sub>s\\<^sub>t_append:\n  assumes \"\\<forall>u s. insert\\<langle>u, s\\<rangle> \\<in> set B \\<longrightarrow> Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\"\n    and \"\\<forall>u s. delete\\<langle>u, s\\<rangle> \\<in> set B \\<longrightarrow> Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\"\n  shows \"\\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n = \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B) \\<I> D) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>u s.\n     insert\\<langle>u,s\\<rangle> \\<in> set B \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  \\<forall>u s.\n     delete\\<langle>u,s\\<rangle> \\<in> set B \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n", "proof (induction B rule: List.rev_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>u s.\n                insert\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n                Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n     \\<forall>u s.\n        delete\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n        Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n    \\<Longrightarrow> \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                      \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ []) \\<I> D) n\n 2. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<forall>u s.\n                            insert\\<langle>u,s\\<rangle>\n                            \\<in> set xs \\<longrightarrow>\n                            Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n                 \\<forall>u s.\n                    delete\\<langle>u,s\\<rangle>\n                    \\<in> set xs \\<longrightarrow>\n                    Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n                \\<Longrightarrow> \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D)\n                                   n =\n                                  \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs)\n                                     \\<I> D)\n                                   n;\n        \\<forall>u s.\n           insert\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n        \\<forall>u s.\n           delete\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                         \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs @ [x]) \\<I>\n                            D)\n                          n", "case (snoc b B)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>u s.\n              insert\\<langle>u,s\\<rangle> \\<in> set B \\<longrightarrow>\n              Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n   \\<forall>u s.\n      delete\\<langle>u,s\\<rangle> \\<in> set B \\<longrightarrow>\n      Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n  \\<Longrightarrow> \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D)\n                     n =\n                    \\<alpha>\\<^sub>0\n                     (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n\n  \\<forall>u s.\n     insert\\<langle>u,s\\<rangle> \\<in> set (B @ [b]) \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  \\<forall>u s.\n     delete\\<langle>u,s\\<rangle> \\<in> set (B @ [b]) \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>u s.\n                insert\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n                Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n     \\<forall>u s.\n        delete\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n        Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n    \\<Longrightarrow> \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                      \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ []) \\<I> D) n\n 2. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<forall>u s.\n                            insert\\<langle>u,s\\<rangle>\n                            \\<in> set xs \\<longrightarrow>\n                            Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n                 \\<forall>u s.\n                    delete\\<langle>u,s\\<rangle>\n                    \\<in> set xs \\<longrightarrow>\n                    Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n                \\<Longrightarrow> \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D)\n                                   n =\n                                  \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs)\n                                     \\<I> D)\n                                   n;\n        \\<forall>u s.\n           insert\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n        \\<forall>u s.\n           delete\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                         \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs @ [x]) \\<I>\n                            D)\n                          n", "hence IH: \"\\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n = \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B) \\<I> D) n\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>u s.\n              insert\\<langle>u,s\\<rangle> \\<in> set B \\<longrightarrow>\n              Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n   \\<forall>u s.\n      delete\\<langle>u,s\\<rangle> \\<in> set B \\<longrightarrow>\n      Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n  \\<Longrightarrow> \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D)\n                     n =\n                    \\<alpha>\\<^sub>0\n                     (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n\n  \\<forall>u s.\n     insert\\<langle>u,s\\<rangle> \\<in> set (B @ [b]) \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  \\<forall>u s.\n     delete\\<langle>u,s\\<rangle> \\<in> set (B @ [b]) \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n", "by auto"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>u s.\n                insert\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n                Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n     \\<forall>u s.\n        delete\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n        Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n    \\<Longrightarrow> \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                      \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ []) \\<I> D) n\n 2. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<forall>u s.\n                            insert\\<langle>u,s\\<rangle>\n                            \\<in> set xs \\<longrightarrow>\n                            Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n                 \\<forall>u s.\n                    delete\\<langle>u,s\\<rangle>\n                    \\<in> set xs \\<longrightarrow>\n                    Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n                \\<Longrightarrow> \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D)\n                                   n =\n                                  \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs)\n                                     \\<I> D)\n                                   n;\n        \\<forall>u s.\n           insert\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n        \\<forall>u s.\n           delete\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                         \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs @ [x]) \\<I>\n                            D)\n                          n", "have *: \"\\<forall>u s. b = insert\\<langle>u,s\\<rangle> \\<longrightarrow> Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\"\n          \"\\<forall>u s. b = delete\\<langle>u,s\\<rangle> \\<longrightarrow> Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>u s.\n       b = insert\\<langle>u,s\\<rangle> \\<longrightarrow>\n       Fun (Val n) [] \\<noteq> u \\<cdot> \\<I> &&&\n    \\<forall>u s.\n       b = delete\\<langle>u,s\\<rangle> \\<longrightarrow>\n       Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>", "using snoc.prems"], ["proof (prove)\nusing this:\n  \\<forall>u s.\n     insert\\<langle>u,s\\<rangle> \\<in> set (B @ [b]) \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  \\<forall>u s.\n     delete\\<langle>u,s\\<rangle> \\<in> set (B @ [b]) \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (1 subgoal):\n 1. \\<forall>u s.\n       b = insert\\<langle>u,s\\<rangle> \\<longrightarrow>\n       Fun (Val n) [] \\<noteq> u \\<cdot> \\<I> &&&\n    \\<forall>u s.\n       b = delete\\<langle>u,s\\<rangle> \\<longrightarrow>\n       Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>", "by simp_all"], ["proof (state)\nthis:\n  \\<forall>u s.\n     b = insert\\<langle>u,s\\<rangle> \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  \\<forall>u s.\n     b = delete\\<langle>u,s\\<rangle> \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>u s.\n                insert\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n                Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n     \\<forall>u s.\n        delete\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n        Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n    \\<Longrightarrow> \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                      \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ []) \\<I> D) n\n 2. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<forall>u s.\n                            insert\\<langle>u,s\\<rangle>\n                            \\<in> set xs \\<longrightarrow>\n                            Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n                 \\<forall>u s.\n                    delete\\<langle>u,s\\<rangle>\n                    \\<in> set xs \\<longrightarrow>\n                    Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n                \\<Longrightarrow> \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D)\n                                   n =\n                                  \\<alpha>\\<^sub>0\n                                   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs)\n                                     \\<I> D)\n                                   n;\n        \\<forall>u s.\n           insert\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n        \\<forall>u s.\n           delete\\<langle>u,s\\<rangle>\n           \\<in> set (xs @ [x]) \\<longrightarrow>\n           Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                         \\<alpha>\\<^sub>0\n                          (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ xs @ [x]) \\<I>\n                            D)\n                          n", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "proof (cases b)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x41 x42.\n       b = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 7. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "case (Insert u s)"], ["proof (state)\nthis:\n  b = insert\\<langle>u,s\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x41 x42.\n       b = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 7. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "hence **: \"db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B@[b]) \\<I> D = List.insert (u \\<cdot> \\<I>,s \\<cdot> \\<I>) (db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B) \\<I> D)\""], ["proof (prove)\nusing this:\n  b = insert\\<langle>u,s\\<rangle>\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n    List.insert (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n     (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)", "using db\\<^sub>s\\<^sub>s\\<^sub>t_append[of \"A@B\" \"[b]\"]"], ["proof (prove)\nusing this:\n  b = insert\\<langle>u,s\\<rangle>\n  db'\\<^sub>s\\<^sub>s\\<^sub>t ((A @ B) @ [b]) ?I ?D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [b] ?I\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) ?I ?D)\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n    List.insert (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n     (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)", "by simp"], ["proof (state)\nthis:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n  List.insert (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x41 x42.\n       b = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 7. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "have \"Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>", "using *(1) Insert"], ["proof (prove)\nusing this:\n  \\<forall>u s.\n     b = insert\\<langle>u,s\\<rangle> \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  b = insert\\<langle>u,s\\<rangle>\n\ngoal (1 subgoal):\n 1. Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>", "by auto"], ["proof (state)\nthis:\n  Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x41 x42.\n       b = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 7. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "thus ?thesis"], ["proof (prove)\nusing this:\n  Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "using IH ** to_abs_list_insert"], ["proof (prove)\nusing this:\n  Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n  List.insert (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)\n  Fun (Val ?n) [] \\<noteq> ?t \\<Longrightarrow>\n  \\<alpha>\\<^sub>0 ?D ?n = \\<alpha>\\<^sub>0 (List.insert (?t, ?s) ?D) ?n\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "by metis"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "case (Delete u s)"], ["proof (state)\nthis:\n  b = delete\\<langle>u,s\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "hence **: \"db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B@[b]) \\<I> D = List.removeAll (u \\<cdot> \\<I>,s \\<cdot> \\<I>) (db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B) \\<I> D)\""], ["proof (prove)\nusing this:\n  b = delete\\<langle>u,s\\<rangle>\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n    removeAll (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n     (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)", "using db\\<^sub>s\\<^sub>s\\<^sub>t_append[of \"A@B\" \"[b]\"]"], ["proof (prove)\nusing this:\n  b = delete\\<langle>u,s\\<rangle>\n  db'\\<^sub>s\\<^sub>s\\<^sub>t ((A @ B) @ [b]) ?I ?D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [b] ?I\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) ?I ?D)\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n    removeAll (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n     (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)", "by simp"], ["proof (state)\nthis:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n  removeAll (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "have \"Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>", "using *(2) Delete"], ["proof (prove)\nusing this:\n  \\<forall>u s.\n     b = delete\\<langle>u,s\\<rangle> \\<longrightarrow>\n     Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  b = delete\\<langle>u,s\\<rangle>\n\ngoal (1 subgoal):\n 1. Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>", "by auto"], ["proof (state)\nthis:\n  Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x51 x52.\n       b = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 6. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "thus ?thesis"], ["proof (prove)\nusing this:\n  Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "using IH ** to_abs_list_remove_all"], ["proof (prove)\nusing this:\n  Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D) n\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D =\n  removeAll (u \\<cdot> \\<I>, s \\<cdot> \\<I>)\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) \\<I> D)\n  Fun (Val ?n) [] \\<noteq> ?t \\<Longrightarrow>\n  \\<alpha>\\<^sub>0 ?D ?n = \\<alpha>\\<^sub>0 (removeAll (?t, ?s) ?D) ?n\n\ngoal (1 subgoal):\n 1. \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n    \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "by metis"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n\ngoal (5 subgoals):\n 1. \\<And>x1.\n       b = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 2. \\<And>x2.\n       b = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 3. \\<And>x31 x32 x33.\n       b = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 4. \\<And>x61 x62 x63.\n       b = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n 5. \\<And>x71 x72 x73.\n       b =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n", "qed (simp_all add: db\\<^sub>s\\<^sub>s\\<^sub>t_no_upd_append[of \"[b]\" \"A@B\"] IH)"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B @ [b]) \\<I> D) n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>u s.\n                insert\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n                Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>;\n     \\<forall>u s.\n        delete\\<langle>u,s\\<rangle> \\<in> set [] \\<longrightarrow>\n        Fun (Val n) [] \\<noteq> u \\<cdot> \\<I>\\<rbrakk>\n    \\<Longrightarrow> \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D) n =\n                      \\<alpha>\\<^sub>0\n                       (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ []) \\<I> D) n", "qed simp"], ["", "lemma to_abs_neq_imp_db_update:\n  assumes \"\\<alpha>\\<^sub>0 (db\\<^sub>s\\<^sub>s\\<^sub>t A I) n \\<noteq> \\<alpha>\\<^sub>0 (db\\<^sub>s\\<^sub>s\\<^sub>t (A@B) I) n\"\n  shows \"\\<exists>u s. u \\<cdot> I = Fun (Val n) [] \\<and> (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or> delete\\<langle>u,s\\<rangle> \\<in> set B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "fix D"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "have ?thesis when \"\\<alpha>\\<^sub>0 D n \\<noteq> \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t B I D) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "using that"], ["proof (prove)\nusing this:\n  \\<alpha>\\<^sub>0 D n \\<noteq>\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t B I D) n\n\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "proof (induction B I D rule: db'\\<^sub>s\\<^sub>s\\<^sub>t.induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>I D.\n       \\<alpha>\\<^sub>0 D n \\<noteq>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n        n \\<Longrightarrow>\n       \\<exists>u s.\n          u \\<cdot> I = Fun (Val n) [] \\<and>\n          (insert\\<langle>u,s\\<rangle> \\<in> set [] \\<or>\n           delete\\<langle>u,s\\<rangle> \\<in> set [])\n 2. \\<And>t s A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 (List.insert (t \\<cdot> I, s \\<cdot> I) D)\n                 n \\<noteq>\n                \\<alpha>\\<^sub>0\n                 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                   (List.insert (t \\<cdot> I, s \\<cdot> I) D))\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u sa.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,sa\\<rangle>\n                             \\<in> set (insert\\<langle>t,s\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,sa\\<rangle>\n                             \\<in> set (insert\\<langle>t,s\\<rangle> # A))\n 3. \\<And>t s A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 (removeAll (t \\<cdot> I, s \\<cdot> I) D)\n                 n \\<noteq>\n                \\<alpha>\\<^sub>0\n                 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                   (removeAll (t \\<cdot> I, s \\<cdot> I) D))\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u sa.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> # A))\n 4. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A))\n 5. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> # A))\n 6. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<langle>v: va \\<doteq> vb\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A))\n 7. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>v: va \\<in> vb\\<rangle> # A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A))\n 8. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n            A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A))", "case 2"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 (List.insert (t_ \\<cdot> I_, s_ \\<cdot> I_) D_)\n   n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t A_ I_\n     (List.insert (t_ \\<cdot> I_, s_ \\<cdot> I_) D_))\n   n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I_ = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set A_ \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set A_)\n  \\<alpha>\\<^sub>0 D_ n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t_,s_\\<rangle> # A_) I_ D_)\n   n\n\ngoal (8 subgoals):\n 1. \\<And>I D.\n       \\<alpha>\\<^sub>0 D n \\<noteq>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n        n \\<Longrightarrow>\n       \\<exists>u s.\n          u \\<cdot> I = Fun (Val n) [] \\<and>\n          (insert\\<langle>u,s\\<rangle> \\<in> set [] \\<or>\n           delete\\<langle>u,s\\<rangle> \\<in> set [])\n 2. \\<And>t s A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 (List.insert (t \\<cdot> I, s \\<cdot> I) D)\n                 n \\<noteq>\n                \\<alpha>\\<^sub>0\n                 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                   (List.insert (t \\<cdot> I, s \\<cdot> I) D))\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u sa.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,sa\\<rangle>\n                             \\<in> set (insert\\<langle>t,s\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,sa\\<rangle>\n                             \\<in> set (insert\\<langle>t,s\\<rangle> # A))\n 3. \\<And>t s A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 (removeAll (t \\<cdot> I, s \\<cdot> I) D)\n                 n \\<noteq>\n                \\<alpha>\\<^sub>0\n                 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                   (removeAll (t \\<cdot> I, s \\<cdot> I) D))\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u sa.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> # A))\n 4. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A))\n 5. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> # A))\n 6. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<langle>v: va \\<doteq> vb\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A))\n 7. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>v: va \\<in> vb\\<rangle> # A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A))\n 8. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n            A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A))", "thus ?case"], ["proof (prove)\nusing this:\n  \\<alpha>\\<^sub>0 (List.insert (t_ \\<cdot> I_, s_ \\<cdot> I_) D_)\n   n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t A_ I_\n     (List.insert (t_ \\<cdot> I_, s_ \\<cdot> I_) D_))\n   n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I_ = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set A_ \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set A_)\n  \\<alpha>\\<^sub>0 D_ n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t_,s_\\<rangle> # A_) I_ D_)\n   n\n\ngoal (1 subgoal):\n 1. \\<exists>u sa.\n       u \\<cdot> I_ = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,sa\\<rangle>\n        \\<in> set (insert\\<langle>t_,s_\\<rangle> # A_) \\<or>\n        delete\\<langle>u,sa\\<rangle>\n        \\<in> set (insert\\<langle>t_,s_\\<rangle> # A_))", "by (metis db'\\<^sub>s\\<^sub>s\\<^sub>t.simps(2) list.set_intros(1,2) subst_apply_pair_pair to_abs_list_insert)"], ["proof (state)\nthis:\n  \\<exists>u sa.\n     u \\<cdot> I_ = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,sa\\<rangle>\n      \\<in> set (insert\\<langle>t_,s_\\<rangle> # A_) \\<or>\n      delete\\<langle>u,sa\\<rangle>\n      \\<in> set (insert\\<langle>t_,s_\\<rangle> # A_))\n\ngoal (7 subgoals):\n 1. \\<And>I D.\n       \\<alpha>\\<^sub>0 D n \\<noteq>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n        n \\<Longrightarrow>\n       \\<exists>u s.\n          u \\<cdot> I = Fun (Val n) [] \\<and>\n          (insert\\<langle>u,s\\<rangle> \\<in> set [] \\<or>\n           delete\\<langle>u,s\\<rangle> \\<in> set [])\n 2. \\<And>t s A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 (removeAll (t \\<cdot> I, s \\<cdot> I) D)\n                 n \\<noteq>\n                \\<alpha>\\<^sub>0\n                 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                   (removeAll (t \\<cdot> I, s \\<cdot> I) D))\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u sa.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> # A))\n 3. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A))\n 4. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> # A))\n 5. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<langle>v: va \\<doteq> vb\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A))\n 6. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>v: va \\<in> vb\\<rangle> # A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A))\n 7. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n            A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>I D.\n       \\<alpha>\\<^sub>0 D n \\<noteq>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n        n \\<Longrightarrow>\n       \\<exists>u s.\n          u \\<cdot> I = Fun (Val n) [] \\<and>\n          (insert\\<langle>u,s\\<rangle> \\<in> set [] \\<or>\n           delete\\<langle>u,s\\<rangle> \\<in> set [])\n 2. \\<And>t s A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 (removeAll (t \\<cdot> I, s \\<cdot> I) D)\n                 n \\<noteq>\n                \\<alpha>\\<^sub>0\n                 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                   (removeAll (t \\<cdot> I, s \\<cdot> I) D))\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u sa.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> # A))\n 3. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A))\n 4. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> # A))\n 5. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<langle>v: va \\<doteq> vb\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A))\n 6. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>v: va \\<in> vb\\<rangle> # A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A))\n 7. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n            A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A))", "case 3"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 (removeAll (t_ \\<cdot> I_, s_ \\<cdot> I_) D_) n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t A_ I_\n     (removeAll (t_ \\<cdot> I_, s_ \\<cdot> I_) D_))\n   n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I_ = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set A_ \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set A_)\n  \\<alpha>\\<^sub>0 D_ n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t_,s_\\<rangle> # A_) I_ D_)\n   n\n\ngoal (7 subgoals):\n 1. \\<And>I D.\n       \\<alpha>\\<^sub>0 D n \\<noteq>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n        n \\<Longrightarrow>\n       \\<exists>u s.\n          u \\<cdot> I = Fun (Val n) [] \\<and>\n          (insert\\<langle>u,s\\<rangle> \\<in> set [] \\<or>\n           delete\\<langle>u,s\\<rangle> \\<in> set [])\n 2. \\<And>t s A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 (removeAll (t \\<cdot> I, s \\<cdot> I) D)\n                 n \\<noteq>\n                \\<alpha>\\<^sub>0\n                 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                   (removeAll (t \\<cdot> I, s \\<cdot> I) D))\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u sa.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,sa\\<rangle>\n                             \\<in> set (delete\\<langle>t,s\\<rangle> # A))\n 3. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A))\n 4. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> # A))\n 5. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<langle>v: va \\<doteq> vb\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A))\n 6. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>v: va \\<in> vb\\<rangle> # A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A))\n 7. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n            A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A))", "thus ?case"], ["proof (prove)\nusing this:\n  \\<alpha>\\<^sub>0 (removeAll (t_ \\<cdot> I_, s_ \\<cdot> I_) D_) n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t A_ I_\n     (removeAll (t_ \\<cdot> I_, s_ \\<cdot> I_) D_))\n   n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I_ = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set A_ \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set A_)\n  \\<alpha>\\<^sub>0 D_ n \\<noteq>\n  \\<alpha>\\<^sub>0\n   (db'\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t_,s_\\<rangle> # A_) I_ D_)\n   n\n\ngoal (1 subgoal):\n 1. \\<exists>u sa.\n       u \\<cdot> I_ = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,sa\\<rangle>\n        \\<in> set (delete\\<langle>t_,s_\\<rangle> # A_) \\<or>\n        delete\\<langle>u,sa\\<rangle>\n        \\<in> set (delete\\<langle>t_,s_\\<rangle> # A_))", "by (metis db'\\<^sub>s\\<^sub>s\\<^sub>t.simps(3) list.set_intros(1,2) subst_apply_pair_pair to_abs_list_remove_all)"], ["proof (state)\nthis:\n  \\<exists>u sa.\n     u \\<cdot> I_ = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,sa\\<rangle>\n      \\<in> set (delete\\<langle>t_,s_\\<rangle> # A_) \\<or>\n      delete\\<langle>u,sa\\<rangle>\n      \\<in> set (delete\\<langle>t_,s_\\<rangle> # A_))\n\ngoal (6 subgoals):\n 1. \\<And>I D.\n       \\<alpha>\\<^sub>0 D n \\<noteq>\n       \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n        n \\<Longrightarrow>\n       \\<exists>u s.\n          u \\<cdot> I = Fun (Val n) [] \\<and>\n          (insert\\<langle>u,s\\<rangle> \\<in> set [] \\<or>\n           delete\\<langle>u,s\\<rangle> \\<in> set [])\n 2. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (send\\<langle>v\\<rangle> # A))\n 3. \\<And>v A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>v\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (receive\\<langle>v\\<rangle> # A))\n 4. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<langle>v: va \\<doteq> vb\\<rangle> # A) I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<doteq> vb\\<rangle> #\n  A))\n 5. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>v: va \\<in> vb\\<rangle> # A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<langle>v: va \\<in> vb\\<rangle> #\n  A))\n 6. \\<And>v va vb A I D.\n       \\<lbrakk>\\<alpha>\\<^sub>0 D n \\<noteq>\n                \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n                 n \\<Longrightarrow>\n                \\<exists>u s.\n                   u \\<cdot> I = Fun (Val n) [] \\<and>\n                   (insert\\<langle>u,s\\<rangle> \\<in> set A \\<or>\n                    delete\\<langle>u,s\\<rangle> \\<in> set A);\n        \\<alpha>\\<^sub>0 D n \\<noteq>\n        \\<alpha>\\<^sub>0\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t\n           (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n            A)\n           I D)\n         n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u s.\n                            u \\<cdot> I = Fun (Val n) [] \\<and>\n                            (insert\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A) \\<or>\n                             delete\\<langle>u,s\\<rangle>\n                             \\<in> set (\\<forall>v\\<langle>\\<or>\\<noteq>: va \\<or>\\<notin>: vb\\<rangle> #\n  A))", "qed simp_all"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 D n \\<noteq>\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t B I D) n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set B)\n\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "}"], ["proof (state)\nthis:\n  \\<alpha>\\<^sub>0 ?D2 n \\<noteq>\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t B I ?D2) n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set B)\n\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<alpha>\\<^sub>0 ?D2 n \\<noteq>\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t B I ?D2) n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set B)\n\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "using assms"], ["proof (prove)\nusing this:\n  \\<alpha>\\<^sub>0 ?D2 n \\<noteq>\n  \\<alpha>\\<^sub>0 (db'\\<^sub>s\\<^sub>s\\<^sub>t B I ?D2) n \\<Longrightarrow>\n  \\<exists>u s.\n     u \\<cdot> I = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set B)\n  \\<alpha>\\<^sub>0 (db\\<^sub>s\\<^sub>s\\<^sub>t A I) n \\<noteq>\n  \\<alpha>\\<^sub>0 (db\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) I) n\n\ngoal (1 subgoal):\n 1. \\<exists>u s.\n       u \\<cdot> I = Fun (Val n) [] \\<and>\n       (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n        delete\\<langle>u,s\\<rangle> \\<in> set B)", "by (metis db\\<^sub>s\\<^sub>s\\<^sub>t_append db\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  \\<exists>u s.\n     u \\<cdot> I = Fun (Val n) [] \\<and>\n     (insert\\<langle>u,s\\<rangle> \\<in> set B \\<or>\n      delete\\<langle>u,s\\<rangle> \\<in> set B)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma abs_term_subst_eq:\n  fixes \\<delta> \\<theta>::\"(('a,'b,'c) prot_fun, ('d,'e prot_atom) term \\<times> nat) subst\"\n  assumes \"\\<forall>x \\<in> fv t. \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x \\<cdot>\\<^sub>\\<alpha> b\"\n    and \"\\<nexists>n T. Fun (Val n) T \\<in> subterms t\"\n  shows \"t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n    t \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>fv t.\n     \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n     \\<theta> x \\<cdot>\\<^sub>\\<alpha> b\n  \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> t\n\ngoal (1 subgoal):\n 1. t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n    t \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b", "proof (induction t)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>fv (Var x).\n                   \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                   \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Var x\\<rbrakk>\n       \\<Longrightarrow> Var x \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Var x \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun x1a x2).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Fun x1a x2\\<rbrakk>\n       \\<Longrightarrow> Fun x1a x2 \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                         a =\n                         Fun x1a x2 \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                         b", "case (Fun f T)"], ["proof (state)\nthis:\n  \\<lbrakk>?x2a \\<in> set T;\n   \\<forall>x\\<in>fv ?x2a.\n      \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n      \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n   \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> ?x2a\\<rbrakk>\n  \\<Longrightarrow> ?x2a \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                    ?x2a \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n  \\<forall>x\\<in>fv (Fun f T).\n     \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n     \\<theta> x \\<cdot>\\<^sub>\\<alpha> b\n  \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>fv (Var x).\n                   \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                   \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Var x\\<rbrakk>\n       \\<Longrightarrow> Var x \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Var x \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun x1a x2).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Fun x1a x2\\<rbrakk>\n       \\<Longrightarrow> Fun x1a x2 \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                         a =\n                         Fun x1a x2 \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                         b", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2a \\<in> set T;\n   \\<forall>x\\<in>fv ?x2a.\n      \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n      \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n   \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> ?x2a\\<rbrakk>\n  \\<Longrightarrow> ?x2a \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                    ?x2a \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n  \\<forall>x\\<in>fv (Fun f T).\n     \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n     \\<theta> x \\<cdot>\\<^sub>\\<alpha> b\n  \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T\n\ngoal (1 subgoal):\n 1. Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n    Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b", "proof (cases f)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 3. \\<And>x3.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Val x3\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 4. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 5. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                    \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot>\n                                  \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                  b;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 6. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 7. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 8. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 9. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 10. \\<And>x10.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n            \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstBottom x10\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\nA total of 13 subgoals...", "case (Val n)"], ["proof (state)\nthis:\n  f = Val n\n\ngoal (13 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 3. \\<And>x3.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Val x3\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 4. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 5. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                    \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot>\n                                  \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                  b;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 6. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 7. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 8. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 9. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 10. \\<And>x10.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n            \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstBottom x10\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\nA total of 13 subgoals...", "hence False"], ["proof (prove)\nusing this:\n  f = Val n\n\ngoal (1 subgoal):\n 1. False", "using Fun.prems(2)"], ["proof (prove)\nusing this:\n  f = Val n\n  \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal (13 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 3. \\<And>x3.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Val x3\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 4. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 5. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                    \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot>\n                                  \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                  b;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 6. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 7. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 8. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 9. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 10. \\<And>x10.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n            \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstBottom x10\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\nA total of 13 subgoals...", "thus ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n    Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b", "by metis"], ["proof (state)\nthis:\n  Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n  Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n\ngoal (12 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 3. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 4. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                    \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot>\n                                  \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                  b;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 5. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 6. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 7. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 8. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 9. \\<And>x10.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                       \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot>\n                                     \\<theta> \\<cdot>\\<^sub>\\<alpha>\n                                     b;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n           \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstBottom x10\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n 10. \\<And>x11.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                        \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n            \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstOccursSecType x11\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\nA total of 12 subgoals...", "qed auto"], ["proof (state)\nthis:\n  Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n  Fun f T \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>fv (Var x).\n                   \\<delta> x \\<cdot>\\<^sub>\\<alpha> a =\n                   \\<theta> x \\<cdot>\\<^sub>\\<alpha> b;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Var x\\<rbrakk>\n       \\<Longrightarrow> Var x \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Var x \\<cdot> \\<theta> \\<cdot>\\<^sub>\\<alpha> b", "qed simp"], ["", "lemma abs_term_subst_eq':\n  fixes \\<delta> \\<theta>::\"(('a,'b,'c) prot_fun, ('d,'e prot_atom) term \\<times> nat) subst\"\n  assumes \"\\<forall>x \\<in> fv t. \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x\"\n    and \"\\<nexists>n T. Fun (Val n) T \\<in> subterms t\"\n  shows \"t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot> \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot> \\<theta>", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>fv t. \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x\n  \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> t\n\ngoal (1 subgoal):\n 1. t \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a = t \\<cdot> \\<theta>", "proof (induction t)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>fv (Var x).\n                   \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Var x\\<rbrakk>\n       \\<Longrightarrow> Var x \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Var x \\<cdot> \\<theta>\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun x1a x2).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Fun x1a x2\\<rbrakk>\n       \\<Longrightarrow> Fun x1a x2 \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                         a =\n                         Fun x1a x2 \\<cdot> \\<theta>", "case (Fun f T)"], ["proof (state)\nthis:\n  \\<lbrakk>?x2a \\<in> set T;\n   \\<forall>x\\<in>fv ?x2a. \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n   \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> ?x2a\\<rbrakk>\n  \\<Longrightarrow> ?x2a \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                    ?x2a \\<cdot> \\<theta>\n  \\<forall>x\\<in>fv (Fun f T).\n     \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x\n  \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>fv (Var x).\n                   \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Var x\\<rbrakk>\n       \\<Longrightarrow> Var x \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Var x \\<cdot> \\<theta>\n 2. \\<And>x1a x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set x2;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun x1a x2).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Fun x1a x2\\<rbrakk>\n       \\<Longrightarrow> Fun x1a x2 \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                         a =\n                         Fun x1a x2 \\<cdot> \\<theta>", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2a \\<in> set T;\n   \\<forall>x\\<in>fv ?x2a. \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n   \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> ?x2a\\<rbrakk>\n  \\<Longrightarrow> ?x2a \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                    ?x2a \\<cdot> \\<theta>\n  \\<forall>x\\<in>fv (Fun f T).\n     \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x\n  \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T\n\ngoal (1 subgoal):\n 1. Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n    Fun f T \\<cdot> \\<theta>", "proof (cases f)"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 3. \\<And>x3.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Val x3\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 4. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 5. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot> \\<theta>;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta>\n 6. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 7. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 8. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 9. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 10. \\<And>x10.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta>;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstBottom x10\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta>\nA total of 13 subgoals...", "case (Val n)"], ["proof (state)\nthis:\n  f = Val n\n\ngoal (13 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 3. \\<And>x3.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Val x3\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 4. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 5. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot> \\<theta>;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta>\n 6. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 7. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 8. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 9. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 10. \\<And>x10.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta>;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstBottom x10\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta>\nA total of 13 subgoals...", "hence False"], ["proof (prove)\nusing this:\n  f = Val n\n\ngoal (1 subgoal):\n 1. False", "using Fun.prems(2)"], ["proof (prove)\nusing this:\n  f = Val n\n  \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal (13 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 3. \\<And>x3.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Val x3\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 4. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 5. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot> \\<theta>;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta>\n 6. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 7. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 8. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 9. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 10. \\<And>x10.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta>;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstBottom x10\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta>\nA total of 13 subgoals...", "thus ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n    Fun f T \\<cdot> \\<theta>", "by metis"], ["proof (state)\nthis:\n  Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n  Fun f T \\<cdot> \\<theta>\n\ngoal (12 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Fu x1\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Set x2\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 3. \\<And>x4.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Abs x4\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 4. \\<lbrakk>\\<And>x2a.\n                \\<lbrakk>x2a \\<in> set T;\n                 \\<forall>x\\<in>fv x2a.\n                    \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                 \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                \\<Longrightarrow> x2a \\<cdot>\n                                  \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                  a =\n                                  x2a \\<cdot> \\<theta>;\n     \\<forall>x\\<in>fv (Fun f T).\n        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n     \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n     f = prot_fun.Pair\\<rbrakk>\n    \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                      Fun f T \\<cdot> \\<theta>\n 5. \\<And>x6.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = Attack x6\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 6. \\<And>x71 x72.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAtom x71 x72\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 7. \\<And>x8.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstSetType x8\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 8. \\<And>x9.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstAttackType x9\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 9. \\<And>x10.\n       \\<lbrakk>\\<And>x2a.\n                   \\<lbrakk>x2a \\<in> set T;\n                    \\<forall>x\\<in>fv x2a.\n                       \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                    \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                   \\<Longrightarrow> x2a \\<cdot>\n                                     \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                                     a =\n                                     x2a \\<cdot> \\<theta>;\n        \\<forall>x\\<in>fv (Fun f T).\n           \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n        f = PubConstBottom x10\\<rbrakk>\n       \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Fun f T \\<cdot> \\<theta>\n 10. \\<And>x11.\n        \\<lbrakk>\\<And>x2a.\n                    \\<lbrakk>x2a \\<in> set T;\n                     \\<forall>x\\<in>fv x2a.\n                        \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n                     \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> x2a\\<rbrakk>\n                    \\<Longrightarrow> x2a \\<cdot>\n\\<delta> \\<cdot>\\<^sub>\\<alpha>\na =\nx2a \\<cdot> \\<theta>;\n         \\<forall>x\\<in>fv (Fun f T).\n            \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n         \\<nexists>n Ta. Fun (Val n) Ta \\<sqsubseteq> Fun f T;\n         f = PubConstOccursSecType x11\\<rbrakk>\n        \\<Longrightarrow> Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha>\n                          a =\n                          Fun f T \\<cdot> \\<theta>\nA total of 12 subgoals...", "qed auto"], ["proof (state)\nthis:\n  Fun f T \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n  Fun f T \\<cdot> \\<theta>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>fv (Var x).\n                   \\<delta> x \\<cdot>\\<^sub>\\<alpha> a = \\<theta> x;\n        \\<nexists>n T. Fun (Val n) T \\<sqsubseteq> Var x\\<rbrakk>\n       \\<Longrightarrow> Var x \\<cdot> \\<delta> \\<cdot>\\<^sub>\\<alpha> a =\n                         Var x \\<cdot> \\<theta>", "qed simp"], ["", "lemma abs_val_in_funs_term:\n  assumes \"f \\<in> funs_term t\" \"is_Val f\"\n  shows \"Abs (\\<alpha> (the_Val f)) \\<in> funs_term (t \\<cdot>\\<^sub>\\<alpha> \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Abs (\\<alpha> (the_Val f))\n    \\<in> funs_term (t \\<cdot>\\<^sub>\\<alpha> \\<alpha>)", "using assms"], ["proof (prove)\nusing this:\n  f \\<in> funs_term t\n  is_Val f\n\ngoal (1 subgoal):\n 1. Abs (\\<alpha> (the_Val f))\n    \\<in> funs_term (t \\<cdot>\\<^sub>\\<alpha> \\<alpha>)", "by (induct t \\<alpha> rule: abs_apply_term.induct) auto"], ["", "end"]]}