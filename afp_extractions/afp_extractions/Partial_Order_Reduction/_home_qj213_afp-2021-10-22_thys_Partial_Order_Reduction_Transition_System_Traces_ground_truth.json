{"file_name": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction/Transition_System_Traces.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction", "problem_names": ["lemma (in transition_system) words_infI_construct[rule_format, intro?]:\n    assumes \"\\<forall> v. v \\<le>\\<^sub>F\\<^sub>I w \\<longrightarrow> path v p\"\n    shows \"run w p\"", "lemma (in transition_system) words_infI_construct':\n    assumes \"\\<And> k. \\<exists> v. v \\<le>\\<^sub>F\\<^sub>I w \\<and> k < length v \\<and> path v p\"\n    shows \"run w p\"", "lemma (in transition_system) words_infI_construct_chain[intro]:\n    assumes \"chain w\" \"\\<And> k. path (w k) p\"\n    shows \"run (limit w) p\"", "lemma (in transition_system) words_fin_blocked:\n    assumes \"\\<And> w. path w p \\<Longrightarrow> A \\<inter> set w = {} \\<Longrightarrow> A \\<inter> {a. enabled a (target w p)} \\<subseteq> A \\<inter> {a. enabled a p}\"\n    assumes \"path w p\" \"A \\<inter> {a. enabled a p} \\<inter> set w = {}\"\n    shows \"A \\<inter> set w = {}\"", "lemma diamond_bottom:\n      assumes \"ind a b\"\n      assumes \"en a p\" \"en b p\"\n      shows \"en a (ex b p)\" \"en b (ex a p)\" \"ex b (ex a p) = ex a (ex b p)\"", "lemma diamond_right:\n      assumes \"ind a b\"\n      assumes \"en a p\" \"en b (ex a p)\"\n      shows \"en a (ex b p)\" \"en b p\" \"ex b (ex a p) = ex a (ex b p)\"", "lemma diamond_left:\n      assumes \"ind a b\"\n      assumes \"en a (ex b p)\" \"en b p\"\n      shows \"en a p\" \"en b (ex a p)\" \"ex b (ex a p) = ex a (ex b p)\"", "lemma eq_swap_word:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\" \"path w\\<^sub>1 p\"\n      shows \"path w\\<^sub>2 p\"", "lemma eq_fin_word:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"path w\\<^sub>1 p\"\n      shows \"path w\\<^sub>2 p\"", "lemma le_fin_word:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"path w\\<^sub>2 p\"\n      shows \"path w\\<^sub>1 p\"", "lemma le_fininf_word:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"run w\\<^sub>2 p\"\n      shows \"path w\\<^sub>1 p\"", "lemma le_inf_word:\n      assumes \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\" \"run w\\<^sub>1 p\"\n      shows \"run w\\<^sub>2 p\"", "lemma eq_inf_word:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\" \"run w\\<^sub>1 p\"\n      shows \"run w\\<^sub>2 p\"", "lemma eq_swap_execute:\n      assumes \"path w\\<^sub>1 p\" \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      shows \"fold ex w\\<^sub>1 p = fold ex w\\<^sub>2 p\"", "lemma eq_fin_execute:\n      assumes \"path w\\<^sub>1 p\" \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"fold ex w\\<^sub>1 p = fold ex w\\<^sub>2 p\"", "lemma diamond_fin_word_step:\n      assumes \"Ind {a} (set v)\" \"en a p\" \"path v p\"\n      shows \"path v (ex a p)\"", "lemma diamond_inf_word_step:\n      assumes \"Ind {a} (sset w)\" \"en a p\" \"run w p\"\n      shows \"run w (ex a p)\"", "lemma diamond_fin_word_inf_word:\n      assumes \"Ind (set v) (sset w)\" \"path v p\" \"run w p\"\n      shows \"run w (fold ex v p)\"", "lemma diamond_fin_word_inf_word':\n      assumes \"Ind (set v) (sset w)\" \"path (u @ v) p\" \"run (u @- w) p\"\n      shows \"run (u @- v @- w) p\""], "translations": [["", "lemma (in transition_system) words_infI_construct[rule_format, intro?]:\n    assumes \"\\<forall> v. v \\<le>\\<^sub>F\\<^sub>I w \\<longrightarrow> path v p\"\n    shows \"run w p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run w p", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>v. v \\<le>\\<^sub>F\\<^sub>I w \\<longrightarrow> path v p\n\ngoal (1 subgoal):\n 1. run w p", "by coinduct auto"], ["", "lemma (in transition_system) words_infI_construct':\n    assumes \"\\<And> k. \\<exists> v. v \\<le>\\<^sub>F\\<^sub>I w \\<and> k < length v \\<and> path v p\"\n    shows \"run w p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run w p", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. v \\<le>\\<^sub>F\\<^sub>I w \\<Longrightarrow> path v p", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. v \\<le>\\<^sub>F\\<^sub>I w \\<Longrightarrow> path v p", "assume 1: \"u \\<le>\\<^sub>F\\<^sub>I w\""], ["proof (state)\nthis:\n  u \\<le>\\<^sub>F\\<^sub>I w\n\ngoal (1 subgoal):\n 1. \\<And>v. v \\<le>\\<^sub>F\\<^sub>I w \\<Longrightarrow> path v p", "obtain v where 2: \"v \\<le>\\<^sub>F\\<^sub>I w\" \"length u < length v\" \"path v p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>v \\<le>\\<^sub>F\\<^sub>I w; length u < length v;\n         path v p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  \\<exists>v. v \\<le>\\<^sub>F\\<^sub>I w \\<and> ?k < length v \\<and> path v p\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>v \\<le>\\<^sub>F\\<^sub>I w; length u < length v;\n         path v p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v \\<le>\\<^sub>F\\<^sub>I w\n  length u < length v\n  path v p\n\ngoal (1 subgoal):\n 1. \\<And>v. v \\<le>\\<^sub>F\\<^sub>I w \\<Longrightarrow> path v p", "have 3: \"length u \\<le> length v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length u \\<le> length v", "using 2(2)"], ["proof (prove)\nusing this:\n  length u < length v\n\ngoal (1 subgoal):\n 1. length u \\<le> length v", "by simp"], ["proof (state)\nthis:\n  length u \\<le> length v\n\ngoal (1 subgoal):\n 1. \\<And>v. v \\<le>\\<^sub>F\\<^sub>I w \\<Longrightarrow> path v p", "have 4: \"u \\<le> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<le> v", "using prefix_fininf_length 1 2(1) 3"], ["proof (prove)\nusing this:\n  \\<lbrakk>?u \\<le>\\<^sub>F\\<^sub>I ?w; ?v \\<le>\\<^sub>F\\<^sub>I ?w;\n   length ?u \\<le> length ?v\\<rbrakk>\n  \\<Longrightarrow> ?u \\<le> ?v\n  u \\<le>\\<^sub>F\\<^sub>I w\n  v \\<le>\\<^sub>F\\<^sub>I w\n  length u \\<le> length v\n\ngoal (1 subgoal):\n 1. u \\<le> v", "by this"], ["proof (state)\nthis:\n  u \\<le> v\n\ngoal (1 subgoal):\n 1. \\<And>v. v \\<le>\\<^sub>F\\<^sub>I w \\<Longrightarrow> path v p", "show \"path u p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path u p", "using 4 2(3)"], ["proof (prove)\nusing this:\n  u \\<le> v\n  path v p\n\ngoal (1 subgoal):\n 1. path u p", "by auto"], ["proof (state)\nthis:\n  path u p\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in transition_system) words_infI_construct_chain[intro]:\n    assumes \"chain w\" \"\\<And> k. path (w k) p\"\n    shows \"run (limit w) p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run (limit w) p", "proof (rule words_infI_construct')"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<exists>v.\n          v \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n          k < length v \\<and> path v p", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<exists>v.\n          v \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n          k < length v \\<and> path v p", "obtain l where 1: \"k < length (w l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l. k < length (w l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  chain w\n\ngoal (1 subgoal):\n 1. (\\<And>l. k < length (w l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  k < length (w l)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<exists>v.\n          v \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n          k < length v \\<and> path v p", "show \"\\<exists> v. v \\<le>\\<^sub>F\\<^sub>I limit w \\<and> k < length v \\<and> path v p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>v.\n       v \\<le>\\<^sub>F\\<^sub>I limit w \\<and> k < length v \\<and> path v p", "proof (intro exI conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. ?v \\<le>\\<^sub>F\\<^sub>I limit w\n 2. k < length ?v\n 3. path ?v p", "show \"w l \\<le>\\<^sub>F\\<^sub>I limit w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w l \\<le>\\<^sub>F\\<^sub>I limit w", "using chain_prefix_limit assms(1)"], ["proof (prove)\nusing this:\n  chain ?w \\<Longrightarrow> ?w ?k \\<le>\\<^sub>F\\<^sub>I limit ?w\n  chain w\n\ngoal (1 subgoal):\n 1. w l \\<le>\\<^sub>F\\<^sub>I limit w", "by this"], ["proof (state)\nthis:\n  w l \\<le>\\<^sub>F\\<^sub>I limit w\n\ngoal (2 subgoals):\n 1. k < length (w l)\n 2. path (w l) p", "show \"k < length (w l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k < length (w l)", "using 1"], ["proof (prove)\nusing this:\n  k < length (w l)\n\ngoal (1 subgoal):\n 1. k < length (w l)", "by this"], ["proof (state)\nthis:\n  k < length (w l)\n\ngoal (1 subgoal):\n 1. path (w l) p", "show \"path (w l) p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path (w l) p", "using assms(2)"], ["proof (prove)\nusing this:\n  path (w ?k) p\n\ngoal (1 subgoal):\n 1. path (w l) p", "by this"], ["proof (state)\nthis:\n  path (w l) p\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>v.\n     v \\<le>\\<^sub>F\\<^sub>I limit w \\<and> k < length v \\<and> path v p\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in transition_system) words_fin_blocked:\n    assumes \"\\<And> w. path w p \\<Longrightarrow> A \\<inter> set w = {} \\<Longrightarrow> A \\<inter> {a. enabled a (target w p)} \\<subseteq> A \\<inter> {a. enabled a p}\"\n    assumes \"path w p\" \"A \\<inter> {a. enabled a p} \\<inter> set w = {}\"\n    shows \"A \\<inter> set w = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> set w = {}", "using assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>path ?w p; A \\<inter> set ?w = {}\\<rbrakk>\n  \\<Longrightarrow> A \\<inter> {a. enabled a (target ?w p)}\n                    \\<subseteq> A \\<inter> {a. enabled a p}\n  path w p\n  A \\<inter> {a. enabled a p} \\<inter> set w = {}\n\ngoal (1 subgoal):\n 1. A \\<inter> set w = {}", "by (induct w rule: rev_induct, auto)"], ["", "locale transition_system_traces =\n    transition_system ex en +\n    traces ind\n    for ex :: \"'action \\<Rightarrow> 'state \\<Rightarrow> 'state\"\n    and en :: \"'action \\<Rightarrow> 'state \\<Rightarrow> bool\"\n    and ind :: \"'action \\<Rightarrow> 'action \\<Rightarrow> bool\"\n    +\n    assumes en: \"ind a b \\<Longrightarrow> en a p \\<Longrightarrow> en b p \\<longleftrightarrow> en b (ex a p)\"\n    assumes ex: \"ind a b \\<Longrightarrow> en a p \\<Longrightarrow> en b p \\<Longrightarrow> ex b (ex a p) = ex a (ex b p)\"\n  begin"], ["", "lemma diamond_bottom:\n      assumes \"ind a b\"\n      assumes \"en a p\" \"en b p\"\n      shows \"en a (ex b p)\" \"en b (ex a p)\" \"ex b (ex a p) = ex a (ex b p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. en a (ex b p) &&& en b (ex a p) &&& ex b (ex a p) = ex a (ex b p)", "using assms independence_symmetric en ex"], ["proof (prove)\nusing this:\n  ind a b\n  en a p\n  en b p\n  ind ?a ?b \\<Longrightarrow> ind ?b ?a\n  \\<lbrakk>ind ?a ?b; en ?a ?p\\<rbrakk>\n  \\<Longrightarrow> en ?b ?p = en ?b (ex ?a ?p)\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b ?p\\<rbrakk>\n  \\<Longrightarrow> ex ?b (ex ?a ?p) = ex ?a (ex ?b ?p)\n\ngoal (1 subgoal):\n 1. en a (ex b p) &&& en b (ex a p) &&& ex b (ex a p) = ex a (ex b p)", "by metis+"], ["", "lemma diamond_right:\n      assumes \"ind a b\"\n      assumes \"en a p\" \"en b (ex a p)\"\n      shows \"en a (ex b p)\" \"en b p\" \"ex b (ex a p) = ex a (ex b p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. en a (ex b p) &&& en b p &&& ex b (ex a p) = ex a (ex b p)", "using assms independence_symmetric en ex"], ["proof (prove)\nusing this:\n  ind a b\n  en a p\n  en b (ex a p)\n  ind ?a ?b \\<Longrightarrow> ind ?b ?a\n  \\<lbrakk>ind ?a ?b; en ?a ?p\\<rbrakk>\n  \\<Longrightarrow> en ?b ?p = en ?b (ex ?a ?p)\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b ?p\\<rbrakk>\n  \\<Longrightarrow> ex ?b (ex ?a ?p) = ex ?a (ex ?b ?p)\n\ngoal (1 subgoal):\n 1. en a (ex b p) &&& en b p &&& ex b (ex a p) = ex a (ex b p)", "by metis+"], ["", "lemma diamond_left:\n      assumes \"ind a b\"\n      assumes \"en a (ex b p)\" \"en b p\"\n      shows \"en a p\" \"en b (ex a p)\" \"ex b (ex a p) = ex a (ex b p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. en a p &&& en b (ex a p) &&& ex b (ex a p) = ex a (ex b p)", "using assms independence_symmetric en ex"], ["proof (prove)\nusing this:\n  ind a b\n  en a (ex b p)\n  en b p\n  ind ?a ?b \\<Longrightarrow> ind ?b ?a\n  \\<lbrakk>ind ?a ?b; en ?a ?p\\<rbrakk>\n  \\<Longrightarrow> en ?b ?p = en ?b (ex ?a ?p)\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b ?p\\<rbrakk>\n  \\<Longrightarrow> ex ?b (ex ?a ?p) = ex ?a (ex ?b ?p)\n\ngoal (1 subgoal):\n 1. en a p &&& en b (ex a p) &&& ex b (ex a p) = ex a (ex b p)", "by metis+"], ["", "lemma eq_swap_word:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\" \"path w\\<^sub>1 p\"\n      shows \"path w\\<^sub>2 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path w\\<^sub>2 p", "using assms diamond_right"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>S w\\<^sub>2\n  path w\\<^sub>1 p\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b (ex ?a ?p)\\<rbrakk>\n  \\<Longrightarrow> en ?a (ex ?b ?p)\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b (ex ?a ?p)\\<rbrakk>\n  \\<Longrightarrow> en ?b ?p\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b (ex ?a ?p)\\<rbrakk>\n  \\<Longrightarrow> ex ?b (ex ?a ?p) = ex ?a (ex ?b ?p)\n\ngoal (1 subgoal):\n 1. path w\\<^sub>2 p", "by (induct, auto)"], ["", "lemma eq_fin_word:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"path w\\<^sub>1 p\"\n      shows \"path w\\<^sub>2 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path w\\<^sub>2 p", "using assms eq_swap_word"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  path w\\<^sub>1 p\n  \\<lbrakk>?w\\<^sub>1 =\\<^sub>S ?w\\<^sub>2; path ?w\\<^sub>1 ?p\\<rbrakk>\n  \\<Longrightarrow> path ?w\\<^sub>2 ?p\n\ngoal (1 subgoal):\n 1. path w\\<^sub>2 p", "by (induct, auto)"], ["", "lemma le_fin_word:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"path w\\<^sub>2 p\"\n      shows \"path w\\<^sub>1 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path w\\<^sub>1 p", "using assms eq_fin_word"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n  path w\\<^sub>2 p\n  \\<lbrakk>?w\\<^sub>1 =\\<^sub>F ?w\\<^sub>2; path ?w\\<^sub>1 ?p\\<rbrakk>\n  \\<Longrightarrow> path ?w\\<^sub>2 ?p\n\ngoal (1 subgoal):\n 1. path w\\<^sub>1 p", "by blast"], ["", "lemma le_fininf_word:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"run w\\<^sub>2 p\"\n      shows \"path w\\<^sub>1 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path w\\<^sub>1 p", "using assms le_fin_word"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n  run w\\<^sub>2 p\n  \\<lbrakk>?w\\<^sub>1 \\<preceq>\\<^sub>F ?w\\<^sub>2;\n   path ?w\\<^sub>2 ?p\\<rbrakk>\n  \\<Longrightarrow> path ?w\\<^sub>1 ?p\n\ngoal (1 subgoal):\n 1. path w\\<^sub>1 p", "by blast"], ["", "lemma le_inf_word:\n      assumes \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\" \"run w\\<^sub>1 p\"\n      shows \"run w\\<^sub>2 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run w\\<^sub>2 p", "using assms le_fininf_word"], ["proof (prove)\nusing this:\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\n  run w\\<^sub>1 p\n  \\<lbrakk>?w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I ?w\\<^sub>2;\n   run ?w\\<^sub>2 ?p\\<rbrakk>\n  \\<Longrightarrow> path ?w\\<^sub>1 ?p\n\ngoal (1 subgoal):\n 1. run w\\<^sub>2 p", "by (blast intro: words_infI_construct)"], ["", "lemma eq_inf_word:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\" \"run w\\<^sub>1 p\"\n      shows \"run w\\<^sub>2 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run w\\<^sub>2 p", "using assms le_inf_word"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>I w\\<^sub>2\n  run w\\<^sub>1 p\n  \\<lbrakk>?w\\<^sub>2 \\<preceq>\\<^sub>I ?w\\<^sub>1;\n   run ?w\\<^sub>1 ?p\\<rbrakk>\n  \\<Longrightarrow> run ?w\\<^sub>2 ?p\n\ngoal (1 subgoal):\n 1. run w\\<^sub>2 p", "by auto"], ["", "lemma eq_swap_execute:\n      assumes \"path w\\<^sub>1 p\" \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      shows \"fold ex w\\<^sub>1 p = fold ex w\\<^sub>2 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. target w\\<^sub>1 p = target w\\<^sub>2 p", "using assms(2, 1) diamond_right"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>S w\\<^sub>2\n  path w\\<^sub>1 p\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b (ex ?a ?p)\\<rbrakk>\n  \\<Longrightarrow> en ?a (ex ?b ?p)\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b (ex ?a ?p)\\<rbrakk>\n  \\<Longrightarrow> en ?b ?p\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b (ex ?a ?p)\\<rbrakk>\n  \\<Longrightarrow> ex ?b (ex ?a ?p) = ex ?a (ex ?b ?p)\n\ngoal (1 subgoal):\n 1. target w\\<^sub>1 p = target w\\<^sub>2 p", "by (induct, auto)"], ["", "lemma eq_fin_execute:\n      assumes \"path w\\<^sub>1 p\" \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"fold ex w\\<^sub>1 p = fold ex w\\<^sub>2 p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. target w\\<^sub>1 p = target w\\<^sub>2 p", "using assms(2, 1) eq_fin_word eq_swap_execute"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  path w\\<^sub>1 p\n  \\<lbrakk>?w\\<^sub>1 =\\<^sub>F ?w\\<^sub>2; path ?w\\<^sub>1 ?p\\<rbrakk>\n  \\<Longrightarrow> path ?w\\<^sub>2 ?p\n  \\<lbrakk>path ?w\\<^sub>1 ?p; ?w\\<^sub>1 =\\<^sub>S ?w\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> target ?w\\<^sub>1 ?p = target ?w\\<^sub>2 ?p\n\ngoal (1 subgoal):\n 1. target w\\<^sub>1 p = target w\\<^sub>2 p", "by (induct, auto)"], ["", "lemma diamond_fin_word_step:\n      assumes \"Ind {a} (set v)\" \"en a p\" \"path v p\"\n      shows \"path v (ex a p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path v (ex a p)", "using diamond_bottom assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b ?p\\<rbrakk>\n  \\<Longrightarrow> en ?a (ex ?b ?p)\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b ?p\\<rbrakk>\n  \\<Longrightarrow> en ?b (ex ?a ?p)\n  \\<lbrakk>ind ?a ?b; en ?a ?p; en ?b ?p\\<rbrakk>\n  \\<Longrightarrow> ex ?b (ex ?a ?p) = ex ?a (ex ?b ?p)\n  Ind {a} (set v)\n  en a p\n  path v p\n\ngoal (1 subgoal):\n 1. path v (ex a p)", "by (induct v arbitrary: p, auto, metis)"], ["", "lemma diamond_inf_word_step:\n      assumes \"Ind {a} (sset w)\" \"en a p\" \"run w p\"\n      shows \"run w (ex a p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run w (ex a p)", "using diamond_fin_word_step assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>Ind {?a} (set ?v); en ?a ?p; path ?v ?p\\<rbrakk>\n  \\<Longrightarrow> path ?v (ex ?a ?p)\n  Ind {a} (sset w)\n  en a p\n  run w p\n\ngoal (1 subgoal):\n 1. run w (ex a p)", "by (fast intro: words_infI_construct)"], ["", "lemma diamond_fin_word_inf_word:\n      assumes \"Ind (set v) (sset w)\" \"path v p\" \"run w p\"\n      shows \"run w (fold ex v p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run w (target v p)", "using diamond_inf_word_step assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>Ind {?a} (sset ?w); en ?a ?p; run ?w ?p\\<rbrakk>\n  \\<Longrightarrow> run ?w (ex ?a ?p)\n  Ind (set v) (sset w)\n  path v p\n  run w p\n\ngoal (1 subgoal):\n 1. run w (target v p)", "by (induct v arbitrary: p, auto)"], ["", "lemma diamond_fin_word_inf_word':\n      assumes \"Ind (set v) (sset w)\" \"path (u @ v) p\" \"run (u @- w) p\"\n      shows \"run (u @- v @- w) p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. run (u @- v @- w) p", "using assms diamond_fin_word_inf_word"], ["proof (prove)\nusing this:\n  Ind (set v) (sset w)\n  path (u @ v) p\n  run (u @- w) p\n  \\<lbrakk>Ind (set ?v) (sset ?w); path ?v ?p; run ?w ?p\\<rbrakk>\n  \\<Longrightarrow> run ?w (target ?v ?p)\n\ngoal (1 subgoal):\n 1. run (u @- v @- w) p", "by auto"], ["", "end"], ["", "end"]]}