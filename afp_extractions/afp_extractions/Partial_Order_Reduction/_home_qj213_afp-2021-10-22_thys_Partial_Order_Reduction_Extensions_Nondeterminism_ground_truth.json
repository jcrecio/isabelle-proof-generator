{"file_name": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction/Extensions/Nondeterminism.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction", "problem_names": ["lemma foreach_mono:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    assumes \"foreach f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\"", "lemma foreach_mono_inductive[mono]:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\"", "lemma foreach_reflexive_transitive:\n    assumes \"reflp r\" \"transp r\"\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\"\n    shows \"r a\\<^sub>1 a\\<^sub>2\"", "lemma foreach_preorder:\n    fixes g :: \"'a \\<Rightarrow> 'b :: preorder\"\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 \\<le> g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 \\<le> g a\\<^sub>2\"", "lemma foreach_equality:\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 = g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 = g a\\<^sub>2\"", "lemma foreach_implication:\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\"\n    shows \"P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\"", "lemma foreachc_mono:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    assumes \"foreach\\<^sub>C c f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\"", "lemma foreachc_mono_inductive[mono]:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach\\<^sub>C c f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\"", "lemma foreachc_reflexive_transitive:\n    assumes \"reflp r\" \"transp r\"\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\"\n    shows \"r a\\<^sub>1 a\\<^sub>2\"", "lemma foreachc_preorder:\n    fixes g :: \"'a \\<Rightarrow> 'b :: preorder\"\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 \\<le> g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 \\<le> g a\\<^sub>2\"", "lemma foreachc_equality:\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 = g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 = g a\\<^sub>2\"", "lemma foreachc_implication:\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\"\n    shows \"P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\"", "lemma foreachc_success:\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1\"\n    assumes \"c a\\<^sub>1\"\n    shows \"foreach f S a\\<^sub>0 a\\<^sub>1\""], "translations": [["", "lemma foreach_mono:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    assumes \"foreach f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "using assms(2, 1)"], ["proof (prove)\nusing this:\n  foreach f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1\n  f\\<^sub>1 ?x ?a\\<^sub>0 ?a\\<^sub>1 \\<Longrightarrow>\n  f\\<^sub>2 ?x ?a\\<^sub>0 ?a\\<^sub>1\n\ngoal (1 subgoal):\n 1. foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "by induct auto"], ["", "lemma foreach_mono_inductive[mono]:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. foreach f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow>\n    foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "using foreach_mono assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x a\\<^sub>0 a\\<^sub>1.\n              ?f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow>\n              ?f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1;\n   foreach ?f\\<^sub>1 ?S ?a\\<^sub>0 ?a\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> foreach ?f\\<^sub>2 ?S ?a\\<^sub>0 ?a\\<^sub>1\n  f\\<^sub>1 ?x ?a\\<^sub>0 ?a\\<^sub>1 \\<longrightarrow>\n  f\\<^sub>2 ?x ?a\\<^sub>0 ?a\\<^sub>1\n\ngoal (1 subgoal):\n 1. foreach f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow>\n    foreach f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "by metis"], ["", "lemma foreach_reflexive_transitive:\n    assumes \"reflp r\" \"transp r\"\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\"\n    shows \"r a\\<^sub>1 a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "using assms(3, 4)"], ["proof (prove)\nusing this:\n  foreach f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "proof induct"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       (\\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> {}; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n       r a a\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2", "case (empty a)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> {}; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       (\\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> {}; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n       r a a\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. r a a", "using reflpD assms(1)"], ["proof (prove)\nusing this:\n  reflp ?r \\<Longrightarrow> ?r ?x ?x\n  reflp r\n\ngoal (1 subgoal):\n 1. r a a", "by this"], ["proof (state)\nthis:\n  r a a\n\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2", "case (insert S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2)"], ["proof (state)\nthis:\n  foreach f S a\\<^sub>0 a\\<^sub>1\n  (\\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n  r a\\<^sub>0 a\\<^sub>1\n  x \\<notin> S\n  f x a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> insert x S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2", "have 0: \"r a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "using insert(2) insert(5)"], ["proof (prove)\nusing this:\n  (\\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n  r a\\<^sub>0 a\\<^sub>1\n  \\<lbrakk>?x \\<in> insert x S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  r a\\<^sub>0 a\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2", "have 1: \"r a\\<^sub>1 a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "using insert(5) insert(4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> insert x S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n  f x a\\<^sub>1 a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  r a\\<^sub>1 a\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>2", "using transpD assms(2) 0 1"], ["proof (prove)\nusing this:\n  \\<lbrakk>transp ?r; ?r ?x ?y; ?r ?y ?z\\<rbrakk> \\<Longrightarrow> ?r ?x ?z\n  transp r\n  r a\\<^sub>0 a\\<^sub>1\n  r a\\<^sub>1 a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>2", "by this"], ["proof (state)\nthis:\n  r a\\<^sub>0 a\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma foreach_preorder:\n    fixes g :: \"'a \\<Rightarrow> 'b :: preorder\"\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 \\<le> g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 \\<le> g a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "have 0: \"reflp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)", "by (rule reflpI, rule order_refl)"], ["proof (state)\nthis:\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "have 1: \"transp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)", "by (rule transpI, rule order_trans)"], ["proof (state)\nthis:\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "using foreach_reflexive_transitive 0 1 assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>reflp ?r; transp ?r; foreach ?f ?S ?a\\<^sub>1 ?a\\<^sub>2;\n   \\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> ?S; ?f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> ?r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> ?r ?a\\<^sub>1 ?a\\<^sub>2\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n  foreach f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> g ?a\\<^sub>1 \\<le> g ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "by this"], ["proof (state)\nthis:\n  g a\\<^sub>1 \\<le> g a\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma foreach_equality:\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 = g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 = g a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "have 0: \"reflp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)", "by (rule reflpI, auto)"], ["proof (state)\nthis:\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "have 1: \"transp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)", "by (rule transpI, auto)"], ["proof (state)\nthis:\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "show \"g a\\<^sub>1 = g a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "using foreach_reflexive_transitive 0 1 assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>reflp ?r; transp ?r; foreach ?f ?S ?a\\<^sub>1 ?a\\<^sub>2;\n   \\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> ?S; ?f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> ?r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> ?r ?a\\<^sub>1 ?a\\<^sub>2\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n  foreach f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> g ?a\\<^sub>1 = g ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "by this"], ["proof (state)\nthis:\n  g a\\<^sub>1 = g a\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma foreach_implication:\n    assumes \"foreach f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\"\n    shows \"P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "have 0: \"reflp (\\<lambda> a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflp\n     (\\<lambda>a\\<^sub>1 a\\<^sub>2.\n         P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)", "by (rule reflpI, auto)"], ["proof (state)\nthis:\n  reflp\n   (\\<lambda>a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "have 1: \"transp (\\<lambda> a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transp\n     (\\<lambda>a\\<^sub>1 a\\<^sub>2.\n         P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)", "by (rule transpI, auto)"], ["proof (state)\nthis:\n  transp\n   (\\<lambda>a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "show \"P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "using foreach_reflexive_transitive[OF 0 1] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>foreach ?f ?S ?a\\<^sub>1 ?a\\<^sub>2;\n   \\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> ?S; ?f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> P ?a\\<^sub>1 \\<longrightarrow> P ?a\\<^sub>2\n  foreach f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2; P ?a\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> P ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "inductive foreachc :: \"('a \\<Rightarrow> bool) \\<Rightarrow> ('b \\<Rightarrow> 'a \\<Rightarrow> 'a \\<Rightarrow> bool) \\<Rightarrow> 'b set \\<Rightarrow> 'a \\<Rightarrow> 'a \\<Rightarrow> bool\"\n    (\"foreach\\<^sub>C\")\n    for c f\n    where\n      empty: \"foreach\\<^sub>C c f {} a a\" |\n      insert: \"foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow> c a\\<^sub>1 \\<Longrightarrow> x \\<notin> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow>\n        foreach\\<^sub>C c f (insert x S) a\\<^sub>0 a\\<^sub>2\" |\n      abort: \"foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow> \\<not> c a\\<^sub>1 \\<Longrightarrow> S \\<subseteq> S' \\<Longrightarrow> foreach\\<^sub>C c f S' a\\<^sub>0 a\\<^sub>1\""], ["", "declare foreachc.intros[intro]"], ["", "declare foreachc.cases[elim]"], ["", "lemma foreachc_mono:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    assumes \"foreach\\<^sub>C c f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "using assms(2, 1)"], ["proof (prove)\nusing this:\n  foreach\\<^sub>C c f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1\n  f\\<^sub>1 ?x ?a\\<^sub>0 ?a\\<^sub>1 \\<Longrightarrow>\n  f\\<^sub>2 ?x ?a\\<^sub>0 ?a\\<^sub>1\n\ngoal (1 subgoal):\n 1. foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "by induct auto"], ["", "lemma foreachc_mono_inductive[mono]:\n    assumes \"\\<And> x a\\<^sub>0 a\\<^sub>1. f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1\"\n    shows \"foreach\\<^sub>C c f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow> foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. foreach\\<^sub>C c f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow>\n    foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "using assms foreachc_mono"], ["proof (prove)\nusing this:\n  f\\<^sub>1 ?x ?a\\<^sub>0 ?a\\<^sub>1 \\<longrightarrow>\n  f\\<^sub>2 ?x ?a\\<^sub>0 ?a\\<^sub>1\n  \\<lbrakk>\\<And>x a\\<^sub>0 a\\<^sub>1.\n              ?f\\<^sub>1 x a\\<^sub>0 a\\<^sub>1 \\<Longrightarrow>\n              ?f\\<^sub>2 x a\\<^sub>0 a\\<^sub>1;\n   foreach\\<^sub>C ?c ?f\\<^sub>1 ?S ?a\\<^sub>0 ?a\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> foreach\\<^sub>C ?c ?f\\<^sub>2 ?S ?a\\<^sub>0 ?a\\<^sub>1\n\ngoal (1 subgoal):\n 1. foreach\\<^sub>C c f\\<^sub>1 S a\\<^sub>0 a\\<^sub>1 \\<longrightarrow>\n    foreach\\<^sub>C c f\\<^sub>2 S a\\<^sub>0 a\\<^sub>1", "by metis"], ["", "lemma foreachc_reflexive_transitive:\n    assumes \"reflp r\" \"transp r\"\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\"\n    shows \"r a\\<^sub>1 a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "using assms(3, 4)"], ["proof (prove)\nusing this:\n  foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "proof induct"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a.\n       (\\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> {}; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n       r a a\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        c a\\<^sub>1; x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2\n 3. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "case (empty a)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> {}; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (3 subgoals):\n 1. \\<And>a.\n       (\\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> {}; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n       r a a\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        c a\\<^sub>1; x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2\n 3. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. r a a", "using reflpD assms(1)"], ["proof (prove)\nusing this:\n  reflp ?r \\<Longrightarrow> ?r ?x ?x\n  reflp r\n\ngoal (1 subgoal):\n 1. r a a", "by this"], ["proof (state)\nthis:\n  r a a\n\ngoal (2 subgoals):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        c a\\<^sub>1; x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        c a\\<^sub>1; x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "case (insert S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2)"], ["proof (state)\nthis:\n  foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1\n  (\\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n  r a\\<^sub>0 a\\<^sub>1\n  c a\\<^sub>1\n  x \\<notin> S\n  f x a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> insert x S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        c a\\<^sub>1; x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "have 0: \"r a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "using insert(2) insert(6)"], ["proof (prove)\nusing this:\n  (\\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n  r a\\<^sub>0 a\\<^sub>1\n  \\<lbrakk>?x \\<in> insert x S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  r a\\<^sub>0 a\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        c a\\<^sub>1; x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "have 1: \"r a\\<^sub>1 a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "using insert(6) insert(5)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> insert x S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n  f x a\\<^sub>1 a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>1 a\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  r a\\<^sub>1 a\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 x a\\<^sub>2.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        c a\\<^sub>1; x \\<notin> S; f x a\\<^sub>1 a\\<^sub>2;\n        \\<And>xa a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>xa \\<in> insert x S; f xa a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>2\n 2. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>2", "using transpD assms(2) 0 1"], ["proof (prove)\nusing this:\n  \\<lbrakk>transp ?r; ?r ?x ?y; ?r ?y ?z\\<rbrakk> \\<Longrightarrow> ?r ?x ?z\n  transp r\n  r a\\<^sub>0 a\\<^sub>1\n  r a\\<^sub>1 a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>2", "by this"], ["proof (state)\nthis:\n  r a\\<^sub>0 a\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "case (abort S a\\<^sub>0 a\\<^sub>1 S')"], ["proof (state)\nthis:\n  foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1\n  (\\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n  r a\\<^sub>0 a\\<^sub>1\n  \\<not> c a\\<^sub>1\n  S \\<subseteq> S'\n  \\<lbrakk>?x \\<in> S'; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "have 0: \"r a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "using abort(2) abort(4) abort(5)"], ["proof (prove)\nusing this:\n  (\\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n  r a\\<^sub>0 a\\<^sub>1\n  S \\<subseteq> S'\n  \\<lbrakk>?x \\<in> S'; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> r ?a\\<^sub>1 ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  r a\\<^sub>0 a\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>S a\\<^sub>0 a\\<^sub>1 S'.\n       \\<lbrakk>foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1;\n        (\\<And>x a\\<^sub>1 a\\<^sub>2.\n            \\<lbrakk>x \\<in> S; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2) \\<Longrightarrow>\n        r a\\<^sub>0 a\\<^sub>1;\n        \\<not> c a\\<^sub>1; S \\<subseteq> S';\n        \\<And>x a\\<^sub>1 a\\<^sub>2.\n           \\<lbrakk>x \\<in> S'; f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> r a\\<^sub>0 a\\<^sub>1", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "using 0"], ["proof (prove)\nusing this:\n  r a\\<^sub>0 a\\<^sub>1\n\ngoal (1 subgoal):\n 1. r a\\<^sub>0 a\\<^sub>1", "by this"], ["proof (state)\nthis:\n  r a\\<^sub>0 a\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma foreachc_preorder:\n    fixes g :: \"'a \\<Rightarrow> 'b :: preorder\"\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 \\<le> g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 \\<le> g a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "have 0: \"reflp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)", "by (rule reflpI, rule order_refl)"], ["proof (state)\nthis:\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "have 1: \"transp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)", "by (rule transpI, rule order_trans)"], ["proof (state)\nthis:\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "using foreachc_reflexive_transitive 0 1 assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>reflp ?r; transp ?r;\n   foreach\\<^sub>C ?c ?f ?S ?a\\<^sub>1 ?a\\<^sub>2;\n   \\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> ?S; ?f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> ?r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> ?r ?a\\<^sub>1 ?a\\<^sub>2\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 \\<le> g a\\<^sub>2)\n  foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> g ?a\\<^sub>1 \\<le> g ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 \\<le> g a\\<^sub>2", "by this"], ["proof (state)\nthis:\n  g a\\<^sub>1 \\<le> g a\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma foreachc_equality:\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> g a\\<^sub>1 = g a\\<^sub>2\"\n    shows \"g a\\<^sub>1 = g a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "have 0: \"reflp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)", "by (rule reflpI, auto)"], ["proof (state)\nthis:\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "have 1: \"transp (\\<lambda> a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)", "by (rule transpI, auto)"], ["proof (state)\nthis:\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "show \"g a\\<^sub>1 = g a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "using foreachc_reflexive_transitive 0 1 assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>reflp ?r; transp ?r;\n   foreach\\<^sub>C ?c ?f ?S ?a\\<^sub>1 ?a\\<^sub>2;\n   \\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> ?S; ?f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> ?r a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> ?r ?a\\<^sub>1 ?a\\<^sub>2\n  reflp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n  transp (\\<lambda>a\\<^sub>1 a\\<^sub>2. g a\\<^sub>1 = g a\\<^sub>2)\n  foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> g ?a\\<^sub>1 = g ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. g a\\<^sub>1 = g a\\<^sub>2", "by this"], ["proof (state)\nthis:\n  g a\\<^sub>1 = g a\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma foreachc_implication:\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\"\n    assumes \"\\<And> x a\\<^sub>1 a\\<^sub>2. x \\<in> S \\<Longrightarrow> f x a\\<^sub>1 a\\<^sub>2 \\<Longrightarrow> P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\"\n    shows \"P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "have 0: \"reflp (\\<lambda> a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflp\n     (\\<lambda>a\\<^sub>1 a\\<^sub>2.\n         P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)", "by (rule reflpI, auto)"], ["proof (state)\nthis:\n  reflp\n   (\\<lambda>a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "have 1: \"transp (\\<lambda> a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transp\n     (\\<lambda>a\\<^sub>1 a\\<^sub>2.\n         P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)", "by (rule transpI, auto)"], ["proof (state)\nthis:\n  transp\n   (\\<lambda>a\\<^sub>1 a\\<^sub>2. P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2)\n\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "show \"P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "using foreachc_reflexive_transitive[OF 0 1] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>foreach\\<^sub>C ?c ?f ?S ?a\\<^sub>1 ?a\\<^sub>2;\n   \\<And>x a\\<^sub>1 a\\<^sub>2.\n      \\<lbrakk>x \\<in> ?S; ?f x a\\<^sub>1 a\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> P a\\<^sub>1 \\<longrightarrow> P a\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> P ?a\\<^sub>1 \\<longrightarrow> P ?a\\<^sub>2\n  foreach\\<^sub>C c f S a\\<^sub>1 a\\<^sub>2\n  \\<lbrakk>?x \\<in> S; f ?x ?a\\<^sub>1 ?a\\<^sub>2; P ?a\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> P ?a\\<^sub>2\n\ngoal (1 subgoal):\n 1. P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  P a\\<^sub>1 \\<Longrightarrow> P a\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma foreachc_success:\n    assumes \"foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1\"\n    assumes \"c a\\<^sub>1\"\n    shows \"foreach f S a\\<^sub>0 a\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. foreach f S a\\<^sub>0 a\\<^sub>1", "using assms"], ["proof (prove)\nusing this:\n  foreach\\<^sub>C c f S a\\<^sub>0 a\\<^sub>1\n  c a\\<^sub>1\n\ngoal (1 subgoal):\n 1. foreach f S a\\<^sub>0 a\\<^sub>1", "by induct auto"], ["", "fun find :: \"'a set \\<Rightarrow> ('a \\<Rightarrow> bool) \\<Rightarrow> 'a option \\<Rightarrow> bool\"\n    where \"find A P None \\<longleftrightarrow> (\\<forall> a \\<in> A. \\<not> P a)\" | \"find A P (Some a) \\<longleftrightarrow> a \\<in> A \\<and> P a\""], ["", "end"]]}