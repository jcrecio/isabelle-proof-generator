{"file_name": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction/Traces.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction", "problem_names": ["lemma eq_swap_sym[sym]: \"v =\\<^sub>S w \\<Longrightarrow> w =\\<^sub>S v\"", "lemma eq_swap_length[dest]: \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2 \\<Longrightarrow> length w\\<^sub>1 = length w\\<^sub>2\"", "lemma eq_swap_range[dest]: \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 = set w\\<^sub>2\"", "lemma eq_swap_extend:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      shows \"u @ w\\<^sub>1 @ v =\\<^sub>S u @ w\\<^sub>2 @ v\"", "lemma eq_swap_remove1:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      obtains (equal) \"remove1 c w\\<^sub>1 = remove1 c w\\<^sub>2\" | (swap) \"remove1 c w\\<^sub>1 =\\<^sub>S remove1 c w\\<^sub>2\"", "lemma eq_swap_rev:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      shows \"rev w\\<^sub>1 =\\<^sub>S rev w\\<^sub>2\"", "lemma eq_fin_symp[intro, sym]: \"u =\\<^sub>F v \\<Longrightarrow> v =\\<^sub>F u\"", "lemma eq_fin_length[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> length w\\<^sub>1 = length w\\<^sub>2\"", "lemma eq_fin_range[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 = set w\\<^sub>2\"", "lemma eq_fin_remove1:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>2\"", "lemma eq_fin_rev:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2\"", "lemma eq_fin_concat_eq_fin_start:\n      assumes \"u @ v\\<^sub>1 =\\<^sub>F u @ v\\<^sub>2\"\n      shows \"v\\<^sub>1 =\\<^sub>F v\\<^sub>2\"", "lemma eq_fin_concat: \"u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"", "lemma eq_fin_concat_start[iff]: \"w @ w\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"", "lemma eq_fin_concat_end[iff]: \"w\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"", "lemma ind_eq_fin':\n      assumes \"Ind {a} (set v)\"\n      shows \"[a] @ v =\\<^sub>F v @ [a]\"", "lemma ind_eq_fin[intro]:\n      assumes \"Ind (set u) (set v)\"\n      shows \"u @ v =\\<^sub>F v @ u\"", "lemma le_finI[intro 0]:\n      assumes \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\"", "lemma le_finE[elim 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\"\n      obtains v\\<^sub>1\n      where \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\"", "lemma le_fin_empty[simp]: \"[] \\<preceq>\\<^sub>F w\"", "lemma le_fin_trivial[intro]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\"", "lemma le_fin_length[dest]: \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow> length w\\<^sub>1 \\<le> length w\\<^sub>2\"", "lemma le_fin_range[dest]: \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 \\<subseteq> set w\\<^sub>2\"", "lemma eq_fin_alt_def: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and> w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\"", "lemma le_fin_reflp[simp, intro]: \"w \\<preceq>\\<^sub>F w\"", "lemma le_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\"", "lemma eq_fin_le_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\"", "lemma le_fin_eq_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\"", "lemma prefix_le_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le> w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\"", "lemma le_fin_prefix_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<le> w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\"", "lemma prefix_eq_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le> w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\"", "lemma le_fin_concat_start[iff]: \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\"", "lemma le_fin_concat_end[dest]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w\"", "lemma le_fininfI[intro 0]:\n      assumes \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"", "lemma le_fininfE[elim 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"\n      obtains v\\<^sub>2\n      where \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\"", "lemma le_fininf_empty[simp]: \"[] \\<preceq>\\<^sub>F\\<^sub>I w\"", "lemma le_fininf_range[dest]: \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 \\<subseteq> sset w\\<^sub>2\"", "lemma eq_fin_le_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma le_fin_le_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma prefix_le_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le> w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma le_fin_prefix_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma eq_fin_prefix_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma le_fininf_concat_start[iff]: \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"", "lemma le_fininf_singleton[intro, simp]: \"[shd v] \\<preceq>\\<^sub>F\\<^sub>I v\"", "lemma le_infI[intro 0]:\n      assumes \"\\<And> v\\<^sub>1. v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\"", "lemma le_infE[elim 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\"\n      obtains \"v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"", "lemma le_inf_range[dest]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\"\n      shows \"sset w\\<^sub>1 \\<subseteq> sset w\\<^sub>2\"", "lemma le_inf_reflp[simp, intro]: \"w \\<preceq>\\<^sub>I w\"", "lemma prefix_fininf_le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma le_fininf_le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3\"", "lemma le_infI':\n      assumes \"\\<And> k. \\<exists> v. v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<and> k < length v \\<and> v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\"", "lemma le_infI_chain_left:\n      assumes \"chain w\" \"\\<And> k. w k \\<preceq>\\<^sub>F\\<^sub>I v\"\n      shows \"limit w \\<preceq>\\<^sub>I v\"", "lemma le_infI_chain_right:\n      assumes \"chain w\" \"\\<And> u. u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow> u \\<preceq>\\<^sub>F w (l u)\"\n      shows \"v \\<preceq>\\<^sub>I limit w\"", "lemma le_infI_chain_right':\n      assumes \"chain w\" \"\\<And> k. stake k v \\<preceq>\\<^sub>F w (l k)\"\n      shows \"v \\<preceq>\\<^sub>I limit w\"", "lemma eq_infI[intro 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\"\n      shows \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\"", "lemma eq_infE[elim 0]:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\"\n      obtains \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\"", "lemma eq_inf_range[dest]: \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2 \\<Longrightarrow> sset w\\<^sub>1 = sset w\\<^sub>2\"", "lemma eq_inf_reflp[simp, intro]: \"w =\\<^sub>I w\"", "lemma eq_inf_symp[intro]: \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2 \\<Longrightarrow> w\\<^sub>2 =\\<^sub>I w\\<^sub>1\"", "lemma eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 =\\<^sub>I w\\<^sub>3\"", "lemma le_fininf_eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma le_inf_eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3\"", "lemma eq_inf_le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3\"", "lemma prefix_fininf_eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"", "lemma le_inf_concat_start[iff]: \"w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\"", "lemma eq_fin_le_inf_concat_end[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> w\\<^sub>1 @- w \\<preceq>\\<^sub>I w\\<^sub>2 @- w\"", "lemma eq_inf_concat_start[iff]: \"w @- w\\<^sub>1 =\\<^sub>I w @- w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>I w\\<^sub>2\"", "lemma eq_inf_concat_end[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w\"", "lemma le_fininf_suffixI[intro]:\n      assumes \"w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\"", "lemma le_fininf_suffixE[elim]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\"\n      obtains w\\<^sub>2\n      where \"w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2\"", "lemma subsume_fin:\n      assumes \"u\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\" \"v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\"\n      obtains w\\<^sub>1\n      where \"u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\" \"v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\"", "lemma eq_fin_end:\n      assumes \"u\\<^sub>1 =\\<^sub>F u\\<^sub>2\" \"u\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2\"\n      shows \"v\\<^sub>1 =\\<^sub>F v\\<^sub>2\"", "lemma indoc_set: \"indoc a u \\<Longrightarrow> a \\<in> set u\"", "lemma indoc_appendI1[intro]:\n      assumes \"indoc a u\"\n      shows \"indoc a (u @ v)\"", "lemma indoc_appendI2[intro]:\n      assumes \"a \\<notin> set u\" \"Ind {a} (set u)\" \"indoc a v\"\n      shows \"indoc a (u @ v)\"", "lemma indoc_appendE[elim!]:\n      assumes \"indoc a (u @ v)\"\n      obtains (first) \"a \\<in> set u\" \"indoc a u\" | (second)  \"a \\<notin> set u\" \"Ind {a} (set u)\" \"indoc a v\"", "lemma indoc_single: \"indoc a [b] \\<longleftrightarrow> a = b\"", "lemma indoc_append[simp]: \"indoc a (u @ v) \\<longleftrightarrow>\n      indoc a u \\<or> a \\<notin> set u \\<and> Ind {a} (set u) \\<and> indoc a v\"", "lemma indoc_Nil[simp]: \"indoc a [] \\<longleftrightarrow> False\"", "lemma indoc_Cons[simp]: \"indoc a (b # v) \\<longleftrightarrow> a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v\"", "lemma eq_swap_indoc: \"u =\\<^sub>S v \\<Longrightarrow> indoc c u \\<Longrightarrow> indoc c v\"", "lemma eq_fin_indoc: \"u =\\<^sub>F v \\<Longrightarrow> indoc c u \\<Longrightarrow> indoc c v\"", "lemma eq_fin_ind':\n      assumes \"[a] @ u =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2\" \"a \\<notin> set u\\<^sub>1\"\n      shows \"Ind {a} (set u\\<^sub>1)\"", "lemma eq_fin_ind:\n      assumes \"u @ v =\\<^sub>F v @ u\" \"set u \\<inter> set v = {}\"\n      shows \"Ind (set u) (set v)\"", "lemma le_fin_member':\n      assumes \"[a] \\<preceq>\\<^sub>F u @ v\" \"a \\<in> set u\"\n      shows \"[a] \\<preceq>\\<^sub>F u\"", "lemma le_fin_not_member':\n      assumes \"[a] \\<preceq>\\<^sub>F u @ v\" \"a \\<notin> set u\"\n      shows \"[a] \\<preceq>\\<^sub>F v\"", "lemma le_fininf_not_member':\n      assumes \"[a] \\<preceq>\\<^sub>F\\<^sub>I u @- v\" \"a \\<notin> set u\"\n      shows \"[a] \\<preceq>\\<^sub>F\\<^sub>I v\"", "lemma le_fin_ind'':\n      assumes \"[a] \\<preceq>\\<^sub>F w\" \"[b] \\<preceq>\\<^sub>F w\" \"a \\<noteq> b\"\n      shows \"ind a b\"", "lemma le_fin_ind':\n      assumes \"[a] \\<preceq>\\<^sub>F w\" \"v \\<preceq>\\<^sub>F w\" \"a \\<notin> set v\"\n      shows \"Ind {a} (set v)\"", "lemma le_fininf_ind'':\n      assumes \"[a] \\<preceq>\\<^sub>F\\<^sub>I w\" \"[b] \\<preceq>\\<^sub>F\\<^sub>I w\" \"a \\<noteq> b\"\n      shows \"ind a b\"", "lemma le_fininf_ind':\n      assumes \"[a] \\<preceq>\\<^sub>F\\<^sub>I w\" \"v \\<preceq>\\<^sub>F\\<^sub>I w\" \"a \\<notin> set v\"\n      shows \"Ind {a} (set v)\"", "lemma indoc_alt_def: \"indoc a v \\<longleftrightarrow> v =\\<^sub>F [a] @ remove1 a v\"", "lemma levi_lemma:\n      assumes \"t @ u =\\<^sub>F v @ w\"\n      obtains p r s q\n      where \"t =\\<^sub>F p @ r\" \"u =\\<^sub>F s @ q\" \"v =\\<^sub>F p @ s\" \"w =\\<^sub>F r @ q\" \"Ind (set r) (set s)\""], "translations": [["", "lemma eq_swap_sym[sym]: \"v =\\<^sub>S w \\<Longrightarrow> w =\\<^sub>S v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v =\\<^sub>S w \\<Longrightarrow> w =\\<^sub>S v", "using independence_symmetric"], ["proof (prove)\nusing this:\n  ind ?a ?b \\<Longrightarrow> ind ?b ?a\n\ngoal (1 subgoal):\n 1. v =\\<^sub>S w \\<Longrightarrow> w =\\<^sub>S v", "by auto"], ["", "lemma eq_swap_length[dest]: \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2 \\<Longrightarrow> length w\\<^sub>1 = length w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>S w\\<^sub>2 \\<Longrightarrow>\n    length w\\<^sub>1 = length w\\<^sub>2", "by force"], ["", "lemma eq_swap_range[dest]: \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 = set w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>S w\\<^sub>2 \\<Longrightarrow>\n    set w\\<^sub>1 = set w\\<^sub>2", "by force"], ["", "lemma eq_swap_extend:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      shows \"u @ w\\<^sub>1 @ v =\\<^sub>S u @ w\\<^sub>2 @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>S u @ w\\<^sub>2 @ v", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>S w\\<^sub>2\n\ngoal (1 subgoal):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>S u @ w\\<^sub>2 @ v", "proof induct"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b ua va.\n       ind a b \\<Longrightarrow>\n       u @ (ua @ [a] @ [b] @ va) @ v =\\<^sub>S u @ (ua @ [b] @ [a] @ va) @ v", "case (swap a b u' v')"], ["proof (state)\nthis:\n  ind a b\n\ngoal (1 subgoal):\n 1. \\<And>a b ua va.\n       ind a b \\<Longrightarrow>\n       u @ (ua @ [a] @ [b] @ va) @ v =\\<^sub>S u @ (ua @ [b] @ [a] @ va) @ v", "have \"u @ (u' @ [a] @ [b] @ v') @ v = (u @ u') @ [a] @ [b] @ (v' @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ (u' @ [a] @ [b] @ v') @ v = (u @ u') @ [a] @ [b] @ v' @ v", "by simp"], ["proof (state)\nthis:\n  u @ (u' @ [a] @ [b] @ v') @ v = (u @ u') @ [a] @ [b] @ v' @ v\n\ngoal (1 subgoal):\n 1. \\<And>a b ua va.\n       ind a b \\<Longrightarrow>\n       u @ (ua @ [a] @ [b] @ va) @ v =\\<^sub>S u @ (ua @ [b] @ [a] @ va) @ v", "also"], ["proof (state)\nthis:\n  u @ (u' @ [a] @ [b] @ v') @ v = (u @ u') @ [a] @ [b] @ v' @ v\n\ngoal (1 subgoal):\n 1. \\<And>a b ua va.\n       ind a b \\<Longrightarrow>\n       u @ (ua @ [a] @ [b] @ va) @ v =\\<^sub>S u @ (ua @ [b] @ [a] @ va) @ v", "have \"\\<dots> =\\<^sub>S (u @ u') @ [b] @ [a] @ (v' @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u @ u') @ [a] @ [b] @ v' @ v =\\<^sub>S (u @ u') @ [b] @ [a] @ v' @ v", "using swap"], ["proof (prove)\nusing this:\n  ind a b\n\ngoal (1 subgoal):\n 1. (u @ u') @ [a] @ [b] @ v' @ v =\\<^sub>S (u @ u') @ [b] @ [a] @ v' @ v", "by blast"], ["proof (state)\nthis:\n  (u @ u') @ [a] @ [b] @ v' @ v =\\<^sub>S (u @ u') @ [b] @ [a] @ v' @ v\n\ngoal (1 subgoal):\n 1. \\<And>a b ua va.\n       ind a b \\<Longrightarrow>\n       u @ (ua @ [a] @ [b] @ va) @ v =\\<^sub>S u @ (ua @ [b] @ [a] @ va) @ v", "also"], ["proof (state)\nthis:\n  (u @ u') @ [a] @ [b] @ v' @ v =\\<^sub>S (u @ u') @ [b] @ [a] @ v' @ v\n\ngoal (1 subgoal):\n 1. \\<And>a b ua va.\n       ind a b \\<Longrightarrow>\n       u @ (ua @ [a] @ [b] @ va) @ v =\\<^sub>S u @ (ua @ [b] @ [a] @ va) @ v", "have \"\\<dots> = u @ (u' @ [b] @ [a] @ v') @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u @ u') @ [b] @ [a] @ v' @ v = u @ (u' @ [b] @ [a] @ v') @ v", "by simp"], ["proof (state)\nthis:\n  (u @ u') @ [b] @ [a] @ v' @ v = u @ (u' @ [b] @ [a] @ v') @ v\n\ngoal (1 subgoal):\n 1. \\<And>a b ua va.\n       ind a b \\<Longrightarrow>\n       u @ (ua @ [a] @ [b] @ va) @ v =\\<^sub>S u @ (ua @ [b] @ [a] @ va) @ v", "finally"], ["proof (chain)\npicking this:\n  u @ (u' @ [a] @ [b] @ v') @ v =\\<^sub>S u @ (u' @ [b] @ [a] @ v') @ v", "show ?case"], ["proof (prove)\nusing this:\n  u @ (u' @ [a] @ [b] @ v') @ v =\\<^sub>S u @ (u' @ [b] @ [a] @ v') @ v\n\ngoal (1 subgoal):\n 1. u @ (u' @ [a] @ [b] @ v') @ v =\\<^sub>S u @ (u' @ [b] @ [a] @ v') @ v", "by this"], ["proof (state)\nthis:\n  u @ (u' @ [a] @ [b] @ v') @ v =\\<^sub>S u @ (u' @ [b] @ [a] @ v') @ v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_swap_remove1:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      obtains (equal) \"remove1 c w\\<^sub>1 = remove1 c w\\<^sub>2\" | (swap) \"remove1 c w\\<^sub>1 =\\<^sub>S remove1 c w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>remove1 c w\\<^sub>1 = remove1 c w\\<^sub>2 \\<Longrightarrow>\n             thesis;\n     remove1 c w\\<^sub>1 =\\<^sub>S remove1 c w\\<^sub>2 \\<Longrightarrow>\n     thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>S w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>remove1 c w\\<^sub>1 = remove1 c w\\<^sub>2 \\<Longrightarrow>\n             thesis;\n     remove1 c w\\<^sub>1 =\\<^sub>S remove1 c w\\<^sub>2 \\<Longrightarrow>\n     thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "proof induct"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b u v.\n       \\<lbrakk>ind a b;\n        remove1 c (u @ [a] @ [b] @ v) =\n        remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n        thesis;\n        remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S\n        remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n        thesis\\<rbrakk>\n       \\<Longrightarrow> thesis", "case (swap a b u v)"], ["proof (state)\nthis:\n  ind a b\n  remove1 c (u @ [a] @ [b] @ v) =\n  remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n  thesis\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S\n  remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n  thesis\n\ngoal (1 subgoal):\n 1. \\<And>a b u v.\n       \\<lbrakk>ind a b;\n        remove1 c (u @ [a] @ [b] @ v) =\n        remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n        thesis;\n        remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S\n        remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n        thesis\\<rbrakk>\n       \\<Longrightarrow> thesis", "have \"c \\<notin> set (u @ [a] @ [b] @ v) \\<or>\n        c \\<in> set u \\<or>\n        c \\<notin> set u \\<and> c = a \\<or>\n        c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<or>\n        c \\<notin> set u \\<and> c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> set (u @ [a] @ [b] @ v) \\<or>\n    c \\<in> set u \\<or>\n    c \\<notin> set u \\<and> c = a \\<or>\n    c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<or>\n    c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v", "by auto"], ["proof (state)\nthis:\n  c \\<notin> set (u @ [a] @ [b] @ v) \\<or>\n  c \\<in> set u \\<or>\n  c \\<notin> set u \\<and> c = a \\<or>\n  c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<or>\n  c \\<notin> set u \\<and>\n  c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v\n\ngoal (1 subgoal):\n 1. \\<And>a b u v.\n       \\<lbrakk>ind a b;\n        remove1 c (u @ [a] @ [b] @ v) =\n        remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n        thesis;\n        remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S\n        remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n        thesis\\<rbrakk>\n       \\<Longrightarrow> thesis", "thus ?case"], ["proof (prove)\nusing this:\n  c \\<notin> set (u @ [a] @ [b] @ v) \\<or>\n  c \\<in> set u \\<or>\n  c \\<notin> set u \\<and> c = a \\<or>\n  c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<or>\n  c \\<notin> set u \\<and>\n  c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v\n\ngoal (1 subgoal):\n 1. thesis", "proof (elim disjE)"], ["proof (state)\ngoal (5 subgoals):\n 1. c \\<notin> set (u @ [a] @ [b] @ v) \\<Longrightarrow> thesis\n 2. c \\<in> set u \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 4. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 5. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "assume 0: \"c \\<notin> set (u @ [a] @ [b] @ v)\""], ["proof (state)\nthis:\n  c \\<notin> set (u @ [a] @ [b] @ v)\n\ngoal (5 subgoals):\n 1. c \\<notin> set (u @ [a] @ [b] @ v) \\<Longrightarrow> thesis\n 2. c \\<in> set u \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 4. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 5. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 1: \"c \\<notin> set (u @ [b] @ [a] @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> set (u @ [b] @ [a] @ v)", "using 0"], ["proof (prove)\nusing this:\n  c \\<notin> set (u @ [a] @ [b] @ v)\n\ngoal (1 subgoal):\n 1. c \\<notin> set (u @ [b] @ [a] @ v)", "by auto"], ["proof (state)\nthis:\n  c \\<notin> set (u @ [b] @ [a] @ v)\n\ngoal (5 subgoals):\n 1. c \\<notin> set (u @ [a] @ [b] @ v) \\<Longrightarrow> thesis\n 2. c \\<in> set u \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 4. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 5. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 2: \"remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ [b] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ [b] @ v", "using remove1_idem 0"], ["proof (prove)\nusing this:\n  ?x \\<notin> set ?xs \\<Longrightarrow> remove1 ?x ?xs = ?xs\n  c \\<notin> set (u @ [a] @ [b] @ v)\n\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ [b] @ v", "by this"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ [b] @ v\n\ngoal (5 subgoals):\n 1. c \\<notin> set (u @ [a] @ [b] @ v) \\<Longrightarrow> thesis\n 2. c \\<in> set u \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 4. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 5. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 3: \"remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ [a] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ [a] @ v", "using remove1_idem 1"], ["proof (prove)\nusing this:\n  ?x \\<notin> set ?xs \\<Longrightarrow> remove1 ?x ?xs = ?xs\n  c \\<notin> set (u @ [b] @ [a] @ v)\n\ngoal (1 subgoal):\n 1. remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ [a] @ v", "by this"], ["proof (state)\nthis:\n  remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ [a] @ v\n\ngoal (5 subgoals):\n 1. c \\<notin> set (u @ [a] @ [b] @ v) \\<Longrightarrow> thesis\n 2. c \\<in> set u \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 4. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 5. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 4: \"remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)", "unfolding 2 3"], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ [a] @ [b] @ v =\\<^sub>S u @ [b] @ [a] @ v", "using eq_swap.intros swap(1)"], ["proof (prove)\nusing this:\n  ind ?a ?b \\<Longrightarrow>\n  ?u @ [?a] @ [?b] @ ?v =\\<^sub>S ?u @ [?b] @ [?a] @ ?v\n  ind a b\n\ngoal (1 subgoal):\n 1. u @ [a] @ [b] @ v =\\<^sub>S u @ [b] @ [a] @ v", "by this"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\n\ngoal (5 subgoals):\n 1. c \\<notin> set (u @ [a] @ [b] @ v) \\<Longrightarrow> thesis\n 2. c \\<in> set u \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 4. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 5. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "show thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using swap(3) 4"], ["proof (prove)\nusing this:\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S\n  remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n  thesis\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\n\ngoal (1 subgoal):\n 1. thesis", "by this"], ["proof (state)\nthis:\n  thesis\n\ngoal (4 subgoals):\n 1. c \\<in> set u \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 4. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. c \\<in> set u \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 4. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "assume 0: \"c \\<in> set u\""], ["proof (state)\nthis:\n  c \\<in> set u\n\ngoal (4 subgoals):\n 1. c \\<in> set u \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 4. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 2: \"remove1 c (u @ [a] @ [b] @ v) = remove1 c u @ [a] @ [b] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = remove1 c u @ [a] @ [b] @ v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    remove1 c u @ [a] @ [b] @ v", "using 0"], ["proof (prove)\nusing this:\n  c \\<in> set u\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    remove1 c u @ [a] @ [b] @ v", "by simp"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) = remove1 c u @ [a] @ [b] @ v\n\ngoal (4 subgoals):\n 1. c \\<in> set u \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 4. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 3: \"remove1 c (u @ [b] @ [a] @ v) = remove1 c u @ [b] @ [a] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [b] @ [a] @ v) = remove1 c u @ [b] @ [a] @ v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    remove1 c u @ [b] @ [a] @ v", "using 0"], ["proof (prove)\nusing this:\n  c \\<in> set u\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    remove1 c u @ [b] @ [a] @ v", "by simp"], ["proof (state)\nthis:\n  remove1 c (u @ [b] @ [a] @ v) = remove1 c u @ [b] @ [a] @ v\n\ngoal (4 subgoals):\n 1. c \\<in> set u \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 4. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 4: \"remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)", "unfolding 2 3"], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c u @ [a] @ [b] @ v =\\<^sub>S remove1 c u @ [b] @ [a] @ v", "using eq_swap.intros swap(1)"], ["proof (prove)\nusing this:\n  ind ?a ?b \\<Longrightarrow>\n  ?u @ [?a] @ [?b] @ ?v =\\<^sub>S ?u @ [?b] @ [?a] @ ?v\n  ind a b\n\ngoal (1 subgoal):\n 1. remove1 c u @ [a] @ [b] @ v =\\<^sub>S remove1 c u @ [b] @ [a] @ v", "by this"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\n\ngoal (4 subgoals):\n 1. c \\<in> set u \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 3. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 4. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "show thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using swap(3) 4"], ["proof (prove)\nusing this:\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S\n  remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n  thesis\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\n\ngoal (1 subgoal):\n 1. thesis", "by this"], ["proof (state)\nthis:\n  thesis\n\ngoal (3 subgoals):\n 1. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 3. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 3. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "assume 0: \"c \\<notin> set u \\<and> c = a\""], ["proof (state)\nthis:\n  c \\<notin> set u \\<and> c = a\n\ngoal (3 subgoals):\n 1. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 3. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 2: \"remove1 c (u @ [a] @ [b] @ v) = u @ [b] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = u @ [b] @ v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    u @ [b] @ v", "using remove1_idem 0"], ["proof (prove)\nusing this:\n  ?x \\<notin> set ?xs \\<Longrightarrow> remove1 ?x ?xs = ?xs\n  c \\<notin> set u \\<and> c = a\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    u @ [b] @ v", "by auto"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) = u @ [b] @ v\n\ngoal (3 subgoals):\n 1. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 3. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 3: \"remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    u @ [b] @ v", "using remove1_idem 0"], ["proof (prove)\nusing this:\n  ?x \\<notin> set ?xs \\<Longrightarrow> remove1 ?x ?xs = ?xs\n  c \\<notin> set u \\<and> c = a\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    u @ [b] @ v", "by auto"], ["proof (state)\nthis:\n  remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ v\n\ngoal (3 subgoals):\n 1. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 3. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 4: \"remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)", "unfolding 2 3"], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ [b] @ v = u @ [b] @ v", "by rule"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)\n\ngoal (3 subgoals):\n 1. c \\<notin> set u \\<and> c = a \\<Longrightarrow> thesis\n 2. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 3. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "show thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using swap(2) 4"], ["proof (prove)\nusing this:\n  remove1 c (u @ [a] @ [b] @ v) =\n  remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n  thesis\n  remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)\n\ngoal (1 subgoal):\n 1. thesis", "by this"], ["proof (state)\nthis:\n  thesis\n\ngoal (2 subgoals):\n 1. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 2. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 2. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "assume 0: \"c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b\""], ["proof (state)\nthis:\n  c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b\n\ngoal (2 subgoals):\n 1. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 2. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 2: \"remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    u @ [a] @ v", "using remove1_idem 0"], ["proof (prove)\nusing this:\n  ?x \\<notin> set ?xs \\<Longrightarrow> remove1 ?x ?xs = ?xs\n  c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    u @ [a] @ v", "by auto"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ v\n\ngoal (2 subgoals):\n 1. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 2. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 3: \"remove1 c (u @ [b] @ [a] @ v) = u @ [a] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [b] @ [a] @ v) = u @ [a] @ v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    u @ [a] @ v", "using remove1_idem 0"], ["proof (prove)\nusing this:\n  ?x \\<notin> set ?xs \\<Longrightarrow> remove1 ?x ?xs = ?xs\n  c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    u @ [a] @ v", "by auto"], ["proof (state)\nthis:\n  remove1 c (u @ [b] @ [a] @ v) = u @ [a] @ v\n\ngoal (2 subgoals):\n 1. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 2. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 4: \"remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)", "unfolding 2 3"], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ [a] @ v = u @ [a] @ v", "by rule"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)\n\ngoal (2 subgoals):\n 1. c \\<notin> set u \\<and> c \\<noteq> a \\<and> c = b \\<Longrightarrow>\n    thesis\n 2. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "show thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using swap(2) 4"], ["proof (prove)\nusing this:\n  remove1 c (u @ [a] @ [b] @ v) =\n  remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n  thesis\n  remove1 c (u @ [a] @ [b] @ v) = remove1 c (u @ [b] @ [a] @ v)\n\ngoal (1 subgoal):\n 1. thesis", "by this"], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "assume 0: \"c \\<notin> set u \\<and> c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v\""], ["proof (state)\nthis:\n  c \\<notin> set u \\<and>\n  c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v\n\ngoal (1 subgoal):\n 1. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 2: \"remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ [b] @ remove1 c v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ [b] @ remove1 c v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    u @ [a] @ [b] @ remove1 c v", "using 0"], ["proof (prove)\nusing this:\n  c \\<notin> set u \\<and>\n  c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [a] @ [b] @ v\n     else u @\n          (if c \\<in> set [a] then remove1 c [a] @ [b] @ v\n           else [a] @\n                (if c \\<in> set [b] then remove1 c [b] @ v\n                 else [b] @ remove1 c v))) =\n    u @ [a] @ [b] @ remove1 c v", "by simp"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) = u @ [a] @ [b] @ remove1 c v\n\ngoal (1 subgoal):\n 1. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 3: \"remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ [a] @ remove1 c v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ [a] @ remove1 c v", "unfolding remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    u @ [b] @ [a] @ remove1 c v", "using 0"], ["proof (prove)\nusing this:\n  c \\<notin> set u \\<and>\n  c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v\n\ngoal (1 subgoal):\n 1. (if c \\<in> set u then remove1 c u @ [b] @ [a] @ v\n     else u @\n          (if c \\<in> set [b] then remove1 c [b] @ [a] @ v\n           else [b] @\n                (if c \\<in> set [a] then remove1 c [a] @ v\n                 else [a] @ remove1 c v))) =\n    u @ [b] @ [a] @ remove1 c v", "by simp"], ["proof (state)\nthis:\n  remove1 c (u @ [b] @ [a] @ v) = u @ [b] @ [a] @ remove1 c v\n\ngoal (1 subgoal):\n 1. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "have 4: \"remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)", "unfolding 2 3"], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ [a] @ [b] @ remove1 c v =\\<^sub>S u @ [b] @ [a] @ remove1 c v", "using eq_swap.intros swap(1)"], ["proof (prove)\nusing this:\n  ind ?a ?b \\<Longrightarrow>\n  ?u @ [?a] @ [?b] @ ?v =\\<^sub>S ?u @ [?b] @ [?a] @ ?v\n  ind a b\n\ngoal (1 subgoal):\n 1. u @ [a] @ [b] @ remove1 c v =\\<^sub>S u @ [b] @ [a] @ remove1 c v", "by this"], ["proof (state)\nthis:\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\n\ngoal (1 subgoal):\n 1. c \\<notin> set u \\<and>\n    c \\<noteq> a \\<and> c \\<noteq> b \\<and> c \\<in> set v \\<Longrightarrow>\n    thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using swap(3) 4"], ["proof (prove)\nusing this:\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S\n  remove1 c (u @ [b] @ [a] @ v) \\<Longrightarrow>\n  thesis\n  remove1 c (u @ [a] @ [b] @ v) =\\<^sub>S remove1 c (u @ [b] @ [a] @ v)\n\ngoal (1 subgoal):\n 1. thesis", "by this"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_swap_rev:\n      assumes \"w\\<^sub>1 =\\<^sub>S w\\<^sub>2\"\n      shows \"rev w\\<^sub>1 =\\<^sub>S rev w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev w\\<^sub>1 =\\<^sub>S rev w\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>S w\\<^sub>2\n\ngoal (1 subgoal):\n 1. rev w\\<^sub>1 =\\<^sub>S rev w\\<^sub>2", "proof induct"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b u v.\n       ind a b \\<Longrightarrow>\n       rev (u @ [a] @ [b] @ v) =\\<^sub>S rev (u @ [b] @ [a] @ v)", "case (swap a b u v)"], ["proof (state)\nthis:\n  ind a b\n\ngoal (1 subgoal):\n 1. \\<And>a b u v.\n       ind a b \\<Longrightarrow>\n       rev (u @ [a] @ [b] @ v) =\\<^sub>S rev (u @ [b] @ [a] @ v)", "have 1: \"rev v @ [a] @ [b] @ rev u =\\<^sub>S rev v @ [b] @ [a] @ rev u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev v @ [a] @ [b] @ rev u =\\<^sub>S rev v @ [b] @ [a] @ rev u", "using swap"], ["proof (prove)\nusing this:\n  ind a b\n\ngoal (1 subgoal):\n 1. rev v @ [a] @ [b] @ rev u =\\<^sub>S rev v @ [b] @ [a] @ rev u", "by blast"], ["proof (state)\nthis:\n  rev v @ [a] @ [b] @ rev u =\\<^sub>S rev v @ [b] @ [a] @ rev u\n\ngoal (1 subgoal):\n 1. \\<And>a b u v.\n       ind a b \\<Longrightarrow>\n       rev (u @ [a] @ [b] @ v) =\\<^sub>S rev (u @ [b] @ [a] @ v)", "have 2: \"rev v @ [b] @ [a] @ rev u =\\<^sub>S rev v @ [a] @ [b] @ rev u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev v @ [b] @ [a] @ rev u =\\<^sub>S rev v @ [a] @ [b] @ rev u", "using 1 eq_swap_sym"], ["proof (prove)\nusing this:\n  rev v @ [a] @ [b] @ rev u =\\<^sub>S rev v @ [b] @ [a] @ rev u\n  ?v =\\<^sub>S ?w \\<Longrightarrow> ?w =\\<^sub>S ?v\n\ngoal (1 subgoal):\n 1. rev v @ [b] @ [a] @ rev u =\\<^sub>S rev v @ [a] @ [b] @ rev u", "by blast"], ["proof (state)\nthis:\n  rev v @ [b] @ [a] @ rev u =\\<^sub>S rev v @ [a] @ [b] @ rev u\n\ngoal (1 subgoal):\n 1. \\<And>a b u v.\n       ind a b \\<Longrightarrow>\n       rev (u @ [a] @ [b] @ v) =\\<^sub>S rev (u @ [b] @ [a] @ v)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. rev (u @ [a] @ [b] @ v) =\\<^sub>S rev (u @ [b] @ [a] @ v)", "using 2"], ["proof (prove)\nusing this:\n  rev v @ [b] @ [a] @ rev u =\\<^sub>S rev v @ [a] @ [b] @ rev u\n\ngoal (1 subgoal):\n 1. rev (u @ [a] @ [b] @ v) =\\<^sub>S rev (u @ [b] @ [a] @ v)", "by simp"], ["proof (state)\nthis:\n  rev (u @ [a] @ [b] @ v) =\\<^sub>S rev (u @ [b] @ [a] @ v)\n\ngoal:\nNo subgoals!", "qed"], ["", "abbreviation eq_fin :: \"'item list \\<Rightarrow> 'item list \\<Rightarrow> bool\" (infix \"=\\<^sub>F\" 50)\n      where \"eq_fin \\<equiv> eq_swap\\<^sup>*\\<^sup>*\""], ["", "lemma eq_fin_symp[intro, sym]: \"u =\\<^sub>F v \\<Longrightarrow> v =\\<^sub>F u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u =\\<^sub>F v \\<Longrightarrow> v =\\<^sub>F u", "using eq_swap_sym sym_rtrancl[to_pred]"], ["proof (prove)\nusing this:\n  ?v =\\<^sub>S ?w \\<Longrightarrow> ?w =\\<^sub>S ?v\n  symp ?r \\<Longrightarrow> symp ?r\\<^sup>*\\<^sup>*\n\ngoal (1 subgoal):\n 1. u =\\<^sub>F v \\<Longrightarrow> v =\\<^sub>F u", "unfolding symp_def"], ["proof (prove)\nusing this:\n  ?v =\\<^sub>S ?w \\<Longrightarrow> ?w =\\<^sub>S ?v\n  \\<forall>x y. ?r x y \\<longrightarrow> ?r y x \\<Longrightarrow>\n  \\<forall>x y.\n     ?r\\<^sup>*\\<^sup>* x y \\<longrightarrow> ?r\\<^sup>*\\<^sup>* y x\n\ngoal (1 subgoal):\n 1. u =\\<^sub>F v \\<Longrightarrow> v =\\<^sub>F u", "by metis"], ["", "lemma eq_fin_length[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> length w\\<^sub>1 = length w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    length w\\<^sub>1 = length w\\<^sub>2", "by (induct rule: rtranclp.induct, auto)"], ["", "lemma eq_fin_range[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 = set w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    set w\\<^sub>1 = set w\\<^sub>2", "by (induct rule: rtranclp.induct, auto)"], ["", "lemma eq_fin_remove1:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>2", "proof induct"], ["proof (state)\ngoal (2 subgoals):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>1\n 2. \\<And>y z.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F y; y =\\<^sub>S z;\n        remove1 c w\\<^sub>1 =\\<^sub>F remove1 c y\\<rbrakk>\n       \\<Longrightarrow> remove1 c w\\<^sub>1 =\\<^sub>F remove1 c z", "case (base)"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>1\n 2. \\<And>y z.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F y; y =\\<^sub>S z;\n        remove1 c w\\<^sub>1 =\\<^sub>F remove1 c y\\<rbrakk>\n       \\<Longrightarrow> remove1 c w\\<^sub>1 =\\<^sub>F remove1 c z", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>1", "by simp"], ["proof (state)\nthis:\n  remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F y; y =\\<^sub>S z;\n        remove1 c w\\<^sub>1 =\\<^sub>F remove1 c y\\<rbrakk>\n       \\<Longrightarrow> remove1 c w\\<^sub>1 =\\<^sub>F remove1 c z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F y; y =\\<^sub>S z;\n        remove1 c w\\<^sub>1 =\\<^sub>F remove1 c y\\<rbrakk>\n       \\<Longrightarrow> remove1 c w\\<^sub>1 =\\<^sub>F remove1 c z", "case (step w\\<^sub>2 w\\<^sub>3)"], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>S w\\<^sub>3\n  remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F y; y =\\<^sub>S z;\n        remove1 c w\\<^sub>1 =\\<^sub>F remove1 c y\\<rbrakk>\n       \\<Longrightarrow> remove1 c w\\<^sub>1 =\\<^sub>F remove1 c z", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "using step(2)"], ["proof (prove)\nusing this:\n  w\\<^sub>2 =\\<^sub>S w\\<^sub>3\n\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "proof (cases rule: eq_swap_remove1[where ?c = c])"], ["proof (state)\ngoal (2 subgoals):\n 1. remove1 c w\\<^sub>2 = remove1 c w\\<^sub>3 \\<Longrightarrow>\n    remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3\n 2. remove1 c w\\<^sub>2 =\\<^sub>S remove1 c w\\<^sub>3 \\<Longrightarrow>\n    remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "case equal"], ["proof (state)\nthis:\n  remove1 c w\\<^sub>2 = remove1 c w\\<^sub>3\n\ngoal (2 subgoals):\n 1. remove1 c w\\<^sub>2 = remove1 c w\\<^sub>3 \\<Longrightarrow>\n    remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3\n 2. remove1 c w\\<^sub>2 =\\<^sub>S remove1 c w\\<^sub>3 \\<Longrightarrow>\n    remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "using step equal"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>S w\\<^sub>3\n  remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>2\n  remove1 c w\\<^sub>2 = remove1 c w\\<^sub>3\n\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "by simp"], ["proof (state)\nthis:\n  remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3\n\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>2 =\\<^sub>S remove1 c w\\<^sub>3 \\<Longrightarrow>\n    remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>2 =\\<^sub>S remove1 c w\\<^sub>3 \\<Longrightarrow>\n    remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "case swap"], ["proof (state)\nthis:\n  remove1 c w\\<^sub>2 =\\<^sub>S remove1 c w\\<^sub>3\n\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>2 =\\<^sub>S remove1 c w\\<^sub>3 \\<Longrightarrow>\n    remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "using step swap"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>S w\\<^sub>3\n  remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>2\n  remove1 c w\\<^sub>2 =\\<^sub>S remove1 c w\\<^sub>3\n\ngoal (1 subgoal):\n 1. remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3", "by auto"], ["proof (state)\nthis:\n  remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  remove1 c w\\<^sub>1 =\\<^sub>F remove1 c w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_fin_rev:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2", "by (induct, auto dest: eq_swap_rev)"], ["", "lemma eq_fin_concat_eq_fin_start:\n      assumes \"u @ v\\<^sub>1 =\\<^sub>F u @ v\\<^sub>2\"\n      shows \"v\\<^sub>1 =\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  u @ v\\<^sub>1 =\\<^sub>F u @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "proof (induct u arbitrary: v\\<^sub>1 v\\<^sub>2 rule: rev_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v\\<^sub>1 v\\<^sub>2.\n       [] @ v\\<^sub>1 =\\<^sub>F [] @ v\\<^sub>2 \\<Longrightarrow>\n       v\\<^sub>1 =\\<^sub>F v\\<^sub>2\n 2. \\<And>x xs v\\<^sub>1 v\\<^sub>2.\n       \\<lbrakk>\\<And>v\\<^sub>1 v\\<^sub>2.\n                   xs @ v\\<^sub>1 =\\<^sub>F xs @ v\\<^sub>2 \\<Longrightarrow>\n                   v\\<^sub>1 =\\<^sub>F v\\<^sub>2;\n        (xs @ [x]) @ v\\<^sub>1 =\\<^sub>F (xs @ [x]) @ v\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "case (Nil)"], ["proof (state)\nthis:\n  [] @ v\\<^sub>1 =\\<^sub>F [] @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>v\\<^sub>1 v\\<^sub>2.\n       [] @ v\\<^sub>1 =\\<^sub>F [] @ v\\<^sub>2 \\<Longrightarrow>\n       v\\<^sub>1 =\\<^sub>F v\\<^sub>2\n 2. \\<And>x xs v\\<^sub>1 v\\<^sub>2.\n       \\<lbrakk>\\<And>v\\<^sub>1 v\\<^sub>2.\n                   xs @ v\\<^sub>1 =\\<^sub>F xs @ v\\<^sub>2 \\<Longrightarrow>\n                   v\\<^sub>1 =\\<^sub>F v\\<^sub>2;\n        (xs @ [x]) @ v\\<^sub>1 =\\<^sub>F (xs @ [x]) @ v\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "using Nil"], ["proof (prove)\nusing this:\n  [] @ v\\<^sub>1 =\\<^sub>F [] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  v\\<^sub>1 =\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>x xs v\\<^sub>1 v\\<^sub>2.\n       \\<lbrakk>\\<And>v\\<^sub>1 v\\<^sub>2.\n                   xs @ v\\<^sub>1 =\\<^sub>F xs @ v\\<^sub>2 \\<Longrightarrow>\n                   v\\<^sub>1 =\\<^sub>F v\\<^sub>2;\n        (xs @ [x]) @ v\\<^sub>1 =\\<^sub>F (xs @ [x]) @ v\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xs v\\<^sub>1 v\\<^sub>2.\n       \\<lbrakk>\\<And>v\\<^sub>1 v\\<^sub>2.\n                   xs @ v\\<^sub>1 =\\<^sub>F xs @ v\\<^sub>2 \\<Longrightarrow>\n                   v\\<^sub>1 =\\<^sub>F v\\<^sub>2;\n        (xs @ [x]) @ v\\<^sub>1 =\\<^sub>F (xs @ [x]) @ v\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "case (snoc a u)"], ["proof (state)\nthis:\n  u @ ?v\\<^sub>1 =\\<^sub>F u @ ?v\\<^sub>2 \\<Longrightarrow>\n  ?v\\<^sub>1 =\\<^sub>F ?v\\<^sub>2\n  (u @ [a]) @ v\\<^sub>1 =\\<^sub>F (u @ [a]) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>x xs v\\<^sub>1 v\\<^sub>2.\n       \\<lbrakk>\\<And>v\\<^sub>1 v\\<^sub>2.\n                   xs @ v\\<^sub>1 =\\<^sub>F xs @ v\\<^sub>2 \\<Longrightarrow>\n                   v\\<^sub>1 =\\<^sub>F v\\<^sub>2;\n        (xs @ [x]) @ v\\<^sub>1 =\\<^sub>F (xs @ [x]) @ v\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "have 1: \"u @ [a] @ v\\<^sub>1 =\\<^sub>F u @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ [a] @ v\\<^sub>1 =\\<^sub>F u @ [a] @ v\\<^sub>2", "using snoc(2)"], ["proof (prove)\nusing this:\n  (u @ [a]) @ v\\<^sub>1 =\\<^sub>F (u @ [a]) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. u @ [a] @ v\\<^sub>1 =\\<^sub>F u @ [a] @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  u @ [a] @ v\\<^sub>1 =\\<^sub>F u @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>x xs v\\<^sub>1 v\\<^sub>2.\n       \\<lbrakk>\\<And>v\\<^sub>1 v\\<^sub>2.\n                   xs @ v\\<^sub>1 =\\<^sub>F xs @ v\\<^sub>2 \\<Longrightarrow>\n                   v\\<^sub>1 =\\<^sub>F v\\<^sub>2;\n        (xs @ [x]) @ v\\<^sub>1 =\\<^sub>F (xs @ [x]) @ v\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "have 2: \"[a] @ v\\<^sub>1 =\\<^sub>F [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ v\\<^sub>1 =\\<^sub>F [a] @ v\\<^sub>2", "using snoc(1) 1"], ["proof (prove)\nusing this:\n  u @ ?v\\<^sub>1 =\\<^sub>F u @ ?v\\<^sub>2 \\<Longrightarrow>\n  ?v\\<^sub>1 =\\<^sub>F ?v\\<^sub>2\n  u @ [a] @ v\\<^sub>1 =\\<^sub>F u @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] @ v\\<^sub>1 =\\<^sub>F [a] @ v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  [a] @ v\\<^sub>1 =\\<^sub>F [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>x xs v\\<^sub>1 v\\<^sub>2.\n       \\<lbrakk>\\<And>v\\<^sub>1 v\\<^sub>2.\n                   xs @ v\\<^sub>1 =\\<^sub>F xs @ v\\<^sub>2 \\<Longrightarrow>\n                   v\\<^sub>1 =\\<^sub>F v\\<^sub>2;\n        (xs @ [x]) @ v\\<^sub>1 =\\<^sub>F (xs @ [x]) @ v\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "using eq_fin_remove1[OF 2, of a]"], ["proof (prove)\nusing this:\n  remove1 a ([a] @ v\\<^sub>1) =\\<^sub>F remove1 a ([a] @ v\\<^sub>2)\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  v\\<^sub>1 =\\<^sub>F v\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_fin_concat: \"u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v) =\n    (w\\<^sub>1 =\\<^sub>F w\\<^sub>2)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "assume 0: \"u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v\""], ["proof (state)\nthis:\n  u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v\n\ngoal (2 subgoals):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "have 1: \"w\\<^sub>1 @ v =\\<^sub>F w\\<^sub>2 @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v =\\<^sub>F w\\<^sub>2 @ v", "using eq_fin_concat_eq_fin_start 0"], ["proof (prove)\nusing this:\n  ?u @ ?v\\<^sub>1 =\\<^sub>F ?u @ ?v\\<^sub>2 \\<Longrightarrow>\n  ?v\\<^sub>1 =\\<^sub>F ?v\\<^sub>2\n  u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v =\\<^sub>F w\\<^sub>2 @ v", "by this"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v =\\<^sub>F w\\<^sub>2 @ v\n\ngoal (2 subgoals):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "have 2: \"rev (w\\<^sub>1 @ v) =\\<^sub>F rev (w\\<^sub>2 @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev (w\\<^sub>1 @ v) =\\<^sub>F rev (w\\<^sub>2 @ v)", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v =\\<^sub>F w\\<^sub>2 @ v\n\ngoal (1 subgoal):\n 1. rev (w\\<^sub>1 @ v) =\\<^sub>F rev (w\\<^sub>2 @ v)", "by (blast dest: eq_fin_rev)"], ["proof (state)\nthis:\n  rev (w\\<^sub>1 @ v) =\\<^sub>F rev (w\\<^sub>2 @ v)\n\ngoal (2 subgoals):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "have 3: \"rev v @ rev w\\<^sub>1 =\\<^sub>F rev v @ rev w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev v @ rev w\\<^sub>1 =\\<^sub>F rev v @ rev w\\<^sub>2", "using 2"], ["proof (prove)\nusing this:\n  rev (w\\<^sub>1 @ v) =\\<^sub>F rev (w\\<^sub>2 @ v)\n\ngoal (1 subgoal):\n 1. rev v @ rev w\\<^sub>1 =\\<^sub>F rev v @ rev w\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  rev v @ rev w\\<^sub>1 =\\<^sub>F rev v @ rev w\\<^sub>2\n\ngoal (2 subgoals):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "have 4: \"rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2", "using eq_fin_concat_eq_fin_start 3"], ["proof (prove)\nusing this:\n  ?u @ ?v\\<^sub>1 =\\<^sub>F ?u @ ?v\\<^sub>2 \\<Longrightarrow>\n  ?v\\<^sub>1 =\\<^sub>F ?v\\<^sub>2\n  rev v @ rev w\\<^sub>1 =\\<^sub>F rev v @ rev w\\<^sub>2\n\ngoal (1 subgoal):\n 1. rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2", "by this"], ["proof (state)\nthis:\n  rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2\n\ngoal (2 subgoals):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "have 5: \"rev (rev w\\<^sub>1) =\\<^sub>F rev (rev w\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev (rev w\\<^sub>1) =\\<^sub>F rev (rev w\\<^sub>2)", "using 4"], ["proof (prove)\nusing this:\n  rev w\\<^sub>1 =\\<^sub>F rev w\\<^sub>2\n\ngoal (1 subgoal):\n 1. rev (rev w\\<^sub>1) =\\<^sub>F rev (rev w\\<^sub>2)", "by (blast dest: eq_fin_rev)"], ["proof (state)\nthis:\n  rev (rev w\\<^sub>1) =\\<^sub>F rev (rev w\\<^sub>2)\n\ngoal (2 subgoals):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "show \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "using 5"], ["proof (prove)\nusing this:\n  rev (rev w\\<^sub>1) =\\<^sub>F rev (rev w\\<^sub>2)\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "show \"u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v\" if \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "using that"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v", "by (induct, auto dest: eq_swap_extend[of _ _ u v])"], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n  u @ w\\<^sub>1 @ v =\\<^sub>F u @ w\\<^sub>2 @ v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_fin_concat_start[iff]: \"w @ w\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w @ w\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2) =\n    (w\\<^sub>1 =\\<^sub>F w\\<^sub>2)", "using eq_fin_concat[of \"w\" _ \"[]\"]"], ["proof (prove)\nusing this:\n  (w @ ?w\\<^sub>1 @ [] =\\<^sub>F w @ ?w\\<^sub>2 @ []) =\n  (?w\\<^sub>1 =\\<^sub>F ?w\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (w @ w\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2) =\n    (w\\<^sub>1 =\\<^sub>F w\\<^sub>2)", "by simp"], ["", "lemma eq_fin_concat_end[iff]: \"w\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w) =\n    (w\\<^sub>1 =\\<^sub>F w\\<^sub>2)", "using eq_fin_concat[of \"[]\" _ \"w\"]"], ["proof (prove)\nusing this:\n  ([] @ ?w\\<^sub>1 @ w =\\<^sub>F [] @ ?w\\<^sub>2 @ w) =\n  (?w\\<^sub>1 =\\<^sub>F ?w\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w) =\n    (w\\<^sub>1 =\\<^sub>F w\\<^sub>2)", "by simp"], ["", "lemma ind_eq_fin':\n      assumes \"Ind {a} (set v)\"\n      shows \"[a] @ v =\\<^sub>F v @ [a]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ v =\\<^sub>F v @ [a]", "using assms"], ["proof (prove)\nusing this:\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. [a] @ v =\\<^sub>F v @ [a]", "proof (induct v)"], ["proof (state)\ngoal (2 subgoals):\n 1. Ind {a} (set []) \\<Longrightarrow> [a] @ [] =\\<^sub>F [] @ [a]\n 2. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "case (Nil)"], ["proof (state)\nthis:\n  Ind {a} (set [])\n\ngoal (2 subgoals):\n 1. Ind {a} (set []) \\<Longrightarrow> [a] @ [] =\\<^sub>F [] @ [a]\n 2. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ [] =\\<^sub>F [] @ [a]", "by simp"], ["proof (state)\nthis:\n  [a] @ [] =\\<^sub>F [] @ [a]\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "case (Cons b v)"], ["proof (state)\nthis:\n  Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a]\n  Ind {a} (set (b # v))\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "have 1: \"Ind {a} (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "using Cons(2)"], ["proof (prove)\nusing this:\n  Ind {a} (set (b # v))\n\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "by auto"], ["proof (state)\nthis:\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "have 2: \"ind a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ind a b", "using Cons(2)"], ["proof (prove)\nusing this:\n  Ind {a} (set (b # v))\n\ngoal (1 subgoal):\n 1. ind a b", "by auto"], ["proof (state)\nthis:\n  ind a b\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "have \"[a] @ b # v = [a] @ [b] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ b # v = [a] @ [b] @ v", "by simp"], ["proof (state)\nthis:\n  [a] @ b # v = [a] @ [b] @ v\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "also"], ["proof (state)\nthis:\n  [a] @ b # v = [a] @ [b] @ v\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "have \"\\<dots> =\\<^sub>S [b] @ [a] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ [b] @ v =\\<^sub>S [b] @ [a] @ v", "using eq_swap.intros[OF 2, of \"[]\"]"], ["proof (prove)\nusing this:\n  [] @ [a] @ [b] @ ?v =\\<^sub>S [] @ [b] @ [a] @ ?v\n\ngoal (1 subgoal):\n 1. [a] @ [b] @ v =\\<^sub>S [b] @ [a] @ v", "by auto"], ["proof (state)\nthis:\n  [a] @ [b] @ v =\\<^sub>S [b] @ [a] @ v\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "also"], ["proof (state)\nthis:\n  [a] @ [b] @ v =\\<^sub>S [b] @ [a] @ v\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "have \"\\<dots> =\\<^sub>F [b] @ v @ [a]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [b] @ [a] @ v =\\<^sub>F [b] @ v @ [a]", "using Cons(1) 1"], ["proof (prove)\nusing this:\n  Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a]\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. [b] @ [a] @ v =\\<^sub>F [b] @ v @ [a]", "by blast"], ["proof (state)\nthis:\n  [b] @ [a] @ v =\\<^sub>F [b] @ v @ [a]\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "also"], ["proof (state)\nthis:\n  [b] @ [a] @ v =\\<^sub>F [b] @ v @ [a]\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "have \"\\<dots> = (b # v) @ [a]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [b] @ v @ [a] = (b # v) @ [a]", "by simp"], ["proof (state)\nthis:\n  [b] @ v @ [a] = (b # v) @ [a]\n\ngoal (1 subgoal):\n 1. \\<And>aa v.\n       \\<lbrakk>Ind {a} (set v) \\<Longrightarrow> [a] @ v =\\<^sub>F v @ [a];\n        Ind {a} (set (aa # v))\\<rbrakk>\n       \\<Longrightarrow> [a] @ aa # v =\\<^sub>F (aa # v) @ [a]", "finally"], ["proof (chain)\npicking this:\n  [a] @ b # v =\\<^sub>F (b # v) @ [a]", "show ?case"], ["proof (prove)\nusing this:\n  [a] @ b # v =\\<^sub>F (b # v) @ [a]\n\ngoal (1 subgoal):\n 1. [a] @ b # v =\\<^sub>F (b # v) @ [a]", "by this"], ["proof (state)\nthis:\n  [a] @ b # v =\\<^sub>F (b # v) @ [a]\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ind_eq_fin[intro]:\n      assumes \"Ind (set u) (set v)\"\n      shows \"u @ v =\\<^sub>F v @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ v =\\<^sub>F v @ u", "using assms"], ["proof (prove)\nusing this:\n  Ind (set u) (set v)\n\ngoal (1 subgoal):\n 1. u @ v =\\<^sub>F v @ u", "proof (induct u)"], ["proof (state)\ngoal (2 subgoals):\n 1. Ind (set []) (set v) \\<Longrightarrow> [] @ v =\\<^sub>F v @ []\n 2. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "case (Nil)"], ["proof (state)\nthis:\n  Ind (set []) (set v)\n\ngoal (2 subgoals):\n 1. Ind (set []) (set v) \\<Longrightarrow> [] @ v =\\<^sub>F v @ []\n 2. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. [] @ v =\\<^sub>F v @ []", "by simp"], ["proof (state)\nthis:\n  [] @ v =\\<^sub>F v @ []\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "case (Cons a u)"], ["proof (state)\nthis:\n  Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u\n  Ind (set (a # u)) (set v)\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "have 1: \"Ind (set u) (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set u) (set v)", "using Cons(2)"], ["proof (prove)\nusing this:\n  Ind (set (a # u)) (set v)\n\ngoal (1 subgoal):\n 1. Ind (set u) (set v)", "by auto"], ["proof (state)\nthis:\n  Ind (set u) (set v)\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "have 2: \"Ind {a} (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "using Cons(2)"], ["proof (prove)\nusing this:\n  Ind (set (a # u)) (set v)\n\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "by auto"], ["proof (state)\nthis:\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "have \"(a # u) @ v = [a] @ u @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a # u) @ v = [a] @ u @ v", "by simp"], ["proof (state)\nthis:\n  (a # u) @ v = [a] @ u @ v\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "also"], ["proof (state)\nthis:\n  (a # u) @ v = [a] @ u @ v\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "have \"\\<dots> =\\<^sub>F [a] @ v @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ u @ v =\\<^sub>F [a] @ v @ u", "using Cons(1) 1"], ["proof (prove)\nusing this:\n  Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u\n  Ind (set u) (set v)\n\ngoal (1 subgoal):\n 1. [a] @ u @ v =\\<^sub>F [a] @ v @ u", "by blast"], ["proof (state)\nthis:\n  [a] @ u @ v =\\<^sub>F [a] @ v @ u\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "also"], ["proof (state)\nthis:\n  [a] @ u @ v =\\<^sub>F [a] @ v @ u\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "have \"\\<dots> = ([a] @ v) @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ v @ u = ([a] @ v) @ u", "by simp"], ["proof (state)\nthis:\n  [a] @ v @ u = ([a] @ v) @ u\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "also"], ["proof (state)\nthis:\n  [a] @ v @ u = ([a] @ v) @ u\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "have \"\\<dots> =\\<^sub>F (v @ [a]) @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ v) @ u =\\<^sub>F (v @ [a]) @ u", "using ind_eq_fin' 2"], ["proof (prove)\nusing this:\n  Ind {?a} (set ?v) \\<Longrightarrow> [?a] @ ?v =\\<^sub>F ?v @ [?a]\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. ([a] @ v) @ u =\\<^sub>F (v @ [a]) @ u", "by blast"], ["proof (state)\nthis:\n  ([a] @ v) @ u =\\<^sub>F (v @ [a]) @ u\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "also"], ["proof (state)\nthis:\n  ([a] @ v) @ u =\\<^sub>F (v @ [a]) @ u\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "have \"\\<dots> = v @ (a # u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v @ [a]) @ u = v @ a # u", "by simp"], ["proof (state)\nthis:\n  (v @ [a]) @ u = v @ a # u\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>Ind (set u) (set v) \\<Longrightarrow> u @ v =\\<^sub>F v @ u;\n        Ind (set (a # u)) (set v)\\<rbrakk>\n       \\<Longrightarrow> (a # u) @ v =\\<^sub>F v @ a # u", "finally"], ["proof (chain)\npicking this:\n  (a # u) @ v =\\<^sub>F v @ a # u", "show ?case"], ["proof (prove)\nusing this:\n  (a # u) @ v =\\<^sub>F v @ a # u\n\ngoal (1 subgoal):\n 1. (a # u) @ v =\\<^sub>F v @ a # u", "by this"], ["proof (state)\nthis:\n  (a # u) @ v =\\<^sub>F v @ a # u\n\ngoal:\nNo subgoals!", "qed"], ["", "definition le_fin :: \"'item list \\<Rightarrow> 'item list \\<Rightarrow> bool\" (infix \"\\<preceq>\\<^sub>F\" 50)\n      where \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<equiv> \\<exists> v\\<^sub>1. w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["", "lemma le_finI[intro 0]:\n      assumes \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "unfolding le_fin_def"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<^sub>1. w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2", "by auto"], ["", "lemma le_finE[elim 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\"\n      obtains v\\<^sub>1\n      where \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding le_fin_def"], ["proof (prove)\nusing this:\n  \\<exists>v\\<^sub>1. w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "lemma le_fin_empty[simp]: \"[] \\<preceq>\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<preceq>\\<^sub>F w", "by force"], ["", "lemma le_fin_trivial[intro]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>2", "assume 1: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>2", "show \"w\\<^sub>1 @ [] =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [] =\\<^sub>F w\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [] =\\<^sub>F w\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 @ [] =\\<^sub>F w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_length[dest]: \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow> length w\\<^sub>1 \\<le> length w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    length w\\<^sub>1 \\<le> length w\\<^sub>2", "by force"], ["", "lemma le_fin_range[dest]: \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 \\<subseteq> set w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    set w\\<^sub>1 \\<subseteq> set w\\<^sub>2", "by force"], ["", "lemma eq_fin_alt_def: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and> w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w\\<^sub>1 =\\<^sub>F w\\<^sub>2) =\n    (w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n     w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "show \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and> w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\" if \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1", "using that"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1", "by blast"], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "assume 0: \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and> w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\""], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "have 1: \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 &&&\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1", "using 0"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 &&&\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "have 10: \"length w\\<^sub>1 = length w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length w\\<^sub>1 = length w\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. length w\\<^sub>1 = length w\\<^sub>2", "by force"], ["proof (state)\nthis:\n  length w\\<^sub>1 = length w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "obtain v\\<^sub>1 v\\<^sub>2 where 2: \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2;\n         w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2;\n         w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (elim le_finE)"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "have 3: \"length w\\<^sub>1 = length (w\\<^sub>1 @ v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length w\\<^sub>1 = length (w\\<^sub>1 @ v\\<^sub>1)", "using 2 10"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>1\n  length w\\<^sub>1 = length w\\<^sub>2\n\ngoal (1 subgoal):\n 1. length w\\<^sub>1 = length (w\\<^sub>1 @ v\\<^sub>1)", "by force"], ["proof (state)\nthis:\n  length w\\<^sub>1 = length (w\\<^sub>1 @ v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "have 4: \"w\\<^sub>1 = w\\<^sub>1 @ v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 = w\\<^sub>1 @ v\\<^sub>1", "using 3"], ["proof (prove)\nusing this:\n  length w\\<^sub>1 = length (w\\<^sub>1 @ v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 = w\\<^sub>1 @ v\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>1 = w\\<^sub>1 @ v\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "have 5: \"length w\\<^sub>2 = length (w\\<^sub>2 @ v\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length w\\<^sub>2 = length (w\\<^sub>2 @ v\\<^sub>2)", "using 2 10"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>1\n  length w\\<^sub>1 = length w\\<^sub>2\n\ngoal (1 subgoal):\n 1. length w\\<^sub>2 = length (w\\<^sub>2 @ v\\<^sub>2)", "by force"], ["proof (state)\nthis:\n  length w\\<^sub>2 = length (w\\<^sub>2 @ v\\<^sub>2)\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "have 6: \"w\\<^sub>2 = w\\<^sub>2 @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>2 = w\\<^sub>2 @ v\\<^sub>2", "using 5"], ["proof (prove)\nusing this:\n  length w\\<^sub>2 = length (w\\<^sub>2 @ v\\<^sub>2)\n\ngoal (1 subgoal):\n 1. w\\<^sub>2 = w\\<^sub>2 @ v\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>2 = w\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>1 \\<Longrightarrow>\n    w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "show \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "using 4 6 2"], ["proof (prove)\nusing this:\n  w\\<^sub>1 = w\\<^sub>1 @ v\\<^sub>1\n  w\\<^sub>2 = w\\<^sub>2 @ v\\<^sub>2\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_reflp[simp, intro]: \"w \\<preceq>\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<preceq>\\<^sub>F w", "by auto"], ["", "lemma le_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "obtain v\\<^sub>1 where 1: \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "obtain v\\<^sub>2 where 2: \"w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(2)"], ["proof (prove)\nusing this:\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "have \"w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "also"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "have \"\\<dots> =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "also"], ["proof (state)\nthis:\n  (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "have \"\\<dots> =\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "using 2"], ["proof (prove)\nusing this:\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "by blast"], ["proof (state)\nthis:\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "finally"], ["proof (chain)\npicking this:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "show \"w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\""], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "by this"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_fin_le_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "by auto"], ["", "lemma le_fin_eq_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "by auto"], ["", "lemma prefix_le_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le> w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "obtain v\\<^sub>1 where 1: \"w\\<^sub>2 = w\\<^sub>1 @ v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>2 = w\\<^sub>1 @ v\\<^sub>1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<le> w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>2 = w\\<^sub>1 @ v\\<^sub>1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>2 = w\\<^sub>1 @ v\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "obtain v\\<^sub>2 where 2: \"w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(2)"], ["proof (prove)\nusing this:\n  w\\<^sub>2 \\<preceq>\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "show \"w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "using 1 2"], ["proof (prove)\nusing this:\n  w\\<^sub>2 = w\\<^sub>1 @ v\\<^sub>1\n  w\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_prefix_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<le> w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "obtain v\\<^sub>1 where 1: \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "obtain v\\<^sub>2 where 2: \"w\\<^sub>3 = w\\<^sub>2 @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        w\\<^sub>3 = w\\<^sub>2 @ v\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(2)"], ["proof (prove)\nusing this:\n  w\\<^sub>2 \\<le> w\\<^sub>3\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        w\\<^sub>3 = w\\<^sub>2 @ v\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>3 = w\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "have \"w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "also"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 = (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "have \"\\<dots> =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "also"], ["proof (state)\nthis:\n  (w\\<^sub>1 @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F w\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "have \"\\<dots> = w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>2 @ v\\<^sub>2 = w\\<^sub>3", "using 2"], ["proof (prove)\nusing this:\n  w\\<^sub>3 = w\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>2 @ v\\<^sub>2 = w\\<^sub>3", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>2 @ v\\<^sub>2 = w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>3", "finally"], ["proof (chain)\npicking this:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "show \"w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\""], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3", "by this"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prefix_eq_fin_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le> w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>F w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<le> w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>F w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>3", "by auto"], ["", "lemma le_fin_concat_start[iff]: \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2) =\n    (w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "assume 0: \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2\""], ["proof (state)\nthis:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2\n\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "obtain v\\<^sub>1 where 1: \"w @ w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w @ w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using 0"], ["proof (prove)\nusing this:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w @ w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  w @ w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2\n\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "show \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  w @ w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "assume 0: \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\""], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "obtain v\\<^sub>1 where 1: \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using 0"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "have 2: \"(w @ w\\<^sub>1) @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w @ w\\<^sub>1) @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (w @ w\\<^sub>1) @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  (w @ w\\<^sub>1) @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "show \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "using 2"], ["proof (prove)\nusing this:\n  (w @ w\\<^sub>1) @ v\\<^sub>1 =\\<^sub>F w @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_concat_end[dest]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w", "obtain v\\<^sub>1 where 1: \"w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>2 @ w", "have \"w\\<^sub>1 @ v\\<^sub>1 @ w = (w\\<^sub>1 @ v\\<^sub>1) @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ w = (w\\<^sub>1 @ v\\<^sub>1) @ w", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ w = (w\\<^sub>1 @ v\\<^sub>1) @ w\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>2 @ w", "also"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ w = (w\\<^sub>1 @ v\\<^sub>1) @ w\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>2 @ w", "have \"\\<dots> =\\<^sub>F w\\<^sub>2 @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ v\\<^sub>1) @ w =\\<^sub>F w\\<^sub>2 @ w", "using 1"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (w\\<^sub>1 @ v\\<^sub>1) @ w =\\<^sub>F w\\<^sub>2 @ w", "by blast"], ["proof (state)\nthis:\n  (w\\<^sub>1 @ v\\<^sub>1) @ w =\\<^sub>F w\\<^sub>2 @ w\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ ?v\\<^sub>1 =\\<^sub>F w\\<^sub>2 @ w", "finally"], ["proof (chain)\npicking this:\n  w\\<^sub>1 @ v\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w", "show \"w\\<^sub>1 @ v\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w\""], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ v\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ v\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w", "by this"], ["proof (state)\nthis:\n  w\\<^sub>1 @ v\\<^sub>1 @ w =\\<^sub>F w\\<^sub>2 @ w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w\n\ngoal:\nNo subgoals!", "qed"], ["", "definition le_fininf :: \"'item list \\<Rightarrow> 'item stream \\<Rightarrow> bool\" (infix \"\\<preceq>\\<^sub>F\\<^sub>I\" 50)\n      where \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<equiv> \\<exists> v\\<^sub>2. v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<and> w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["", "lemma le_fininfI[intro 0]:\n      assumes \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n  w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "unfolding le_fininf_def"], ["proof (prove)\nusing this:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n  w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<^sub>2.\n       v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<and>\n       w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2", "by auto"], ["", "lemma le_fininfE[elim 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"\n      obtains v\\<^sub>2\n      where \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2;\n         w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2;\n         w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding le_fininf_def"], ["proof (prove)\nusing this:\n  \\<exists>v\\<^sub>2.\n     v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<and>\n     w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2;\n         w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "lemma le_fininf_empty[simp]: \"[] \\<preceq>\\<^sub>F\\<^sub>I w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<preceq>\\<^sub>F\\<^sub>I w", "by force"], ["", "lemma le_fininf_range[dest]: \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow> set w\\<^sub>1 \\<subseteq> sset w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    set w\\<^sub>1 \\<subseteq> sset w\\<^sub>2", "by force"], ["", "lemma eq_fin_le_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma le_fin_le_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma prefix_le_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le> w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<le> w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by auto"], ["", "lemma le_fin_prefix_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by auto"], ["", "lemma eq_fin_prefix_fininf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by auto"], ["", "lemma le_fininf_concat_start[iff]: \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2) =\n    (w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "assume 0: \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\""], ["proof (state)\nthis:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "obtain v\\<^sub>2 where 1: \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\" \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2;\n         w @ w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 0"], ["proof (prove)\nusing this:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2;\n         w @ w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "have 2: \"length w \\<le> length v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length w \\<le> length v\\<^sub>2", "using 1(2)"], ["proof (prove)\nusing this:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. length w \\<le> length v\\<^sub>2", "by force"], ["proof (state)\nthis:\n  length w \\<le> length v\\<^sub>2\n\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "have 4: \"w \\<le> v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<le> v\\<^sub>2", "using prefix_fininf_extend[OF 1(1) 2]"], ["proof (prove)\nusing this:\n  w \\<le> v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w \\<le> v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  w \\<le> v\\<^sub>2\n\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "obtain v\\<^sub>1 where 5: \"v\\<^sub>2 = w @ v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        v\\<^sub>2 = w @ v\\<^sub>1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using 4"], ["proof (prove)\nusing this:\n  w \\<le> v\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1.\n        v\\<^sub>2 = w @ v\\<^sub>1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  v\\<^sub>2 = w @ v\\<^sub>1\n\ngoal (2 subgoals):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "show \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. ?v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>F ?v\\<^sub>2", "show \"v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2", "using 1(1)"], ["proof (prove)\nusing this:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2", "unfolding 5"], ["proof (prove)\nusing this:\n  w @ v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>1", "show \"w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>1", "using 1(2)"], ["proof (prove)\nusing this:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>1", "unfolding 5"], ["proof (prove)\nusing this:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ v\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>1", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "assume 0: \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "obtain v\\<^sub>2 where 1: \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2;\n         w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 0"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2;\n         w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n  w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "show \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. ?v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n 2. w @ w\\<^sub>1 \\<preceq>\\<^sub>F ?v\\<^sub>2", "show \"w @ v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I (w @- w\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w @ v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "using 1(1)"], ["proof (prove)\nusing this:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w @ v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  w @ v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ v\\<^sub>2", "show \"w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ v\\<^sub>2", "using 1(2)"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ v\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F w @ v\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w @ w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fininf_singleton[intro, simp]: \"[shd v] \\<preceq>\\<^sub>F\\<^sub>I v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [shd v] \\<preceq>\\<^sub>F\\<^sub>I v", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [shd v] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"[shd v] \\<preceq>\\<^sub>F\\<^sub>I shd v ## sdrop 1 v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [shd v] \\<preceq>\\<^sub>F\\<^sub>I shd v ## sdrop 1 v", "by blast"], ["proof (state)\nthis:\n  [shd v] \\<preceq>\\<^sub>F\\<^sub>I shd v ## sdrop 1 v\n\ngoal (1 subgoal):\n 1. [shd v] \\<preceq>\\<^sub>F\\<^sub>I v", "also"], ["proof (state)\nthis:\n  [shd v] \\<preceq>\\<^sub>F\\<^sub>I shd v ## sdrop 1 v\n\ngoal (1 subgoal):\n 1. [shd v] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"\\<dots> = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. shd v ## sdrop 1 v = v", "by simp"], ["proof (state)\nthis:\n  shd v ## sdrop 1 v = v\n\ngoal (1 subgoal):\n 1. [shd v] \\<preceq>\\<^sub>F\\<^sub>I v", "finally"], ["proof (chain)\npicking this:\n  [shd v] \\<preceq>\\<^sub>F\\<^sub>I v", "show ?thesis"], ["proof (prove)\nusing this:\n  [shd v] \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. [shd v] \\<preceq>\\<^sub>F\\<^sub>I v", "by this"], ["proof (state)\nthis:\n  [shd v] \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal:\nNo subgoals!", "qed"], ["", "definition le_inf :: \"'item stream \\<Rightarrow> 'item stream \\<Rightarrow> bool\" (infix \"\\<preceq>\\<^sub>I\" 50)\n      where \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<equiv> \\<forall> v\\<^sub>1. v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["", "lemma le_infI[intro 0]:\n      assumes \"\\<And> v\\<^sub>1. v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  ?v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n  ?v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2", "unfolding le_inf_def"], ["proof (prove)\nusing this:\n  ?v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n  ?v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<forall>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "by auto"], ["", "lemma le_infE[elim 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\"\n      obtains \"v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. (v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "unfolding le_inf_def"], ["proof (prove)\nusing this:\n  \\<forall>v\\<^sub>1.\n     v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<longrightarrow>\n     v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. (v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "lemma le_inf_range[dest]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\"\n      shows \"sset w\\<^sub>1 \\<subseteq> sset w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sset w\\<^sub>1 \\<subseteq> sset w\\<^sub>2", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> sset w\\<^sub>1 \\<Longrightarrow> x \\<in> sset w\\<^sub>2", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> sset w\\<^sub>1 \\<Longrightarrow> x \\<in> sset w\\<^sub>2", "assume 1: \"a \\<in> sset w\\<^sub>1\""], ["proof (state)\nthis:\n  a \\<in> sset w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> sset w\\<^sub>1 \\<Longrightarrow> x \\<in> sset w\\<^sub>2", "obtain i where 2: \"a = w\\<^sub>1 !! i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. a = w\\<^sub>1 !! i \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 1"], ["proof (prove)\nusing this:\n  a \\<in> sset w\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<And>i. a = w\\<^sub>1 !! i \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis imageE sset_range)"], ["proof (state)\nthis:\n  a = w\\<^sub>1 !! i\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> sset w\\<^sub>1 \\<Longrightarrow> x \\<in> sset w\\<^sub>2", "have 3: \"stake (Suc i) w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stake (Suc i) w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1", "by rule"], ["proof (state)\nthis:\n  stake (Suc i) w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> sset w\\<^sub>1 \\<Longrightarrow> x \\<in> sset w\\<^sub>2", "have 4: \"stake (Suc i) w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stake (Suc i) w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "using assms 3"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n  stake (Suc i) w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. stake (Suc i) w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "by rule"], ["proof (state)\nthis:\n  stake (Suc i) w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> sset w\\<^sub>1 \\<Longrightarrow> x \\<in> sset w\\<^sub>2", "have 5: \"w\\<^sub>1 !! i \\<in> set (stake (Suc i) w\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 !! i \\<in> set (stake (Suc i) w\\<^sub>1)", "by (meson lessI set_stake_snth)"], ["proof (state)\nthis:\n  w\\<^sub>1 !! i \\<in> set (stake (Suc i) w\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> sset w\\<^sub>1 \\<Longrightarrow> x \\<in> sset w\\<^sub>2", "show \"a \\<in> sset w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> sset w\\<^sub>2", "unfolding 2"], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 !! i \\<in> sset w\\<^sub>2", "using 5 4"], ["proof (prove)\nusing this:\n  w\\<^sub>1 !! i \\<in> set (stake (Suc i) w\\<^sub>1)\n  stake (Suc i) w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 !! i \\<in> sset w\\<^sub>2", "by fastforce"], ["proof (state)\nthis:\n  a \\<in> sset w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_inf_reflp[simp, intro]: \"w \\<preceq>\\<^sub>I w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<preceq>\\<^sub>I w", "by auto"], ["", "lemma prefix_fininf_le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma le_fininf_le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma le_infI':\n      assumes \"\\<And> k. \\<exists> v. v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<and> k < length v \\<and> v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "assume 1: \"u \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\""], ["proof (state)\nthis:\n  u \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "obtain v where 2: \"v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\" \"length u < length v\" \"v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1; length u < length v;\n         v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>v.\n     v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<and>\n     ?k < length v \\<and> v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1; length u < length v;\n         v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n  length u < length v\n  v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "have 3: \"length u \\<le> length v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length u \\<le> length v", "using 2(2)"], ["proof (prove)\nusing this:\n  length u < length v\n\ngoal (1 subgoal):\n 1. length u \\<le> length v", "by auto"], ["proof (state)\nthis:\n  length u \\<le> length v\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "have 4: \"u \\<le> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<le> v", "using prefix_fininf_length 1 2(1) 3"], ["proof (prove)\nusing this:\n  \\<lbrakk>?u \\<le>\\<^sub>F\\<^sub>I ?w; ?v \\<le>\\<^sub>F\\<^sub>I ?w;\n   length ?u \\<le> length ?v\\<rbrakk>\n  \\<Longrightarrow> ?u \\<le> ?v\n  u \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n  v \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n  length u \\<le> length v\n\ngoal (1 subgoal):\n 1. u \\<le> v", "by this"], ["proof (state)\nthis:\n  u \\<le> v\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "show \"u \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "using 4 2(3)"], ["proof (prove)\nusing this:\n  u \\<le> v\n  v \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "by rule"], ["proof (state)\nthis:\n  u \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_infI_chain_left:\n      assumes \"chain w\" \"\\<And> k. w k \\<preceq>\\<^sub>F\\<^sub>I v\"\n      shows \"limit w \\<preceq>\\<^sub>I v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limit w \\<preceq>\\<^sub>I v", "proof (rule le_infI')"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<exists>va.\n          va \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n          k < length va \\<and> va \\<preceq>\\<^sub>F\\<^sub>I v", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<exists>va.\n          va \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n          k < length va \\<and> va \\<preceq>\\<^sub>F\\<^sub>I v", "obtain l where 1: \"k < length (w l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l. k < length (w l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  chain w\n\ngoal (1 subgoal):\n 1. (\\<And>l. k < length (w l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  k < length (w l)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<exists>va.\n          va \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n          k < length va \\<and> va \\<preceq>\\<^sub>F\\<^sub>I v", "show \"\\<exists> va. va \\<le>\\<^sub>F\\<^sub>I limit w \\<and> k < length va \\<and> va \\<preceq>\\<^sub>F\\<^sub>I v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>va.\n       va \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n       k < length va \\<and> va \\<preceq>\\<^sub>F\\<^sub>I v", "proof (intro exI conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. ?va \\<le>\\<^sub>F\\<^sub>I limit w\n 2. k < length ?va\n 3. ?va \\<preceq>\\<^sub>F\\<^sub>I v", "show \"w l \\<le>\\<^sub>F\\<^sub>I limit w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w l \\<le>\\<^sub>F\\<^sub>I limit w", "using chain_prefix_limit assms(1)"], ["proof (prove)\nusing this:\n  chain ?w \\<Longrightarrow> ?w ?k \\<le>\\<^sub>F\\<^sub>I limit ?w\n  chain w\n\ngoal (1 subgoal):\n 1. w l \\<le>\\<^sub>F\\<^sub>I limit w", "by this"], ["proof (state)\nthis:\n  w l \\<le>\\<^sub>F\\<^sub>I limit w\n\ngoal (2 subgoals):\n 1. k < length (w l)\n 2. w l \\<preceq>\\<^sub>F\\<^sub>I v", "show \"k < length (w l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k < length (w l)", "using 1"], ["proof (prove)\nusing this:\n  k < length (w l)\n\ngoal (1 subgoal):\n 1. k < length (w l)", "by this"], ["proof (state)\nthis:\n  k < length (w l)\n\ngoal (1 subgoal):\n 1. w l \\<preceq>\\<^sub>F\\<^sub>I v", "show \"w l \\<preceq>\\<^sub>F\\<^sub>I v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w l \\<preceq>\\<^sub>F\\<^sub>I v", "using assms(2)"], ["proof (prove)\nusing this:\n  w ?k \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. w l \\<preceq>\\<^sub>F\\<^sub>I v", "by this"], ["proof (state)\nthis:\n  w l \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>va.\n     va \\<le>\\<^sub>F\\<^sub>I limit w \\<and>\n     k < length va \\<and> va \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_infI_chain_right:\n      assumes \"chain w\" \"\\<And> u. u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow> u \\<preceq>\\<^sub>F w (l u)\"\n      shows \"v \\<preceq>\\<^sub>I limit w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<preceq>\\<^sub>I limit w", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I limit w", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I limit w", "assume 1: \"u \\<le>\\<^sub>F\\<^sub>I v\""], ["proof (state)\nthis:\n  u \\<le>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I limit w", "show \"u \\<preceq>\\<^sub>F\\<^sub>I limit w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F\\<^sub>I limit w", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. ?v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I limit w\n 2. u \\<preceq>\\<^sub>F ?v\\<^sub>2", "show \"w (l u) \\<le>\\<^sub>F\\<^sub>I limit w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w (l u) \\<le>\\<^sub>F\\<^sub>I limit w", "using chain_prefix_limit assms(1)"], ["proof (prove)\nusing this:\n  chain ?w \\<Longrightarrow> ?w ?k \\<le>\\<^sub>F\\<^sub>I limit ?w\n  chain w\n\ngoal (1 subgoal):\n 1. w (l u) \\<le>\\<^sub>F\\<^sub>I limit w", "by this"], ["proof (state)\nthis:\n  w (l u) \\<le>\\<^sub>F\\<^sub>I limit w\n\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F w (l u)", "show \"u \\<preceq>\\<^sub>F w (l u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F w (l u)", "using assms(2) 1"], ["proof (prove)\nusing this:\n  ?u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow> ?u \\<preceq>\\<^sub>F w (l ?u)\n  u \\<le>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F w (l u)", "by this"], ["proof (state)\nthis:\n  u \\<preceq>\\<^sub>F w (l u)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u \\<preceq>\\<^sub>F\\<^sub>I limit w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_infI_chain_right':\n      assumes \"chain w\" \"\\<And> k. stake k v \\<preceq>\\<^sub>F w (l k)\"\n      shows \"v \\<preceq>\\<^sub>I limit w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<preceq>\\<^sub>I limit w", "proof (rule le_infI_chain_right)"], ["proof (state)\ngoal (2 subgoals):\n 1. chain w\n 2. \\<And>u.\n       u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       u \\<preceq>\\<^sub>F w (?l u)", "show \"chain w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chain w", "using assms(1)"], ["proof (prove)\nusing this:\n  chain w\n\ngoal (1 subgoal):\n 1. chain w", "by this"], ["proof (state)\nthis:\n  chain w\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       u \\<preceq>\\<^sub>F w (?l u)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       u \\<preceq>\\<^sub>F w (?l u)", "fix u"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>u.\n       u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       u \\<preceq>\\<^sub>F w (?l u)", "assume 1: \"u \\<le>\\<^sub>F\\<^sub>I v\""], ["proof (state)\nthis:\n  u \\<le>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       u \\<preceq>\\<^sub>F w (?l u)", "have 2: \"stake (length u) v = u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stake (length u) v = u", "using 1"], ["proof (prove)\nusing this:\n  u \\<le>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. stake (length u) v = u", "by (simp add: prefix_fininf_def shift_eq)"], ["proof (state)\nthis:\n  stake (length u) v = u\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       u \\<preceq>\\<^sub>F w (?l u)", "have 3: \"stake (length u) v \\<preceq>\\<^sub>F w (l (length u))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stake (length u) v \\<preceq>\\<^sub>F w (l (length u))", "using assms(2)"], ["proof (prove)\nusing this:\n  stake ?k v \\<preceq>\\<^sub>F w (l ?k)\n\ngoal (1 subgoal):\n 1. stake (length u) v \\<preceq>\\<^sub>F w (l (length u))", "by this"], ["proof (state)\nthis:\n  stake (length u) v \\<preceq>\\<^sub>F w (l (length u))\n\ngoal (1 subgoal):\n 1. \\<And>u.\n       u \\<le>\\<^sub>F\\<^sub>I v \\<Longrightarrow>\n       u \\<preceq>\\<^sub>F w (?l u)", "show \"u \\<preceq>\\<^sub>F w (l (length u))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F w (l (length u))", "using 3"], ["proof (prove)\nusing this:\n  stake (length u) v \\<preceq>\\<^sub>F w (l (length u))\n\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F w (l (length u))", "unfolding 2"], ["proof (prove)\nusing this:\n  u \\<preceq>\\<^sub>F w (l (length u))\n\ngoal (1 subgoal):\n 1. u \\<preceq>\\<^sub>F w (l (length u))", "by this"], ["proof (state)\nthis:\n  u \\<preceq>\\<^sub>F w (l (length u))\n\ngoal:\nNo subgoals!", "qed"], ["", "definition eq_inf :: \"'item stream \\<Rightarrow> 'item stream \\<Rightarrow> bool\" (infix \"=\\<^sub>I\" 50)\n      where \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2 \\<equiv> w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<and> w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\""], ["", "lemma eq_infI[intro 0]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\"\n      shows \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>I w\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>I w\\<^sub>2", "unfolding eq_inf_def"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<and>\n    w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1", "by auto"], ["", "lemma eq_infE[elim 0]:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\"\n      obtains \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2;\n      w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2;\n      w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding eq_inf_def"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<and>\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2;\n      w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>1\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "lemma eq_inf_range[dest]: \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2 \\<Longrightarrow> sset w\\<^sub>1 = sset w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    sset w\\<^sub>1 = sset w\\<^sub>2", "by force"], ["", "lemma eq_inf_reflp[simp, intro]: \"w =\\<^sub>I w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w =\\<^sub>I w", "by auto"], ["", "lemma eq_inf_symp[intro]: \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2 \\<Longrightarrow> w\\<^sub>2 =\\<^sub>I w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>2 =\\<^sub>I w\\<^sub>1", "by auto"], ["", "lemma eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 =\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma le_fininf_eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma le_inf_eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma eq_inf_le_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 =\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 \\<preceq>\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma prefix_fininf_eq_inf_transp[intro, trans]:\n      assumes \"w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\" \"w\\<^sub>2 =\\<^sub>I w\\<^sub>3\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "using assms"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2\n  w\\<^sub>2 =\\<^sub>I w\\<^sub>3\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>3", "by blast"], ["", "lemma le_inf_concat_start[iff]: \"w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2) =\n    (w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "assume 1: \"w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2\""], ["proof (state)\nthis:\n  w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2\n\ngoal (2 subgoals):\n 1. w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n 2. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "show \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "fix v\\<^sub>1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "assume 2: \"v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\""], ["proof (state)\nthis:\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "have \"w @ v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w @ v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1", "using 2"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w @ v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  w @ v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "also"], ["proof (state)\nthis:\n  w @ v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "have \"\\<dots> \\<preceq>\\<^sub>I w @- w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "by this"], ["proof (state)\nthis:\n  w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "finally"], ["proof (chain)\npicking this:\n  w @ v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "show \"v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\""], ["proof (prove)\nusing this:\n  w @ v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2", "by rule"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "assume 1: \"w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\""], ["proof (state)\nthis:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2 \\<Longrightarrow>\n    w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "show \"w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "fix v\\<^sub>1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "assume 2: \"v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1\""], ["proof (state)\nthis:\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1 \\<Longrightarrow>\n       v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "then"], ["proof (chain)\npicking this:\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1", "show \"v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\""], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w @- w\\<^sub>1\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "proof (cases rule: prefix_fininf_append)"], ["proof (state)\ngoal (2 subgoals):\n 1. v\\<^sub>1 \\<le> w \\<Longrightarrow>\n    v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "case (absorb)"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<le> w\n\ngoal (2 subgoals):\n 1. v\\<^sub>1 \\<le> w \\<Longrightarrow>\n    v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "using absorb"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<le> w\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "case (extend z)"], ["proof (state)\nthis:\n  v\\<^sub>1 = w @ z\n  z \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "using 1 extend"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>I w\\<^sub>2\n  v\\<^sub>1 = w @ z\n  z \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w @- w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w @- w\\<^sub>1 \\<preceq>\\<^sub>I w @- w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_fin_le_inf_concat_end[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> w\\<^sub>1 @- w \\<preceq>\\<^sub>I w\\<^sub>2 @- w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 @- w \\<preceq>\\<^sub>I w\\<^sub>2 @- w", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F w\\<^sub>2;\n        v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 @- w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "fix v\\<^sub>1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F w\\<^sub>2;\n        v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 @- w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "assume 1: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\" \"v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 @- w\""], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 @- w\n\ngoal (1 subgoal):\n 1. \\<And>v\\<^sub>1.\n       \\<lbrakk>w\\<^sub>1 =\\<^sub>F w\\<^sub>2;\n        v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 @- w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "show \"v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "using 1(2)"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>1 @- w\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "proof (cases rule: prefix_fininf_append)"], ["proof (state)\ngoal (2 subgoals):\n 1. v\\<^sub>1 \\<le> w\\<^sub>1 \\<Longrightarrow>\n    v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w\\<^sub>1 @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "case (absorb)"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<le> w\\<^sub>1\n\ngoal (2 subgoals):\n 1. v\\<^sub>1 \\<le> w\\<^sub>1 \\<Longrightarrow>\n    v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w\\<^sub>1 @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. ?v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n 2. v\\<^sub>1 \\<preceq>\\<^sub>F ?v\\<^sub>2", "show \"w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I (w\\<^sub>2 @- w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "show \"v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "using absorb 1(1)"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<le> w\\<^sub>1\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w\\<^sub>1 @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w\\<^sub>1 @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "case (extend w')"], ["proof (state)\nthis:\n  v\\<^sub>1 = w\\<^sub>1 @ w'\n  w' \\<le>\\<^sub>F\\<^sub>I w\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>1 = w\\<^sub>1 @ z;\n        z \\<le>\\<^sub>F\\<^sub>I w\\<rbrakk>\n       \\<Longrightarrow> v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. ?v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n 2. v\\<^sub>1 \\<preceq>\\<^sub>F ?v\\<^sub>2", "show \"w\\<^sub>2 @ w' \\<le>\\<^sub>F\\<^sub>I (w\\<^sub>2 @- w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>2 @ w' \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "using extend(2)"], ["proof (prove)\nusing this:\n  w' \\<le>\\<^sub>F\\<^sub>I w\n\ngoal (1 subgoal):\n 1. w\\<^sub>2 @ w' \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>2 @ w' \\<le>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w'", "show \"v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w'", "unfolding extend(1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ w' \\<preceq>\\<^sub>F w\\<^sub>2 @ w'", "using 1(1)"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ w' \\<preceq>\\<^sub>F w\\<^sub>2 @ w'", "by auto"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>2 @ w'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\\<^sub>2 @- w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_inf_concat_start[iff]: \"w @- w\\<^sub>1 =\\<^sub>I w @- w\\<^sub>2 \\<longleftrightarrow> w\\<^sub>1 =\\<^sub>I w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (w @- w\\<^sub>1 =\\<^sub>I w @- w\\<^sub>2) =\n    (w\\<^sub>1 =\\<^sub>I w\\<^sub>2)", "by blast"], ["", "lemma eq_inf_concat_end[dest]: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow> w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w", "assume 0: \"w\\<^sub>1 =\\<^sub>F w\\<^sub>2\""], ["proof (state)\nthis:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w", "have 1: \"w\\<^sub>2 =\\<^sub>F w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>2 =\\<^sub>F w\\<^sub>1", "using 0"], ["proof (prove)\nusing this:\n  w\\<^sub>1 =\\<^sub>F w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>2 =\\<^sub>F w\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>2 =\\<^sub>F w\\<^sub>1\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 =\\<^sub>F w\\<^sub>2 \\<Longrightarrow>\n    w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w", "show \"w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w", "using eq_fin_le_inf_concat_end[OF 0] eq_fin_le_inf_concat_end[OF 1]"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @- ?w \\<preceq>\\<^sub>I w\\<^sub>2 @- ?w\n  w\\<^sub>2 @- ?w \\<preceq>\\<^sub>I w\\<^sub>1 @- ?w\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w", "by auto"], ["proof (state)\nthis:\n  w\\<^sub>1 @- w =\\<^sub>I w\\<^sub>2 @- w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fininf_suffixI[intro]:\n      assumes \"w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2\"\n      shows \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w", "using assms"], ["proof (prove)\nusing this:\n  w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w", "by blast"], ["", "lemma le_fininf_suffixE[elim]:\n      assumes \"w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\"\n      obtains w\\<^sub>2\n      where \"w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>2.\n        w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>2.\n        w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "obtain v\\<^sub>2 where 1: \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\" \"w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w;\n         w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w;\n         w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\n  w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>2.\n        w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "obtain u\\<^sub>1 where 2: \"w\\<^sub>1 @ u\\<^sub>1 =\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1.\n        w\\<^sub>1 @ u\\<^sub>1 =\\<^sub>F v\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using 1(2)"], ["proof (prove)\nusing this:\n  w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1.\n        w\\<^sub>1 @ u\\<^sub>1 =\\<^sub>F v\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w\\<^sub>1 @ u\\<^sub>1 =\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>2.\n        w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "obtain v\\<^sub>2' where 3: \"w = v\\<^sub>2 @- v\\<^sub>2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2'.\n        w = v\\<^sub>2 @- v\\<^sub>2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using 1(1)"], ["proof (prove)\nusing this:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2'.\n        w = v\\<^sub>2 @- v\\<^sub>2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  w = v\\<^sub>2 @- v\\<^sub>2'\n\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>2.\n        w =\\<^sub>I w\\<^sub>1 @- w\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. w =\\<^sub>I w\\<^sub>1 @- ?w\\<^sub>2", "show \"w =\\<^sub>I w\\<^sub>1 @- u\\<^sub>1 @- v\\<^sub>2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w =\\<^sub>I w\\<^sub>1 @- u\\<^sub>1 @- v\\<^sub>2'", "unfolding 3"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>2 @- v\\<^sub>2' =\\<^sub>I w\\<^sub>1 @- u\\<^sub>1 @- v\\<^sub>2'", "using 2"], ["proof (prove)\nusing this:\n  w\\<^sub>1 @ u\\<^sub>1 =\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>2 @- v\\<^sub>2' =\\<^sub>I w\\<^sub>1 @- u\\<^sub>1 @- v\\<^sub>2'", "by fastforce"], ["proof (state)\nthis:\n  w =\\<^sub>I w\\<^sub>1 @- u\\<^sub>1 @- v\\<^sub>2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subsume_fin:\n      assumes \"u\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\" \"v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\"\n      obtains w\\<^sub>1\n      where \"u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\" \"v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>1.\n        \\<lbrakk>u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1;\n         v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>1.\n        \\<lbrakk>u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1;\n         v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain u\\<^sub>2 where 2: \"u\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\" \"u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>2.\n        \\<lbrakk>u\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w;\n         u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  u\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\n\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>2.\n        \\<lbrakk>u\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w;\n         u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  u\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\n  u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>1.\n        \\<lbrakk>u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1;\n         v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain v\\<^sub>2 where 3: \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\" \"v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w;\n         v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(2)"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I w\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w;\n         v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I w\n  v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>1.\n        \\<lbrakk>u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1;\n         v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (cases \"length u\\<^sub>2\" \"length v\\<^sub>2\" rule: le_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. length u\\<^sub>2 \\<le> length v\\<^sub>2 \\<Longrightarrow> thesis\n 2. length v\\<^sub>2 \\<le> length u\\<^sub>2 \\<Longrightarrow> thesis", "case le"], ["proof (state)\nthis:\n  length u\\<^sub>2 \\<le> length v\\<^sub>2\n\ngoal (2 subgoals):\n 1. length u\\<^sub>2 \\<le> length v\\<^sub>2 \\<Longrightarrow> thesis\n 2. length v\\<^sub>2 \\<le> length u\\<^sub>2 \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. u\\<^sub>1 \\<preceq>\\<^sub>F ?w\\<^sub>1\n 2. v\\<^sub>1 \\<preceq>\\<^sub>F ?w\\<^sub>1", "show \"u\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2", "using 2(2) prefix_fininf_length[OF 2(1) 3(1) le]"], ["proof (prove)\nusing this:\n  u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\n  u\\<^sub>2 \\<le> v\\<^sub>2\n\ngoal (1 subgoal):\n 1. u\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  u\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2", "show \"v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2", "using 3(2)"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. length v\\<^sub>2 \\<le> length u\\<^sub>2 \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. length v\\<^sub>2 \\<le> length u\\<^sub>2 \\<Longrightarrow> thesis", "case ge"], ["proof (state)\nthis:\n  length v\\<^sub>2 \\<le> length u\\<^sub>2\n\ngoal (1 subgoal):\n 1. length v\\<^sub>2 \\<le> length u\\<^sub>2 \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. u\\<^sub>1 \\<preceq>\\<^sub>F ?w\\<^sub>1\n 2. v\\<^sub>1 \\<preceq>\\<^sub>F ?w\\<^sub>1", "show \"u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2", "using 2(2)"], ["proof (prove)\nusing this:\n  u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\n\ngoal (1 subgoal):\n 1. u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2", "by this"], ["proof (state)\nthis:\n  u\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2", "show \"v\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2", "using 3(2) prefix_fininf_length[OF 3(1) 2(1) ge]"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\n  v\\<^sub>2 \\<le> u\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  v\\<^sub>1 \\<preceq>\\<^sub>F u\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_fin_end:\n      assumes \"u\\<^sub>1 =\\<^sub>F u\\<^sub>2\" \"u\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2\"\n      shows \"v\\<^sub>1 =\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "have \"u\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2", "using assms(1)"], ["proof (prove)\nusing this:\n  u\\<^sub>1 =\\<^sub>F u\\<^sub>2\n\ngoal (1 subgoal):\n 1. u\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  u\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "also"], ["proof (state)\nthis:\n  u\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "have \"\\<dots> =\\<^sub>F u\\<^sub>1 @ v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>1 @ v\\<^sub>1", "using assms(2)"], ["proof (prove)\nusing this:\n  u\\<^sub>1 @ v\\<^sub>1 =\\<^sub>F u\\<^sub>2 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. u\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>1 @ v\\<^sub>1", "by blast"], ["proof (state)\nthis:\n  u\\<^sub>2 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>1 @ v\\<^sub>1\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "finally"], ["proof (chain)\npicking this:\n  u\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>1 @ v\\<^sub>1", "show ?thesis"], ["proof (prove)\nusing this:\n  u\\<^sub>1 @ v\\<^sub>2 =\\<^sub>F u\\<^sub>1 @ v\\<^sub>1\n\ngoal (1 subgoal):\n 1. v\\<^sub>1 =\\<^sub>F v\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  v\\<^sub>1 =\\<^sub>F v\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "definition indoc :: \"'item \\<Rightarrow> 'item list \\<Rightarrow> bool\"\n      where \"indoc a u \\<equiv> \\<exists> u\\<^sub>1 u\\<^sub>2. u = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and> a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)\""], ["", "lemma indoc_set: \"indoc a u \\<Longrightarrow> a \\<in> set u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a u \\<Longrightarrow> a \\<in> set u", "unfolding indoc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>u\\<^sub>1 u\\<^sub>2.\n       u = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n       a \\<notin> set u\\<^sub>1 \\<and>\n       Ind {a} (set u\\<^sub>1) \\<Longrightarrow>\n    a \\<in> set u", "by auto"], ["", "lemma indoc_appendI1[intro]:\n      assumes \"indoc a u\"\n      shows \"indoc a (u @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a (u @ v)", "using assms"], ["proof (prove)\nusing this:\n  indoc a u\n\ngoal (1 subgoal):\n 1. indoc a (u @ v)", "unfolding indoc_def"], ["proof (prove)\nusing this:\n  \\<exists>u\\<^sub>1 u\\<^sub>2.\n     u = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n     a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<exists>u\\<^sub>1 u\\<^sub>2.\n       u @ v = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n       a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)", "by force"], ["", "lemma indoc_appendI2[intro]:\n      assumes \"a \\<notin> set u\" \"Ind {a} (set u)\" \"indoc a v\"\n      shows \"indoc a (u @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a (u @ v)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. indoc a (u @ v)", "obtain v\\<^sub>1 v\\<^sub>2 where 1: \"v = v\\<^sub>1 @ [a] @ v\\<^sub>2\" \"a \\<notin> set v\\<^sub>1\" \"Ind {a} (set v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2; a \\<notin> set v\\<^sub>1;\n         Ind {a} (set v\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(3)"], ["proof (prove)\nusing this:\n  indoc a v\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2; a \\<notin> set v\\<^sub>1;\n         Ind {a} (set v\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding indoc_def"], ["proof (prove)\nusing this:\n  \\<exists>u\\<^sub>1 u\\<^sub>2.\n     v = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n     a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2; a \\<notin> set v\\<^sub>1;\n         Ind {a} (set v\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n  a \\<notin> set v\\<^sub>1\n  Ind {a} (set v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. indoc a (u @ v)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a (u @ v)", "proof (unfold indoc_def, intro exI conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. u @ v = ?u\\<^sub>1 @ [a] @ ?u\\<^sub>21\n 2. a \\<notin> set ?u\\<^sub>1\n 3. Ind {a} (set ?u\\<^sub>1)", "show \"u @ v = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ v = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "unfolding 1(1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. u @ v\\<^sub>1 @ [a] @ v\\<^sub>2 = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  u @ v = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. a \\<notin> set (u @ v\\<^sub>1)\n 2. Ind {a} (set (u @ v\\<^sub>1))", "show \"a \\<notin> set (u @ v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "using assms(1) 1(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set u\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set (u @ v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. Ind {a} (set (u @ v\\<^sub>1))", "show \"Ind {a} (set (u @ v\\<^sub>1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set (u @ v\\<^sub>1))", "using assms(2) 1(3)"], ["proof (prove)\nusing this:\n  Ind {a} (set u)\n  Ind {a} (set v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. Ind {a} (set (u @ v\\<^sub>1))", "by auto"], ["proof (state)\nthis:\n  Ind {a} (set (u @ v\\<^sub>1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  indoc a (u @ v)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma indoc_appendE[elim!]:\n      assumes \"indoc a (u @ v)\"\n      obtains (first) \"a \\<in> set u\" \"indoc a u\" | (second)  \"a \\<notin> set u\" \"Ind {a} (set u)\" \"indoc a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>a \\<in> set u; indoc a u\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>a \\<notin> set u; Ind {a} (set u); indoc a v\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>a \\<in> set u; indoc a u\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>a \\<notin> set u; Ind {a} (set u); indoc a v\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "obtain w\\<^sub>1 w\\<^sub>2 where 1: \"u @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2\" \"a \\<notin> set w\\<^sub>1\" \"Ind {a} (set w\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>1 w\\<^sub>2.\n        \\<lbrakk>u @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2;\n         a \\<notin> set w\\<^sub>1; Ind {a} (set w\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  indoc a (u @ v)\n\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>1 w\\<^sub>2.\n        \\<lbrakk>u @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2;\n         a \\<notin> set w\\<^sub>1; Ind {a} (set w\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding indoc_def"], ["proof (prove)\nusing this:\n  \\<exists>u\\<^sub>1 u\\<^sub>2.\n     u @ v = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n     a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<And>w\\<^sub>1 w\\<^sub>2.\n        \\<lbrakk>u @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2;\n         a \\<notin> set w\\<^sub>1; Ind {a} (set w\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  u @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2\n  a \\<notin> set w\\<^sub>1\n  Ind {a} (set w\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>a \\<in> set u; indoc a u\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>a \\<notin> set u; Ind {a} (set u); indoc a v\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (cases \"a \\<in> set u\")"], ["proof (state)\ngoal (2 subgoals):\n 1. a \\<in> set u \\<Longrightarrow> thesis\n 2. a \\<notin> set u \\<Longrightarrow> thesis", "case True"], ["proof (state)\nthis:\n  a \\<in> set u\n\ngoal (2 subgoals):\n 1. a \\<in> set u \\<Longrightarrow> thesis\n 2. a \\<notin> set u \\<Longrightarrow> thesis", "obtain u\\<^sub>1 u\\<^sub>2 where 2: \"u = u\\<^sub>1 @ [a] @ u\\<^sub>2\" \"a \\<notin> set u\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1 u\\<^sub>2.\n        \\<lbrakk>u = u\\<^sub>1 @ [a] @ u\\<^sub>2;\n         a \\<notin> set u\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using split_list_first[OF True]"], ["proof (prove)\nusing this:\n  \\<exists>ys zs. u = ys @ a # zs \\<and> a \\<notin> set ys\n\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1 u\\<^sub>2.\n        \\<lbrakk>u = u\\<^sub>1 @ [a] @ u\\<^sub>2;\n         a \\<notin> set u\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  u = u\\<^sub>1 @ [a] @ u\\<^sub>2\n  a \\<notin> set u\\<^sub>1\n\ngoal (2 subgoals):\n 1. a \\<in> set u \\<Longrightarrow> thesis\n 2. a \\<notin> set u \\<Longrightarrow> thesis", "have 3: \"w\\<^sub>1 = u\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 = u\\<^sub>1", "proof (rule split_list_first_unique)"], ["proof (state)\ngoal (3 subgoals):\n 1. w\\<^sub>1 @ [?a] @ ?u\\<^sub>2 = u\\<^sub>1 @ [?a] @ ?v\\<^sub>2\n 2. ?a \\<notin> set w\\<^sub>1\n 3. ?a \\<notin> set u\\<^sub>1", "show \"w\\<^sub>1 @ [a] @ w\\<^sub>2 = u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [a] @ w\\<^sub>2 = u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v", "using 1(1)"], ["proof (prove)\nusing this:\n  u @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [a] @ w\\<^sub>2 = u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v", "unfolding 2(1)"], ["proof (prove)\nusing this:\n  (u\\<^sub>1 @ [a] @ u\\<^sub>2) @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [a] @ w\\<^sub>2 = u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 @ [a] @ w\\<^sub>2 = u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v\n\ngoal (2 subgoals):\n 1. a \\<notin> set w\\<^sub>1\n 2. a \\<notin> set u\\<^sub>1", "show \"a \\<notin> set w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set w\\<^sub>1", "using 1(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set w\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set w\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set w\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "show \"a \\<notin> set u\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "using 2(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set u\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "by this"], ["proof (state)\nthis:\n  a \\<notin> set u\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 = u\\<^sub>1\n\ngoal (2 subgoals):\n 1. a \\<in> set u \\<Longrightarrow> thesis\n 2. a \\<notin> set u \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (rule first)"], ["proof (state)\ngoal (2 subgoals):\n 1. a \\<in> set u\n 2. indoc a u", "show \"a \\<in> set u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> set u", "using True"], ["proof (prove)\nusing this:\n  a \\<in> set u\n\ngoal (1 subgoal):\n 1. a \\<in> set u", "by this"], ["proof (state)\nthis:\n  a \\<in> set u\n\ngoal (1 subgoal):\n 1. indoc a u", "show \"indoc a u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a u", "proof (unfold indoc_def, intro exI conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. u = ?u\\<^sub>1 @ [a] @ ?u\\<^sub>21\n 2. a \\<notin> set ?u\\<^sub>1\n 3. Ind {a} (set ?u\\<^sub>1)", "show \"u = u\\<^sub>1 @ [a] @ u\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u = u\\<^sub>1 @ [a] @ u\\<^sub>2", "using 2(1)"], ["proof (prove)\nusing this:\n  u = u\\<^sub>1 @ [a] @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. u = u\\<^sub>1 @ [a] @ u\\<^sub>2", "by this"], ["proof (state)\nthis:\n  u = u\\<^sub>1 @ [a] @ u\\<^sub>2\n\ngoal (2 subgoals):\n 1. a \\<notin> set u\\<^sub>1\n 2. Ind {a} (set u\\<^sub>1)", "show \"a \\<notin> set u\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "using 1(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set w\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "unfolding 3"], ["proof (prove)\nusing this:\n  a \\<notin> set u\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "by this"], ["proof (state)\nthis:\n  a \\<notin> set u\\<^sub>1\n\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "show \"Ind {a} (set u\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "using 1(3)"], ["proof (prove)\nusing this:\n  Ind {a} (set w\\<^sub>1)\n\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "unfolding 3"], ["proof (prove)\nusing this:\n  Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "by this"], ["proof (state)\nthis:\n  Ind {a} (set u\\<^sub>1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  indoc a u\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. a \\<notin> set u \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<notin> set u \\<Longrightarrow> thesis", "case False"], ["proof (state)\nthis:\n  a \\<notin> set u\n\ngoal (1 subgoal):\n 1. a \\<notin> set u \\<Longrightarrow> thesis", "have 2: \"a \\<in> set v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> set v", "using indoc_set assms False"], ["proof (prove)\nusing this:\n  indoc ?a ?u \\<Longrightarrow> ?a \\<in> set ?u\n  indoc a (u @ v)\n  a \\<notin> set u\n\ngoal (1 subgoal):\n 1. a \\<in> set v", "by fastforce"], ["proof (state)\nthis:\n  a \\<in> set v\n\ngoal (1 subgoal):\n 1. a \\<notin> set u \\<Longrightarrow> thesis", "obtain v\\<^sub>1 v\\<^sub>2 where 3: \"v = v\\<^sub>1 @ [a] @ v\\<^sub>2\" \"a \\<notin> set v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2;\n         a \\<notin> set v\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using split_list_first[OF 2]"], ["proof (prove)\nusing this:\n  \\<exists>ys zs. v = ys @ a # zs \\<and> a \\<notin> set ys\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2;\n         a \\<notin> set v\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set u \\<Longrightarrow> thesis", "have 4: \"w\\<^sub>1 = u @ v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 = u @ v\\<^sub>1", "proof (rule split_list_first_unique)"], ["proof (state)\ngoal (3 subgoals):\n 1. w\\<^sub>1 @ [?a] @ ?u\\<^sub>2 = (u @ v\\<^sub>1) @ [?a] @ ?v\\<^sub>2\n 2. ?a \\<notin> set w\\<^sub>1\n 3. ?a \\<notin> set (u @ v\\<^sub>1)", "show \"w\\<^sub>1 @ [a] @ w\\<^sub>2 = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [a] @ w\\<^sub>2 = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "using 1(1)"], ["proof (prove)\nusing this:\n  u @ v = w\\<^sub>1 @ [a] @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [a] @ w\\<^sub>2 = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "unfolding 3(1)"], ["proof (prove)\nusing this:\n  u @ v\\<^sub>1 @ [a] @ v\\<^sub>2 = w\\<^sub>1 @ [a] @ w\\<^sub>2\n\ngoal (1 subgoal):\n 1. w\\<^sub>1 @ [a] @ w\\<^sub>2 = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  w\\<^sub>1 @ [a] @ w\\<^sub>2 = (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. a \\<notin> set w\\<^sub>1\n 2. a \\<notin> set (u @ v\\<^sub>1)", "show \"a \\<notin> set w\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set w\\<^sub>1", "using 1(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set w\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set w\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set w\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "show \"a \\<notin> set (u @ v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "using False 3(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set u\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set (u @ v\\<^sub>1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w\\<^sub>1 = u @ v\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set u \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (rule second)"], ["proof (state)\ngoal (3 subgoals):\n 1. a \\<notin> set u\n 2. Ind {a} (set u)\n 3. indoc a v", "show \"a \\<notin> set u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set u", "using False"], ["proof (prove)\nusing this:\n  a \\<notin> set u\n\ngoal (1 subgoal):\n 1. a \\<notin> set u", "by this"], ["proof (state)\nthis:\n  a \\<notin> set u\n\ngoal (2 subgoals):\n 1. Ind {a} (set u)\n 2. indoc a v", "show \"Ind {a} (set u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set u)", "using 1(3) 4"], ["proof (prove)\nusing this:\n  Ind {a} (set w\\<^sub>1)\n  w\\<^sub>1 = u @ v\\<^sub>1\n\ngoal (1 subgoal):\n 1. Ind {a} (set u)", "by auto"], ["proof (state)\nthis:\n  Ind {a} (set u)\n\ngoal (1 subgoal):\n 1. indoc a v", "show \"indoc a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a v", "proof (unfold indoc_def, intro exI conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. v = ?u\\<^sub>1 @ [a] @ ?u\\<^sub>21\n 2. a \\<notin> set ?u\\<^sub>1\n 3. Ind {a} (set ?u\\<^sub>1)", "show \"v = v\\<^sub>1 @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = v\\<^sub>1 @ [a] @ v\\<^sub>2", "using 3(1)"], ["proof (prove)\nusing this:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v = v\\<^sub>1 @ [a] @ v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. a \\<notin> set v\\<^sub>1\n 2. Ind {a} (set v\\<^sub>1)", "show \"a \\<notin> set v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set v\\<^sub>1", "using 1(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set w\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set v\\<^sub>1", "unfolding 4"], ["proof (prove)\nusing this:\n  a \\<notin> set (u @ v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. a \\<notin> set v\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. Ind {a} (set v\\<^sub>1)", "show \"Ind {a} (set v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set v\\<^sub>1)", "using 1(3)"], ["proof (prove)\nusing this:\n  Ind {a} (set w\\<^sub>1)\n\ngoal (1 subgoal):\n 1. Ind {a} (set v\\<^sub>1)", "unfolding 4"], ["proof (prove)\nusing this:\n  Ind {a} (set (u @ v\\<^sub>1))\n\ngoal (1 subgoal):\n 1. Ind {a} (set v\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  Ind {a} (set v\\<^sub>1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  indoc a v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma indoc_single: \"indoc a [b] \\<longleftrightarrow> a = b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a [b] = (a = b)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. indoc a [b] \\<Longrightarrow> a = b\n 2. a = b \\<Longrightarrow> indoc a [b]", "assume 1: \"indoc a [b]\""], ["proof (state)\nthis:\n  indoc a [b]\n\ngoal (2 subgoals):\n 1. indoc a [b] \\<Longrightarrow> a = b\n 2. a = b \\<Longrightarrow> indoc a [b]", "obtain u\\<^sub>1 u\\<^sub>2 where 2: \"[b] = u\\<^sub>1 @ [a] @ u\\<^sub>2\" \"Ind {a} (set u\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1 u\\<^sub>2.\n        \\<lbrakk>[b] = u\\<^sub>1 @ [a] @ u\\<^sub>2;\n         Ind {a} (set u\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 1"], ["proof (prove)\nusing this:\n  indoc a [b]\n\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1 u\\<^sub>2.\n        \\<lbrakk>[b] = u\\<^sub>1 @ [a] @ u\\<^sub>2;\n         Ind {a} (set u\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding indoc_def"], ["proof (prove)\nusing this:\n  \\<exists>u\\<^sub>1 u\\<^sub>2.\n     [b] = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n     a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1 u\\<^sub>2.\n        \\<lbrakk>[b] = u\\<^sub>1 @ [a] @ u\\<^sub>2;\n         Ind {a} (set u\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  [b] = u\\<^sub>1 @ [a] @ u\\<^sub>2\n  Ind {a} (set u\\<^sub>1)\n\ngoal (2 subgoals):\n 1. indoc a [b] \\<Longrightarrow> a = b\n 2. a = b \\<Longrightarrow> indoc a [b]", "show \"a = b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a = b", "using 2(1)"], ["proof (prove)\nusing this:\n  [b] = u\\<^sub>1 @ [a] @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. a = b", "by (metis append_eq_Cons_conv append_is_Nil_conv list.distinct(2) list.inject)"], ["proof (state)\nthis:\n  a = b\n\ngoal (1 subgoal):\n 1. a = b \\<Longrightarrow> indoc a [b]", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a = b \\<Longrightarrow> indoc a [b]", "assume 1: \"a = b\""], ["proof (state)\nthis:\n  a = b\n\ngoal (1 subgoal):\n 1. a = b \\<Longrightarrow> indoc a [b]", "show \"indoc a [b]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a [b]", "unfolding indoc_def 1"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>u\\<^sub>1 u\\<^sub>2.\n       [b] = u\\<^sub>1 @ [b] @ u\\<^sub>2 \\<and>\n       b \\<notin> set u\\<^sub>1 \\<and> Ind {b} (set u\\<^sub>1)", "proof (intro exI conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. [b] = ?u\\<^sub>1 @ [b] @ ?u\\<^sub>21\n 2. b \\<notin> set ?u\\<^sub>1\n 3. Ind {b} (set ?u\\<^sub>1)", "show \"[b] = [] @ [b] @ []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [b] = [] @ [b] @ []", "by simp"], ["proof (state)\nthis:\n  [b] = [] @ [b] @ []\n\ngoal (2 subgoals):\n 1. b \\<notin> set []\n 2. Ind {b} (set [])", "show \"b \\<notin> set []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> set []", "by simp"], ["proof (state)\nthis:\n  b \\<notin> set []\n\ngoal (1 subgoal):\n 1. Ind {b} (set [])", "show \"Ind {b} (set [])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {b} (set [])", "by simp"], ["proof (state)\nthis:\n  Ind {b} (set [])\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  indoc a [b]\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma indoc_append[simp]: \"indoc a (u @ v) \\<longleftrightarrow>\n      indoc a u \\<or> a \\<notin> set u \\<and> Ind {a} (set u) \\<and> indoc a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a (u @ v) =\n    (indoc a u \\<or>\n     a \\<notin> set u \\<and> Ind {a} (set u) \\<and> indoc a v)", "by blast"], ["", "lemma indoc_Nil[simp]: \"indoc a [] \\<longleftrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a [] = False", "unfolding indoc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>u\\<^sub>1 u\\<^sub>2.\n        [] = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n        a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)) =\n    False", "by auto"], ["", "lemma indoc_Cons[simp]: \"indoc a (b # v) \\<longleftrightarrow> a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "have \"indoc a (b # v) \\<longleftrightarrow> indoc a ([b] @ v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a (b # v) = indoc a ([b] @ v)", "by simp"], ["proof (state)\nthis:\n  indoc a (b # v) = indoc a ([b] @ v)\n\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "also"], ["proof (state)\nthis:\n  indoc a (b # v) = indoc a ([b] @ v)\n\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "have \"\\<dots> \\<longleftrightarrow> indoc a [b] \\<or> a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a ([b] @ v) =\n    (indoc a [b] \\<or>\n     a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v)", "unfolding indoc_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (indoc a [b] \\<or>\n     a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v) =\n    (indoc a [b] \\<or>\n     a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v)", "by rule"], ["proof (state)\nthis:\n  indoc a ([b] @ v) =\n  (indoc a [b] \\<or>\n   a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v)\n\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "also"], ["proof (state)\nthis:\n  indoc a ([b] @ v) =\n  (indoc a [b] \\<or>\n   a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v)\n\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "have \"\\<dots> \\<longleftrightarrow> a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (indoc a [b] \\<or>\n     a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "unfolding indoc_single"], ["proof (prove)\ngoal (1 subgoal):\n 1. (a = b \\<or>\n     a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "by simp"], ["proof (state)\nthis:\n  (indoc a [b] \\<or>\n   a \\<notin> set [b] \\<and> Ind {a} (set [b]) \\<and> indoc a v) =\n  (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)\n\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "finally"], ["proof (chain)\npicking this:\n  indoc a (b # v) =\n  (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "show ?thesis"], ["proof (prove)\nusing this:\n  indoc a (b # v) =\n  (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)\n\ngoal (1 subgoal):\n 1. indoc a (b # v) =\n    (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)", "by this"], ["proof (state)\nthis:\n  indoc a (b # v) =\n  (a = b \\<or> a \\<noteq> b \\<and> ind a b \\<and> indoc a v)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_swap_indoc: \"u =\\<^sub>S v \\<Longrightarrow> indoc c u \\<Longrightarrow> indoc c v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>u =\\<^sub>S v; indoc c u\\<rbrakk> \\<Longrightarrow> indoc c v", "by auto"], ["", "lemma eq_fin_indoc: \"u =\\<^sub>F v \\<Longrightarrow> indoc c u \\<Longrightarrow> indoc c v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>u =\\<^sub>F v; indoc c u\\<rbrakk> \\<Longrightarrow> indoc c v", "by (induct rule: rtranclp.induct, auto)"], ["", "lemma eq_fin_ind':\n      assumes \"[a] @ u =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2\" \"a \\<notin> set u\\<^sub>1\"\n      shows \"Ind {a} (set u\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "have 1: \"indoc a ([a] @ u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a ([a] @ u)", "by simp"], ["proof (state)\nthis:\n  indoc a ([a] @ u)\n\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "have 2: \"indoc a (u\\<^sub>1 @ [a] @ u\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a (u\\<^sub>1 @ [a] @ u\\<^sub>2)", "using eq_fin_indoc assms(1) 1"], ["proof (prove)\nusing this:\n  \\<lbrakk>?u =\\<^sub>F ?v; indoc ?c ?u\\<rbrakk>\n  \\<Longrightarrow> indoc ?c ?v\n  [a] @ u =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2\n  indoc a ([a] @ u)\n\ngoal (1 subgoal):\n 1. indoc a (u\\<^sub>1 @ [a] @ u\\<^sub>2)", "by this"], ["proof (state)\nthis:\n  indoc a (u\\<^sub>1 @ [a] @ u\\<^sub>2)\n\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "using assms(2) 2"], ["proof (prove)\nusing this:\n  a \\<notin> set u\\<^sub>1\n  indoc a (u\\<^sub>1 @ [a] @ u\\<^sub>2)\n\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "by blast"], ["proof (state)\nthis:\n  Ind {a} (set u\\<^sub>1)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eq_fin_ind:\n      assumes \"u @ v =\\<^sub>F v @ u\" \"set u \\<inter> set v = {}\"\n      shows \"Ind (set u) (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set u) (set v)", "using assms"], ["proof (prove)\nusing this:\n  u @ v =\\<^sub>F v @ u\n  set u \\<inter> set v = {}\n\ngoal (1 subgoal):\n 1. Ind (set u) (set v)", "proof (induct u)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>[] @ v =\\<^sub>F v @ []; set [] \\<inter> set v = {}\\<rbrakk>\n    \\<Longrightarrow> Ind (set []) (set v)\n 2. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "case Nil"], ["proof (state)\nthis:\n  [] @ v =\\<^sub>F v @ []\n  set [] \\<inter> set v = {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>[] @ v =\\<^sub>F v @ []; set [] \\<inter> set v = {}\\<rbrakk>\n    \\<Longrightarrow> Ind (set []) (set v)\n 2. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set []) (set v)", "by simp"], ["proof (state)\nthis:\n  Ind (set []) (set v)\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "case (Cons a u)"], ["proof (state)\nthis:\n  \\<lbrakk>u @ v =\\<^sub>F v @ u; set u \\<inter> set v = {}\\<rbrakk>\n  \\<Longrightarrow> Ind (set u) (set v)\n  (a # u) @ v =\\<^sub>F v @ a # u\n  set (a # u) \\<inter> set v = {}\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "have 1: \"Ind {a} (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "proof (rule eq_fin_ind')"], ["proof (state)\ngoal (2 subgoals):\n 1. [a] @ ?u =\\<^sub>F v @ [a] @ ?u\\<^sub>2\n 2. a \\<notin> set v", "show \"[a] @ u @ v =\\<^sub>F v @ [a] @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ u @ v =\\<^sub>F v @ [a] @ u", "using Cons(2)"], ["proof (prove)\nusing this:\n  (a # u) @ v =\\<^sub>F v @ a # u\n\ngoal (1 subgoal):\n 1. [a] @ u @ v =\\<^sub>F v @ [a] @ u", "by simp"], ["proof (state)\nthis:\n  [a] @ u @ v =\\<^sub>F v @ [a] @ u\n\ngoal (1 subgoal):\n 1. a \\<notin> set v", "show \"a \\<notin> set v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set v", "using Cons(3)"], ["proof (prove)\nusing this:\n  set (a # u) \\<inter> set v = {}\n\ngoal (1 subgoal):\n 1. a \\<notin> set v", "by simp"], ["proof (state)\nthis:\n  a \\<notin> set v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "have 2: \"Ind (set [a]) (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v)", "using 1"], ["proof (prove)\nusing this:\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v)", "by simp"], ["proof (state)\nthis:\n  Ind (set [a]) (set v)\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "have 4: \"Ind (set u) (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set u) (set v)", "proof (rule Cons(1))"], ["proof (state)\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "have \"[a] @ u @ v = (a # u) @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ u @ v = (a # u) @ v", "by simp"], ["proof (state)\nthis:\n  [a] @ u @ v = (a # u) @ v\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "also"], ["proof (state)\nthis:\n  [a] @ u @ v = (a # u) @ v\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "have \"\\<dots> =\\<^sub>F v @ a # u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a # u) @ v =\\<^sub>F v @ a # u", "using Cons(2)"], ["proof (prove)\nusing this:\n  (a # u) @ v =\\<^sub>F v @ a # u\n\ngoal (1 subgoal):\n 1. (a # u) @ v =\\<^sub>F v @ a # u", "by this"], ["proof (state)\nthis:\n  (a # u) @ v =\\<^sub>F v @ a # u\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "also"], ["proof (state)\nthis:\n  (a # u) @ v =\\<^sub>F v @ a # u\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "have \"\\<dots> = (v @ [a]) @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v @ a # u = (v @ [a]) @ u", "by simp"], ["proof (state)\nthis:\n  v @ a # u = (v @ [a]) @ u\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "also"], ["proof (state)\nthis:\n  v @ a # u = (v @ [a]) @ u\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "have \"\\<dots> =\\<^sub>F ([a] @ v) @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v @ [a]) @ u =\\<^sub>F ([a] @ v) @ u", "using 2"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set v)\n\ngoal (1 subgoal):\n 1. (v @ [a]) @ u =\\<^sub>F ([a] @ v) @ u", "by blast"], ["proof (state)\nthis:\n  (v @ [a]) @ u =\\<^sub>F ([a] @ v) @ u\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "also"], ["proof (state)\nthis:\n  (v @ [a]) @ u =\\<^sub>F ([a] @ v) @ u\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "have \"\\<dots> = [a] @ v @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ v) @ u = [a] @ v @ u", "by simp"], ["proof (state)\nthis:\n  ([a] @ v) @ u = [a] @ v @ u\n\ngoal (2 subgoals):\n 1. u @ v =\\<^sub>F v @ u\n 2. set u \\<inter> set v = {}", "finally"], ["proof (chain)\npicking this:\n  [a] @ u @ v =\\<^sub>F [a] @ v @ u", "show \"u @ v =\\<^sub>F v @ u\""], ["proof (prove)\nusing this:\n  [a] @ u @ v =\\<^sub>F [a] @ v @ u\n\ngoal (1 subgoal):\n 1. u @ v =\\<^sub>F v @ u", "by blast"], ["proof (state)\nthis:\n  u @ v =\\<^sub>F v @ u\n\ngoal (1 subgoal):\n 1. set u \\<inter> set v = {}", "show \"set u \\<inter> set v = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set u \\<inter> set v = {}", "using Cons(3)"], ["proof (prove)\nusing this:\n  set (a # u) \\<inter> set v = {}\n\ngoal (1 subgoal):\n 1. set u \\<inter> set v = {}", "by auto"], ["proof (state)\nthis:\n  set u \\<inter> set v = {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ind (set u) (set v)\n\ngoal (1 subgoal):\n 1. \\<And>a u.\n       \\<lbrakk>\\<lbrakk>u @ v =\\<^sub>F v @ u;\n                 set u \\<inter> set v = {}\\<rbrakk>\n                \\<Longrightarrow> Ind (set u) (set v);\n        (a # u) @ v =\\<^sub>F v @ a # u;\n        set (a # u) \\<inter> set v = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (set (a # u)) (set v)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set (a # u)) (set v)", "using 1 4"], ["proof (prove)\nusing this:\n  Ind {a} (set v)\n  Ind (set u) (set v)\n\ngoal (1 subgoal):\n 1. Ind (set (a # u)) (set v)", "by auto"], ["proof (state)\nthis:\n  Ind (set (a # u)) (set v)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_member':\n      assumes \"[a] \\<preceq>\\<^sub>F u @ v\" \"a \\<in> set u\"\n      shows \"[a] \\<preceq>\\<^sub>F u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "obtain w where 1: \"[a] @ w =\\<^sub>F u @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>w.\n        [a] @ w =\\<^sub>F u @ v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F u @ v\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        [a] @ w =\\<^sub>F u @ v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  [a] @ w =\\<^sub>F u @ v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "obtain u\\<^sub>1 u\\<^sub>2 where 2: \"u = u\\<^sub>1 @ [a] @ u\\<^sub>2\" \"a \\<notin> set u\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1 u\\<^sub>2.\n        \\<lbrakk>u = u\\<^sub>1 @ [a] @ u\\<^sub>2;\n         a \\<notin> set u\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using split_list_first[OF assms(2)]"], ["proof (prove)\nusing this:\n  \\<exists>ys zs. u = ys @ a # zs \\<and> a \\<notin> set ys\n\ngoal (1 subgoal):\n 1. (\\<And>u\\<^sub>1 u\\<^sub>2.\n        \\<lbrakk>u = u\\<^sub>1 @ [a] @ u\\<^sub>2;\n         a \\<notin> set u\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  u = u\\<^sub>1 @ [a] @ u\\<^sub>2\n  a \\<notin> set u\\<^sub>1\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "have 3: \"Ind {a} (set u\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set u\\<^sub>1)", "proof (rule eq_fin_ind')"], ["proof (state)\ngoal (2 subgoals):\n 1. [a] @ ?u =\\<^sub>F u\\<^sub>1 @ [a] @ ?u\\<^sub>2\n 2. a \\<notin> set u\\<^sub>1", "show \"[a] @ w =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v", "using 1"], ["proof (prove)\nusing this:\n  [a] @ w =\\<^sub>F u @ v\n\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v", "unfolding 2(1)"], ["proof (prove)\nusing this:\n  [a] @ w =\\<^sub>F (u\\<^sub>1 @ [a] @ u\\<^sub>2) @ v\n\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v", "by simp"], ["proof (state)\nthis:\n  [a] @ w =\\<^sub>F u\\<^sub>1 @ [a] @ u\\<^sub>2 @ v\n\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "show \"a \\<notin> set u\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "using 2(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set u\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set u\\<^sub>1", "by this"], ["proof (state)\nthis:\n  a \\<notin> set u\\<^sub>1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "have 4: \"Ind (set [a]) (set u\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set [a]) (set u\\<^sub>1)", "using 3"], ["proof (prove)\nusing this:\n  Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. Ind (set [a]) (set u\\<^sub>1)", "by simp"], ["proof (state)\nthis:\n  Ind (set [a]) (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "have \"[a] \\<le> [a] @ u\\<^sub>1 @ u\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<le> [a] @ u\\<^sub>1 @ u\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  [a] \\<le> [a] @ u\\<^sub>1 @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "also"], ["proof (state)\nthis:\n  [a] \\<le> [a] @ u\\<^sub>1 @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "have \"\\<dots> = ([a] @ u\\<^sub>1) @ u\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ u\\<^sub>1 @ u\\<^sub>2 = ([a] @ u\\<^sub>1) @ u\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  [a] @ u\\<^sub>1 @ u\\<^sub>2 = ([a] @ u\\<^sub>1) @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "also"], ["proof (state)\nthis:\n  [a] @ u\\<^sub>1 @ u\\<^sub>2 = ([a] @ u\\<^sub>1) @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "have \"\\<dots> =\\<^sub>F (u\\<^sub>1 @ [a]) @ u\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ u\\<^sub>1) @ u\\<^sub>2 =\\<^sub>F (u\\<^sub>1 @ [a]) @ u\\<^sub>2", "using 4"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. ([a] @ u\\<^sub>1) @ u\\<^sub>2 =\\<^sub>F (u\\<^sub>1 @ [a]) @ u\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  ([a] @ u\\<^sub>1) @ u\\<^sub>2 =\\<^sub>F (u\\<^sub>1 @ [a]) @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "also"], ["proof (state)\nthis:\n  ([a] @ u\\<^sub>1) @ u\\<^sub>2 =\\<^sub>F (u\\<^sub>1 @ [a]) @ u\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "have \"\\<dots> = u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (u\\<^sub>1 @ [a]) @ u\\<^sub>2 = u", "unfolding 2(1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u\\<^sub>1 @ [a]) @ u\\<^sub>2 = u\\<^sub>1 @ [a] @ u\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  (u\\<^sub>1 @ [a]) @ u\\<^sub>2 = u\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "finally"], ["proof (chain)\npicking this:\n  [a] \\<preceq>\\<^sub>F u", "show ?thesis"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F u\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_not_member':\n      assumes \"[a] \\<preceq>\\<^sub>F u @ v\" \"a \\<notin> set u\"\n      shows \"[a] \\<preceq>\\<^sub>F v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "obtain w where 1: \"[a] @ w =\\<^sub>F u @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>w.\n        [a] @ w =\\<^sub>F u @ v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F u @ v\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        [a] @ w =\\<^sub>F u @ v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  [a] @ w =\\<^sub>F u @ v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have 3: \"a \\<in> set v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> set v", "using assms"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F u @ v\n  a \\<notin> set u\n\ngoal (1 subgoal):\n 1. a \\<in> set v", "by auto"], ["proof (state)\nthis:\n  a \\<in> set v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "obtain v\\<^sub>1 v\\<^sub>2 where 4: \"v = v\\<^sub>1 @ [a] @ v\\<^sub>2\" \"a \\<notin> set v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2;\n         a \\<notin> set v\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using split_list_first[OF 3]"], ["proof (prove)\nusing this:\n  \\<exists>ys zs. v = ys @ a # zs \\<and> a \\<notin> set ys\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2;\n         a \\<notin> set v\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have 5: \"[a] @ w =\\<^sub>F u @ v\\<^sub>1 @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F u @ v\\<^sub>1 @ [a] @ v\\<^sub>2", "using 1"], ["proof (prove)\nusing this:\n  [a] @ w =\\<^sub>F u @ v\n\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F u @ v\\<^sub>1 @ [a] @ v\\<^sub>2", "unfolding 4(1)"], ["proof (prove)\nusing this:\n  [a] @ w =\\<^sub>F u @ v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F u @ v\\<^sub>1 @ [a] @ v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  [a] @ w =\\<^sub>F u @ v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have 6: \"Ind {a} (set (u @ v\\<^sub>1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set (u @ v\\<^sub>1))", "proof (rule eq_fin_ind')"], ["proof (state)\ngoal (2 subgoals):\n 1. [a] @ ?u =\\<^sub>F (u @ v\\<^sub>1) @ [a] @ ?u\\<^sub>2\n 2. a \\<notin> set (u @ v\\<^sub>1)", "show \"[a] @ w =\\<^sub>F (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "using 5"], ["proof (prove)\nusing this:\n  [a] @ w =\\<^sub>F u @ v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] @ w =\\<^sub>F (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  [a] @ w =\\<^sub>F (u @ v\\<^sub>1) @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "show \"a \\<notin> set (u @ v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "using assms(2) 4(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set u\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set (u @ v\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set (u @ v\\<^sub>1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ind {a} (set (u @ v\\<^sub>1))\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have 9: \"Ind (set [a]) (set v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v\\<^sub>1)", "using 6"], ["proof (prove)\nusing this:\n  Ind {a} (set (u @ v\\<^sub>1))\n\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  Ind (set [a]) (set v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have \"[a] \\<le> [a] @ v\\<^sub>1 @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<le> [a] @ v\\<^sub>1 @ v\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  [a] \\<le> [a] @ v\\<^sub>1 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "also"], ["proof (state)\nthis:\n  [a] \\<le> [a] @ v\\<^sub>1 @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have \"\\<dots> = ([a] @ v\\<^sub>1) @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ v\\<^sub>1 @ v\\<^sub>2 = ([a] @ v\\<^sub>1) @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  [a] @ v\\<^sub>1 @ v\\<^sub>2 = ([a] @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "also"], ["proof (state)\nthis:\n  [a] @ v\\<^sub>1 @ v\\<^sub>2 = ([a] @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have \"\\<dots> =\\<^sub>F (v\\<^sub>1 @ [a]) @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F (v\\<^sub>1 @ [a]) @ v\\<^sub>2", "using 9"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. ([a] @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F (v\\<^sub>1 @ [a]) @ v\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  ([a] @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F (v\\<^sub>1 @ [a]) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "also"], ["proof (state)\nthis:\n  ([a] @ v\\<^sub>1) @ v\\<^sub>2 =\\<^sub>F (v\\<^sub>1 @ [a]) @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have \"\\<dots> = v\\<^sub>1 @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v\\<^sub>1 @ [a]) @ v\\<^sub>2 = v\\<^sub>1 @ [a] @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  (v\\<^sub>1 @ [a]) @ v\\<^sub>2 = v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "also"], ["proof (state)\nthis:\n  (v\\<^sub>1 @ [a]) @ v\\<^sub>2 = v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "have \"\\<dots> = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 @ [a] @ v\\<^sub>2 = v", "unfolding 4(1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 @ [a] @ v\\<^sub>2 = v\\<^sub>1 @ [a] @ v\\<^sub>2", "by rule"], ["proof (state)\nthis:\n  v\\<^sub>1 @ [a] @ v\\<^sub>2 = v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "finally"], ["proof (chain)\npicking this:\n  [a] \\<preceq>\\<^sub>F v", "show ?thesis"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fininf_not_member':\n      assumes \"[a] \\<preceq>\\<^sub>F\\<^sub>I u @- v\" \"a \\<notin> set u\"\n      shows \"[a] \\<preceq>\\<^sub>F\\<^sub>I v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "obtain v\\<^sub>2 where 1: \"v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I u @- v\" \"[a] \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I u @- v;\n         [a] \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using le_fininfE assms(1)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?w\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I ?w\\<^sub>2;\n   \\<And>v\\<^sub>2.\n      \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I ?w\\<^sub>2;\n       ?w\\<^sub>1 \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  [a] \\<preceq>\\<^sub>F\\<^sub>I u @- v\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>2.\n        \\<lbrakk>v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I u @- v;\n         [a] \\<preceq>\\<^sub>F v\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by this"], ["proof (state)\nthis:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I u @- v\n  [a] \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "using 1(1)"], ["proof (prove)\nusing this:\n  v\\<^sub>2 \\<le>\\<^sub>F\\<^sub>I u @- v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "proof (cases rule: prefix_fininf_append)"], ["proof (state)\ngoal (2 subgoals):\n 1. v\\<^sub>2 \\<le> u \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "case absorb"], ["proof (state)\nthis:\n  v\\<^sub>2 \\<le> u\n\ngoal (2 subgoals):\n 1. v\\<^sub>2 \\<le> u \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"[a] \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v\\<^sub>2", "using 1(2)"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (2 subgoals):\n 1. v\\<^sub>2 \\<le> u \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "also"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (2 subgoals):\n 1. v\\<^sub>2 \\<le> u \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"\\<dots> \\<le> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>2 \\<le> u", "using absorb"], ["proof (prove)\nusing this:\n  v\\<^sub>2 \\<le> u\n\ngoal (1 subgoal):\n 1. v\\<^sub>2 \\<le> u", "by this"], ["proof (state)\nthis:\n  v\\<^sub>2 \\<le> u\n\ngoal (2 subgoals):\n 1. v\\<^sub>2 \\<le> u \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "finally"], ["proof (chain)\npicking this:\n  [a] \\<preceq>\\<^sub>F u", "have 2: \"a \\<in> set u\""], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F u\n\ngoal (1 subgoal):\n 1. a \\<in> set u", "by force"], ["proof (state)\nthis:\n  a \\<in> set u\n\ngoal (2 subgoals):\n 1. v\\<^sub>2 \\<le> u \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v\n 2. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "using assms(2) 2"], ["proof (prove)\nusing this:\n  a \\<notin> set u\n  a \\<in> set u\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "by simp"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "case (extend z)"], ["proof (state)\nthis:\n  v\\<^sub>2 = u @ z\n  z \\<le>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"[a] \\<preceq>\\<^sub>F v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v\\<^sub>2", "using 1(2)"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "also"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"\\<dots> = u @ z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>2 = u @ z", "using extend(1)"], ["proof (prove)\nusing this:\n  v\\<^sub>2 = u @ z\n\ngoal (1 subgoal):\n 1. v\\<^sub>2 = u @ z", "by this"], ["proof (state)\nthis:\n  v\\<^sub>2 = u @ z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "finally"], ["proof (chain)\npicking this:\n  [a] \\<preceq>\\<^sub>F u @ z", "have 2: \"[a] \\<preceq>\\<^sub>F u @ z\""], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F u @ z\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F u @ z", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F u @ z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"[a] \\<preceq>\\<^sub>F z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F z", "using le_fin_not_member' 2 assms(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>[?a] \\<preceq>\\<^sub>F ?u @ ?v; ?a \\<notin> set ?u\\<rbrakk>\n  \\<Longrightarrow> [?a] \\<preceq>\\<^sub>F ?v\n  [a] \\<preceq>\\<^sub>F u @ z\n  a \\<notin> set u\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F z", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "also"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "have \"\\<dots> \\<le>\\<^sub>F\\<^sub>I v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<le>\\<^sub>F\\<^sub>I v", "using extend(2)"], ["proof (prove)\nusing this:\n  z \\<le>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. z \\<le>\\<^sub>F\\<^sub>I v", "by this"], ["proof (state)\nthis:\n  z \\<le>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>v\\<^sub>2 = u @ z; z \\<le>\\<^sub>F\\<^sub>I v\\<rbrakk>\n       \\<Longrightarrow> [a] \\<preceq>\\<^sub>F\\<^sub>I v", "finally"], ["proof (chain)\npicking this:\n  [a] \\<preceq>\\<^sub>F\\<^sub>I v", "show ?thesis"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F\\<^sub>I v", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F\\<^sub>I v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_ind'':\n      assumes \"[a] \\<preceq>\\<^sub>F w\" \"[b] \\<preceq>\\<^sub>F w\" \"a \\<noteq> b\"\n      shows \"ind a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ind a b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ind a b", "obtain u where 1: \"[a] @ u =\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u.\n        [a] @ u =\\<^sub>F w \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(1)"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        [a] @ u =\\<^sub>F w \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  [a] @ u =\\<^sub>F w\n\ngoal (1 subgoal):\n 1. ind a b", "obtain v where 2: \"[b] @ v =\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v.\n        [b] @ v =\\<^sub>F w \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms(2)"], ["proof (prove)\nusing this:\n  [b] \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        [b] @ v =\\<^sub>F w \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by rule"], ["proof (state)\nthis:\n  [b] @ v =\\<^sub>F w\n\ngoal (1 subgoal):\n 1. ind a b", "have 3: \"[a] @ u =\\<^sub>F [b] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ u =\\<^sub>F [b] @ v", "using 1 2[symmetric]"], ["proof (prove)\nusing this:\n  [a] @ u =\\<^sub>F w\n  w =\\<^sub>F [b] @ v\n\ngoal (1 subgoal):\n 1. [a] @ u =\\<^sub>F [b] @ v", "by auto"], ["proof (state)\nthis:\n  [a] @ u =\\<^sub>F [b] @ v\n\ngoal (1 subgoal):\n 1. ind a b", "have 4: \"a \\<in> set v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> set v", "using 3 assms(3)"], ["proof (prove)\nusing this:\n  [a] @ u =\\<^sub>F [b] @ v\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. a \\<in> set v", "by (metis append_Cons append_Nil eq_fin_range list.set_intros(1) set_ConsD)"], ["proof (state)\nthis:\n  a \\<in> set v\n\ngoal (1 subgoal):\n 1. ind a b", "obtain v\\<^sub>1 v\\<^sub>2 where 5: \"v = v\\<^sub>1 @ [a] @ v\\<^sub>2\" \"a \\<notin> set v\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2;\n         a \\<notin> set v\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using split_list_first[OF 4]"], ["proof (prove)\nusing this:\n  \\<exists>ys zs. v = ys @ a # zs \\<and> a \\<notin> set ys\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2;\n         a \\<notin> set v\\<^sub>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. ind a b", "have 7: \"Ind {a} (set ([b] @ v\\<^sub>1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set ([b] @ v\\<^sub>1))", "proof (rule eq_fin_ind')"], ["proof (state)\ngoal (2 subgoals):\n 1. [a] @ ?u =\\<^sub>F ([b] @ v\\<^sub>1) @ [a] @ ?u\\<^sub>2\n 2. a \\<notin> set ([b] @ v\\<^sub>1)", "show \"[a] @ u =\\<^sub>F ([b] @ v\\<^sub>1) @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ u =\\<^sub>F ([b] @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "using 3"], ["proof (prove)\nusing this:\n  [a] @ u =\\<^sub>F [b] @ v\n\ngoal (1 subgoal):\n 1. [a] @ u =\\<^sub>F ([b] @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "unfolding 5(1)"], ["proof (prove)\nusing this:\n  [a] @ u =\\<^sub>F [b] @ v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. [a] @ u =\\<^sub>F ([b] @ v\\<^sub>1) @ [a] @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  [a] @ u =\\<^sub>F ([b] @ v\\<^sub>1) @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. a \\<notin> set ([b] @ v\\<^sub>1)", "show \"a \\<notin> set ([b] @ v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set ([b] @ v\\<^sub>1)", "using assms(3) 5(2)"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. a \\<notin> set ([b] @ v\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set ([b] @ v\\<^sub>1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ind {a} (set ([b] @ v\\<^sub>1))\n\ngoal (1 subgoal):\n 1. ind a b", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ind a b", "using 7"], ["proof (prove)\nusing this:\n  Ind {a} (set ([b] @ v\\<^sub>1))\n\ngoal (1 subgoal):\n 1. ind a b", "by auto"], ["proof (state)\nthis:\n  ind a b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fin_ind':\n      assumes \"[a] \\<preceq>\\<^sub>F w\" \"v \\<preceq>\\<^sub>F w\" \"a \\<notin> set v\"\n      shows \"Ind {a} (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "using assms"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F w\n  v \\<preceq>\\<^sub>F w\n  a \\<notin> set v\n\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "proof (induct v arbitrary: w)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>[a] \\<preceq>\\<^sub>F w; [] \\<preceq>\\<^sub>F w;\n        a \\<notin> set []\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set [])\n 2. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "case Nil"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F w\n  [] \\<preceq>\\<^sub>F w\n  a \\<notin> set []\n\ngoal (2 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>[a] \\<preceq>\\<^sub>F w; [] \\<preceq>\\<^sub>F w;\n        a \\<notin> set []\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set [])\n 2. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set [])", "by simp"], ["proof (state)\nthis:\n  Ind {a} (set [])\n\ngoal (1 subgoal):\n 1. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "case (Cons b v)"], ["proof (state)\nthis:\n  \\<lbrakk>[a] \\<preceq>\\<^sub>F ?w; v \\<preceq>\\<^sub>F ?w;\n   a \\<notin> set v\\<rbrakk>\n  \\<Longrightarrow> Ind {a} (set v)\n  [a] \\<preceq>\\<^sub>F w\n  b # v \\<preceq>\\<^sub>F w\n  a \\<notin> set (b # v)\n\ngoal (1 subgoal):\n 1. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "have 1: \"ind a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ind a b", "proof (rule le_fin_ind'')"], ["proof (state)\ngoal (3 subgoals):\n 1. [a] \\<preceq>\\<^sub>F ?w\n 2. [b] \\<preceq>\\<^sub>F ?w\n 3. a \\<noteq> b", "show \"[a] \\<preceq>\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F w", "using Cons(2)"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F w", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F w\n\ngoal (2 subgoals):\n 1. [b] \\<preceq>\\<^sub>F w\n 2. a \\<noteq> b", "show \"[b] \\<preceq>\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [b] \\<preceq>\\<^sub>F w", "using Cons(3)"], ["proof (prove)\nusing this:\n  b # v \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. [b] \\<preceq>\\<^sub>F w", "by auto"], ["proof (state)\nthis:\n  [b] \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "show \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b", "using Cons(4)"], ["proof (prove)\nusing this:\n  a \\<notin> set (b # v)\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ind a b\n\ngoal (1 subgoal):\n 1. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "obtain w' where 2: \"[b] @ w' =\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        [b] @ w' =\\<^sub>F w \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Cons(3)"], ["proof (prove)\nusing this:\n  b # v \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        [b] @ w' =\\<^sub>F w \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  [b] @ w' =\\<^sub>F w\n\ngoal (1 subgoal):\n 1. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "have 3: \"Ind {a} (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "proof (rule Cons(1))"], ["proof (state)\ngoal (3 subgoals):\n 1. [a] \\<preceq>\\<^sub>F ?w\n 2. v \\<preceq>\\<^sub>F ?w\n 3. a \\<notin> set v", "show \"[a] \\<preceq>\\<^sub>F w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F w'", "proof (rule le_fin_not_member')"], ["proof (state)\ngoal (2 subgoals):\n 1. [a] \\<preceq>\\<^sub>F ?u @ w'\n 2. a \\<notin> set ?u", "show \"[a] \\<preceq>\\<^sub>F [b] @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F [b] @ w'", "using Cons(2) 2"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F w\n  [b] @ w' =\\<^sub>F w\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F [b] @ w'", "by auto"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F [b] @ w'\n\ngoal (1 subgoal):\n 1. a \\<notin> set [b]", "show \"a \\<notin> set [b]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set [b]", "using Cons(4)"], ["proof (prove)\nusing this:\n  a \\<notin> set (b # v)\n\ngoal (1 subgoal):\n 1. a \\<notin> set [b]", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set [b]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F w'\n\ngoal (2 subgoals):\n 1. v \\<preceq>\\<^sub>F w'\n 2. a \\<notin> set v", "have \"[b] @ v = b # v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [b] @ v = b # v", "by simp"], ["proof (state)\nthis:\n  [b] @ v = b # v\n\ngoal (2 subgoals):\n 1. v \\<preceq>\\<^sub>F w'\n 2. a \\<notin> set v", "also"], ["proof (state)\nthis:\n  [b] @ v = b # v\n\ngoal (2 subgoals):\n 1. v \\<preceq>\\<^sub>F w'\n 2. a \\<notin> set v", "have \"\\<dots> \\<preceq>\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b # v \\<preceq>\\<^sub>F w", "using Cons(3)"], ["proof (prove)\nusing this:\n  b # v \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. b # v \\<preceq>\\<^sub>F w", "by this"], ["proof (state)\nthis:\n  b # v \\<preceq>\\<^sub>F w\n\ngoal (2 subgoals):\n 1. v \\<preceq>\\<^sub>F w'\n 2. a \\<notin> set v", "also"], ["proof (state)\nthis:\n  b # v \\<preceq>\\<^sub>F w\n\ngoal (2 subgoals):\n 1. v \\<preceq>\\<^sub>F w'\n 2. a \\<notin> set v", "have \"\\<dots> =\\<^sub>F [b] @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w =\\<^sub>F [b] @ w'", "using 2"], ["proof (prove)\nusing this:\n  [b] @ w' =\\<^sub>F w\n\ngoal (1 subgoal):\n 1. w =\\<^sub>F [b] @ w'", "by auto"], ["proof (state)\nthis:\n  w =\\<^sub>F [b] @ w'\n\ngoal (2 subgoals):\n 1. v \\<preceq>\\<^sub>F w'\n 2. a \\<notin> set v", "finally"], ["proof (chain)\npicking this:\n  [b] @ v \\<preceq>\\<^sub>F [b] @ w'", "show \"v \\<preceq>\\<^sub>F w'\""], ["proof (prove)\nusing this:\n  [b] @ v \\<preceq>\\<^sub>F [b] @ w'\n\ngoal (1 subgoal):\n 1. v \\<preceq>\\<^sub>F w'", "by blast"], ["proof (state)\nthis:\n  v \\<preceq>\\<^sub>F w'\n\ngoal (1 subgoal):\n 1. a \\<notin> set v", "show \"a \\<notin> set v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> set v", "using Cons(4)"], ["proof (prove)\nusing this:\n  a \\<notin> set (b # v)\n\ngoal (1 subgoal):\n 1. a \\<notin> set v", "by auto"], ["proof (state)\nthis:\n  a \\<notin> set v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. \\<And>aa v w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>[a] \\<preceq>\\<^sub>F w; v \\<preceq>\\<^sub>F w;\n                    a \\<notin> set v\\<rbrakk>\n                   \\<Longrightarrow> Ind {a} (set v);\n        [a] \\<preceq>\\<^sub>F w; aa # v \\<preceq>\\<^sub>F w;\n        a \\<notin> set (aa # v)\\<rbrakk>\n       \\<Longrightarrow> Ind {a} (set (aa # v))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set (b # v))", "using 1 3"], ["proof (prove)\nusing this:\n  ind a b\n  Ind {a} (set v)\n\ngoal (1 subgoal):\n 1. Ind {a} (set (b # v))", "by auto"], ["proof (state)\nthis:\n  Ind {a} (set (b # v))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_fininf_ind'':\n      assumes \"[a] \\<preceq>\\<^sub>F\\<^sub>I w\" \"[b] \\<preceq>\\<^sub>F\\<^sub>I w\" \"a \\<noteq> b\"\n      shows \"ind a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ind a b", "using subsume_fin le_fin_ind'' assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>?u\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I ?w;\n   ?v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I ?w;\n   \\<And>w\\<^sub>1.\n      \\<lbrakk>?u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1;\n       ?v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  \\<lbrakk>[?a] \\<preceq>\\<^sub>F ?w; [?b] \\<preceq>\\<^sub>F ?w;\n   ?a \\<noteq> ?b\\<rbrakk>\n  \\<Longrightarrow> ind ?a ?b\n  [a] \\<preceq>\\<^sub>F\\<^sub>I w\n  [b] \\<preceq>\\<^sub>F\\<^sub>I w\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. ind a b", "by metis"], ["", "lemma le_fininf_ind':\n      assumes \"[a] \\<preceq>\\<^sub>F\\<^sub>I w\" \"v \\<preceq>\\<^sub>F\\<^sub>I w\" \"a \\<notin> set v\"\n      shows \"Ind {a} (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "using subsume_fin le_fin_ind' assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>?u\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I ?w;\n   ?v\\<^sub>1 \\<preceq>\\<^sub>F\\<^sub>I ?w;\n   \\<And>w\\<^sub>1.\n      \\<lbrakk>?u\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1;\n       ?v\\<^sub>1 \\<preceq>\\<^sub>F w\\<^sub>1\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  \\<lbrakk>[?a] \\<preceq>\\<^sub>F ?w; ?v \\<preceq>\\<^sub>F ?w;\n   ?a \\<notin> set ?v\\<rbrakk>\n  \\<Longrightarrow> Ind {?a} (set ?v)\n  [a] \\<preceq>\\<^sub>F\\<^sub>I w\n  v \\<preceq>\\<^sub>F\\<^sub>I w\n  a \\<notin> set v\n\ngoal (1 subgoal):\n 1. Ind {a} (set v)", "by metis"], ["", "lemma indoc_alt_def: \"indoc a v \\<longleftrightarrow> v =\\<^sub>F [a] @ remove1 a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a v = (v =\\<^sub>F [a] @ remove1 a v)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "assume 0: \"indoc a v\""], ["proof (state)\nthis:\n  indoc a v\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "obtain v\\<^sub>1 v\\<^sub>2 where 1: \"v = v\\<^sub>1 @ [a] @ v\\<^sub>2\" \"a \\<notin> set v\\<^sub>1\" \"Ind {a} (set v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2; a \\<notin> set v\\<^sub>1;\n         Ind {a} (set v\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 0"], ["proof (prove)\nusing this:\n  indoc a v\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2; a \\<notin> set v\\<^sub>1;\n         Ind {a} (set v\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding indoc_def"], ["proof (prove)\nusing this:\n  \\<exists>u\\<^sub>1 u\\<^sub>2.\n     v = u\\<^sub>1 @ [a] @ u\\<^sub>2 \\<and>\n     a \\<notin> set u\\<^sub>1 \\<and> Ind {a} (set u\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (\\<And>v\\<^sub>1 v\\<^sub>2.\n        \\<lbrakk>v = v\\<^sub>1 @ [a] @ v\\<^sub>2; a \\<notin> set v\\<^sub>1;\n         Ind {a} (set v\\<^sub>1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n  a \\<notin> set v\\<^sub>1\n  Ind {a} (set v\\<^sub>1)\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "have 2: \"Ind (set [a]) (set v\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v\\<^sub>1)", "using 1(3)"], ["proof (prove)\nusing this:\n  Ind {a} (set v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v\\<^sub>1)", "by simp"], ["proof (state)\nthis:\n  Ind (set [a]) (set v\\<^sub>1)\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "have \"v = v\\<^sub>1 @ [a] @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = v\\<^sub>1 @ [a] @ v\\<^sub>2", "using 1(1)"], ["proof (prove)\nusing this:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (1 subgoal):\n 1. v = v\\<^sub>1 @ [a] @ v\\<^sub>2", "by this"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "also"], ["proof (state)\nthis:\n  v = v\\<^sub>1 @ [a] @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "have \"\\<dots> = (v\\<^sub>1 @ [a]) @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v\\<^sub>1 @ [a] @ v\\<^sub>2 = (v\\<^sub>1 @ [a]) @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  v\\<^sub>1 @ [a] @ v\\<^sub>2 = (v\\<^sub>1 @ [a]) @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "also"], ["proof (state)\nthis:\n  v\\<^sub>1 @ [a] @ v\\<^sub>2 = (v\\<^sub>1 @ [a]) @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "have \"\\<dots> =\\<^sub>F ([a] @ v\\<^sub>1) @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v\\<^sub>1 @ [a]) @ v\\<^sub>2 =\\<^sub>F ([a] @ v\\<^sub>1) @ v\\<^sub>2", "using 2"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set v\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (v\\<^sub>1 @ [a]) @ v\\<^sub>2 =\\<^sub>F ([a] @ v\\<^sub>1) @ v\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  (v\\<^sub>1 @ [a]) @ v\\<^sub>2 =\\<^sub>F ([a] @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "also"], ["proof (state)\nthis:\n  (v\\<^sub>1 @ [a]) @ v\\<^sub>2 =\\<^sub>F ([a] @ v\\<^sub>1) @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "have \"\\<dots> = [a] @ v\\<^sub>1 @ v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ v\\<^sub>1) @ v\\<^sub>2 = [a] @ v\\<^sub>1 @ v\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  ([a] @ v\\<^sub>1) @ v\\<^sub>2 = [a] @ v\\<^sub>1 @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "also"], ["proof (state)\nthis:\n  ([a] @ v\\<^sub>1) @ v\\<^sub>2 = [a] @ v\\<^sub>1 @ v\\<^sub>2\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "have \"\\<dots> = [a] @ remove1 a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ v\\<^sub>1 @ v\\<^sub>2 = [a] @ remove1 a v", "unfolding 1(1) remove1_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ v\\<^sub>1 @ v\\<^sub>2 =\n    [a] @\n    (if a \\<in> set v\\<^sub>1 then remove1 a v\\<^sub>1 @ [a] @ v\\<^sub>2\n     else v\\<^sub>1 @\n          (if a \\<in> set [a] then remove1 a [a] @ v\\<^sub>2\n           else [a] @ remove1 a v\\<^sub>2))", "using 1(2)"], ["proof (prove)\nusing this:\n  a \\<notin> set v\\<^sub>1\n\ngoal (1 subgoal):\n 1. [a] @ v\\<^sub>1 @ v\\<^sub>2 =\n    [a] @\n    (if a \\<in> set v\\<^sub>1 then remove1 a v\\<^sub>1 @ [a] @ v\\<^sub>2\n     else v\\<^sub>1 @\n          (if a \\<in> set [a] then remove1 a [a] @ v\\<^sub>2\n           else [a] @ remove1 a v\\<^sub>2))", "by auto"], ["proof (state)\nthis:\n  [a] @ v\\<^sub>1 @ v\\<^sub>2 = [a] @ remove1 a v\n\ngoal (2 subgoals):\n 1. indoc a v \\<Longrightarrow> v =\\<^sub>F [a] @ remove1 a v\n 2. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "finally"], ["proof (chain)\npicking this:\n  v =\\<^sub>F [a] @ remove1 a v", "show \"v =\\<^sub>F [a] @ remove1 a v\""], ["proof (prove)\nusing this:\n  v =\\<^sub>F [a] @ remove1 a v\n\ngoal (1 subgoal):\n 1. v =\\<^sub>F [a] @ remove1 a v", "by this"], ["proof (state)\nthis:\n  v =\\<^sub>F [a] @ remove1 a v\n\ngoal (1 subgoal):\n 1. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "assume 0: \"v =\\<^sub>F [a] @ remove1 a v\""], ["proof (state)\nthis:\n  v =\\<^sub>F [a] @ remove1 a v\n\ngoal (1 subgoal):\n 1. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "have 1: \"indoc a ([a] @ remove1 a v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a ([a] @ remove1 a v)", "by simp"], ["proof (state)\nthis:\n  indoc a ([a] @ remove1 a v)\n\ngoal (1 subgoal):\n 1. v =\\<^sub>F [a] @ remove1 a v \\<Longrightarrow> indoc a v", "show \"indoc a v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indoc a v", "using eq_fin_indoc 0  1"], ["proof (prove)\nusing this:\n  \\<lbrakk>?u =\\<^sub>F ?v; indoc ?c ?u\\<rbrakk>\n  \\<Longrightarrow> indoc ?c ?v\n  v =\\<^sub>F [a] @ remove1 a v\n  indoc a ([a] @ remove1 a v)\n\ngoal (1 subgoal):\n 1. indoc a v", "by blast"], ["proof (state)\nthis:\n  indoc a v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma levi_lemma:\n      assumes \"t @ u =\\<^sub>F v @ w\"\n      obtains p r s q\n      where \"t =\\<^sub>F p @ r\" \"u =\\<^sub>F s @ q\" \"v =\\<^sub>F p @ s\" \"w =\\<^sub>F r @ q\" \"Ind (set r) (set s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p r s q.\n        \\<lbrakk>t =\\<^sub>F p @ r; u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n         w =\\<^sub>F r @ q; Ind (set r) (set s)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  t @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. (\\<And>p r s q.\n        \\<lbrakk>t =\\<^sub>F p @ r; u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n         w =\\<^sub>F r @ q; Ind (set r) (set s)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof (induct t arbitrary: thesis v w)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>thesis v w.\n       \\<lbrakk>\\<And>p r s q.\n                   \\<lbrakk>[] =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n                    v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n                    Ind (set r) (set s)\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        [] @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<And>a t thesis v w.\n       \\<lbrakk>\\<And>thesis v w.\n                   \\<lbrakk>\\<And>p r s q.\n                               \\<lbrakk>t =\\<^sub>F p @ r;\n                                u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n                                w =\\<^sub>F r @ q;\n                                Ind (set r) (set s)\\<rbrakk>\n                               \\<Longrightarrow> thesis;\n                    t @ u =\\<^sub>F v @ w\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>p r s q.\n           \\<lbrakk>a # t =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n            v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n            Ind (set r) (set s)\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        (a # t) @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis", "case Nil"], ["proof (state)\nthis:\n  \\<lbrakk>[] =\\<^sub>F ?p @ ?r; u =\\<^sub>F ?s @ ?q; v =\\<^sub>F ?p @ ?s;\n   w =\\<^sub>F ?r @ ?q; Ind (set ?r) (set ?s)\\<rbrakk>\n  \\<Longrightarrow> thesis\n  [] @ u =\\<^sub>F v @ w\n\ngoal (2 subgoals):\n 1. \\<And>thesis v w.\n       \\<lbrakk>\\<And>p r s q.\n                   \\<lbrakk>[] =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n                    v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n                    Ind (set r) (set s)\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        [] @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<And>a t thesis v w.\n       \\<lbrakk>\\<And>thesis v w.\n                   \\<lbrakk>\\<And>p r s q.\n                               \\<lbrakk>t =\\<^sub>F p @ r;\n                                u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n                                w =\\<^sub>F r @ q;\n                                Ind (set r) (set s)\\<rbrakk>\n                               \\<Longrightarrow> thesis;\n                    t @ u =\\<^sub>F v @ w\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>p r s q.\n           \\<lbrakk>a # t =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n            v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n            Ind (set r) (set s)\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        (a # t) @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (rule Nil(1))"], ["proof (state)\ngoal (5 subgoals):\n 1. [] =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "show \"[] =\\<^sub>F [] @ []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] =\\<^sub>F [] @ []", "by simp"], ["proof (state)\nthis:\n  [] =\\<^sub>F [] @ []\n\ngoal (4 subgoals):\n 1. u =\\<^sub>F ?s @ ?q\n 2. v =\\<^sub>F [] @ ?s\n 3. w =\\<^sub>F [] @ ?q\n 4. Ind (set []) (set ?s)", "show \"v =\\<^sub>F [] @ v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v =\\<^sub>F [] @ v", "by simp"], ["proof (state)\nthis:\n  v =\\<^sub>F [] @ v\n\ngoal (3 subgoals):\n 1. u =\\<^sub>F v @ ?q\n 2. w =\\<^sub>F [] @ ?q\n 3. Ind (set []) (set v)", "show \"u =\\<^sub>F v @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u =\\<^sub>F v @ w", "using Nil(2)"], ["proof (prove)\nusing this:\n  [] @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. u =\\<^sub>F v @ w", "by simp"], ["proof (state)\nthis:\n  u =\\<^sub>F v @ w\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F [] @ w\n 2. Ind (set []) (set v)", "show \"w =\\<^sub>F [] @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w =\\<^sub>F [] @ w", "by simp"], ["proof (state)\nthis:\n  w =\\<^sub>F [] @ w\n\ngoal (1 subgoal):\n 1. Ind (set []) (set v)", "show \"Ind (set []) (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set []) (set v)", "by simp"], ["proof (state)\nthis:\n  Ind (set []) (set v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. \\<And>a t thesis v w.\n       \\<lbrakk>\\<And>thesis v w.\n                   \\<lbrakk>\\<And>p r s q.\n                               \\<lbrakk>t =\\<^sub>F p @ r;\n                                u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n                                w =\\<^sub>F r @ q;\n                                Ind (set r) (set s)\\<rbrakk>\n                               \\<Longrightarrow> thesis;\n                    t @ u =\\<^sub>F v @ w\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>p r s q.\n           \\<lbrakk>a # t =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n            v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n            Ind (set r) (set s)\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        (a # t) @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a t thesis v w.\n       \\<lbrakk>\\<And>thesis v w.\n                   \\<lbrakk>\\<And>p r s q.\n                               \\<lbrakk>t =\\<^sub>F p @ r;\n                                u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n                                w =\\<^sub>F r @ q;\n                                Ind (set r) (set s)\\<rbrakk>\n                               \\<Longrightarrow> thesis;\n                    t @ u =\\<^sub>F v @ w\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>p r s q.\n           \\<lbrakk>a # t =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n            v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n            Ind (set r) (set s)\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        (a # t) @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis", "case (Cons a t')"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>p r s q.\n              \\<lbrakk>t' =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n               ?v =\\<^sub>F p @ s; ?w =\\<^sub>F r @ q;\n               Ind (set r) (set s)\\<rbrakk>\n              \\<Longrightarrow> ?thesis;\n   t' @ u =\\<^sub>F ?v @ ?w\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  \\<lbrakk>a # t' =\\<^sub>F ?p @ ?r; u =\\<^sub>F ?s @ ?q;\n   v =\\<^sub>F ?p @ ?s; w =\\<^sub>F ?r @ ?q; Ind (set ?r) (set ?s)\\<rbrakk>\n  \\<Longrightarrow> thesis\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. \\<And>a t thesis v w.\n       \\<lbrakk>\\<And>thesis v w.\n                   \\<lbrakk>\\<And>p r s q.\n                               \\<lbrakk>t =\\<^sub>F p @ r;\n                                u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n                                w =\\<^sub>F r @ q;\n                                Ind (set r) (set s)\\<rbrakk>\n                               \\<Longrightarrow> thesis;\n                    t @ u =\\<^sub>F v @ w\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>p r s q.\n           \\<lbrakk>a # t =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n            v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n            Ind (set r) (set s)\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        (a # t) @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis", "have 1: \"[a] \\<preceq>\\<^sub>F v @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v @ w", "using Cons(3)"], ["proof (prove)\nusing this:\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v @ w", "by blast"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. \\<And>a t thesis v w.\n       \\<lbrakk>\\<And>thesis v w.\n                   \\<lbrakk>\\<And>p r s q.\n                               \\<lbrakk>t =\\<^sub>F p @ r;\n                                u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n                                w =\\<^sub>F r @ q;\n                                Ind (set r) (set s)\\<rbrakk>\n                               \\<Longrightarrow> thesis;\n                    t @ u =\\<^sub>F v @ w\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<And>p r s q.\n           \\<lbrakk>a # t =\\<^sub>F p @ r; u =\\<^sub>F s @ q;\n            v =\\<^sub>F p @ s; w =\\<^sub>F r @ q;\n            Ind (set r) (set s)\\<rbrakk>\n           \\<Longrightarrow> thesis;\n        (a # t) @ u =\\<^sub>F v @ w\\<rbrakk>\n       \\<Longrightarrow> thesis", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (cases \"a \\<in> set v\")"], ["proof (state)\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "case False"], ["proof (state)\nthis:\n  a \\<notin> set v\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have 2: \"[a] \\<preceq>\\<^sub>F w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F w", "using le_fin_not_member' 1 False"], ["proof (prove)\nusing this:\n  \\<lbrakk>[?a] \\<preceq>\\<^sub>F ?u @ ?v; ?a \\<notin> set ?u\\<rbrakk>\n  \\<Longrightarrow> [?a] \\<preceq>\\<^sub>F ?v\n  [a] \\<preceq>\\<^sub>F v @ w\n  a \\<notin> set v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F w", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F w\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "obtain w' where 3: \"w =\\<^sub>F [a] @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        w =\\<^sub>F [a] @ w' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 2"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F w\n\ngoal (1 subgoal):\n 1. (\\<And>w'.\n        w =\\<^sub>F [a] @ w' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  w =\\<^sub>F [a] @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have 4: \"v \\<preceq>\\<^sub>F v @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<preceq>\\<^sub>F v @ w", "by auto"], ["proof (state)\nthis:\n  v \\<preceq>\\<^sub>F v @ w\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have 5: \"Ind (set [a]) (set v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v)", "using le_fin_ind'[OF 1 4] False"], ["proof (prove)\nusing this:\n  a \\<notin> set v \\<Longrightarrow> Ind {a} (set v)\n  a \\<notin> set v\n\ngoal (1 subgoal):\n 1. Ind (set [a]) (set v)", "by simp"], ["proof (state)\nthis:\n  Ind (set [a]) (set v)\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have \"[a] @ t' @ u = (a # t') @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ t' @ u = (a # t') @ u", "by simp"], ["proof (state)\nthis:\n  [a] @ t' @ u = (a # t') @ u\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  [a] @ t' @ u = (a # t') @ u\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have \"\\<dots> =\\<^sub>F v @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a # t') @ u =\\<^sub>F v @ w", "using Cons(3)"], ["proof (prove)\nusing this:\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. (a # t') @ u =\\<^sub>F v @ w", "by this"], ["proof (state)\nthis:\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have \"\\<dots> =\\<^sub>F v @ [a] @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v @ w =\\<^sub>F v @ [a] @ w'", "using 3"], ["proof (prove)\nusing this:\n  w =\\<^sub>F [a] @ w'\n\ngoal (1 subgoal):\n 1. v @ w =\\<^sub>F v @ [a] @ w'", "by blast"], ["proof (state)\nthis:\n  v @ w =\\<^sub>F v @ [a] @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  v @ w =\\<^sub>F v @ [a] @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have \"\\<dots> = (v @ [a]) @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v @ [a] @ w' = (v @ [a]) @ w'", "by simp"], ["proof (state)\nthis:\n  v @ [a] @ w' = (v @ [a]) @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  v @ [a] @ w' = (v @ [a]) @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have \"\\<dots> =\\<^sub>F ([a] @ v) @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v @ [a]) @ w' =\\<^sub>F ([a] @ v) @ w'", "using 5"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set v)\n\ngoal (1 subgoal):\n 1. (v @ [a]) @ w' =\\<^sub>F ([a] @ v) @ w'", "by blast"], ["proof (state)\nthis:\n  (v @ [a]) @ w' =\\<^sub>F ([a] @ v) @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  (v @ [a]) @ w' =\\<^sub>F ([a] @ v) @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have \"\\<dots> = [a] @ v @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ v) @ w' = [a] @ v @ w'", "by simp"], ["proof (state)\nthis:\n  ([a] @ v) @ w' = [a] @ v @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "finally"], ["proof (chain)\npicking this:\n  [a] @ t' @ u =\\<^sub>F [a] @ v @ w'", "have 6: \"t' @ u =\\<^sub>F v @ w'\""], ["proof (prove)\nusing this:\n  [a] @ t' @ u =\\<^sub>F [a] @ v @ w'\n\ngoal (1 subgoal):\n 1. t' @ u =\\<^sub>F v @ w'", "by blast"], ["proof (state)\nthis:\n  t' @ u =\\<^sub>F v @ w'\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "obtain p r' s q where 7: \"t' =\\<^sub>F p @ r'\" \"u =\\<^sub>F s @ q\" \"v =\\<^sub>F p @ s\" \"w' =\\<^sub>F r' @ q\"\n          \"Ind (set r') (set s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p r' s q.\n        \\<lbrakk>t' =\\<^sub>F p @ r'; u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n         w' =\\<^sub>F r' @ q; Ind (set r') (set s)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Cons(1)[OF _ 6]"], ["proof (prove)\nusing this:\n  (\\<And>p r s q.\n      \\<lbrakk>t' =\\<^sub>F p @ r; u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n       w' =\\<^sub>F r @ q; Ind (set r) (set s)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>p r' s q.\n        \\<lbrakk>t' =\\<^sub>F p @ r'; u =\\<^sub>F s @ q; v =\\<^sub>F p @ s;\n         w' =\\<^sub>F r' @ q; Ind (set r') (set s)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by this"], ["proof (state)\nthis:\n  t' =\\<^sub>F p @ r'\n  u =\\<^sub>F s @ q\n  v =\\<^sub>F p @ s\n  w' =\\<^sub>F r' @ q\n  Ind (set r') (set s)\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have 8: \"set v = set p \\<union> set s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set v = set p \\<union> set s", "using eq_fin_range 7(3)"], ["proof (prove)\nusing this:\n  ?w\\<^sub>1 =\\<^sub>F ?w\\<^sub>2 \\<Longrightarrow>\n  set ?w\\<^sub>1 = set ?w\\<^sub>2\n  v =\\<^sub>F p @ s\n\ngoal (1 subgoal):\n 1. set v = set p \\<union> set s", "by auto"], ["proof (state)\nthis:\n  set v = set p \\<union> set s\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have 9: \"Ind (set [a]) (set p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set [a]) (set p)", "using 5 8"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set v)\n  set v = set p \\<union> set s\n\ngoal (1 subgoal):\n 1. Ind (set [a]) (set p)", "by auto"], ["proof (state)\nthis:\n  Ind (set [a]) (set p)\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "have 10: \"Ind (set [a]) (set s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set [a]) (set s)", "using 5 8"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set v)\n  set v = set p \\<union> set s\n\ngoal (1 subgoal):\n 1. Ind (set [a]) (set s)", "by auto"], ["proof (state)\nthis:\n  Ind (set [a]) (set s)\n\ngoal (2 subgoals):\n 1. a \\<in> set v \\<Longrightarrow> thesis\n 2. a \\<notin> set v \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (rule Cons(2))"], ["proof (state)\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"a # t' = [a] @ t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a # t' = [a] @ t'", "by simp"], ["proof (state)\nthis:\n  a # t' = [a] @ t'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "also"], ["proof (state)\nthis:\n  a # t' = [a] @ t'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"\\<dots> =\\<^sub>F [a] @ p @ r'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ t' =\\<^sub>F [a] @ p @ r'", "using 7(1)"], ["proof (prove)\nusing this:\n  t' =\\<^sub>F p @ r'\n\ngoal (1 subgoal):\n 1. [a] @ t' =\\<^sub>F [a] @ p @ r'", "by blast"], ["proof (state)\nthis:\n  [a] @ t' =\\<^sub>F [a] @ p @ r'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "also"], ["proof (state)\nthis:\n  [a] @ t' =\\<^sub>F [a] @ p @ r'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"\\<dots> = ([a] @ p) @ r'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ p @ r' = ([a] @ p) @ r'", "by simp"], ["proof (state)\nthis:\n  [a] @ p @ r' = ([a] @ p) @ r'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "also"], ["proof (state)\nthis:\n  [a] @ p @ r' = ([a] @ p) @ r'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"\\<dots> =\\<^sub>F (p @ [a]) @ r'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ p) @ r' =\\<^sub>F (p @ [a]) @ r'", "using 9"], ["proof (prove)\nusing this:\n  Ind (set [a]) (set p)\n\ngoal (1 subgoal):\n 1. ([a] @ p) @ r' =\\<^sub>F (p @ [a]) @ r'", "by blast"], ["proof (state)\nthis:\n  ([a] @ p) @ r' =\\<^sub>F (p @ [a]) @ r'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "also"], ["proof (state)\nthis:\n  ([a] @ p) @ r' =\\<^sub>F (p @ [a]) @ r'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"\\<dots> = p @ [a] @ r'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (p @ [a]) @ r' = p @ [a] @ r'", "by simp"], ["proof (state)\nthis:\n  (p @ [a]) @ r' = p @ [a] @ r'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "finally"], ["proof (chain)\npicking this:\n  a # t' =\\<^sub>F p @ [a] @ r'", "show \"a # t' =\\<^sub>F p @ [a] @ r'\""], ["proof (prove)\nusing this:\n  a # t' =\\<^sub>F p @ [a] @ r'\n\ngoal (1 subgoal):\n 1. a # t' =\\<^sub>F p @ [a] @ r'", "by this"], ["proof (state)\nthis:\n  a # t' =\\<^sub>F p @ [a] @ r'\n\ngoal (4 subgoals):\n 1. u =\\<^sub>F ?s @ ?q\n 2. v =\\<^sub>F p @ ?s\n 3. w =\\<^sub>F ([a] @ r') @ ?q\n 4. Ind (set ([a] @ r')) (set ?s)", "show \"u =\\<^sub>F s @ q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u =\\<^sub>F s @ q", "using 7(2)"], ["proof (prove)\nusing this:\n  u =\\<^sub>F s @ q\n\ngoal (1 subgoal):\n 1. u =\\<^sub>F s @ q", "by this"], ["proof (state)\nthis:\n  u =\\<^sub>F s @ q\n\ngoal (3 subgoals):\n 1. v =\\<^sub>F p @ s\n 2. w =\\<^sub>F ([a] @ r') @ q\n 3. Ind (set ([a] @ r')) (set s)", "show \"v =\\<^sub>F p @ s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v =\\<^sub>F p @ s", "using 7(3)"], ["proof (prove)\nusing this:\n  v =\\<^sub>F p @ s\n\ngoal (1 subgoal):\n 1. v =\\<^sub>F p @ s", "by this"], ["proof (state)\nthis:\n  v =\\<^sub>F p @ s\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F ([a] @ r') @ q\n 2. Ind (set ([a] @ r')) (set s)", "have \"w =\\<^sub>F [a] @ w'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w =\\<^sub>F [a] @ w'", "using 3"], ["proof (prove)\nusing this:\n  w =\\<^sub>F [a] @ w'\n\ngoal (1 subgoal):\n 1. w =\\<^sub>F [a] @ w'", "by this"], ["proof (state)\nthis:\n  w =\\<^sub>F [a] @ w'\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F ([a] @ r') @ q\n 2. Ind (set ([a] @ r')) (set s)", "also"], ["proof (state)\nthis:\n  w =\\<^sub>F [a] @ w'\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F ([a] @ r') @ q\n 2. Ind (set ([a] @ r')) (set s)", "have \"\\<dots> =\\<^sub>F [a] @ r' @ q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ w' =\\<^sub>F [a] @ r' @ q", "using 7(4)"], ["proof (prove)\nusing this:\n  w' =\\<^sub>F r' @ q\n\ngoal (1 subgoal):\n 1. [a] @ w' =\\<^sub>F [a] @ r' @ q", "by blast"], ["proof (state)\nthis:\n  [a] @ w' =\\<^sub>F [a] @ r' @ q\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F ([a] @ r') @ q\n 2. Ind (set ([a] @ r')) (set s)", "also"], ["proof (state)\nthis:\n  [a] @ w' =\\<^sub>F [a] @ r' @ q\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F ([a] @ r') @ q\n 2. Ind (set ([a] @ r')) (set s)", "have \"\\<dots> = ([a] @ r') @ q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ r' @ q = ([a] @ r') @ q", "by simp"], ["proof (state)\nthis:\n  [a] @ r' @ q = ([a] @ r') @ q\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F ([a] @ r') @ q\n 2. Ind (set ([a] @ r')) (set s)", "finally"], ["proof (chain)\npicking this:\n  w =\\<^sub>F ([a] @ r') @ q", "show \"w =\\<^sub>F ([a] @ r') @ q\""], ["proof (prove)\nusing this:\n  w =\\<^sub>F ([a] @ r') @ q\n\ngoal (1 subgoal):\n 1. w =\\<^sub>F ([a] @ r') @ q", "by this"], ["proof (state)\nthis:\n  w =\\<^sub>F ([a] @ r') @ q\n\ngoal (1 subgoal):\n 1. Ind (set ([a] @ r')) (set s)", "show \"Ind (set ([a] @ r')) (set s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set ([a] @ r')) (set s)", "using 7(5) 10"], ["proof (prove)\nusing this:\n  Ind (set r') (set s)\n  Ind (set [a]) (set s)\n\ngoal (1 subgoal):\n 1. Ind (set ([a] @ r')) (set s)", "by auto"], ["proof (state)\nthis:\n  Ind (set ([a] @ r')) (set s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "case True"], ["proof (state)\nthis:\n  a \\<in> set v\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "have 2: \"[a] \\<preceq>\\<^sub>F v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "using le_fin_member' 1 True"], ["proof (prove)\nusing this:\n  \\<lbrakk>[?a] \\<preceq>\\<^sub>F ?u @ ?v; ?a \\<in> set ?u\\<rbrakk>\n  \\<Longrightarrow> [?a] \\<preceq>\\<^sub>F ?u\n  [a] \\<preceq>\\<^sub>F v @ w\n  a \\<in> set v\n\ngoal (1 subgoal):\n 1. [a] \\<preceq>\\<^sub>F v", "by this"], ["proof (state)\nthis:\n  [a] \\<preceq>\\<^sub>F v\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "obtain v' where 3: \"v =\\<^sub>F [a] @ v'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v =\\<^sub>F [a] @ v' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 2"], ["proof (prove)\nusing this:\n  [a] \\<preceq>\\<^sub>F v\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v =\\<^sub>F [a] @ v' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v =\\<^sub>F [a] @ v'\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "have \"[a] @ t' @ u = (a # t') @ u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ t' @ u = (a # t') @ u", "by simp"], ["proof (state)\nthis:\n  [a] @ t' @ u = (a # t') @ u\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  [a] @ t' @ u = (a # t') @ u\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "have \"\\<dots> =\\<^sub>F v @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a # t') @ u =\\<^sub>F v @ w", "using Cons(3)"], ["proof (prove)\nusing this:\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. (a # t') @ u =\\<^sub>F v @ w", "by this"], ["proof (state)\nthis:\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  (a # t') @ u =\\<^sub>F v @ w\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "have \"\\<dots> =\\<^sub>F ([a] @ v') @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v @ w =\\<^sub>F ([a] @ v') @ w", "using 3"], ["proof (prove)\nusing this:\n  v =\\<^sub>F [a] @ v'\n\ngoal (1 subgoal):\n 1. v @ w =\\<^sub>F ([a] @ v') @ w", "by blast"], ["proof (state)\nthis:\n  v @ w =\\<^sub>F ([a] @ v') @ w\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "also"], ["proof (state)\nthis:\n  v @ w =\\<^sub>F ([a] @ v') @ w\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "have \"\\<dots> = [a] @ v' @ w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([a] @ v') @ w = [a] @ v' @ w", "by simp"], ["proof (state)\nthis:\n  ([a] @ v') @ w = [a] @ v' @ w\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "finally"], ["proof (chain)\npicking this:\n  [a] @ t' @ u =\\<^sub>F [a] @ v' @ w", "have 4: \"t' @ u =\\<^sub>F v' @ w\""], ["proof (prove)\nusing this:\n  [a] @ t' @ u =\\<^sub>F [a] @ v' @ w\n\ngoal (1 subgoal):\n 1. t' @ u =\\<^sub>F v' @ w", "by blast"], ["proof (state)\nthis:\n  t' @ u =\\<^sub>F v' @ w\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "obtain p' r s q where 7: \"t' =\\<^sub>F p' @ r\" \"u =\\<^sub>F s @ q\" \"v' =\\<^sub>F p' @ s\" \"w =\\<^sub>F r @ q\"\n          \"Ind (set r) (set s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p' r s q.\n        \\<lbrakk>t' =\\<^sub>F p' @ r; u =\\<^sub>F s @ q;\n         v' =\\<^sub>F p' @ s; w =\\<^sub>F r @ q;\n         Ind (set r) (set s)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Cons(1)[OF _ 4]"], ["proof (prove)\nusing this:\n  (\\<And>p r s q.\n      \\<lbrakk>t' =\\<^sub>F p @ r; u =\\<^sub>F s @ q; v' =\\<^sub>F p @ s;\n       w =\\<^sub>F r @ q; Ind (set r) (set s)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>p' r s q.\n        \\<lbrakk>t' =\\<^sub>F p' @ r; u =\\<^sub>F s @ q;\n         v' =\\<^sub>F p' @ s; w =\\<^sub>F r @ q;\n         Ind (set r) (set s)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by this"], ["proof (state)\nthis:\n  t' =\\<^sub>F p' @ r\n  u =\\<^sub>F s @ q\n  v' =\\<^sub>F p' @ s\n  w =\\<^sub>F r @ q\n  Ind (set r) (set s)\n\ngoal (1 subgoal):\n 1. a \\<in> set v \\<Longrightarrow> thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "proof (rule Cons(2))"], ["proof (state)\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"a # t' = [a] @ t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a # t' = [a] @ t'", "by simp"], ["proof (state)\nthis:\n  a # t' = [a] @ t'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "also"], ["proof (state)\nthis:\n  a # t' = [a] @ t'\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"\\<dots> =\\<^sub>F [a] @ p' @ r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ t' =\\<^sub>F [a] @ p' @ r", "using 7(1)"], ["proof (prove)\nusing this:\n  t' =\\<^sub>F p' @ r\n\ngoal (1 subgoal):\n 1. [a] @ t' =\\<^sub>F [a] @ p' @ r", "by blast"], ["proof (state)\nthis:\n  [a] @ t' =\\<^sub>F [a] @ p' @ r\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "also"], ["proof (state)\nthis:\n  [a] @ t' =\\<^sub>F [a] @ p' @ r\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "have \"\\<dots> = ([a] @ p') @ r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ p' @ r = ([a] @ p') @ r", "by simp"], ["proof (state)\nthis:\n  [a] @ p' @ r = ([a] @ p') @ r\n\ngoal (5 subgoals):\n 1. a # t' =\\<^sub>F ?p @ ?r\n 2. u =\\<^sub>F ?s @ ?q\n 3. v =\\<^sub>F ?p @ ?s\n 4. w =\\<^sub>F ?r @ ?q\n 5. Ind (set ?r) (set ?s)", "finally"], ["proof (chain)\npicking this:\n  a # t' =\\<^sub>F ([a] @ p') @ r", "show \"a # t' =\\<^sub>F ([a] @ p') @ r\""], ["proof (prove)\nusing this:\n  a # t' =\\<^sub>F ([a] @ p') @ r\n\ngoal (1 subgoal):\n 1. a # t' =\\<^sub>F ([a] @ p') @ r", "by this"], ["proof (state)\nthis:\n  a # t' =\\<^sub>F ([a] @ p') @ r\n\ngoal (4 subgoals):\n 1. u =\\<^sub>F ?s @ ?q\n 2. v =\\<^sub>F ([a] @ p') @ ?s\n 3. w =\\<^sub>F r @ ?q\n 4. Ind (set r) (set ?s)", "show \"u =\\<^sub>F s @ q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u =\\<^sub>F s @ q", "using 7(2)"], ["proof (prove)\nusing this:\n  u =\\<^sub>F s @ q\n\ngoal (1 subgoal):\n 1. u =\\<^sub>F s @ q", "by this"], ["proof (state)\nthis:\n  u =\\<^sub>F s @ q\n\ngoal (3 subgoals):\n 1. v =\\<^sub>F ([a] @ p') @ s\n 2. w =\\<^sub>F r @ q\n 3. Ind (set r) (set s)", "have \"v =\\<^sub>F [a] @ v'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v =\\<^sub>F [a] @ v'", "using 3"], ["proof (prove)\nusing this:\n  v =\\<^sub>F [a] @ v'\n\ngoal (1 subgoal):\n 1. v =\\<^sub>F [a] @ v'", "by this"], ["proof (state)\nthis:\n  v =\\<^sub>F [a] @ v'\n\ngoal (3 subgoals):\n 1. v =\\<^sub>F ([a] @ p') @ s\n 2. w =\\<^sub>F r @ q\n 3. Ind (set r) (set s)", "also"], ["proof (state)\nthis:\n  v =\\<^sub>F [a] @ v'\n\ngoal (3 subgoals):\n 1. v =\\<^sub>F ([a] @ p') @ s\n 2. w =\\<^sub>F r @ q\n 3. Ind (set r) (set s)", "have \"\\<dots> =\\<^sub>F [a] @ p' @ s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ v' =\\<^sub>F [a] @ p' @ s", "using 7(3)"], ["proof (prove)\nusing this:\n  v' =\\<^sub>F p' @ s\n\ngoal (1 subgoal):\n 1. [a] @ v' =\\<^sub>F [a] @ p' @ s", "by blast"], ["proof (state)\nthis:\n  [a] @ v' =\\<^sub>F [a] @ p' @ s\n\ngoal (3 subgoals):\n 1. v =\\<^sub>F ([a] @ p') @ s\n 2. w =\\<^sub>F r @ q\n 3. Ind (set r) (set s)", "also"], ["proof (state)\nthis:\n  [a] @ v' =\\<^sub>F [a] @ p' @ s\n\ngoal (3 subgoals):\n 1. v =\\<^sub>F ([a] @ p') @ s\n 2. w =\\<^sub>F r @ q\n 3. Ind (set r) (set s)", "have \"\\<dots> = ([a] @ p') @ s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [a] @ p' @ s = ([a] @ p') @ s", "by simp"], ["proof (state)\nthis:\n  [a] @ p' @ s = ([a] @ p') @ s\n\ngoal (3 subgoals):\n 1. v =\\<^sub>F ([a] @ p') @ s\n 2. w =\\<^sub>F r @ q\n 3. Ind (set r) (set s)", "finally"], ["proof (chain)\npicking this:\n  v =\\<^sub>F ([a] @ p') @ s", "show \"v =\\<^sub>F ([a] @ p') @ s\""], ["proof (prove)\nusing this:\n  v =\\<^sub>F ([a] @ p') @ s\n\ngoal (1 subgoal):\n 1. v =\\<^sub>F ([a] @ p') @ s", "by this"], ["proof (state)\nthis:\n  v =\\<^sub>F ([a] @ p') @ s\n\ngoal (2 subgoals):\n 1. w =\\<^sub>F r @ q\n 2. Ind (set r) (set s)", "show \"w =\\<^sub>F r @ q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w =\\<^sub>F r @ q", "using 7(4)"], ["proof (prove)\nusing this:\n  w =\\<^sub>F r @ q\n\ngoal (1 subgoal):\n 1. w =\\<^sub>F r @ q", "by this"], ["proof (state)\nthis:\n  w =\\<^sub>F r @ q\n\ngoal (1 subgoal):\n 1. Ind (set r) (set s)", "show \"Ind (set r) (set s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (set r) (set s)", "using 7(5)"], ["proof (prove)\nusing this:\n  Ind (set r) (set s)\n\ngoal (1 subgoal):\n 1. Ind (set r) (set s)", "by this"], ["proof (state)\nthis:\n  Ind (set r) (set s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}