{"file_name": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction/Ample_Analysis.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Partial_Order_Reduction", "problem_names": ["lemma restrict_ample_set:\n      assumes \"s \\<in> nodes\"\n      assumes \"A \\<inter> {a. en a s} \\<noteq> {}\" \"A \\<inter> {a. en a s} \\<inter> sticky = {}\"\n      assumes \"Ind (A \\<inter> {a. en a s}) (executable - A)\"\n      assumes \"\\<And> w. path w s \\<Longrightarrow> A \\<inter> {a. en a s} \\<inter> set w = {} \\<Longrightarrow> A \\<inter> set w = {}\"\n      shows \"ample_set s (A \\<inter> {a. en a s})\"", "lemma psen_fin_word:\n      assumes \"s \\<in> nodes\" \"path w s\" \"pac p \\<inter> set w = {}\"\n      shows \"psen p (target w s) = psen p s\"", "lemma en_fin_word:\n      assumes \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> b \\<in> {a. en a r} - pac p \\<Longrightarrow>\n        en a (ex b r) \\<Longrightarrow> en a r\"\n      assumes \"s \\<in> nodes\" \"path w s\" \"pac p \\<inter> set w = {}\"\n      shows \"pac p \\<inter> {a. en a (target w s)} \\<subseteq> pac p \\<inter> {a. en a s}\"", "lemma pac_en_blocked:\n      assumes \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> b \\<in> {a. en a r} - pac p \\<Longrightarrow>\n        en a (ex b r) \\<Longrightarrow> en a r\"\n      assumes \"s \\<in> nodes\" \"path w s\" \"pac p \\<inter> {a. en a s} \\<inter> set w = {}\"\n      shows \"pac p \\<inter> set w = {}\"", "lemma psen_simple:\n      assumes \"Proc (psen p s) = {p}\"\n      assumes \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> en b r \\<Longrightarrow>\n        proc a \\<inter> proc b = {} \\<Longrightarrow> en a (ex b r) \\<Longrightarrow> en a r\"\n      shows \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> b \\<in> {a. en a r} - pac p \\<Longrightarrow>\n        en a (ex b r) \\<Longrightarrow> en a r\""], "translations": [["", "lemma restrict_ample_set:\n      assumes \"s \\<in> nodes\"\n      assumes \"A \\<inter> {a. en a s} \\<noteq> {}\" \"A \\<inter> {a. en a s} \\<inter> sticky = {}\"\n      assumes \"Ind (A \\<inter> {a. en a s}) (executable - A)\"\n      assumes \"\\<And> w. path w s \\<Longrightarrow> A \\<inter> {a. en a s} \\<inter> set w = {} \\<Longrightarrow> A \\<inter> set w = {}\"\n      shows \"ample_set s (A \\<inter> {a. en a s})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ample_set s (A \\<inter> {a. en a s})", "unfolding ample_set_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<subseteq> {a. en a s} \\<and>\n    (A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<longrightarrow>\n     A \\<inter> {a. en a s} \\<noteq> {}) \\<and>\n    (\\<forall>a.\n        A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<longrightarrow>\n        a \\<in> A \\<inter> {a. en a s} \\<longrightarrow>\n        scut\\<inverse>\\<inverse> (ex a s) s) \\<and>\n    (A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<longrightarrow>\n     A \\<inter> {a. en a s} \\<subseteq> invisible) \\<and>\n    (\\<forall>w.\n        A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<longrightarrow>\n        path w s \\<longrightarrow>\n        A \\<inter> {a. en a s} \\<inter> set w = {} \\<longrightarrow>\n        Ind (A \\<inter> {a. en a s}) (set w))", "proof (intro conjI allI impI)"], ["proof (state)\ngoal (5 subgoals):\n 1. A \\<inter> {a. en a s} \\<subseteq> {a. en a s}\n 2. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<noteq> {}\n 3. \\<And>a.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s};\n        a \\<in> A \\<inter> {a. en a s}\\<rbrakk>\n       \\<Longrightarrow> scut\\<inverse>\\<inverse> (ex a s) s\n 4. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 5. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "show \"A \\<inter> {a. en a s} \\<subseteq> {a. en a s}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<subseteq> {a. en a s}", "by simp"], ["proof (state)\nthis:\n  A \\<inter> {a. en a s} \\<subseteq> {a. en a s}\n\ngoal (4 subgoals):\n 1. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<noteq> {}\n 2. \\<And>a.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s};\n        a \\<in> A \\<inter> {a. en a s}\\<rbrakk>\n       \\<Longrightarrow> scut\\<inverse>\\<inverse> (ex a s) s\n 3. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 4. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<noteq> {}\n 2. \\<And>a.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s};\n        a \\<in> A \\<inter> {a. en a s}\\<rbrakk>\n       \\<Longrightarrow> scut\\<inverse>\\<inverse> (ex a s) s\n 3. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 4. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "show \"A \\<inter> {a. en a s} \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<noteq> {}", "using assms(2)"], ["proof (prove)\nusing this:\n  A \\<inter> {a. en a s} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<noteq> {}", "by this"], ["proof (state)\nthis:\n  A \\<inter> {a. en a s} \\<noteq> {}\n\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s};\n        a \\<in> A \\<inter> {a. en a s}\\<rbrakk>\n       \\<Longrightarrow> scut\\<inverse>\\<inverse> (ex a s) s\n 2. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 3. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s};\n        a \\<in> A \\<inter> {a. en a s}\\<rbrakk>\n       \\<Longrightarrow> scut\\<inverse>\\<inverse> (ex a s) s\n 2. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 3. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "fix a"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s};\n        a \\<in> A \\<inter> {a. en a s}\\<rbrakk>\n       \\<Longrightarrow> scut\\<inverse>\\<inverse> (ex a s) s\n 2. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 3. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "assume 1: \"a \\<in> A \\<inter> {a. en a s}\""], ["proof (state)\nthis:\n  a \\<in> A \\<inter> {a. en a s}\n\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s};\n        a \\<in> A \\<inter> {a. en a s}\\<rbrakk>\n       \\<Longrightarrow> scut\\<inverse>\\<inverse> (ex a s) s\n 2. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 3. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "show \"scut\\<inverse>\\<inverse> (ex a s) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. scut\\<inverse>\\<inverse> (ex a s) s", "proof (rule no_cut_scut)"], ["proof (state)\ngoal (3 subgoals):\n 1. s \\<in> nodes\n 2. en a s\n 3. a \\<notin> sticky", "show \"s \\<in> nodes\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> nodes", "using assms(1)"], ["proof (prove)\nusing this:\n  s \\<in> nodes\n\ngoal (1 subgoal):\n 1. s \\<in> nodes", "by this"], ["proof (state)\nthis:\n  s \\<in> nodes\n\ngoal (2 subgoals):\n 1. en a s\n 2. a \\<notin> sticky", "show \"en a s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. en a s", "using 1"], ["proof (prove)\nusing this:\n  a \\<in> A \\<inter> {a. en a s}\n\ngoal (1 subgoal):\n 1. en a s", "by simp"], ["proof (state)\nthis:\n  en a s\n\ngoal (1 subgoal):\n 1. a \\<notin> sticky", "show \"a \\<notin> sticky\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> sticky", "using assms(3) 1"], ["proof (prove)\nusing this:\n  A \\<inter> {a. en a s} \\<inter> sticky = {}\n  a \\<in> A \\<inter> {a. en a s}\n\ngoal (1 subgoal):\n 1. a \\<notin> sticky", "by auto"], ["proof (state)\nthis:\n  a \\<notin> sticky\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  scut\\<inverse>\\<inverse> (ex a s) s\n\ngoal (2 subgoals):\n 1. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 2. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 2. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "have 1: \"A \\<inter> {a. en a s} \\<subseteq> executable\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<subseteq> executable", "using executable assms(1)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?p \\<in> nodes; en ?a ?p\\<rbrakk>\n  \\<Longrightarrow> ?a \\<in> executable\n  s \\<in> nodes\n\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<subseteq> executable", "by blast"], ["proof (state)\nthis:\n  A \\<inter> {a. en a s} \\<subseteq> executable\n\ngoal (2 subgoals):\n 1. A \\<inter> {a. en a s} \\<subset> {a. en a s} \\<Longrightarrow>\n    A \\<inter> {a. en a s} \\<subseteq> invisible\n 2. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "show \"A \\<inter> {a. en a s} \\<subseteq> invisible\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<subseteq> invisible", "using executable_visible_sticky assms(3) 1"], ["proof (prove)\nusing this:\n  executable \\<inter> visible \\<subseteq> sticky\n  A \\<inter> {a. en a s} \\<inter> sticky = {}\n  A \\<inter> {a. en a s} \\<subseteq> executable\n\ngoal (1 subgoal):\n 1. A \\<inter> {a. en a s} \\<subseteq> invisible", "by blast"], ["proof (state)\nthis:\n  A \\<inter> {a. en a s} \\<subseteq> invisible\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "assume 1: \"path w s\" \"A \\<inter> {a. en a s} \\<inter> set w = {}\""], ["proof (state)\nthis:\n  path w s\n  A \\<inter> {a. en a s} \\<inter> set w = {}\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "have 2: \"A \\<inter> set w = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> set w = {}", "using assms(5) 1"], ["proof (prove)\nusing this:\n  \\<lbrakk>path ?w s; A \\<inter> {a. en a s} \\<inter> set ?w = {}\\<rbrakk>\n  \\<Longrightarrow> A \\<inter> set ?w = {}\n  path w s\n  A \\<inter> {a. en a s} \\<inter> set w = {}\n\ngoal (1 subgoal):\n 1. A \\<inter> set w = {}", "by this"], ["proof (state)\nthis:\n  A \\<inter> set w = {}\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "have 3: \"set w \\<subseteq> executable\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set w \\<subseteq> executable", "using assms(1) 1(1)"], ["proof (prove)\nusing this:\n  s \\<in> nodes\n  path w s\n\ngoal (1 subgoal):\n 1. set w \\<subseteq> executable", "by rule"], ["proof (state)\nthis:\n  set w \\<subseteq> executable\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       \\<lbrakk>A \\<inter> {a. en a s} \\<subset> {a. en a s}; path w s;\n        A \\<inter> {a. en a s} \\<inter> set w = {}\\<rbrakk>\n       \\<Longrightarrow> Ind (A \\<inter> {a. en a s}) (set w)", "show \"Ind (A \\<inter> {a. en a s}) (set w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ind (A \\<inter> {a. en a s}) (set w)", "using assms(4) 2 3"], ["proof (prove)\nusing this:\n  Ind (A \\<inter> {a. en a s}) (executable - A)\n  A \\<inter> set w = {}\n  set w \\<subseteq> executable\n\ngoal (1 subgoal):\n 1. Ind (A \\<inter> {a. en a s}) (set w)", "by blast"], ["proof (state)\nthis:\n  Ind (A \\<inter> {a. en a s}) (set w)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale transition_system_concurrent =\n    transition_system_initial ex en init\n    for ex :: \"'action \\<Rightarrow> 'state \\<Rightarrow> 'state\"\n    and en :: \"'action \\<Rightarrow> 'state \\<Rightarrow> bool\"\n    and init :: \"'state \\<Rightarrow> bool\"\n    +\n    fixes procs :: \"'state \\<Rightarrow> 'process set\"\n    fixes pac :: \"'process \\<Rightarrow> 'action set\"\n    fixes psen :: \"'process \\<Rightarrow> 'state \\<Rightarrow> 'action set\"\n    assumes procs_finite: \"s \\<in> nodes \\<Longrightarrow> finite (procs s)\"\n    assumes psen_en: \"s \\<in> nodes \\<Longrightarrow> pac p \\<inter> {a. en a s} \\<subseteq> psen p s\"\n    assumes psen_ex: \"s \\<in> nodes \\<Longrightarrow> a \\<in> {a. en a s} - pac p \\<Longrightarrow> psen p (ex a s) = psen p s\"\n  begin"], ["", "lemma psen_fin_word:\n      assumes \"s \\<in> nodes\" \"path w s\" \"pac p \\<inter> set w = {}\"\n      shows \"psen p (target w s) = psen p s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. psen p (target w s) = psen p s", "using assms(2, 1, 3)"], ["proof (prove)\nusing this:\n  path w s\n  s \\<in> nodes\n  pac p \\<inter> set w = {}\n\ngoal (1 subgoal):\n 1. psen p (target w s) = psen p s", "proof induct"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>pa.\n       \\<lbrakk>pa \\<in> nodes; pac p \\<inter> set [] = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target [] pa) = psen p pa\n 2. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "case (nil s)"], ["proof (state)\nthis:\n  s \\<in> nodes\n  pac p \\<inter> set [] = {}\n\ngoal (2 subgoals):\n 1. \\<And>pa.\n       \\<lbrakk>pa \\<in> nodes; pac p \\<inter> set [] = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target [] pa) = psen p pa\n 2. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. psen p (target [] s) = psen p s", "by simp"], ["proof (state)\nthis:\n  psen p (target [] s) = psen p s\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "case (cons a s w)"], ["proof (state)\nthis:\n  en a s\n  path w (ex a s)\n  \\<lbrakk>ex a s \\<in> nodes; pac p \\<inter> set w = {}\\<rbrakk>\n  \\<Longrightarrow> psen p (target w (ex a s)) = psen p (ex a s)\n  s \\<in> nodes\n  pac p \\<inter> set (a # w) = {}\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "have 1: \"ex a s \\<in> nodes\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ex a s \\<in> nodes", "using cons(4, 1)"], ["proof (prove)\nusing this:\n  s \\<in> nodes\n  en a s\n\ngoal (1 subgoal):\n 1. ex a s \\<in> nodes", "by rule"], ["proof (state)\nthis:\n  ex a s \\<in> nodes\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "have \"psen p (target (a # w) s) = psen p (target w (ex a s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. psen p (target (a # w) s) = psen p (target w (ex a s))", "by simp"], ["proof (state)\nthis:\n  psen p (target (a # w) s) = psen p (target w (ex a s))\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "also"], ["proof (state)\nthis:\n  psen p (target (a # w) s) = psen p (target w (ex a s))\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "have \"\\<dots> = psen p (ex a s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. psen p (target w (ex a s)) = psen p (ex a s)", "using cons 1"], ["proof (prove)\nusing this:\n  en a s\n  path w (ex a s)\n  \\<lbrakk>ex a s \\<in> nodes; pac p \\<inter> set w = {}\\<rbrakk>\n  \\<Longrightarrow> psen p (target w (ex a s)) = psen p (ex a s)\n  s \\<in> nodes\n  pac p \\<inter> set (a # w) = {}\n  ex a s \\<in> nodes\n\ngoal (1 subgoal):\n 1. psen p (target w (ex a s)) = psen p (ex a s)", "by simp"], ["proof (state)\nthis:\n  psen p (target w (ex a s)) = psen p (ex a s)\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "also"], ["proof (state)\nthis:\n  psen p (target w (ex a s)) = psen p (ex a s)\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "have \"\\<dots> = psen p s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. psen p (ex a s) = psen p s", "using psen_ex cons"], ["proof (prove)\nusing this:\n  \\<lbrakk>?s \\<in> nodes; ?a \\<in> {a. en a ?s} - pac ?p\\<rbrakk>\n  \\<Longrightarrow> psen ?p (ex ?a ?s) = psen ?p ?s\n  en a s\n  path w (ex a s)\n  \\<lbrakk>ex a s \\<in> nodes; pac p \\<inter> set w = {}\\<rbrakk>\n  \\<Longrightarrow> psen p (target w (ex a s)) = psen p (ex a s)\n  s \\<in> nodes\n  pac p \\<inter> set (a # w) = {}\n\ngoal (1 subgoal):\n 1. psen p (ex a s) = psen p s", "by simp"], ["proof (state)\nthis:\n  psen p (ex a s) = psen p s\n\ngoal (1 subgoal):\n 1. \\<And>a pa r.\n       \\<lbrakk>en a pa; path r (ex a pa);\n        \\<lbrakk>ex a pa \\<in> nodes; pac p \\<inter> set r = {}\\<rbrakk>\n        \\<Longrightarrow> psen p (target r (ex a pa)) = psen p (ex a pa);\n        pa \\<in> nodes; pac p \\<inter> set (a # r) = {}\\<rbrakk>\n       \\<Longrightarrow> psen p (target (a # r) pa) = psen p pa", "finally"], ["proof (chain)\npicking this:\n  psen p (target (a # w) s) = psen p s", "show ?case"], ["proof (prove)\nusing this:\n  psen p (target (a # w) s) = psen p s\n\ngoal (1 subgoal):\n 1. psen p (target (a # w) s) = psen p s", "by this"], ["proof (state)\nthis:\n  psen p (target (a # w) s) = psen p s\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma en_fin_word:\n      assumes \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> b \\<in> {a. en a r} - pac p \\<Longrightarrow>\n        en a (ex b r) \\<Longrightarrow> en a r\"\n      assumes \"s \\<in> nodes\" \"path w s\" \"pac p \\<inter> set w = {}\"\n      shows \"pac p \\<inter> {a. en a (target w s)} \\<subseteq> pac p \\<inter> {a. en a s}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pac p \\<inter> {a. en a (target w s)}\n    \\<subseteq> pac p \\<inter> {a. en a s}", "using assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>?r \\<in> nodes; ?a \\<in> psen p s - {a. en a s};\n   ?b \\<in> {a. en a ?r} - pac p; en ?a (ex ?b ?r)\\<rbrakk>\n  \\<Longrightarrow> en ?a ?r\n  s \\<in> nodes\n  path w s\n  pac p \\<inter> set w = {}\n\ngoal (1 subgoal):\n 1. pac p \\<inter> {a. en a (target w s)}\n    \\<subseteq> pac p \\<inter> {a. en a s}", "proof (induct w rule: rev_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>r a b.\n                \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n                 b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n                \\<Longrightarrow> en a r;\n     s \\<in> nodes; path [] s; pac p \\<inter> set [] = {}\\<rbrakk>\n    \\<Longrightarrow> pac p \\<inter> {a. en a (target [] s)}\n                      \\<subseteq> pac p \\<inter> {a. en a s}\n 2. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<And>r a b.\n                            \\<lbrakk>r \\<in> nodes;\n                             a \\<in> psen p s - {a. en a s};\n                             b \\<in> {a. en a r} - pac p;\n                             en a (ex b r)\\<rbrakk>\n                            \\<Longrightarrow> en a r;\n                 s \\<in> nodes; path xs s;\n                 pac p \\<inter> set xs = {}\\<rbrakk>\n                \\<Longrightarrow> pac p \\<inter> {a. en a (target xs s)}\n                                  \\<subseteq> pac p \\<inter> {a. en a s};\n        \\<And>r a b.\n           \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n            b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n           \\<Longrightarrow> en a r;\n        s \\<in> nodes; path (xs @ [x]) s;\n        pac p \\<inter> set (xs @ [x]) = {}\\<rbrakk>\n       \\<Longrightarrow> pac p \\<inter> {a. en a (target (xs @ [x]) s)}\n                         \\<subseteq> pac p \\<inter> {a. en a s}", "case Nil"], ["proof (state)\nthis:\n  \\<lbrakk>?r \\<in> nodes; ?a \\<in> psen p s - {a. en a s};\n   ?b \\<in> {a. en a ?r} - pac p; en ?a (ex ?b ?r)\\<rbrakk>\n  \\<Longrightarrow> en ?a ?r\n  s \\<in> nodes\n  path [] s\n  pac p \\<inter> set [] = {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>r a b.\n                \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n                 b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n                \\<Longrightarrow> en a r;\n     s \\<in> nodes; path [] s; pac p \\<inter> set [] = {}\\<rbrakk>\n    \\<Longrightarrow> pac p \\<inter> {a. en a (target [] s)}\n                      \\<subseteq> pac p \\<inter> {a. en a s}\n 2. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<And>r a b.\n                            \\<lbrakk>r \\<in> nodes;\n                             a \\<in> psen p s - {a. en a s};\n                             b \\<in> {a. en a r} - pac p;\n                             en a (ex b r)\\<rbrakk>\n                            \\<Longrightarrow> en a r;\n                 s \\<in> nodes; path xs s;\n                 pac p \\<inter> set xs = {}\\<rbrakk>\n                \\<Longrightarrow> pac p \\<inter> {a. en a (target xs s)}\n                                  \\<subseteq> pac p \\<inter> {a. en a s};\n        \\<And>r a b.\n           \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n            b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n           \\<Longrightarrow> en a r;\n        s \\<in> nodes; path (xs @ [x]) s;\n        pac p \\<inter> set (xs @ [x]) = {}\\<rbrakk>\n       \\<Longrightarrow> pac p \\<inter> {a. en a (target (xs @ [x]) s)}\n                         \\<subseteq> pac p \\<inter> {a. en a s}", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. pac p \\<inter> {a. en a (target [] s)}\n    \\<subseteq> pac p \\<inter> {a. en a s}", "by simp"], ["proof (state)\nthis:\n  pac p \\<inter> {a. en a (target [] s)}\n  \\<subseteq> pac p \\<inter> {a. en a s}\n\ngoal (1 subgoal):\n 1. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<And>r a b.\n                            \\<lbrakk>r \\<in> nodes;\n                             a \\<in> psen p s - {a. en a s};\n                             b \\<in> {a. en a r} - pac p;\n                             en a (ex b r)\\<rbrakk>\n                            \\<Longrightarrow> en a r;\n                 s \\<in> nodes; path xs s;\n                 pac p \\<inter> set xs = {}\\<rbrakk>\n                \\<Longrightarrow> pac p \\<inter> {a. en a (target xs s)}\n                                  \\<subseteq> pac p \\<inter> {a. en a s};\n        \\<And>r a b.\n           \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n            b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n           \\<Longrightarrow> en a r;\n        s \\<in> nodes; path (xs @ [x]) s;\n        pac p \\<inter> set (xs @ [x]) = {}\\<rbrakk>\n       \\<Longrightarrow> pac p \\<inter> {a. en a (target (xs @ [x]) s)}\n                         \\<subseteq> pac p \\<inter> {a. en a s}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<And>r a b.\n                            \\<lbrakk>r \\<in> nodes;\n                             a \\<in> psen p s - {a. en a s};\n                             b \\<in> {a. en a r} - pac p;\n                             en a (ex b r)\\<rbrakk>\n                            \\<Longrightarrow> en a r;\n                 s \\<in> nodes; path xs s;\n                 pac p \\<inter> set xs = {}\\<rbrakk>\n                \\<Longrightarrow> pac p \\<inter> {a. en a (target xs s)}\n                                  \\<subseteq> pac p \\<inter> {a. en a s};\n        \\<And>r a b.\n           \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n            b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n           \\<Longrightarrow> en a r;\n        s \\<in> nodes; path (xs @ [x]) s;\n        pac p \\<inter> set (xs @ [x]) = {}\\<rbrakk>\n       \\<Longrightarrow> pac p \\<inter> {a. en a (target (xs @ [x]) s)}\n                         \\<subseteq> pac p \\<inter> {a. en a s}", "case (snoc b w)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>r a b.\n              \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n               b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n              \\<Longrightarrow> en a r;\n   s \\<in> nodes; path w s; pac p \\<inter> set w = {}\\<rbrakk>\n  \\<Longrightarrow> pac p \\<inter> {a. en a (target w s)}\n                    \\<subseteq> pac p \\<inter> {a. en a s}\n  \\<lbrakk>?r \\<in> nodes; ?a \\<in> psen p s - {a. en a s};\n   ?b \\<in> {a. en a ?r} - pac p; en ?a (ex ?b ?r)\\<rbrakk>\n  \\<Longrightarrow> en ?a ?r\n  s \\<in> nodes\n  path (w @ [b]) s\n  pac p \\<inter> set (w @ [b]) = {}\n\ngoal (1 subgoal):\n 1. \\<And>x xs.\n       \\<lbrakk>\\<lbrakk>\\<And>r a b.\n                            \\<lbrakk>r \\<in> nodes;\n                             a \\<in> psen p s - {a. en a s};\n                             b \\<in> {a. en a r} - pac p;\n                             en a (ex b r)\\<rbrakk>\n                            \\<Longrightarrow> en a r;\n                 s \\<in> nodes; path xs s;\n                 pac p \\<inter> set xs = {}\\<rbrakk>\n                \\<Longrightarrow> pac p \\<inter> {a. en a (target xs s)}\n                                  \\<subseteq> pac p \\<inter> {a. en a s};\n        \\<And>r a b.\n           \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n            b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n           \\<Longrightarrow> en a r;\n        s \\<in> nodes; path (xs @ [x]) s;\n        pac p \\<inter> set (xs @ [x]) = {}\\<rbrakk>\n       \\<Longrightarrow> pac p \\<inter> {a. en a (target (xs @ [x]) s)}\n                         \\<subseteq> pac p \\<inter> {a. en a s}", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. pac p \\<inter> {a. en a (target (w @ [b]) s)}\n    \\<subseteq> pac p \\<inter> {a. en a s}", "proof (safe, rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> pac p; en x (target (w @ [b]) s);\n        \\<not> en x s\\<rbrakk>\n       \\<Longrightarrow> False", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> pac p; en x (target (w @ [b]) s);\n        \\<not> en x s\\<rbrakk>\n       \\<Longrightarrow> False", "assume 2: \"a \\<in> pac p\" \"en a (target (w @ [b]) s)\" \"\\<not> en a s\""], ["proof (state)\nthis:\n  a \\<in> pac p\n  en a (target (w @ [b]) s)\n  \\<not> en a s\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> pac p; en x (target (w @ [b]) s);\n        \\<not> en x s\\<rbrakk>\n       \\<Longrightarrow> False", "have 3: \"a \\<in> psen p s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> psen p s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<in> psen p s", "have 3: \"psen p (target (w @ [b]) s) = psen p s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. psen p (target (w @ [b]) s) = psen p s", "using psen_fin_word snoc(3, 4, 5)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?s \\<in> nodes; path ?w ?s; pac ?p \\<inter> set ?w = {}\\<rbrakk>\n  \\<Longrightarrow> psen ?p (target ?w ?s) = psen ?p ?s\n  s \\<in> nodes\n  path (w @ [b]) s\n  pac p \\<inter> set (w @ [b]) = {}\n\ngoal (1 subgoal):\n 1. psen p (target (w @ [b]) s) = psen p s", "by this"], ["proof (state)\nthis:\n  psen p (target (w @ [b]) s) = psen p s\n\ngoal (1 subgoal):\n 1. a \\<in> psen p s", "have 4: \"target (w @ [b]) s \\<in> nodes\""], ["proof (prove)\ngoal (1 subgoal):\n 1. target (w @ [b]) s \\<in> nodes", "using snoc(3, 4)"], ["proof (prove)\nusing this:\n  s \\<in> nodes\n  path (w @ [b]) s\n\ngoal (1 subgoal):\n 1. target (w @ [b]) s \\<in> nodes", "by rule"], ["proof (state)\nthis:\n  target (w @ [b]) s \\<in> nodes\n\ngoal (1 subgoal):\n 1. a \\<in> psen p s", "have 5: \"a \\<in> psen p (target (w @ [b]) s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> psen p (target (w @ [b]) s)", "using psen_en 4 2(1, 2)"], ["proof (prove)\nusing this:\n  ?s \\<in> nodes \\<Longrightarrow>\n  pac ?p \\<inter> {a. en a ?s} \\<subseteq> psen ?p ?s\n  target (w @ [b]) s \\<in> nodes\n  a \\<in> pac p\n  en a (target (w @ [b]) s)\n\ngoal (1 subgoal):\n 1. a \\<in> psen p (target (w @ [b]) s)", "by auto"], ["proof (state)\nthis:\n  a \\<in> psen p (target (w @ [b]) s)\n\ngoal (1 subgoal):\n 1. a \\<in> psen p s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> psen p s", "using 2(1) 3 5"], ["proof (prove)\nusing this:\n  a \\<in> pac p\n  psen p (target (w @ [b]) s) = psen p s\n  a \\<in> psen p (target (w @ [b]) s)\n\ngoal (1 subgoal):\n 1. a \\<in> psen p s", "by auto"], ["proof (state)\nthis:\n  a \\<in> psen p s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a \\<in> psen p s\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> pac p; en x (target (w @ [b]) s);\n        \\<not> en x s\\<rbrakk>\n       \\<Longrightarrow> False", "have 4: \"en a (target w s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. en a (target w s)", "proof (rule snoc(2))"], ["proof (state)\ngoal (4 subgoals):\n 1. target w s \\<in> nodes\n 2. a \\<in> psen p s - {a. en a s}\n 3. ?b \\<in> {a. en a (target w s)} - pac p\n 4. en a (ex ?b (target w s))", "show \"target w s \\<in> nodes\""], ["proof (prove)\ngoal (1 subgoal):\n 1. target w s \\<in> nodes", "using snoc(3, 4)"], ["proof (prove)\nusing this:\n  s \\<in> nodes\n  path (w @ [b]) s\n\ngoal (1 subgoal):\n 1. target w s \\<in> nodes", "by auto"], ["proof (state)\nthis:\n  target w s \\<in> nodes\n\ngoal (3 subgoals):\n 1. a \\<in> psen p s - {a. en a s}\n 2. ?b \\<in> {a. en a (target w s)} - pac p\n 3. en a (ex ?b (target w s))", "show \"a \\<in> psen p s - {a. en a s}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> psen p s - {a. en a s}", "using 2(3) 3"], ["proof (prove)\nusing this:\n  \\<not> en a s\n  a \\<in> psen p s\n\ngoal (1 subgoal):\n 1. a \\<in> psen p s - {a. en a s}", "by simp"], ["proof (state)\nthis:\n  a \\<in> psen p s - {a. en a s}\n\ngoal (2 subgoals):\n 1. ?b \\<in> {a. en a (target w s)} - pac p\n 2. en a (ex ?b (target w s))", "show \"b \\<in> {a. en a (target w s)} - pac p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> {a. en a (target w s)} - pac p", "using snoc(4, 5)"], ["proof (prove)\nusing this:\n  path (w @ [b]) s\n  pac p \\<inter> set (w @ [b]) = {}\n\ngoal (1 subgoal):\n 1. b \\<in> {a. en a (target w s)} - pac p", "by auto"], ["proof (state)\nthis:\n  b \\<in> {a. en a (target w s)} - pac p\n\ngoal (1 subgoal):\n 1. en a (ex b (target w s))", "show \"en a (ex b (target w s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. en a (ex b (target w s))", "using 2(2)"], ["proof (prove)\nusing this:\n  en a (target (w @ [b]) s)\n\ngoal (1 subgoal):\n 1. en a (ex b (target w s))", "by simp"], ["proof (state)\nthis:\n  en a (ex b (target w s))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  en a (target w s)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> pac p; en x (target (w @ [b]) s);\n        \\<not> en x s\\<rbrakk>\n       \\<Longrightarrow> False", "have 5: \"pac p \\<inter> {a. en a (target w s)} \\<subseteq> pac p \\<inter> {a. en a s}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pac p \\<inter> {a. en a (target w s)}\n    \\<subseteq> pac p \\<inter> {a. en a s}", "proof (rule snoc(1))"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>r a b.\n       \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n        b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n       \\<Longrightarrow> en a r\n 2. s \\<in> nodes\n 3. path w s\n 4. pac p \\<inter> set w = {}", "show \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> b \\<in> {a. en a r} - pac p \\<Longrightarrow>\n            en a (ex b r) \\<Longrightarrow> en a r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r a b.\n       \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n        b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n       \\<Longrightarrow> en a r", "using snoc(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?r \\<in> nodes; ?a \\<in> psen p s - {a. en a s};\n   ?b \\<in> {a. en a ?r} - pac p; en ?a (ex ?b ?r)\\<rbrakk>\n  \\<Longrightarrow> en ?a ?r\n\ngoal (1 subgoal):\n 1. \\<And>r a b.\n       \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n        b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n       \\<Longrightarrow> en a r", "by this"], ["proof (state)\nthis:\n  \\<lbrakk>?r \\<in> nodes; ?a \\<in> psen p s - {a. en a s};\n   ?b \\<in> {a. en a ?r} - pac p; en ?a (ex ?b ?r)\\<rbrakk>\n  \\<Longrightarrow> en ?a ?r\n\ngoal (3 subgoals):\n 1. s \\<in> nodes\n 2. path w s\n 3. pac p \\<inter> set w = {}", "show \"s \\<in> nodes\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> nodes", "using snoc(3)"], ["proof (prove)\nusing this:\n  s \\<in> nodes\n\ngoal (1 subgoal):\n 1. s \\<in> nodes", "by this"], ["proof (state)\nthis:\n  s \\<in> nodes\n\ngoal (2 subgoals):\n 1. path w s\n 2. pac p \\<inter> set w = {}", "show \"path w s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path w s", "using snoc(4)"], ["proof (prove)\nusing this:\n  path (w @ [b]) s\n\ngoal (1 subgoal):\n 1. path w s", "by auto"], ["proof (state)\nthis:\n  path w s\n\ngoal (1 subgoal):\n 1. pac p \\<inter> set w = {}", "show \"pac p \\<inter> set w = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pac p \\<inter> set w = {}", "using snoc(5)"], ["proof (prove)\nusing this:\n  pac p \\<inter> set (w @ [b]) = {}\n\ngoal (1 subgoal):\n 1. pac p \\<inter> set w = {}", "by auto"], ["proof (state)\nthis:\n  pac p \\<inter> set w = {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  pac p \\<inter> {a. en a (target w s)}\n  \\<subseteq> pac p \\<inter> {a. en a s}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> pac p; en x (target (w @ [b]) s);\n        \\<not> en x s\\<rbrakk>\n       \\<Longrightarrow> False", "have 6: \"en a s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. en a s", "using 2(1) 4 5"], ["proof (prove)\nusing this:\n  a \\<in> pac p\n  en a (target w s)\n  pac p \\<inter> {a. en a (target w s)}\n  \\<subseteq> pac p \\<inter> {a. en a s}\n\ngoal (1 subgoal):\n 1. en a s", "by auto"], ["proof (state)\nthis:\n  en a s\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> pac p; en x (target (w @ [b]) s);\n        \\<not> en x s\\<rbrakk>\n       \\<Longrightarrow> False", "show \"False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "using 2(3) 6"], ["proof (prove)\nusing this:\n  \\<not> en a s\n  en a s\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  pac p \\<inter> {a. en a (target (w @ [b]) s)}\n  \\<subseteq> pac p \\<inter> {a. en a s}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma pac_en_blocked:\n      assumes \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> b \\<in> {a. en a r} - pac p \\<Longrightarrow>\n        en a (ex b r) \\<Longrightarrow> en a r\"\n      assumes \"s \\<in> nodes\" \"path w s\" \"pac p \\<inter> {a. en a s} \\<inter> set w = {}\"\n      shows \"pac p \\<inter> set w = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pac p \\<inter> set w = {}", "using words_fin_blocked en_fin_word assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>w.\n              \\<lbrakk>path w ?p; ?A \\<inter> set w = {}\\<rbrakk>\n              \\<Longrightarrow> ?A \\<inter> {a. en a (target w ?p)}\n                                \\<subseteq> ?A \\<inter> {a. en a ?p};\n   path ?w ?p; ?A \\<inter> {a. en a ?p} \\<inter> set ?w = {}\\<rbrakk>\n  \\<Longrightarrow> ?A \\<inter> set ?w = {}\n  \\<lbrakk>\\<And>r a b.\n              \\<lbrakk>r \\<in> nodes; a \\<in> psen ?p ?s - {a. en a ?s};\n               b \\<in> {a. en a r} - pac ?p; en a (ex b r)\\<rbrakk>\n              \\<Longrightarrow> en a r;\n   ?s \\<in> nodes; path ?w ?s; pac ?p \\<inter> set ?w = {}\\<rbrakk>\n  \\<Longrightarrow> pac ?p \\<inter> {a. en a (target ?w ?s)}\n                    \\<subseteq> pac ?p \\<inter> {a. en a ?s}\n  \\<lbrakk>?r \\<in> nodes; ?a \\<in> psen p s - {a. en a s};\n   ?b \\<in> {a. en a ?r} - pac p; en ?a (ex ?b ?r)\\<rbrakk>\n  \\<Longrightarrow> en ?a ?r\n  s \\<in> nodes\n  path w s\n  pac p \\<inter> {a. en a s} \\<inter> set w = {}\n\ngoal (1 subgoal):\n 1. pac p \\<inter> set w = {}", "by metis"], ["", "abbreviation \"proc a \\<equiv> {p. a \\<in> pac p}\""], ["", "abbreviation \"Proc A \\<equiv> \\<Union> a \\<in> A. proc a\""], ["", "lemma psen_simple:\n      assumes \"Proc (psen p s) = {p}\"\n      assumes \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> en b r \\<Longrightarrow>\n        proc a \\<inter> proc b = {} \\<Longrightarrow> en a (ex b r) \\<Longrightarrow> en a r\"\n      shows \"\\<And> r a b. r \\<in> nodes \\<Longrightarrow> a \\<in> psen p s - {a. en a s} \\<Longrightarrow> b \\<in> {a. en a r} - pac p \\<Longrightarrow>\n        en a (ex b r) \\<Longrightarrow> en a r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r a b.\n       \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n        b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n       \\<Longrightarrow> en a r", "using assms"], ["proof (prove)\nusing this:\n  \\<Union> (proc ` psen p s) = {p}\n  \\<lbrakk>?r \\<in> nodes; ?a \\<in> psen p s - {a. en a s}; en ?b ?r;\n   proc ?a \\<inter> proc ?b = {}; en ?a (ex ?b ?r)\\<rbrakk>\n  \\<Longrightarrow> en ?a ?r\n\ngoal (1 subgoal):\n 1. \\<And>r a b.\n       \\<lbrakk>r \\<in> nodes; a \\<in> psen p s - {a. en a s};\n        b \\<in> {a. en a r} - pac p; en a (ex b r)\\<rbrakk>\n       \\<Longrightarrow> en a r", "by force"], ["", "end"], ["", "end"]]}