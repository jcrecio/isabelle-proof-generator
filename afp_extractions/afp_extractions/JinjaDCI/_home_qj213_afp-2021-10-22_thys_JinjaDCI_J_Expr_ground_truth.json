{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaDCI/J/Expr.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaDCI", "problem_names": ["lemma [simp]:\n  \"(binop(Add,v\\<^sub>1,v\\<^sub>2) = Some v) = (\\<exists>i\\<^sub>1 i\\<^sub>2. v\\<^sub>1 = Intg i\\<^sub>1 \\<and> v\\<^sub>2 = Intg i\\<^sub>2 \\<and> v = Intg(i\\<^sub>1+i\\<^sub>2))\"", "lemma map_Val_throw_eq:\n \"map Val vs @ throw ex # es = map Val vs' @ throw ex' # es' \\<Longrightarrow> ex = ex'\"", "lemma map_Val_nthrow_neq:\n \"map Val vs = map Val vs' @ throw ex' # es' \\<Longrightarrow> False\"", "lemma map_Val_eq:\n \"map Val vs = map Val vs' \\<Longrightarrow> vs = vs'\"", "lemma init_rhs_neq [simp]: \"e \\<noteq> INIT C (Cs,b) \\<leftarrow> e\"", "lemma init_rhs_neq' [simp]: \"INIT C (Cs,b) \\<leftarrow> e \\<noteq> e\"", "lemma ri_rhs_neq [simp]: \"e \\<noteq> RI(C,e');Cs \\<leftarrow> e\"", "lemma ri_rhs_neq' [simp]: \"RI(C,e');Cs \\<leftarrow> e \\<noteq> e\"", "lemma [simp]: \"fvs(es\\<^sub>1 @ es\\<^sub>2) = fvs es\\<^sub>1 \\<union> fvs es\\<^sub>2\"", "lemma [simp]: \"fvs(map Val vs) = {}\"", "lemma val_of_spec: \"val_of e = Some v \\<Longrightarrow> e = Val v\"", "lemma lass_val_of_spec:\nassumes \"lass_val_of e = \\<lfloor>a\\<rfloor>\"\nshows \"e = (fst a:=Val (snd a))\"", "lemma map_vals_of_spec: \"map_vals_of es = Some vs \\<Longrightarrow> es = map Val vs\"", "lemma map_vals_of_Vals[simp]: \"map_vals_of (map Val vs) = \\<lfloor>vs\\<rfloor>\"", "lemma map_vals_of_throw[simp]:\n \"map_vals_of (map Val vs @ throw e # es') = None\"", "lemma bool_of_specT:\nassumes \"bool_of e = Some True\" shows \"e = true\"", "lemma bool_of_specF:\nassumes \"bool_of e = Some False\" shows \"e = false\"", "lemma throw_of_spec: \"throw_of e = Some e' \\<Longrightarrow> e = throw e'\"", "lemma init_exp_of_neq [simp]: \"init_exp_of e = \\<lfloor>e'\\<rfloor> \\<Longrightarrow> e' \\<noteq> e\"", "lemma init_exp_of_neq'[simp]: \"init_exp_of e = \\<lfloor>e'\\<rfloor> \\<Longrightarrow> e \\<noteq> e'\"", "lemmas sub_RI_sub_RIs_induct = sub_RI.induct sub_RIs.induct", "lemma nsub_RIs_def[simp]:\n \"\\<not>sub_RIs es \\<Longrightarrow> \\<forall>e \\<in> set es. \\<not>sub_RI e\"", "lemma sub_RI_base:\n \"e = INIT C (Cs, b) \\<leftarrow> e' \\<or> e = RI(C,e\\<^sub>0);Cs \\<leftarrow> e' \\<Longrightarrow> sub_RI e\"", "lemma nsub_RI_Vals[simp]: \"\\<not>sub_RIs (map Val vs)\"", "lemma lass_val_of_nsub_RI: \"lass_val_of e = \\<lfloor>a\\<rfloor> \\<Longrightarrow> \\<not>sub_RI e\"", "lemma not_inits_def'[simp]:\n \"not_inits C es \\<Longrightarrow> \\<forall>e \\<in> set es. not_init C e\"", "lemma nsub_RIs_not_inits_aux: \"\\<forall>e \\<in> set es. \\<not>sub_RI e \\<longrightarrow> not_init C e\n  \\<Longrightarrow> \\<not>sub_RIs es \\<Longrightarrow> not_inits C es\"", "lemma nsub_RI_not_init: \"\\<not>sub_RI e \\<Longrightarrow> not_init C e\"", "lemma nsub_RIs_not_inits: \"\\<not>sub_RIs es \\<Longrightarrow> not_inits C es\"", "lemmas subexp_subexps_induct = subexp.induct subexps.induct", "lemma subexp_size_le:\n \"(e' \\<in> subexp e \\<longrightarrow> size e' < size e) \\<and> (e' \\<in> subexps es \\<longrightarrow> size e' < size_list size es)\"", "lemma subexps_def2: \"subexps es = set es \\<union> (\\<Union>e \\<in> set es. subexp e)\"", "lemma shows subexp_induct[consumes 1]: \n\"(\\<And>e. subexp e = {} \\<Longrightarrow> R e) \\<Longrightarrow> (\\<And>e. (\\<And>e'. e' \\<in> subexp e \\<Longrightarrow> R e') \\<Longrightarrow> R e)\n   \\<Longrightarrow> (\\<And>es. (\\<And>e'. e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow> Rs es) \\<Longrightarrow> (\\<forall>e'. e' \\<in> subexp e \\<longrightarrow> R e') \\<and> R e\"\nand subexps_induct[consumes 1]:\n \"(\\<And>es. subexps es = {} \\<Longrightarrow> Rs es) \\<Longrightarrow> (\\<And>e. (\\<And>e'. e' \\<in> subexp e \\<Longrightarrow> R e') \\<Longrightarrow> R e)\n   \\<Longrightarrow> (\\<And>es. (\\<And>e'. e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow> Rs es) \\<Longrightarrow> (\\<forall>e'. e' \\<in> subexps es \\<longrightarrow> R e') \\<and> Rs es\"", "lemma [simp]: \"final(Val v)\"", "lemma [simp]: \"final(throw e) = (\\<exists>a. e = addr a)\"", "lemma finalE: \"\\<lbrakk> final e;  \\<And>v. e = Val v \\<Longrightarrow> R;  \\<And>a. e = Throw a \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\"", "lemma final_fv[iff]: \"final e \\<Longrightarrow> fv e = {}\"", "lemma finalsE:\n \"\\<lbrakk> finals es;  \\<And>vs. es = map Val vs \\<Longrightarrow> R;  \\<And>vs a es'. es = map Val vs @ Throw a # es' \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\"", "lemma [iff]: \"finals []\"", "lemma [iff]: \"finals (Val v # es) = finals es\"", "lemma finals_app_map[iff]: \"finals (map Val vs @ es) = finals es\"", "lemma [iff]: \"finals (map Val vs)\"", "lemma [iff]: \"finals (throw e # es) = (\\<exists>a. e = addr a)\"", "lemma not_finals_ConsI: \"\\<not> final e \\<Longrightarrow> \\<not> finals(e#es)\"", "lemma not_finals_ConsI2: \"e = Val v \\<Longrightarrow> \\<not> finals es \\<Longrightarrow> \\<not> finals(e#es)\""], "translations": [["", "lemma [simp]:\n  \"(binop(Add,v\\<^sub>1,v\\<^sub>2) = Some v) = (\\<exists>i\\<^sub>1 i\\<^sub>2. v\\<^sub>1 = Intg i\\<^sub>1 \\<and> v\\<^sub>2 = Intg i\\<^sub>2 \\<and> v = Intg(i\\<^sub>1+i\\<^sub>2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (binop (Add, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>) =\n    (\\<exists>i\\<^sub>1 i\\<^sub>2.\n        v\\<^sub>1 = Intg i\\<^sub>1 \\<and>\n        v\\<^sub>2 = Intg i\\<^sub>2 \\<and> v = Intg (i\\<^sub>1 + i\\<^sub>2))", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (binop (Add, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>) =\n    (\\<exists>i\\<^sub>1 i\\<^sub>2.\n        v\\<^sub>1 = Intg i\\<^sub>1 \\<and>\n        v\\<^sub>2 = Intg i\\<^sub>2 \\<and> v = Intg (i\\<^sub>1 + i\\<^sub>2))", "apply(cases v\\<^sub>1)"], ["proof (prove)\ngoal (5 subgoals):\n 1. v\\<^sub>1 = Unit \\<Longrightarrow>\n    (binop (Add, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>) =\n    (\\<exists>i\\<^sub>1 i\\<^sub>2.\n        v\\<^sub>1 = Intg i\\<^sub>1 \\<and>\n        v\\<^sub>2 = Intg i\\<^sub>2 \\<and> v = Intg (i\\<^sub>1 + i\\<^sub>2))\n 2. v\\<^sub>1 = Null \\<Longrightarrow>\n    (binop (Add, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>) =\n    (\\<exists>i\\<^sub>1 i\\<^sub>2.\n        v\\<^sub>1 = Intg i\\<^sub>1 \\<and>\n        v\\<^sub>2 = Intg i\\<^sub>2 \\<and> v = Intg (i\\<^sub>1 + i\\<^sub>2))\n 3. \\<And>x3.\n       v\\<^sub>1 = Bool x3 \\<Longrightarrow>\n       (binop (Add, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>) =\n       (\\<exists>i\\<^sub>1 i\\<^sub>2.\n           v\\<^sub>1 = Intg i\\<^sub>1 \\<and>\n           v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n           v = Intg (i\\<^sub>1 + i\\<^sub>2))\n 4. \\<And>x4.\n       v\\<^sub>1 = Intg x4 \\<Longrightarrow>\n       (binop (Add, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>) =\n       (\\<exists>i\\<^sub>1 i\\<^sub>2.\n           v\\<^sub>1 = Intg i\\<^sub>1 \\<and>\n           v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n           v = Intg (i\\<^sub>1 + i\\<^sub>2))\n 5. \\<And>x5.\n       v\\<^sub>1 = Addr x5 \\<Longrightarrow>\n       (binop (Add, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>) =\n       (\\<exists>i\\<^sub>1 i\\<^sub>2.\n           v\\<^sub>1 = Intg i\\<^sub>1 \\<and>\n           v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n           v = Intg (i\\<^sub>1 + i\\<^sub>2))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x4.\n       \\<lbrakk>v\\<^sub>1 = Intg x4;\n        binop (Add, Intg x4, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i\\<^sub>2.\n                            v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n                            v = Intg (x4 + i\\<^sub>2)", "apply(cases v\\<^sub>2)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x4.\n       \\<lbrakk>v\\<^sub>1 = Intg x4;\n        binop (Add, Intg x4, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        v\\<^sub>2 = Unit\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i\\<^sub>2.\n                            v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n                            v = Intg (x4 + i\\<^sub>2)\n 2. \\<And>x4.\n       \\<lbrakk>v\\<^sub>1 = Intg x4;\n        binop (Add, Intg x4, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        v\\<^sub>2 = Null\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i\\<^sub>2.\n                            v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n                            v = Intg (x4 + i\\<^sub>2)\n 3. \\<And>x4 x3.\n       \\<lbrakk>v\\<^sub>1 = Intg x4;\n        binop (Add, Intg x4, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        v\\<^sub>2 = Bool x3\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i\\<^sub>2.\n                            v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n                            v = Intg (x4 + i\\<^sub>2)\n 4. \\<And>x4 x4a.\n       \\<lbrakk>v\\<^sub>1 = Intg x4;\n        binop (Add, Intg x4, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        v\\<^sub>2 = Intg x4a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i\\<^sub>2.\n                            v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n                            v = Intg (x4 + i\\<^sub>2)\n 5. \\<And>x4 x5.\n       \\<lbrakk>v\\<^sub>1 = Intg x4;\n        binop (Add, Intg x4, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        v\\<^sub>2 = Addr x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i\\<^sub>2.\n                            v\\<^sub>2 = Intg i\\<^sub>2 \\<and>\n                            v = Intg (x4 + i\\<^sub>2)", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma map_Val_throw_eq:\n \"map Val vs @ throw ex # es = map Val vs' @ throw ex' # es' \\<Longrightarrow> ex = ex'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map Val vs @ throw ex # es =\n    map Val vs' @ throw ex' # es' \\<Longrightarrow>\n    ex = ex'", "apply(induct vs arbitrary: vs')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs'.\n       map Val [] @ throw ex # es =\n       map Val vs' @ throw ex' # es' \\<Longrightarrow>\n       ex = ex'\n 2. \\<And>a vs vs'.\n       \\<lbrakk>\\<And>vs'.\n                   map Val vs @ throw ex # es =\n                   map Val vs' @ throw ex' # es' \\<Longrightarrow>\n                   ex = ex';\n        map Val (a # vs) @ throw ex # es =\n        map Val vs' @ throw ex' # es'\\<rbrakk>\n       \\<Longrightarrow> ex = ex'", "apply(case_tac vs', auto)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma map_Val_nthrow_neq:\n \"map Val vs = map Val vs' @ throw ex' # es' \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map Val vs = map Val vs' @ throw ex' # es' \\<Longrightarrow> False", "apply(induct vs arbitrary: vs')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs'.\n       map Val [] = map Val vs' @ throw ex' # es' \\<Longrightarrow> False\n 2. \\<And>a vs vs'.\n       \\<lbrakk>\\<And>vs'.\n                   map Val vs =\n                   map Val vs' @ throw ex' # es' \\<Longrightarrow>\n                   False;\n        map Val (a # vs) = map Val vs' @ throw ex' # es'\\<rbrakk>\n       \\<Longrightarrow> False", "apply(case_tac vs', auto)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma map_Val_eq:\n \"map Val vs = map Val vs' \\<Longrightarrow> vs = vs'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map Val vs = map Val vs' \\<Longrightarrow> vs = vs'", "apply(induct vs arbitrary: vs')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs'. map Val [] = map Val vs' \\<Longrightarrow> [] = vs'\n 2. \\<And>a vs vs'.\n       \\<lbrakk>\\<And>vs'.\n                   map Val vs = map Val vs' \\<Longrightarrow> vs = vs';\n        map Val (a # vs) = map Val vs'\\<rbrakk>\n       \\<Longrightarrow> a # vs = vs'", "apply(case_tac vs', auto)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma init_rhs_neq [simp]: \"e \\<noteq> INIT C (Cs,b) \\<leftarrow> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<noteq> INIT C (Cs,b) \\<leftarrow> e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. e \\<noteq> INIT C (Cs,b) \\<leftarrow> e", "have \"size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)", "by auto"], ["proof (state)\nthis:\n  size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. e \\<noteq> INIT C (Cs,b) \\<leftarrow> e", "then"], ["proof (chain)\npicking this:\n  size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)", "show ?thesis"], ["proof (prove)\nusing this:\n  size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. e \\<noteq> INIT C (Cs,b) \\<leftarrow> e", "by fastforce"], ["proof (state)\nthis:\n  e \\<noteq> INIT C (Cs,b) \\<leftarrow> e\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma init_rhs_neq' [simp]: \"INIT C (Cs,b) \\<leftarrow> e \\<noteq> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. INIT C (Cs,b) \\<leftarrow> e \\<noteq> e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. INIT C (Cs,b) \\<leftarrow> e \\<noteq> e", "have \"size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)", "by auto"], ["proof (state)\nthis:\n  size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. INIT C (Cs,b) \\<leftarrow> e \\<noteq> e", "then"], ["proof (chain)\npicking this:\n  size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)", "show ?thesis"], ["proof (prove)\nusing this:\n  size e \\<noteq> size (INIT C (Cs,b) \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. INIT C (Cs,b) \\<leftarrow> e \\<noteq> e", "by fastforce"], ["proof (state)\nthis:\n  INIT C (Cs,b) \\<leftarrow> e \\<noteq> e\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ri_rhs_neq [simp]: \"e \\<noteq> RI(C,e');Cs \\<leftarrow> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<noteq> RI (C,e') ; Cs \\<leftarrow> e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. e \\<noteq> RI (C,e') ; Cs \\<leftarrow> e", "have \"size e \\<noteq> size (RI(C,e');Cs \\<leftarrow> e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)", "by auto"], ["proof (state)\nthis:\n  size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. e \\<noteq> RI (C,e') ; Cs \\<leftarrow> e", "then"], ["proof (chain)\npicking this:\n  size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)", "show ?thesis"], ["proof (prove)\nusing this:\n  size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. e \\<noteq> RI (C,e') ; Cs \\<leftarrow> e", "by fastforce"], ["proof (state)\nthis:\n  e \\<noteq> RI (C,e') ; Cs \\<leftarrow> e\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ri_rhs_neq' [simp]: \"RI(C,e');Cs \\<leftarrow> e \\<noteq> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. RI (C,e') ; Cs \\<leftarrow> e \\<noteq> e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. RI (C,e') ; Cs \\<leftarrow> e \\<noteq> e", "have \"size e \\<noteq> size (RI(C,e');Cs \\<leftarrow> e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)", "by auto"], ["proof (state)\nthis:\n  size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. RI (C,e') ; Cs \\<leftarrow> e \\<noteq> e", "then"], ["proof (chain)\npicking this:\n  size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)", "show ?thesis"], ["proof (prove)\nusing this:\n  size e \\<noteq> size (RI (C,e') ; Cs \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. RI (C,e') ; Cs \\<leftarrow> e \\<noteq> e", "by fastforce"], ["proof (state)\nthis:\n  RI (C,e') ; Cs \\<leftarrow> e \\<noteq> e\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \"Syntactic sugar\""], ["", "abbreviation (input)\n  InitBlock:: \"'a \\<Rightarrow> ty \\<Rightarrow> 'a exp \\<Rightarrow> 'a exp \\<Rightarrow> 'a exp\"   (\"(1'{_:_ := _;/ _})\") where\n  \"InitBlock V T e1 e2 == {V:T; V := e1;; e2}\""], ["", "abbreviation unit where \"unit == Val Unit\""], ["", "abbreviation null where \"null == Val Null\""], ["", "abbreviation \"addr a == Val(Addr a)\""], ["", "abbreviation \"true == Val(Bool True)\""], ["", "abbreviation \"false == Val(Bool False)\""], ["", "abbreviation\n  Throw :: \"addr \\<Rightarrow> 'a exp\" where\n  \"Throw a == throw(Val(Addr a))\""], ["", "abbreviation\n  THROW :: \"cname \\<Rightarrow> 'a exp\" where\n  \"THROW xc == Throw(addr_of_sys_xcpt xc)\""], ["", "subsection\\<open>Free Variables\\<close>"], ["", "primrec fv :: \"expr \\<Rightarrow> vname set\" and fvs :: \"expr list \\<Rightarrow> vname set\" where\n  \"fv(new C) = {}\"\n| \"fv(Cast C e) = fv e\"\n| \"fv(Val v) = {}\"\n| \"fv(e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2) = fv e\\<^sub>1 \\<union> fv e\\<^sub>2\"\n| \"fv(Var V) = {V}\"\n| \"fv(LAss V e) = {V} \\<union> fv e\"\n| \"fv(e\\<bullet>F{D}) = fv e\"\n| \"fv(C\\<bullet>\\<^sub>sF{D}) = {}\"\n| \"fv(e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2) = fv e\\<^sub>1 \\<union> fv e\\<^sub>2\"\n| \"fv(C\\<bullet>\\<^sub>sF{D}:=e\\<^sub>2) = fv e\\<^sub>2\"\n| \"fv(e\\<bullet>M(es)) = fv e \\<union> fvs es\"\n| \"fv(C\\<bullet>\\<^sub>sM(es)) = fvs es\"\n| \"fv({V:T; e}) = fv e - {V}\"\n| \"fv(e\\<^sub>1;;e\\<^sub>2) = fv e\\<^sub>1 \\<union> fv e\\<^sub>2\"\n| \"fv(if (b) e\\<^sub>1 else e\\<^sub>2) = fv b \\<union> fv e\\<^sub>1 \\<union> fv e\\<^sub>2\"\n| \"fv(while (b) e) = fv b \\<union> fv e\"\n| \"fv(throw e) = fv e\"\n| \"fv(try e\\<^sub>1 catch(C V) e\\<^sub>2) = fv e\\<^sub>1 \\<union> (fv e\\<^sub>2 - {V})\"\n| \"fv(INIT C (Cs,b) \\<leftarrow> e) = fv e\"\n| \"fv(RI (C,e);Cs \\<leftarrow> e') = fv e \\<union> fv e'\"\n| \"fvs([]) = {}\"\n| \"fvs(e#es) = fv e \\<union> fvs es\""], ["", "lemma [simp]: \"fvs(es\\<^sub>1 @ es\\<^sub>2) = fvs es\\<^sub>1 \\<union> fvs es\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fvs (es\\<^sub>1 @ es\\<^sub>2) = fvs es\\<^sub>1 \\<union> fvs es\\<^sub>2", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. fvs (es\\<^sub>1 @ es\\<^sub>2) = fvs es\\<^sub>1 \\<union> fvs es\\<^sub>2", "by (induct es\\<^sub>1 type:list) auto"], ["", "(*>*)"], ["", "lemma [simp]: \"fvs(map Val vs) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fvs (map Val vs) = {}", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. fvs (map Val vs) = {}", "by (induct vs) auto"], ["", "(*>*)"], ["", "subsection\\<open>Accessing expression constructor arguments\\<close>"], ["", "fun val_of :: \"'a exp \\<Rightarrow> val option\" where\n\"val_of (Val v) = Some v\" |\n\"val_of _ = None\""], ["", "lemma val_of_spec: \"val_of e = Some v \\<Longrightarrow> e = Val v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. val_of e = \\<lfloor>v\\<rfloor> \\<Longrightarrow> e = Val v", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 2. \\<And>x21 x22.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 3. \\<And>x3.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 5. \\<And>x5.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 6. \\<And>x61 x62.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = Val v\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>val_of e = \\<lfloor>v\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = Val v\nA total of 20 subgoals...", "qed(auto)"], ["", "fun lass_val_of :: \"'a exp \\<Rightarrow> ('a \\<times> val) option\" where\n\"lass_val_of (V:=Val v) = Some (V, v)\" |\n\"lass_val_of _ = None\""], ["", "lemma lass_val_of_spec:\nassumes \"lass_val_of e = \\<lfloor>a\\<rfloor>\"\nshows \"e = (fst a:=Val (snd a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e = fst a:=Val (snd a)", "using assms"], ["proof (prove)\nusing this:\n  lass_val_of e = \\<lfloor>a\\<rfloor>\n\ngoal (1 subgoal):\n 1. e = fst a:=Val (snd a)", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 2. \\<And>x21 x22.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 3. \\<And>x3.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 5. \\<And>x5.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 6. \\<And>x61 x62.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = fst a:=Val (snd a)\nA total of 20 subgoals...", "case (LAss V e')"], ["proof (state)\nthis:\n  e = V:=e'\n\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 2. \\<And>x21 x22.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 3. \\<And>x3.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 5. \\<And>x5.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 6. \\<And>x61 x62.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = fst a:=Val (snd a)\nA total of 20 subgoals...", "then"], ["proof (chain)\npicking this:\n  e = V:=e'", "show ?thesis"], ["proof (prove)\nusing this:\n  e = V:=e'\n\ngoal (1 subgoal):\n 1. e = fst a:=Val (snd a)", "using assms"], ["proof (prove)\nusing this:\n  e = V:=e'\n  lass_val_of e = \\<lfloor>a\\<rfloor>\n\ngoal (1 subgoal):\n 1. e = fst a:=Val (snd a)", "proof(cases e')"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = new x1\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 2. \\<And>x21 x22.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 3. \\<And>x3.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 5. \\<And>x5.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 6. \\<And>x61 x62.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e' = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>e = V:=e'; lass_val_of e = \\<lfloor>a\\<rfloor>;\n         e' = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = fst a:=Val (snd a)\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  e = fst a:=Val (snd a)\n\ngoal (19 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 2. \\<And>x21 x22.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 3. \\<And>x3.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 5. \\<And>x5.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 7. \\<And>x81 x82 x83.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 8. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 9. \\<And>x101 x102 x103 x104.\n       \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n        e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n       \\<Longrightarrow> e = fst a:=Val (snd a)\n 10. \\<And>x111 x112 x113.\n        \\<lbrakk>lass_val_of e = \\<lfloor>a\\<rfloor>;\n         e = x111\\<bullet>x112(x113)\\<rbrakk>\n        \\<Longrightarrow> e = fst a:=Val (snd a)\nA total of 19 subgoals...", "qed(auto)"], ["", "fun map_vals_of :: \"'a exp list \\<Rightarrow> val list option\" where\n\"map_vals_of (e#es) = (case val_of e of Some v \\<Rightarrow> (case map_vals_of es of Some vs \\<Rightarrow> Some (v#vs) \n                                                                        | _ \\<Rightarrow> None)\n                                      | _ \\<Rightarrow> None)\" |\n\"map_vals_of [] = Some []\""], ["", "lemma map_vals_of_spec: \"map_vals_of es = Some vs \\<Longrightarrow> es = map Val vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map_vals_of es = \\<lfloor>vs\\<rfloor> \\<Longrightarrow> es = map Val vs", "proof(induct es arbitrary: vs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>vs.\n       map_vals_of [] = \\<lfloor>vs\\<rfloor> \\<Longrightarrow>\n       [] = map Val vs\n 2. \\<And>a es vs.\n       \\<lbrakk>\\<And>vs.\n                   map_vals_of es = \\<lfloor>vs\\<rfloor> \\<Longrightarrow>\n                   es = map Val vs;\n        map_vals_of (a # es) = \\<lfloor>vs\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> a # es = map Val vs", "qed(auto simp: val_of_spec)"], ["", "lemma map_vals_of_Vals[simp]: \"map_vals_of (map Val vs) = \\<lfloor>vs\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map_vals_of (map Val vs) = \\<lfloor>vs\\<rfloor>", "by(induct vs, auto)"], ["", "lemma map_vals_of_throw[simp]:\n \"map_vals_of (map Val vs @ throw e # es') = None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map_vals_of (map Val vs @ throw e # es') = None", "by(induct vs, auto)"], ["", "fun bool_of :: \"'a exp \\<Rightarrow> bool option\" where\n\"bool_of true = Some True\" |\n\"bool_of false = Some False\" |\n\"bool_of _ = None\""], ["", "lemma bool_of_specT:\nassumes \"bool_of e = Some True\" shows \"e = true\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e = true", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. e = true", "have \"bool_of e = Some True\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bool_of e = \\<lfloor>True\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  bool_of e = \\<lfloor>True\\<rfloor>\n\ngoal (1 subgoal):\n 1. e = true", "then"], ["proof (chain)\npicking this:\n  bool_of e = \\<lfloor>True\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  bool_of e = \\<lfloor>True\\<rfloor>\n\ngoal (1 subgoal):\n 1. e = true", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = true\n 2. \\<And>x21 x22.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = true\n 3. \\<And>x3.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = true\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = true\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = true\n 6. \\<And>x61 x62.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = true\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = true\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = true\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = true\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = true\nA total of 20 subgoals...", "case (Val x3)"], ["proof (state)\nthis:\n  e = Val x3\n\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = true\n 2. \\<And>x21 x22.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = true\n 3. \\<And>x3.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = true\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = true\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = true\n 6. \\<And>x61 x62.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = true\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = true\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = true\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = true\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = true\nA total of 20 subgoals...", "with assms"], ["proof (chain)\npicking this:\n  bool_of e = \\<lfloor>True\\<rfloor>\n  e = Val x3", "show ?thesis"], ["proof (prove)\nusing this:\n  bool_of e = \\<lfloor>True\\<rfloor>\n  e = Val x3\n\ngoal (1 subgoal):\n 1. e = true", "proof(cases x3)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n     x3 = Unit\\<rbrakk>\n    \\<Longrightarrow> e = true\n 2. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n     x3 = Null\\<rbrakk>\n    \\<Longrightarrow> e = true\n 3. \\<And>x3a.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Bool x3a\\<rbrakk>\n       \\<Longrightarrow> e = true\n 4. \\<And>x4.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Intg x4\\<rbrakk>\n       \\<Longrightarrow> e = true\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Addr x5\\<rbrakk>\n       \\<Longrightarrow> e = true", "case (Bool x)"], ["proof (state)\nthis:\n  x3 = Bool x\n\ngoal (5 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n     x3 = Unit\\<rbrakk>\n    \\<Longrightarrow> e = true\n 2. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n     x3 = Null\\<rbrakk>\n    \\<Longrightarrow> e = true\n 3. \\<And>x3a.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Bool x3a\\<rbrakk>\n       \\<Longrightarrow> e = true\n 4. \\<And>x4.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Intg x4\\<rbrakk>\n       \\<Longrightarrow> e = true\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Addr x5\\<rbrakk>\n       \\<Longrightarrow> e = true", "with assms Val"], ["proof (chain)\npicking this:\n  bool_of e = \\<lfloor>True\\<rfloor>\n  e = Val x3\n  x3 = Bool x", "show ?thesis"], ["proof (prove)\nusing this:\n  bool_of e = \\<lfloor>True\\<rfloor>\n  e = Val x3\n  x3 = Bool x\n\ngoal (1 subgoal):\n 1. e = true", "proof(cases x)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3; x3 = Bool x;\n     x\\<rbrakk>\n    \\<Longrightarrow> e = true\n 2. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3; x3 = Bool x;\n     \\<not> x\\<rbrakk>\n    \\<Longrightarrow> e = true", "qed(auto)"], ["proof (state)\nthis:\n  e = true\n\ngoal (4 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n     x3 = Unit\\<rbrakk>\n    \\<Longrightarrow> e = true\n 2. \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n     x3 = Null\\<rbrakk>\n    \\<Longrightarrow> e = true\n 3. \\<And>x4.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Intg x4\\<rbrakk>\n       \\<Longrightarrow> e = true\n 4. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Val x3;\n        x3 = Addr x5\\<rbrakk>\n       \\<Longrightarrow> e = true", "qed(simp_all)"], ["proof (state)\nthis:\n  e = true\n\ngoal (19 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = true\n 2. \\<And>x21 x22.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = true\n 3. \\<And>x41 x42 x43.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = true\n 4. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = true\n 5. \\<And>x61 x62.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = true\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = true\n 7. \\<And>x81 x82 x83.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = true\n 8. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = true\n 9. \\<And>x101 x102 x103 x104.\n       \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n        e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n       \\<Longrightarrow> e = true\n 10. \\<And>x111 x112 x113.\n        \\<lbrakk>bool_of e = \\<lfloor>True\\<rfloor>;\n         e = x111\\<bullet>x112(x113)\\<rbrakk>\n        \\<Longrightarrow> e = true\nA total of 19 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  e = true\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bool_of_specF:\nassumes \"bool_of e = Some False\" shows \"e = false\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e = false", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. e = false", "have \"bool_of e = Some False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bool_of e = \\<lfloor>False\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  bool_of e = \\<lfloor>False\\<rfloor>\n\ngoal (1 subgoal):\n 1. e = false", "then"], ["proof (chain)\npicking this:\n  bool_of e = \\<lfloor>False\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  bool_of e = \\<lfloor>False\\<rfloor>\n\ngoal (1 subgoal):\n 1. e = false", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = false\n 2. \\<And>x21 x22.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = false\n 3. \\<And>x3.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = false\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = false\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = false\n 6. \\<And>x61 x62.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = false\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = false\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = false\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = false\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = false\nA total of 20 subgoals...", "case (Val x3)"], ["proof (state)\nthis:\n  e = Val x3\n\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = false\n 2. \\<And>x21 x22.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = false\n 3. \\<And>x3.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = false\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = false\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = false\n 6. \\<And>x61 x62.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = false\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = false\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = false\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = false\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = false\nA total of 20 subgoals...", "with assms"], ["proof (chain)\npicking this:\n  bool_of e = \\<lfloor>False\\<rfloor>\n  e = Val x3", "show ?thesis"], ["proof (prove)\nusing this:\n  bool_of e = \\<lfloor>False\\<rfloor>\n  e = Val x3\n\ngoal (1 subgoal):\n 1. e = false", "proof(cases x3)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n     x3 = Unit\\<rbrakk>\n    \\<Longrightarrow> e = false\n 2. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n     x3 = Null\\<rbrakk>\n    \\<Longrightarrow> e = false\n 3. \\<And>x3a.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Bool x3a\\<rbrakk>\n       \\<Longrightarrow> e = false\n 4. \\<And>x4.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Intg x4\\<rbrakk>\n       \\<Longrightarrow> e = false\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Addr x5\\<rbrakk>\n       \\<Longrightarrow> e = false", "case (Bool x)"], ["proof (state)\nthis:\n  x3 = Bool x\n\ngoal (5 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n     x3 = Unit\\<rbrakk>\n    \\<Longrightarrow> e = false\n 2. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n     x3 = Null\\<rbrakk>\n    \\<Longrightarrow> e = false\n 3. \\<And>x3a.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Bool x3a\\<rbrakk>\n       \\<Longrightarrow> e = false\n 4. \\<And>x4.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Intg x4\\<rbrakk>\n       \\<Longrightarrow> e = false\n 5. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Addr x5\\<rbrakk>\n       \\<Longrightarrow> e = false", "with assms Val"], ["proof (chain)\npicking this:\n  bool_of e = \\<lfloor>False\\<rfloor>\n  e = Val x3\n  x3 = Bool x", "show ?thesis"], ["proof (prove)\nusing this:\n  bool_of e = \\<lfloor>False\\<rfloor>\n  e = Val x3\n  x3 = Bool x\n\ngoal (1 subgoal):\n 1. e = false", "proof(cases x)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3; x3 = Bool x;\n     x\\<rbrakk>\n    \\<Longrightarrow> e = false\n 2. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3; x3 = Bool x;\n     \\<not> x\\<rbrakk>\n    \\<Longrightarrow> e = false", "qed(auto)"], ["proof (state)\nthis:\n  e = false\n\ngoal (4 subgoals):\n 1. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n     x3 = Unit\\<rbrakk>\n    \\<Longrightarrow> e = false\n 2. \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n     x3 = Null\\<rbrakk>\n    \\<Longrightarrow> e = false\n 3. \\<And>x4.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Intg x4\\<rbrakk>\n       \\<Longrightarrow> e = false\n 4. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Val x3;\n        x3 = Addr x5\\<rbrakk>\n       \\<Longrightarrow> e = false", "qed(simp_all)"], ["proof (state)\nthis:\n  e = false\n\ngoal (19 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = false\n 2. \\<And>x21 x22.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = false\n 3. \\<And>x41 x42 x43.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = false\n 4. \\<And>x5.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = false\n 5. \\<And>x61 x62.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = false\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = false\n 7. \\<And>x81 x82 x83.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = false\n 8. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = false\n 9. \\<And>x101 x102 x103 x104.\n       \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n        e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n       \\<Longrightarrow> e = false\n 10. \\<And>x111 x112 x113.\n        \\<lbrakk>bool_of e = \\<lfloor>False\\<rfloor>;\n         e = x111\\<bullet>x112(x113)\\<rbrakk>\n        \\<Longrightarrow> e = false\nA total of 19 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  e = false\n\ngoal:\nNo subgoals!", "qed"], ["", "fun throw_of :: \"'a exp \\<Rightarrow> 'a exp option\" where\n\"throw_of (throw e') = Some e'\" |\n\"throw_of _ = None\""], ["", "lemma throw_of_spec: \"throw_of e = Some e' \\<Longrightarrow> e = throw e'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. throw_of e = \\<lfloor>e'\\<rfloor> \\<Longrightarrow> e = throw e'", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>; e = new x1\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 2. \\<And>x21 x22.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 3. \\<And>x3.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 5. \\<And>x5.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 6. \\<And>x61 x62.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>;\n        e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>;\n        e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>;\n        e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> e = throw e'\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>throw_of e = \\<lfloor>e'\\<rfloor>;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> e = throw e'\nA total of 20 subgoals...", "qed(auto)"], ["", "fun init_exp_of :: \"'a exp \\<Rightarrow> 'a exp option\" where\n\"init_exp_of (INIT C (Cs,b) \\<leftarrow> e) = Some e\" |\n\"init_exp_of (RI(C,e');Cs \\<leftarrow> e) = Some e\" |\n\"init_exp_of _ = None\""], ["", "lemma init_exp_of_neq [simp]: \"init_exp_of e = \\<lfloor>e'\\<rfloor> \\<Longrightarrow> e' \\<noteq> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. init_exp_of e = \\<lfloor>e'\\<rfloor> \\<Longrightarrow> e' \\<noteq> e", "by(cases e, auto)"], ["", "lemma init_exp_of_neq'[simp]: \"init_exp_of e = \\<lfloor>e'\\<rfloor> \\<Longrightarrow> e \\<noteq> e'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. init_exp_of e = \\<lfloor>e'\\<rfloor> \\<Longrightarrow> e \\<noteq> e'", "by(cases e, auto)"], ["", "subsection\\<open>Class initialization\\<close>"], ["", "text \\<open> This section defines a few functions that return information\n about an expression's current initialization status. \\<close>\n\n \\<comment> \\<open> True if expression contains @{text INIT}, @{text RI}, or a call to a static method @{term clinit} \\<close>"], ["", "primrec sub_RI :: \"'a exp \\<Rightarrow> bool\" and sub_RIs :: \"'a exp list \\<Rightarrow> bool\" where\n  \"sub_RI(new C) = False\"\n| \"sub_RI(Cast C e) = sub_RI e\"\n| \"sub_RI(Val v) = False\"\n| \"sub_RI(e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2) = (sub_RI e\\<^sub>1 \\<or> sub_RI e\\<^sub>2)\"\n| \"sub_RI(Var V) = False\"\n| \"sub_RI(LAss V e) = sub_RI e\"\n| \"sub_RI(e\\<bullet>F{D}) = sub_RI e\"\n| \"sub_RI(C\\<bullet>\\<^sub>sF{D}) = False\"\n| \"sub_RI(e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2) = (sub_RI e\\<^sub>1 \\<or> sub_RI e\\<^sub>2)\"\n| \"sub_RI(C\\<bullet>\\<^sub>sF{D}:=e\\<^sub>2) = sub_RI e\\<^sub>2\"\n| \"sub_RI(e\\<bullet>M(es)) = (sub_RI e \\<or> sub_RIs es)\"\n| \"sub_RI(C\\<bullet>\\<^sub>sM(es)) = (M = clinit \\<or> sub_RIs es)\"\n| \"sub_RI({V:T; e}) = sub_RI e\"\n| \"sub_RI(e\\<^sub>1;;e\\<^sub>2) = (sub_RI e\\<^sub>1 \\<or> sub_RI e\\<^sub>2)\"\n| \"sub_RI(if (b) e\\<^sub>1 else e\\<^sub>2) = (sub_RI b \\<or> sub_RI e\\<^sub>1 \\<or> sub_RI e\\<^sub>2)\"\n| \"sub_RI(while (b) e) = (sub_RI b \\<or> sub_RI e)\"\n| \"sub_RI(throw e) = sub_RI e\"\n| \"sub_RI(try e\\<^sub>1 catch(C V) e\\<^sub>2) = (sub_RI e\\<^sub>1 \\<or> sub_RI e\\<^sub>2)\"\n| \"sub_RI(INIT C (Cs,b) \\<leftarrow> e) = True\"\n| \"sub_RI(RI (C,e);Cs \\<leftarrow> e') = True\"\n| \"sub_RIs([]) = False\"\n| \"sub_RIs(e#es) = (sub_RI e \\<or> sub_RIs es)\""], ["", "lemmas sub_RI_sub_RIs_induct = sub_RI.induct sub_RIs.induct"], ["", "lemma nsub_RIs_def[simp]:\n \"\\<not>sub_RIs es \\<Longrightarrow> \\<forall>e \\<in> set es. \\<not>sub_RI e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> sub_RIs es \\<Longrightarrow>\n    \\<forall>e\\<in>set es. \\<not> sub_RI e", "by(induct es, auto)"], ["", "lemma sub_RI_base:\n \"e = INIT C (Cs, b) \\<leftarrow> e' \\<or> e = RI(C,e\\<^sub>0);Cs \\<leftarrow> e' \\<Longrightarrow> sub_RI e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e = INIT C (Cs,b) \\<leftarrow> e' \\<or>\n    e = RI (C,e\\<^sub>0) ; Cs \\<leftarrow> e' \\<Longrightarrow>\n    sub_RI e", "by(cases e, auto)"], ["", "lemma nsub_RI_Vals[simp]: \"\\<not>sub_RIs (map Val vs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> sub_RIs (map Val vs)", "by(induct vs, auto)"], ["", "lemma lass_val_of_nsub_RI: \"lass_val_of e = \\<lfloor>a\\<rfloor> \\<Longrightarrow> \\<not>sub_RI e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lass_val_of e = \\<lfloor>a\\<rfloor> \\<Longrightarrow> \\<not> sub_RI e", "by(drule lass_val_of_spec, simp)\n\n\n \\<comment> \\<open> is not currently initializing class @{text C'} (point past checking flag) \\<close>"], ["", "primrec not_init :: \"cname \\<Rightarrow> 'a exp \\<Rightarrow> bool\" and not_inits :: \"cname \\<Rightarrow> 'a exp list \\<Rightarrow> bool\" where\n  \"not_init C' (new C) = True\"\n| \"not_init C' (Cast C e) = not_init C' e\"\n| \"not_init C' (Val v) = True\"\n| \"not_init C' (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2) = (not_init C' e\\<^sub>1 \\<and> not_init C' e\\<^sub>2)\"\n| \"not_init C' (Var V) = True\"\n| \"not_init C' (LAss V e) = not_init C' e\"\n| \"not_init C' (e\\<bullet>F{D}) = not_init C' e\"\n| \"not_init C' (C\\<bullet>\\<^sub>sF{D}) = True\"\n| \"not_init C' (e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2) = (not_init C' e\\<^sub>1 \\<and> not_init C' e\\<^sub>2)\"\n| \"not_init C' (C\\<bullet>\\<^sub>sF{D}:=e\\<^sub>2) = not_init C' e\\<^sub>2\"\n| \"not_init C' (e\\<bullet>M(es)) = (not_init C' e \\<and> not_inits C' es)\"\n| \"not_init C' (C\\<bullet>\\<^sub>sM(es)) = not_inits C' es\"\n| \"not_init C' ({V:T; e}) = not_init C' e\"\n| \"not_init C' (e\\<^sub>1;;e\\<^sub>2) = (not_init C' e\\<^sub>1 \\<and> not_init C' e\\<^sub>2)\"\n| \"not_init C' (if (b) e\\<^sub>1 else e\\<^sub>2) = (not_init C' b \\<and> not_init C' e\\<^sub>1 \\<and> not_init C' e\\<^sub>2)\"\n| \"not_init C' (while (b) e) = (not_init C' b \\<and> not_init C' e)\"\n| \"not_init C' (throw e) = not_init C' e\"\n| \"not_init C' (try e\\<^sub>1 catch(C V) e\\<^sub>2) = (not_init C' e\\<^sub>1 \\<and> not_init C' e\\<^sub>2)\"\n| \"not_init C' (INIT C (Cs,b) \\<leftarrow> e) = ((b \\<longrightarrow> Cs = Nil \\<or> C' \\<noteq> hd Cs) \\<and> C' \\<notin> set(tl Cs) \\<and> not_init C' e)\"\n| \"not_init C' (RI (C,e);Cs \\<leftarrow> e') = (C' \\<notin> set (C#Cs) \\<and> not_init C' e \\<and> not_init C' e')\"\n| \"not_inits C' ([]) = True\"\n| \"not_inits C' (e#es) = (not_init C' e \\<and> not_inits C' es)\""], ["", "lemma not_inits_def'[simp]:\n \"not_inits C es \\<Longrightarrow> \\<forall>e \\<in> set es. not_init C e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. not_inits C es \\<Longrightarrow> \\<forall>e\\<in>set es. not_init C e", "by(induct es, auto)"], ["", "lemma nsub_RIs_not_inits_aux: \"\\<forall>e \\<in> set es. \\<not>sub_RI e \\<longrightarrow> not_init C e\n  \\<Longrightarrow> \\<not>sub_RIs es \\<Longrightarrow> not_inits C es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>e\\<in>set es.\n                \\<not> sub_RI e \\<longrightarrow> not_init C e;\n     \\<not> sub_RIs es\\<rbrakk>\n    \\<Longrightarrow> not_inits C es", "by(induct es, auto)"], ["", "lemma nsub_RI_not_init: \"\\<not>sub_RI e \\<Longrightarrow> not_init C e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> sub_RI e \\<Longrightarrow> not_init C e", "proof(induct e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x. \\<not> sub_RI (new x) \\<Longrightarrow> not_init C (new x)\n 2. \\<And>x1a e.\n       \\<lbrakk>\\<not> sub_RI e \\<Longrightarrow> not_init C e;\n        \\<not> sub_RI (Cast x1a e)\\<rbrakk>\n       \\<Longrightarrow> not_init C (Cast x1a e)\n 3. \\<And>x. \\<not> sub_RI (Val x) \\<Longrightarrow> not_init C (Val x)\n 4. \\<And>e1 x2 e2.\n       \\<lbrakk>\\<not> sub_RI e1 \\<Longrightarrow> not_init C e1;\n        \\<not> sub_RI e2 \\<Longrightarrow> not_init C e2;\n        \\<not> sub_RI (e1 \\<guillemotleft>x2\\<guillemotright> e2)\\<rbrakk>\n       \\<Longrightarrow> not_init C\n                          (e1 \\<guillemotleft>x2\\<guillemotright> e2)\n 5. \\<And>x. \\<not> sub_RI (Var x) \\<Longrightarrow> not_init C (Var x)\n 6. \\<And>x1a e.\n       \\<lbrakk>\\<not> sub_RI e \\<Longrightarrow> not_init C e;\n        \\<not> sub_RI (x1a:=e)\\<rbrakk>\n       \\<Longrightarrow> not_init C (x1a:=e)\n 7. \\<And>e x2 x3a.\n       \\<lbrakk>\\<not> sub_RI e \\<Longrightarrow> not_init C e;\n        \\<not> sub_RI (e\\<bullet>x2{x3a})\\<rbrakk>\n       \\<Longrightarrow> not_init C (e\\<bullet>x2{x3a})\n 8. \\<And>x1a x2 x3a.\n       \\<not> sub_RI (x1a\\<bullet>\\<^sub>sx2{x3a}) \\<Longrightarrow>\n       not_init C (x1a\\<bullet>\\<^sub>sx2{x3a})\n 9. \\<And>e1 x2 x3a e2.\n       \\<lbrakk>\\<not> sub_RI e1 \\<Longrightarrow> not_init C e1;\n        \\<not> sub_RI e2 \\<Longrightarrow> not_init C e2;\n        \\<not> sub_RI (e1\\<bullet>x2{x3a} := e2)\\<rbrakk>\n       \\<Longrightarrow> not_init C (e1\\<bullet>x2{x3a} := e2)\n 10. \\<And>x1a x2 x3a e.\n        \\<lbrakk>\\<not> sub_RI e \\<Longrightarrow> not_init C e;\n         \\<not> sub_RI (x1a\\<bullet>\\<^sub>sx2{x3a} := e)\\<rbrakk>\n        \\<Longrightarrow> not_init C (x1a\\<bullet>\\<^sub>sx2{x3a} := e)\nA total of 20 subgoals...", "qed(auto intro: nsub_RIs_not_inits_aux)"], ["", "lemma nsub_RIs_not_inits: \"\\<not>sub_RIs es \\<Longrightarrow> not_inits C es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> sub_RIs es \\<Longrightarrow> not_inits C es", "apply(rule nsub_RIs_not_inits_aux)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<not> sub_RIs es \\<Longrightarrow>\n    \\<forall>e\\<in>set es. \\<not> sub_RI e \\<longrightarrow> not_init C e\n 2. \\<not> sub_RIs es \\<Longrightarrow> \\<not> sub_RIs es", "apply(simp_all add: nsub_RI_not_init)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsection\\<open>Subexpressions\\<close>\n\n \\<comment> \\<open> all strictly smaller subexpressions; does not include self \\<close>"], ["", "primrec subexp :: \"'a exp \\<Rightarrow> 'a exp set\" and subexps :: \"'a exp list \\<Rightarrow> 'a exp set\" where\n  \"subexp(new C) = {}\"\n| \"subexp(Cast C e) = {e} \\<union> subexp e\"\n| \"subexp(Val v) = {}\"\n| \"subexp(e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2) = {e\\<^sub>1, e\\<^sub>2} \\<union> subexp e\\<^sub>1 \\<union> subexp e\\<^sub>2\"\n| \"subexp(Var V) = {}\"\n| \"subexp(LAss V e) = {e} \\<union> subexp e\"\n| \"subexp(e\\<bullet>F{D}) = {e} \\<union> subexp e\"\n| \"subexp(C\\<bullet>\\<^sub>sF{D}) = {}\"\n| \"subexp(e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2) = {e\\<^sub>1, e\\<^sub>2} \\<union> subexp e\\<^sub>1 \\<union> subexp e\\<^sub>2\"\n| \"subexp(C\\<bullet>\\<^sub>sF{D}:=e\\<^sub>2) = {e\\<^sub>2} \\<union>subexp e\\<^sub>2\"\n| \"subexp(e\\<bullet>M(es)) = {e} \\<union> set es \\<union> subexp e \\<union> subexps es\"\n| \"subexp(C\\<bullet>\\<^sub>sM(es)) = set es \\<union> subexps es\"\n| \"subexp({V:T; e}) = {e} \\<union> subexp e\"\n| \"subexp(e\\<^sub>1;;e\\<^sub>2) = {e\\<^sub>1, e\\<^sub>2} \\<union> subexp e\\<^sub>1 \\<union> subexp e\\<^sub>2\"\n| \"subexp(if (b) e\\<^sub>1 else e\\<^sub>2) = {b, e\\<^sub>1, e\\<^sub>2} \\<union> subexp b \\<union> subexp e\\<^sub>1 \\<union> subexp e\\<^sub>2\"\n| \"subexp(while (b) e) = {b, e} \\<union> subexp b \\<union> subexp e\"\n| \"subexp(throw e) = {e} \\<union> subexp e\"\n| \"subexp(try e\\<^sub>1 catch(C V) e\\<^sub>2) = {e\\<^sub>1, e\\<^sub>2} \\<union> subexp e\\<^sub>1 \\<union> subexp e\\<^sub>2\"\n| \"subexp(INIT C (Cs,b) \\<leftarrow> e) = {e} \\<union> subexp e\"\n| \"subexp(RI (C,e);Cs \\<leftarrow> e') = {e, e'} \\<union> subexp e \\<union> subexp e'\"\n| \"subexps([]) = {}\"\n| \"subexps(e#es) = {e} \\<union> subexp e \\<union> subexps es\""], ["", "lemmas subexp_subexps_induct = subexp.induct subexps.induct"], ["", "abbreviation subexp_of :: \"'a exp \\<Rightarrow> 'a exp \\<Rightarrow> bool\" where\n \"subexp_of e e' \\<equiv> e \\<in> subexp e'\""], ["", "lemma subexp_size_le:\n \"(e' \\<in> subexp e \\<longrightarrow> size e' < size e) \\<and> (e' \\<in> subexps es \\<longrightarrow> size e' < size_list size es)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (subexp_of e' e \\<longrightarrow> size e' < size e) \\<and>\n    (e' \\<in> subexps es \\<longrightarrow> size e' < size_list size es)", "proof(induct rule: subexp_subexps.induct)"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>x. subexp_of e' (new x) \\<longrightarrow> size e' < size (new x)\n 2. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (Cast x1 x2) \\<longrightarrow>\n       size e' < size (Cast x1 x2)\n 3. \\<And>x. subexp_of e' (Val x) \\<longrightarrow> size e' < size (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x3 \\<longrightarrow> size e' < size x3\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                         size e'\n                         < size (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x. subexp_of e' (Var x) \\<longrightarrow> size e' < size (Var x)\n 6. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (x1:=x2) \\<longrightarrow> size e' < size (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       subexp_of e' x1 \\<longrightarrow> size e' < size x1 \\<Longrightarrow>\n       subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x4 \\<longrightarrow> size e' < size x4\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                         size e' < size (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        subexp_of e' x4 \\<longrightarrow>\n        size e' < size x4 \\<Longrightarrow>\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        size e' < size (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 22 subgoals...", "case Call:11"], ["proof (state)\nthis:\n  subexp_of e' x1_ \\<longrightarrow> size e' < size x1_\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_\n\ngoal (22 subgoals):\n 1. \\<And>x. subexp_of e' (new x) \\<longrightarrow> size e' < size (new x)\n 2. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (Cast x1 x2) \\<longrightarrow>\n       size e' < size (Cast x1 x2)\n 3. \\<And>x. subexp_of e' (Val x) \\<longrightarrow> size e' < size (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x3 \\<longrightarrow> size e' < size x3\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                         size e'\n                         < size (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x. subexp_of e' (Var x) \\<longrightarrow> size e' < size (Var x)\n 6. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (x1:=x2) \\<longrightarrow> size e' < size (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       subexp_of e' x1 \\<longrightarrow> size e' < size x1 \\<Longrightarrow>\n       subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x4 \\<longrightarrow> size e' < size x4\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                         size e' < size (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        subexp_of e' x4 \\<longrightarrow>\n        size e' < size x4 \\<Longrightarrow>\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        size e' < size (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 22 subgoals...", "then"], ["proof (chain)\npicking this:\n  subexp_of e' x1_ \\<longrightarrow> size e' < size x1_\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_", "show ?case"], ["proof (prove)\nusing this:\n  subexp_of e' x1_ \\<longrightarrow> size e' < size x1_\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_\n\ngoal (1 subgoal):\n 1. subexp_of e' (x1_\\<bullet>x2_(x3_)) \\<longrightarrow>\n    size e' < size (x1_\\<bullet>x2_(x3_))", "using not_less_eq size_list_estimation"], ["proof (prove)\nusing this:\n  subexp_of e' x1_ \\<longrightarrow> size e' < size x1_\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_\n  (\\<not> ?m < ?n) = (?n < Suc ?m)\n  \\<lbrakk>?x \\<in> set ?xs; ?y < ?f ?x\\<rbrakk>\n  \\<Longrightarrow> ?y < size_list ?f ?xs\n\ngoal (1 subgoal):\n 1. subexp_of e' (x1_\\<bullet>x2_(x3_)) \\<longrightarrow>\n    size e' < size (x1_\\<bullet>x2_(x3_))", "by fastforce"], ["proof (state)\nthis:\n  subexp_of e' (x1_\\<bullet>x2_(x3_)) \\<longrightarrow>\n  size e' < size (x1_\\<bullet>x2_(x3_))\n\ngoal (21 subgoals):\n 1. \\<And>x. subexp_of e' (new x) \\<longrightarrow> size e' < size (new x)\n 2. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (Cast x1 x2) \\<longrightarrow>\n       size e' < size (Cast x1 x2)\n 3. \\<And>x. subexp_of e' (Val x) \\<longrightarrow> size e' < size (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x3 \\<longrightarrow> size e' < size x3\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                         size e'\n                         < size (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x. subexp_of e' (Var x) \\<longrightarrow> size e' < size (Var x)\n 6. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (x1:=x2) \\<longrightarrow> size e' < size (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       subexp_of e' x1 \\<longrightarrow> size e' < size x1 \\<Longrightarrow>\n       subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x4 \\<longrightarrow> size e' < size x4\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                         size e' < size (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        subexp_of e' x4 \\<longrightarrow>\n        size e' < size x4 \\<Longrightarrow>\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        size e' < size (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>x. subexp_of e' (new x) \\<longrightarrow> size e' < size (new x)\n 2. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (Cast x1 x2) \\<longrightarrow>\n       size e' < size (Cast x1 x2)\n 3. \\<And>x. subexp_of e' (Val x) \\<longrightarrow> size e' < size (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x3 \\<longrightarrow> size e' < size x3\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                         size e'\n                         < size (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x. subexp_of e' (Var x) \\<longrightarrow> size e' < size (Var x)\n 6. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (x1:=x2) \\<longrightarrow> size e' < size (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       subexp_of e' x1 \\<longrightarrow> size e' < size x1 \\<Longrightarrow>\n       subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x4 \\<longrightarrow> size e' < size x4\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                         size e' < size (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        subexp_of e' x4 \\<longrightarrow>\n        size e' < size x4 \\<Longrightarrow>\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        size e' < size (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 21 subgoals...", "case SCall:12"], ["proof (state)\nthis:\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_\n\ngoal (21 subgoals):\n 1. \\<And>x. subexp_of e' (new x) \\<longrightarrow> size e' < size (new x)\n 2. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (Cast x1 x2) \\<longrightarrow>\n       size e' < size (Cast x1 x2)\n 3. \\<And>x. subexp_of e' (Val x) \\<longrightarrow> size e' < size (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x3 \\<longrightarrow> size e' < size x3\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                         size e'\n                         < size (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x. subexp_of e' (Var x) \\<longrightarrow> size e' < size (Var x)\n 6. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (x1:=x2) \\<longrightarrow> size e' < size (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       subexp_of e' x1 \\<longrightarrow> size e' < size x1 \\<Longrightarrow>\n       subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x4 \\<longrightarrow> size e' < size x4\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                         size e' < size (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        subexp_of e' x4 \\<longrightarrow>\n        size e' < size x4 \\<Longrightarrow>\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        size e' < size (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 21 subgoals...", "then"], ["proof (chain)\npicking this:\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_", "show ?case"], ["proof (prove)\nusing this:\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_\n\ngoal (1 subgoal):\n 1. subexp_of e' (x1_\\<bullet>\\<^sub>sx2_(x3_)) \\<longrightarrow>\n    size e' < size (x1_\\<bullet>\\<^sub>sx2_(x3_))", "using not_less_eq size_list_estimation"], ["proof (prove)\nusing this:\n  e' \\<in> subexps x3_ \\<longrightarrow> size e' < size_list size x3_\n  (\\<not> ?m < ?n) = (?n < Suc ?m)\n  \\<lbrakk>?x \\<in> set ?xs; ?y < ?f ?x\\<rbrakk>\n  \\<Longrightarrow> ?y < size_list ?f ?xs\n\ngoal (1 subgoal):\n 1. subexp_of e' (x1_\\<bullet>\\<^sub>sx2_(x3_)) \\<longrightarrow>\n    size e' < size (x1_\\<bullet>\\<^sub>sx2_(x3_))", "by fastforce"], ["proof (state)\nthis:\n  subexp_of e' (x1_\\<bullet>\\<^sub>sx2_(x3_)) \\<longrightarrow>\n  size e' < size (x1_\\<bullet>\\<^sub>sx2_(x3_))\n\ngoal (20 subgoals):\n 1. \\<And>x. subexp_of e' (new x) \\<longrightarrow> size e' < size (new x)\n 2. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (Cast x1 x2) \\<longrightarrow>\n       size e' < size (Cast x1 x2)\n 3. \\<And>x. subexp_of e' (Val x) \\<longrightarrow> size e' < size (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x3 \\<longrightarrow> size e' < size x3\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                         size e'\n                         < size (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x. subexp_of e' (Var x) \\<longrightarrow> size e' < size (Var x)\n 6. \\<And>x1 x2.\n       subexp_of e' x2 \\<longrightarrow> size e' < size x2 \\<Longrightarrow>\n       subexp_of e' (x1:=x2) \\<longrightarrow> size e' < size (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       subexp_of e' x1 \\<longrightarrow> size e' < size x1 \\<Longrightarrow>\n       subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n       size e' < size (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>subexp_of e' x1 \\<longrightarrow> size e' < size x1;\n        subexp_of e' x4 \\<longrightarrow> size e' < size x4\\<rbrakk>\n       \\<Longrightarrow> subexp_of e'\n                          (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                         size e' < size (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        subexp_of e' x4 \\<longrightarrow>\n        size e' < size x4 \\<Longrightarrow>\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        size e' < size (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 20 subgoals...", "qed(auto)"], ["", "lemma subexps_def2: \"subexps es = set es \\<union> (\\<Union>e \\<in> set es. subexp e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subexps es = set es \\<union> \\<Union> (subexp ` set es)", "by(induct es, auto)\n\n \\<comment> \\<open> strong induction \\<close>"], ["", "lemma shows subexp_induct[consumes 1]: \n\"(\\<And>e. subexp e = {} \\<Longrightarrow> R e) \\<Longrightarrow> (\\<And>e. (\\<And>e'. e' \\<in> subexp e \\<Longrightarrow> R e') \\<Longrightarrow> R e)\n   \\<Longrightarrow> (\\<And>es. (\\<And>e'. e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow> Rs es) \\<Longrightarrow> (\\<forall>e'. e' \\<in> subexp e \\<longrightarrow> R e') \\<and> R e\"\nand subexps_induct[consumes 1]:\n \"(\\<And>es. subexps es = {} \\<Longrightarrow> Rs es) \\<Longrightarrow> (\\<And>e. (\\<And>e'. e' \\<in> subexp e \\<Longrightarrow> R e') \\<Longrightarrow> R e)\n   \\<Longrightarrow> (\\<And>es. (\\<And>e'. e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow> Rs es) \\<Longrightarrow> (\\<forall>e'. e' \\<in> subexps es \\<longrightarrow> R e') \\<and> Rs es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n      \\<And>e.\n         (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n         R e;\n      \\<And>es.\n         (\\<And>e'.\n             e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n         Rs es\\<rbrakk>\n     \\<Longrightarrow> (\\<forall>e'.\n                           subexp_of e' e \\<longrightarrow> R e') \\<and>\n                       R e) &&&\n    (\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n      \\<And>e.\n         (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n         R e;\n      \\<And>es.\n         (\\<And>e'.\n             e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n         Rs es\\<rbrakk>\n     \\<Longrightarrow> (\\<forall>e'.\n                           e' \\<in> subexps es \\<longrightarrow>\n                           R e') \\<and>\n                       Rs es)", "proof(induct rule: subexp_subexps_induct)"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Cast x1 x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Cast x1 x2)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 22 subgoals...", "case (Cast x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (22 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Cast x1 x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Cast x1 x2)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 22 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (22 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Cast x1 x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Cast x1 x2)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 22 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "have \"(\\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e'\n\ngoal (22 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Cast x1 x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Cast x1 x2)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 5. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\nA total of 22 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e') \\<and>\n    R (Cast x1 x2)", "using Cast.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e') \\<and>\n    R (Cast x1 x2)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' (Cast x1 x2) \\<longrightarrow> R e') \\<and>\n  R (Cast x1 x2)\n\ngoal (21 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 4. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x3 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>x2(x3))\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 4. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x3 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>x2(x3))\nA total of 21 subgoals...", "case (BinOp x1 x2 x3)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (21 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 4. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x3 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>x2(x3))\nA total of 21 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\n\ngoal (21 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 4. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x3 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>x2(x3))\nA total of 21 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3", "have \"(\\<forall>e'. subexp_of e' (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e'\n        (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n       R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'.\n     subexp_of e'\n      (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n     R e'\n\ngoal (21 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n 4. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x3 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>x2(x3))\nA total of 21 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'.\n     subexp_of e'\n      (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n     R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e'\n      (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n     R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e'\n         (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n        R e') \\<and>\n    R (x1 \\<guillemotleft>x2\\<guillemotright> x3)", "using BinOp.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e'\n      (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n     R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e'\n         (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n        R e') \\<and>\n    R (x1 \\<guillemotleft>x2\\<guillemotright> x3)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e'\n       (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<longrightarrow>\n      R e') \\<and>\n  R (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n\ngoal (20 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                   Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2(x3))\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                   Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2(x3))\nA total of 20 subgoals...", "case (LAss x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (20 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                   Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2(x3))\nA total of 20 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (20 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                   Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2(x3))\nA total of 20 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "have \"(\\<forall>e'. subexp_of e' (LAss x1 x2) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e'\n\ngoal (20 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1:=x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1:=x2)\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                   Rs x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1\\<bullet>\\<^sub>sx2(x3))\nA total of 20 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e') \\<and>\n    R (x1:=x2)", "using LAss.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e') \\<and>\n    R (x1:=x2)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' (x1:=x2) \\<longrightarrow> R e') \\<and>\n  R (x1:=x2)\n\ngoal (19 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                   R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                              R e') \\<and>\n                          R {x1:x2; x3}\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                   R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                              R e') \\<and>\n                          R {x1:x2; x3}\nA total of 19 subgoals...", "case (FAcc x1 x2 x3)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (19 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                   R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                              R e') \\<and>\n                          R {x1:x2; x3}\nA total of 19 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n\ngoal (19 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                   R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                              R e') \\<and>\n                          R {x1:x2; x3}\nA total of 19 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1", "have \"(\\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e'\n\ngoal (19 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                   R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                              R e') \\<and>\n                          R {x1:x2; x3}\nA total of 19 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e') \\<and>\n    R (x1\\<bullet>x2{x3})", "using FAcc.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e') \\<and>\n    R (x1\\<bullet>x2{x3})", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (x1\\<bullet>x2{x3}) \\<longrightarrow> R e') \\<and>\n  R (x1\\<bullet>x2{x3})\n\ngoal (18 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (x1;; x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1;; x2)\nA total of 18 subgoals...", "next"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (x1;; x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1;; x2)\nA total of 18 subgoals...", "case (FAss x1 x2 x3 x4)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (18 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (x1;; x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1;; x2)\nA total of 18 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (18 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (x1;; x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1;; x2)\nA total of 18 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "have \"(\\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow> R e'\n\ngoal (18 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2{x3} := x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (x1;; x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (x1;; x2)\nA total of 18 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n        R e') \\<and>\n    R (x1\\<bullet>x2{x3} := x4)", "using FAss.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow>\n        R e') \\<and>\n    R (x1\\<bullet>x2{x3} := x4)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (x1\\<bullet>x2{x3} := x4) \\<longrightarrow> R e') \\<and>\n  R (x1\\<bullet>x2{x3} := x4)\n\ngoal (17 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x3 \\<longrightarrow>\n                               R e') \\<and>\n                           R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (if (x1) x2 else x3) \\<longrightarrow>\n                              R e') \\<and>\n                          R (if (x1) x2 else x3)\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x3 \\<longrightarrow>\n                               R e') \\<and>\n                           R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (if (x1) x2 else x3) \\<longrightarrow>\n                              R e') \\<and>\n                          R (if (x1) x2 else x3)\nA total of 17 subgoals...", "case (SFAss x1 x2 x3 x4)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (17 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x3 \\<longrightarrow>\n                               R e') \\<and>\n                           R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (if (x1) x2 else x3) \\<longrightarrow>\n                              R e') \\<and>\n                          R (if (x1) x2 else x3)\nA total of 17 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (17 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x3 \\<longrightarrow>\n                               R e') \\<and>\n                           R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (if (x1) x2 else x3) \\<longrightarrow>\n                              R e') \\<and>\n                          R (if (x1) x2 else x3)\nA total of 17 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "have \"(\\<forall>e'. subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow> R e'\n\ngoal (17 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 10. \\<And>x1 x2 x3.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x3 \\<longrightarrow>\n                               R e') \\<and>\n                           R x3;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (if (x1) x2 else x3) \\<longrightarrow>\n                              R e') \\<and>\n                          R (if (x1) x2 else x3)\nA total of 17 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        R e') \\<and>\n    R (x1\\<bullet>\\<^sub>sx2{x3} := x4)", "using SFAss.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n        R e') \\<and>\n    R (x1\\<bullet>\\<^sub>sx2{x3} := x4)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (x1\\<bullet>\\<^sub>sx2{x3} := x4) \\<longrightarrow>\n      R e') \\<and>\n  R (x1\\<bullet>\\<^sub>sx2{x3} := x4)\n\ngoal (16 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (while (x1) x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (while (x1) x2)\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (while (x1) x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (while (x1) x2)\nA total of 16 subgoals...", "case (Call x1 x2 x3)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                    Rs x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (16 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (while (x1) x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (while (x1) x2)\nA total of 16 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                    Rs x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                    Rs x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\n\ngoal (16 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (while (x1) x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (while (x1) x2)\nA total of 16 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3", "have \"(\\<forall>e'. subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e'", "using subexps_def2"], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\n  subexps ?es = set ?es \\<union> \\<Union> (subexp ` set ?es)\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e'\n\ngoal (16 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x3 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>x2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>x2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 9. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x2 \\<longrightarrow>\n                               R e') \\<and>\n                           R x2;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (while (x1) x2) \\<longrightarrow>\n                              R e') \\<and>\n                          R (while (x1) x2)\nA total of 16 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e') \\<and>\n    R (x1\\<bullet>x2(x3))", "using Call.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e') \\<and>\n    R (x1\\<bullet>x2(x3))", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (x1\\<bullet>x2(x3)) \\<longrightarrow> R e') \\<and>\n  R (x1\\<bullet>x2(x3))\n\ngoal (15 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 10. \\<And>x.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x \\<longrightarrow> R e') \\<and>\n                                   R x;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (throw x) \\<longrightarrow>\n                              R e') \\<and>\n                          R (throw x)\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 10. \\<And>x.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x \\<longrightarrow> R e') \\<and>\n                                   R x;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (throw x) \\<longrightarrow>\n                              R e') \\<and>\n                          R (throw x)\nA total of 15 subgoals...", "case (SCall x1 x2 x3)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                    Rs x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (15 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 10. \\<And>x.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x \\<longrightarrow> R e') \\<and>\n                                   R x;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (throw x) \\<longrightarrow>\n                              R e') \\<and>\n                          R (throw x)\nA total of 15 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                    Rs x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                    Rs x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\n\ngoal (15 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 10. \\<And>x.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x \\<longrightarrow> R e') \\<and>\n                                   R x;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (throw x) \\<longrightarrow>\n                              R e') \\<and>\n                          R (throw x)\nA total of 15 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3", "have \"(\\<forall>e'. subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow> R e'", "using subexps_def2"], ["proof (prove)\nusing this:\n  (\\<forall>e'. e' \\<in> subexps x3 \\<longrightarrow> R e') \\<and> Rs x3\n  subexps ?es = set ?es \\<union> \\<Union> (subexp ` set ?es)\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow> R e'\n\ngoal (15 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\ne' \\<in> subexps x3 \\<longrightarrow> R e') \\<and>\n                                  Rs x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2(x3))\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 8. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 10. \\<And>x.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x \\<longrightarrow> R e') \\<and>\n                                   R x;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' (throw x) \\<longrightarrow>\n                              R e') \\<and>\n                          R (throw x)\nA total of 15 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n        R e') \\<and>\n    R (x1\\<bullet>\\<^sub>sx2(x3))", "using SCall.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n        R e') \\<and>\n    R (x1\\<bullet>\\<^sub>sx2(x3))", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (x1\\<bullet>\\<^sub>sx2(x3)) \\<longrightarrow>\n      R e') \\<and>\n  R (x1\\<bullet>\\<^sub>sx2(x3))\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 9. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (try x1 catch(x2 x3) x4)\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 9. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (try x1 catch(x2 x3) x4)\nA total of 14 subgoals...", "case (Block x1 x2 x3)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 9. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (try x1 catch(x2 x3) x4)\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 9. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (try x1 catch(x2 x3) x4)\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3", "have \"(\\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e'\n\ngoal (14 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                                  R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' {x1:x2; x3} \\<longrightarrow>\n                             R e') \\<and>\n                         R {x1:x2; x3}\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 7. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 9. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (try x1 catch(x2 x3) x4)\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e') \\<and>\n    R {x1:x2; x3}", "using Block.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e') \\<and>\n    R {x1:x2; x3}", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' {x1:x2; x3} \\<longrightarrow> R e') \\<and>\n  R {x1:x2; x3}\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 8. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (INIT x1 (x2,x3) \\<leftarrow> x4)\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 8. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (INIT x1 (x2,x3) \\<leftarrow> x4)\nA total of 13 subgoals...", "case (Seq x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 8. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (INIT x1 (x2,x3) \\<leftarrow> x4)\nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 8. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (INIT x1 (x2,x3) \\<leftarrow> x4)\nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "have \"(\\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e'\n\ngoal (13 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (x1;; x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1;; x2)\n 6. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 8. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                   R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (INIT x1 (x2,x3) \\<leftarrow> x4)\nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e') \\<and>\n    R (x1;; x2)", "using Seq.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e') \\<and>\n    R (x1;; x2)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' (x1;; x2) \\<longrightarrow> R e') \\<and>\n  R (x1;; x2)\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 7. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                   R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (RI (x1,x2) ; x3 \\<leftarrow> x4)\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 7. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                   R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (RI (x1,x2) ; x3 \\<leftarrow> x4)\nA total of 12 subgoals...", "case (Cond x1 x2 x3)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 7. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                   R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (RI (x1,x2) ; x3 \\<leftarrow> x4)\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\"\n    and \"(\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                    R x3\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2 &&&\n    (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 7. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                   R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (RI (x1,x2) ; x3 \\<leftarrow> x4)\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3", "have \"(\\<forall>e'. subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n  (\\<forall>e'. subexp_of e' x3 \\<longrightarrow> R e') \\<and> R x3\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e'\n\ngoal (12 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x3 \\<longrightarrow> R e') \\<and>\n                          R x3;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (if (x1) x2 else x3) \\<longrightarrow>\n                             R e') \\<and>\n                         R (if (x1) x2 else x3)\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 7. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 10. \\<And>x1 x2 x3 x4.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                   R x2;\n         \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               subexp_of e' x4 \\<longrightarrow>\n                               R e') \\<and>\n                           R x4;\n         \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e'\n                               (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                              R e') \\<and>\n                          R (RI (x1,x2) ; x3 \\<leftarrow> x4)\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e') \\<and>\n    R (if (x1) x2 else x3)", "using Cond.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e') \\<and>\n    R (if (x1) x2 else x3)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (if (x1) x2 else x3) \\<longrightarrow> R e') \\<and>\n  R (if (x1) x2 else x3)\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 6. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 10. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n      \\<And>e.\n         (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n         R e;\n      \\<And>es.\n         (\\<And>e'.\n             e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n         Rs es\\<rbrakk>\n     \\<Longrightarrow> (\\<forall>e'.\n                           e' \\<in> subexps [] \\<longrightarrow>\n                           R e') \\<and>\n                       Rs []\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 6. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 10. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n      \\<And>e.\n         (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n         R e;\n      \\<And>es.\n         (\\<And>e'.\n             e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n         Rs es\\<rbrakk>\n     \\<Longrightarrow> (\\<forall>e'.\n                           e' \\<in> subexps [] \\<longrightarrow>\n                           R e') \\<and>\n                       Rs []\nA total of 11 subgoals...", "case (While x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 6. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 10. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n      \\<And>e.\n         (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n         R e;\n      \\<And>es.\n         (\\<And>e'.\n             e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n         Rs es\\<rbrakk>\n     \\<Longrightarrow> (\\<forall>e'.\n                           e' \\<in> subexps [] \\<longrightarrow>\n                           R e') \\<and>\n                       Rs []\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 6. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 10. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n      \\<And>e.\n         (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n         R e;\n      \\<And>es.\n         (\\<And>e'.\n             e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n         Rs es\\<rbrakk>\n     \\<Longrightarrow> (\\<forall>e'.\n                           e' \\<in> subexps [] \\<longrightarrow>\n                           R e') \\<and>\n                       Rs []\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2", "have \"(\\<forall>e'. subexp_of e' (while (x1) x2) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (while (x1) x2) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (while (x1) x2) \\<longrightarrow> R e'\n\ngoal (11 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                          R x2;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (while (x1) x2) \\<longrightarrow>\n                             R e') \\<and>\n                         R (while (x1) x2)\n 6. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 9. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 10. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n      \\<And>e.\n         (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n         R e;\n      \\<And>es.\n         (\\<And>e'.\n             e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n         Rs es\\<rbrakk>\n     \\<Longrightarrow> (\\<forall>e'.\n                           e' \\<in> subexps [] \\<longrightarrow>\n                           R e') \\<and>\n                       Rs []\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (while (x1) x2) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (while (x1) x2) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (while (x1) x2) \\<longrightarrow> R e') \\<and>\n    R (while (x1) x2)", "using While.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (while (x1) x2) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (while (x1) x2) \\<longrightarrow> R e') \\<and>\n    R (while (x1) x2)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' (while (x1) x2) \\<longrightarrow> R e') \\<and>\n  R (while (x1) x2)\n\ngoal (10 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 9. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x2 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x2;\n         \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                              R e') \\<and>\n                          Rs (x1 # x2)", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 9. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x2 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x2;\n         \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                              R e') \\<and>\n                          Rs (x1 # x2)", "case (throw x)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x \\<longrightarrow> R e') \\<and>\n                    R x\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (10 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 9. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x2 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x2;\n         \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                              R e') \\<and>\n                          Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x \\<longrightarrow> R e') \\<and>\n                    R x\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x \\<longrightarrow> R e') \\<and> R x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x \\<longrightarrow> R e') \\<and>\n                    R x\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x \\<longrightarrow> R e') \\<and> R x", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x \\<longrightarrow> R e') \\<and> R x\n\ngoal (10 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 9. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x2 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x2;\n         \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                              R e') \\<and>\n                          Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x \\<longrightarrow> R e') \\<and> R x", "have \"(\\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x \\<longrightarrow> R e') \\<and> R x\n\ngoal (1 subgoal):\n 1. \\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e'\n\ngoal (10 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x \\<longrightarrow> R e') \\<and>\n                                  R x;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (throw x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (throw x)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 8. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 9. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 10. \\<And>x1 x2.\n        \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                  \\<And>e.\n                     (\\<And>e'.\n                         subexp_of e' e \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     R e;\n                  \\<And>es.\n                     (\\<And>e'.\n                         e' \\<in> subexps es \\<Longrightarrow>\n                         R e') \\<Longrightarrow>\n                     Rs es\\<rbrakk>\n                 \\<Longrightarrow> (\\<forall>e'.\n subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                   R x1;\n         \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n          \\<And>e.\n             (\\<And>e'.\n                 subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n             R e;\n          \\<And>es.\n             (\\<And>e'.\n                 e' \\<in> subexps es \\<Longrightarrow>\n                 R e') \\<Longrightarrow>\n             Rs es\\<rbrakk>\n         \\<Longrightarrow> (\\<forall>e'.\n                               e' \\<in> subexps x2 \\<longrightarrow>\n                               R e') \\<and>\n                           Rs x2;\n         \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                              R e') \\<and>\n                          Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e') \\<and>\n    R (throw x)", "using throw.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e') \\<and>\n    R (throw x)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' (throw x) \\<longrightarrow> R e') \\<and>\n  R (throw x)\n\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 8. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 8. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "case (TryCatch x1 x2 x3 x4)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 8. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 8. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "have \"(\\<forall>e'. subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e'\n\ngoal (9 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (try x1 catch(x2 x3) x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (try x1 catch(x2 x3) x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 7. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 8. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 9. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e') \\<and>\n    R (try x1 catch(x2 x3) x4)", "using TryCatch.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'. subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e') \\<and>\n    R (try x1 catch(x2 x3) x4)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (try x1 catch(x2 x3) x4) \\<longrightarrow> R e') \\<and>\n  R (try x1 catch(x2 x3) x4)\n\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 7. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 7. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "case (INIT x1 x2 x3 x4)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 7. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 7. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "have \"(\\<forall>e'. subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'.\n     subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow> R e'\n\ngoal (8 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                                  R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (INIT x1 (x2,x3) \\<leftarrow> x4)\n 6. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 7. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 8. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'.\n     subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n        R e') \\<and>\n    R (INIT x1 (x2,x3) \\<leftarrow> x4)", "using INIT.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n        R e') \\<and>\n    R (INIT x1 (x2,x3) \\<leftarrow> x4)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (INIT x1 (x2,x3) \\<leftarrow> x4) \\<longrightarrow>\n      R e') \\<and>\n  R (INIT x1 (x2,x3) \\<leftarrow> x4)\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 6. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 6. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "case (RI x1 x2 x3 x4)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 6. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\" and \"(\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                    R x2\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                    R x4\n  subexp ?e = {} \\<Longrightarrow> R ?e\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2 &&&\n    (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 6. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4", "have \"(\\<forall>e'. subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x2 \\<longrightarrow> R e') \\<and> R x2\n  (\\<forall>e'. subexp_of e' x4 \\<longrightarrow> R e') \\<and> R x4\n\ngoal (1 subgoal):\n 1. \\<forall>e'.\n       subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'.\n     subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow> R e'\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<And>x1 x2 x3 x4.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x2 \\<longrightarrow> R e') \\<and>\n                                  R x2;\n        \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              subexp_of e' x4 \\<longrightarrow> R e') \\<and>\n                          R x4;\n        \\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n                             R e') \\<and>\n                         R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n 6. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 7. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'.\n     subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n        R e') \\<and>\n    R (RI (x1,x2) ; x3 \\<leftarrow> x4)", "using RI.prems(2)"], ["proof (prove)\nusing this:\n  \\<forall>e'.\n     subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow> R e'\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n\ngoal (1 subgoal):\n 1. (\\<forall>e'.\n        subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n        R e') \\<and>\n    R (RI (x1,x2) ; x3 \\<leftarrow> x4)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'.\n      subexp_of e' (RI (x1,x2) ; x3 \\<leftarrow> x4) \\<longrightarrow>\n      R e') \\<and>\n  R (RI (x1,x2) ; x3 \\<leftarrow> x4)\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "case (Cons_exp x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and>\n                    Rs x2\n  subexps ?es = {} \\<Longrightarrow> Rs ?es\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and>\n                    Rs x2\n  subexps ?es = {} \\<Longrightarrow> Rs ?es\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es", "have \"(\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\" and \"(\\<forall>e'. e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and> Rs x2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        subexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                    R x1\n  \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n   \\<And>e.\n      (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n      R e;\n   \\<And>es.\n      (\\<And>e'.\n          e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n      Rs es\\<rbrakk>\n  \\<Longrightarrow> (\\<forall>e'.\n                        e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and>\n                    Rs x2\n  subexps ?es = {} \\<Longrightarrow> Rs ?es\n  (\\<And>e'. subexp_of e' ?e \\<Longrightarrow> R e') \\<Longrightarrow> R ?e\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1 &&&\n    (\\<forall>e'. e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and> Rs x2", "by fast+"], ["proof (state)\nthis:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and> Rs x2\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and> Rs x2", "have \"(\\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e')\""], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and> Rs x2\n\ngoal (1 subgoal):\n 1. \\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e'", "using subexps_def2"], ["proof (prove)\nusing this:\n  (\\<forall>e'. subexp_of e' x1 \\<longrightarrow> R e') \\<and> R x1\n  (\\<forall>e'. e' \\<in> subexps x2 \\<longrightarrow> R e') \\<and> Rs x2\n  subexps ?es = set ?es \\<union> \\<Union> (subexp ` set ?es)\n\ngoal (1 subgoal):\n 1. \\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e'", "by auto"], ["proof (state)\nthis:\n  \\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e'\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []\n 6. \\<And>x1 x2.\n       \\<lbrakk>\\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n                 \\<And>e.\n                    (\\<And>e'.\n                        subexp_of e' e \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    R e;\n                 \\<And>es.\n                    (\\<And>e'.\n                        e' \\<in> subexps es \\<Longrightarrow>\n                        R e') \\<Longrightarrow>\n                    Rs es\\<rbrakk>\n                \\<Longrightarrow> (\\<forall>e'.\nsubexp_of e' x1 \\<longrightarrow> R e') \\<and>\n                                  R x1;\n        \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n         \\<And>e.\n            (\\<And>e'.\n                subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n            R e;\n         \\<And>es.\n            (\\<And>e'.\n                e' \\<in> subexps es \\<Longrightarrow>\n                R e') \\<Longrightarrow>\n            Rs es\\<rbrakk>\n        \\<Longrightarrow> (\\<forall>e'.\n                              e' \\<in> subexps x2 \\<longrightarrow>\n                              R e') \\<and>\n                          Rs x2;\n        \\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             e' \\<in> subexps (x1 # x2) \\<longrightarrow>\n                             R e') \\<and>\n                         Rs (x1 # x2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e'", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e'\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e') \\<and>\n    Rs (x1 # x2)", "using Cons_exp.prems(3)"], ["proof (prove)\nusing this:\n  \\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e'\n  (\\<And>e'. e' \\<in> subexps ?es \\<Longrightarrow> R e') \\<Longrightarrow>\n  Rs ?es\n\ngoal (1 subgoal):\n 1. (\\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e') \\<and>\n    Rs (x1 # x2)", "by fast"], ["proof (state)\nthis:\n  (\\<forall>e'. e' \\<in> subexps (x1 # x2) \\<longrightarrow> R e') \\<and>\n  Rs (x1 # x2)\n\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (new x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (new x)\n 2. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Val x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Val x)\n 3. \\<And>x.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e' (Var x) \\<longrightarrow>\n                             R e') \\<and>\n                         R (Var x)\n 4. \\<And>x1 x2 x3.\n       \\<lbrakk>\\<And>e. subexp e = {} \\<Longrightarrow> R e;\n        \\<And>e.\n           (\\<And>e'.\n               subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n           R e;\n        \\<And>es.\n           (\\<And>e'.\n               e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n           Rs es\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>e'.\n                             subexp_of e'\n                              (x1\\<bullet>\\<^sub>sx2{x3}) \\<longrightarrow>\n                             R e') \\<and>\n                         R (x1\\<bullet>\\<^sub>sx2{x3})\n 5. \\<lbrakk>\\<And>es. subexps es = {} \\<Longrightarrow> Rs es;\n     \\<And>e.\n        (\\<And>e'. subexp_of e' e \\<Longrightarrow> R e') \\<Longrightarrow>\n        R e;\n     \\<And>es.\n        (\\<And>e'.\n            e' \\<in> subexps es \\<Longrightarrow> R e') \\<Longrightarrow>\n        Rs es\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>e'.\n                          e' \\<in> subexps [] \\<longrightarrow> R e') \\<and>\n                      Rs []", "qed(auto)"], ["", "subsection\"Final expressions\""], ["", "(* these definitions and most of the lemmas were in BigStep.thy in the original Jinja *)"], ["", "definition final :: \"'a exp \\<Rightarrow> bool\"\nwhere\n  \"final e  \\<equiv>  (\\<exists>v. e = Val v) \\<or> (\\<exists>a. e = Throw a)\""], ["", "definition finals:: \"'a exp list \\<Rightarrow> bool\"\nwhere\n  \"finals es  \\<equiv>  (\\<exists>vs. es = map Val vs) \\<or> (\\<exists>vs a es'. es = map Val vs @ Throw a # es')\""], ["", "lemma [simp]: \"final(Val v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. final (Val v)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. final (Val v)", "by(simp add:final_def)"], ["", "(*>*)"], ["", "lemma [simp]: \"final(throw e) = (\\<exists>a. e = addr a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. final (throw e) = (\\<exists>a. e = addr a)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. final (throw e) = (\\<exists>a. e = addr a)", "by(simp add:final_def)"], ["", "(*>*)"], ["", "lemma finalE: \"\\<lbrakk> final e;  \\<And>v. e = Val v \\<Longrightarrow> R;  \\<And>a. e = Throw a \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>final e; \\<And>v. e = Val v \\<Longrightarrow> R;\n     \\<And>a. e = Throw a \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>final e; \\<And>v. e = Val v \\<Longrightarrow> R;\n     \\<And>a. e = Throw a \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "by(auto simp:final_def)"], ["", "(*>*)"], ["", "lemma final_fv[iff]: \"final e \\<Longrightarrow> fv e = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. final e \\<Longrightarrow> fv e = {}", "by (auto simp: final_def)"], ["", "lemma finalsE:\n \"\\<lbrakk> finals es;  \\<And>vs. es = map Val vs \\<Longrightarrow> R;  \\<And>vs a es'. es = map Val vs @ Throw a # es' \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finals es; \\<And>vs. es = map Val vs \\<Longrightarrow> R;\n     \\<And>vs a es'.\n        es = map Val vs @ Throw a # es' \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finals es; \\<And>vs. es = map Val vs \\<Longrightarrow> R;\n     \\<And>vs a es'.\n        es = map Val vs @ Throw a # es' \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "by(auto simp:finals_def)"], ["", "(*>*)"], ["", "lemma [iff]: \"finals []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals []", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. finals []", "by(simp add:finals_def)"], ["", "(*>*)"], ["", "lemma [iff]: \"finals (Val v # es) = finals es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (Val v # es) = finals es", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (Val v # es) = finals es", "apply(clarsimp simp add: finals_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<exists>zs. es = map Val zs) \\<or>\n     (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')) =\n    ((\\<exists>vs. es = map Val vs) \\<or>\n     (\\<exists>vs a es'. es = map Val vs @ Throw a # es'))", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'.\n        Val v # es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es')\n 2. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply(erule disjE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<exists>zs. es = map Val zs \\<Longrightarrow>\n    (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es')\n 2. \\<exists>vs a es'.\n       Val v # es = map Val vs @ Throw a # es' \\<Longrightarrow>\n    (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es')\n 3. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>vs a es'.\n       Val v # es = map Val vs @ Throw a # es' \\<Longrightarrow>\n    (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es')\n 2. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply(rule disjI2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>vs a es'.\n       Val v # es = map Val vs @ Throw a # es' \\<Longrightarrow>\n    \\<exists>vs a es'. es = map Val vs @ Throw a # es'\n 2. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply clarsimp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs a es'.\n       Val v # es = map Val vs @ Throw a # es' \\<Longrightarrow>\n       \\<exists>vs a es'. es = map Val vs @ Throw a # es'\n 2. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply(case_tac vs)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>vs a es'.\n       \\<lbrakk>Val v # es = map Val vs @ Throw a # es'; vs = []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>vs a es'. es = map Val vs @ Throw a # es'\n 2. \\<And>vs a es' aa list.\n       \\<lbrakk>Val v # es = map Val vs @ Throw a # es';\n        vs = aa # list\\<rbrakk>\n       \\<Longrightarrow> \\<exists>vs a es'. es = map Val vs @ Throw a # es'\n 3. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs a es' aa list.\n       \\<lbrakk>Val v # es = map Val vs @ Throw a # es';\n        vs = aa # list\\<rbrakk>\n       \\<Longrightarrow> \\<exists>vs a es'. es = map Val vs @ Throw a # es'\n 2. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>vs. es = map Val vs) \\<or>\n    (\\<exists>vs a es'. es = map Val vs @ Throw a # es') \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply(erule disjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>vs. es = map Val vs \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')\n 2. \\<exists>vs a es'. es = map Val vs @ Throw a # es' \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>vs a es'. es = map Val vs @ Throw a # es' \\<Longrightarrow>\n    (\\<exists>zs. es = map Val zs) \\<or>\n    (\\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es')", "apply(rule disjI2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>vs a es'. es = map Val vs @ Throw a # es' \\<Longrightarrow>\n    \\<exists>vs a es'. Val v # es = map Val vs @ Throw a # es'", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>vs a es'.\n       es = map Val vs @ Throw a # es' \\<Longrightarrow>\n       \\<exists>vsa aa es'a.\n          Val v # map Val vs @ Throw a # es' = map Val vsa @ Throw aa # es'a", "apply(rule_tac x = \"v#vs\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>vs a es'.\n       es = map Val vs @ Throw a # es' \\<Longrightarrow>\n       \\<exists>aa es'a.\n          Val v # map Val vs @ Throw a # es' =\n          map Val (v # vs) @ Throw aa # es'a", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma finals_app_map[iff]: \"finals (map Val vs @ es) = finals es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (map Val vs @ es) = finals es", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (map Val vs @ es) = finals es", "by(induct_tac vs, auto)"], ["", "(*>*)"], ["", "lemma [iff]: \"finals (map Val vs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (map Val vs)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (map Val vs)", "using finals_app_map[of vs \"[]\"]"], ["proof (prove)\nusing this:\n  finals (map Val vs @ []) = finals []\n\ngoal (1 subgoal):\n 1. finals (map Val vs)", "by(simp)"], ["", "(*>*)"], ["", "lemma [iff]: \"finals (throw e # es) = (\\<exists>a. e = addr a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (throw e # es) = (\\<exists>a. e = addr a)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (throw e # es) = (\\<exists>a. e = addr a)", "apply(simp add:finals_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>vs a es'. throw e # es = map Val vs @ Throw a # es') =\n    (\\<exists>a. e = addr a)", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>vs a es'.\n       throw e # es = map Val vs @ Throw a # es' \\<Longrightarrow>\n    \\<exists>a. e = addr a\n 2. \\<exists>a. e = addr a \\<Longrightarrow>\n    \\<exists>vs a es'. throw e # es = map Val vs @ Throw a # es'", "apply clarsimp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs a es'.\n       throw e # es = map Val vs @ Throw a # es' \\<Longrightarrow>\n       \\<exists>a. e = addr a\n 2. \\<exists>a. e = addr a \\<Longrightarrow>\n    \\<exists>vs a es'. throw e # es = map Val vs @ Throw a # es'", "apply(case_tac vs)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>vs a es'.\n       \\<lbrakk>throw e # es = map Val vs @ Throw a # es'; vs = []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a. e = addr a\n 2. \\<And>vs a es' aa list.\n       \\<lbrakk>throw e # es = map Val vs @ Throw a # es';\n        vs = aa # list\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a. e = addr a\n 3. \\<exists>a. e = addr a \\<Longrightarrow>\n    \\<exists>vs a es'. throw e # es = map Val vs @ Throw a # es'", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs a es' aa list.\n       \\<lbrakk>throw e # es = map Val vs @ Throw a # es';\n        vs = aa # list\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a. e = addr a\n 2. \\<exists>a. e = addr a \\<Longrightarrow>\n    \\<exists>vs a es'. throw e # es = map Val vs @ Throw a # es'", "apply fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a. e = addr a \\<Longrightarrow>\n    \\<exists>vs a es'. throw e # es = map Val vs @ Throw a # es'", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>vs aa es'. Throw a # es = map Val vs @ Throw aa # es'", "apply(rule_tac x = \"[]\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>aa es'. Throw a # es = map Val [] @ Throw aa # es'", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma not_finals_ConsI: \"\\<not> final e \\<Longrightarrow> \\<not> finals(e#es)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow> \\<not> finals (e # es)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow> \\<not> finals (e # es)", "apply(clarsimp simp add:finals_def final_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>vs a es'.\n       \\<lbrakk>\\<forall>v. e \\<noteq> Val v;\n        \\<forall>a. e \\<noteq> Throw a;\n        e # es = map Val vs @ Throw a # es'\\<rbrakk>\n       \\<Longrightarrow> False", "apply(case_tac vs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs a es'.\n       \\<lbrakk>\\<forall>v. e \\<noteq> Val v;\n        \\<forall>a. e \\<noteq> Throw a; e # es = map Val vs @ Throw a # es';\n        vs = []\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>vs a es' aa list.\n       \\<lbrakk>\\<forall>v. e \\<noteq> Val v;\n        \\<forall>a. e \\<noteq> Throw a; e # es = map Val vs @ Throw a # es';\n        vs = aa # list\\<rbrakk>\n       \\<Longrightarrow> False", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma not_finals_ConsI2: \"e = Val v \\<Longrightarrow> \\<not> finals es \\<Longrightarrow> \\<not> finals(e#es)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>e = Val v; \\<not> finals es\\<rbrakk>\n    \\<Longrightarrow> \\<not> finals (e # es)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>e = Val v; \\<not> finals es\\<rbrakk>\n    \\<Longrightarrow> \\<not> finals (e # es)", "apply(clarsimp simp add:finals_def final_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>vs a es'.\n       \\<lbrakk>e = Val v; \\<forall>vs. es \\<noteq> map Val vs;\n        \\<forall>vs a es'. es \\<noteq> map Val vs @ Throw a # es';\n        Val v # es = map Val vs @ Throw a # es'\\<rbrakk>\n       \\<Longrightarrow> False", "apply(case_tac vs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>vs a es'.\n       \\<lbrakk>e = Val v; \\<forall>vs. es \\<noteq> map Val vs;\n        \\<forall>vs a es'. es \\<noteq> map Val vs @ Throw a # es';\n        Val v # es = map Val vs @ Throw a # es'; vs = []\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>vs a es' aa list.\n       \\<lbrakk>e = Val v; \\<forall>vs. es \\<noteq> map Val vs;\n        \\<forall>vs a es'. es \\<noteq> map Val vs @ Throw a # es';\n        Val v # es = map Val vs @ Throw a # es'; vs = aa # list\\<rbrakk>\n       \\<Longrightarrow> False", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "end"]]}