{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaDCI/J/Progress.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaDCI", "problem_names": ["lemma final_addrE:\n  \"\\<lbrakk> P,E,h,sh \\<turnstile> e : Class C; final e;\n    \\<And>a. e = addr a \\<Longrightarrow> R;\n    \\<And>a. e = Throw a \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\"", "lemma finalRefE:\n \"\\<lbrakk> P,E,h,sh \\<turnstile> e : T; is_refT T; final e;\n   e = null \\<Longrightarrow> R;\n   \\<And>a C. \\<lbrakk> e = addr a; T = Class C \\<rbrakk> \\<Longrightarrow> R;\n   \\<And>a. e = Throw a \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\"", "lemmas WTrt'_induct = WTrt'_WTrts'.induct [split_format (complete)]\n  and WTrt'_inducts = WTrt'_WTrts'.inducts [split_format (complete)]", "lemma [iff]: \"P,E,h,sh \\<turnstile> e\\<^sub>1;;e\\<^sub>2 :' T\\<^sub>2 = (\\<exists>T\\<^sub>1. P,E,h,sh \\<turnstile> e\\<^sub>1:' T\\<^sub>1 \\<and> P,E,h,sh \\<turnstile> e\\<^sub>2:' T\\<^sub>2)\"", "lemma [iff]: \"P,E,h,sh \\<turnstile> Val v :' T = (typeof\\<^bsub>h\\<^esub> v = Some T)\"", "lemma [iff]: \"P,E,h,sh \\<turnstile> Var v :' T = (E v = Some T)\"", "lemma wt_wt': \"P,E,h,sh \\<turnstile> e : T \\<Longrightarrow> P,E,h,sh \\<turnstile> e :' T\"\nand wts_wts': \"P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow> P,E,h,sh \\<turnstile> es [:'] Ts\"", "lemma wt'_wt: \"P,E,h,sh \\<turnstile> e :' T \\<Longrightarrow> P,E,h,sh \\<turnstile> e : T\"\nand wts'_wts: \"P,E,h,sh \\<turnstile> es [:'] Ts \\<Longrightarrow> P,E,h,sh \\<turnstile> es [:] Ts\"", "lemmas WTrt_inducts2 = WTrt'_inducts [unfolded wt'_iff_wt wts'_iff_wts,\n case_names WTrtNew WTrtCast WTrtVal WTrtVar WTrtBinOpEq WTrtBinOpAdd WTrtLAss\n WTrtFAcc WTrtFAccNT WTrtSFAcc WTrtFAss WTrtFAssNT WTrtSFAss WTrtCall WTrtCallNT WTrtSCall\n WTrtNil WTrtCons WTrtInitBlock WTrtBlock WTrtSeq WTrtCond WTrtWhile WTrtThrow WTrtTry\n WTrtInit WTrtRI, consumes 1]", "theorem assumes wf: \"wwf_J_prog P\" and hconf: \"P \\<turnstile> h \\<surd>\" and shconf: \"P,h \\<turnstile>\\<^sub>s sh \\<surd>\"\nshows progress: \"P,E,h,sh \\<turnstile> e : T \\<Longrightarrow>\n (\\<And>l. \\<lbrakk> \\<D> e \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e \\<rbrakk> \\<Longrightarrow> \\<exists>e' s' b'. P \\<turnstile> \\<langle>e,(h,l,sh),b\\<rangle> \\<rightarrow> \\<langle>e',s',b'\\<rangle>)\"\nand \"P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow>\n (\\<And>l. \\<lbrakk> \\<D>s es \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es \\<rbrakk> \\<Longrightarrow> \\<exists>es' s' b'. P \\<turnstile> \\<langle>es,(h,l,sh),b\\<rangle> [\\<rightarrow>] \\<langle>es',s',b'\\<rangle>)\""], "translations": [["", "lemma final_addrE:\n  \"\\<lbrakk> P,E,h,sh \\<turnstile> e : Class C; final e;\n    \\<And>a. e = addr a \\<Longrightarrow> R;\n    \\<And>a. e = Throw a \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C; final e;\n     \\<And>a. e = addr a \\<Longrightarrow> R;\n     \\<And>a. e = Throw a \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C; final e;\n     \\<And>a. e = addr a \\<Longrightarrow> R;\n     \\<And>a. e = Throw a \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "by(auto simp:final_def)"], ["", "(*>*)"], ["", "lemma finalRefE:\n \"\\<lbrakk> P,E,h,sh \\<turnstile> e : T; is_refT T; final e;\n   e = null \\<Longrightarrow> R;\n   \\<And>a C. \\<lbrakk> e = addr a; T = Class C \\<rbrakk> \\<Longrightarrow> R;\n   \\<And>a. e = Throw a \\<Longrightarrow> R \\<rbrakk> \\<Longrightarrow> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,h,sh \\<turnstile> e : T; is_refT T; final e;\n     e = null \\<Longrightarrow> R;\n     \\<And>a C.\n        \\<lbrakk>e = addr a; T = Class C\\<rbrakk> \\<Longrightarrow> R;\n     \\<And>a. e = Throw a \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,h,sh \\<turnstile> e : T; is_refT T; final e;\n     e = null \\<Longrightarrow> R;\n     \\<And>a C.\n        \\<lbrakk>e = addr a; T = Class C\\<rbrakk> \\<Longrightarrow> R;\n     \\<And>a. e = Throw a \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "by(auto simp:final_def is_refT_def)"], ["", "(*>*)"], ["", "text\\<open> Derivation of new induction scheme for well typing: \\<close>"], ["", "inductive\n  WTrt' :: \"[J_prog,heap,sheap,env,expr,ty] \\<Rightarrow> bool\"\n  and WTrts' :: \"[J_prog,heap,sheap,env,expr list, ty list] \\<Rightarrow> bool\"\n  and WTrt2' :: \"[J_prog,env,heap,sheap,expr,ty] \\<Rightarrow> bool\"\n        (\"_,_,_,_ \\<turnstile> _ :'' _\"   [51,51,51,51]50)\n  and WTrts2' :: \"[J_prog,env,heap,sheap,expr list, ty list] \\<Rightarrow> bool\"\n        (\"_,_,_,_ \\<turnstile> _ [:''] _\" [51,51,51,51]50)\n  for P :: J_prog and h :: heap and sh :: sheap\nwhere\n  \"P,E,h,sh \\<turnstile> e :' T \\<equiv> WTrt' P h sh E e T\"\n| \"P,E,h,sh \\<turnstile> es [:'] Ts \\<equiv> WTrts' P h sh E es Ts\"\n\n| \"is_class P C  \\<Longrightarrow>  P,E,h,sh \\<turnstile> new C :' Class C\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' T; is_refT T; is_class P C \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e :' Class C\"\n| \"typeof\\<^bsub>h\\<^esub> v = Some T \\<Longrightarrow> P,E,h,sh \\<turnstile> Val v :' T\"\n| \"E v = Some T  \\<Longrightarrow>  P,E,h,sh \\<turnstile> Var v :' T\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;  P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2 \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 :' Boolean\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;  P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 :' Integer\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> Var V :' T;  P,E,h,sh \\<turnstile> e :' T';  P \\<turnstile> T' \\<le> T \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e :' Void\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' Class C; P \\<turnstile> C has F,NonStatic:T in D \\<rbrakk> \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\"\n| \"P,E,h,sh \\<turnstile> e :' NT \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\"\n| \"\\<lbrakk> P \\<turnstile> C has F,Static:T in D \\<rbrakk> \\<Longrightarrow> P,E,h,sh \\<turnstile> C\\<bullet>\\<^sub>sF{D} :' T\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e\\<^sub>1 :' Class C;  P \\<turnstile> C has F,NonStatic:T in D;\n    P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;  P \\<turnstile> T\\<^sub>2 \\<le> T \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2 :' Void\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e\\<^sub>1:'NT; P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2 \\<rbrakk> \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2 :' Void\"\n| \"\\<lbrakk> P \\<turnstile> C has F,Static:T in D;\n    P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;  P \\<turnstile> T\\<^sub>2 \\<le> T \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> C\\<bullet>\\<^sub>sF{D}:=e\\<^sub>2 :' Void\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' Class C; P \\<turnstile> C sees M,NonStatic:Ts \\<rightarrow> T = (pns,body) in D;\n    P,E,h,sh \\<turnstile> es [:'] Ts'; P \\<turnstile> Ts' [\\<le>] Ts \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>M(es) :' T\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' NT; P,E,h,sh \\<turnstile> es [:'] Ts \\<rbrakk> \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>M(es) :' T\"\n| \"\\<lbrakk> P \\<turnstile> C sees M,Static:Ts \\<rightarrow> T = (pns,body) in D;\n    P,E,h,sh \\<turnstile> es [:'] Ts'; P \\<turnstile> Ts' [\\<le>] Ts;\n    M = clinit \\<longrightarrow> sh D = \\<lfloor>(sfs,Processing)\\<rfloor> \\<and> es = map Val vs \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> C\\<bullet>\\<^sub>sM(es) :' T\"\n| \"P,E,h,sh \\<turnstile> [] [:'] []\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' T;  P,E,h,sh \\<turnstile> es [:'] Ts \\<rbrakk> \\<Longrightarrow>  P,E,h,sh \\<turnstile> e#es [:'] T#Ts\"\n| \"\\<lbrakk> typeof\\<^bsub>h\\<^esub> v = Some T\\<^sub>1; P \\<turnstile> T\\<^sub>1 \\<le> T; P,E(V\\<mapsto>T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2 \\<rbrakk>\n  \\<Longrightarrow>  P,E,h,sh \\<turnstile> {V:T := Val v; e\\<^sub>2} :' T\\<^sub>2\"\n| \"\\<lbrakk> P,E(V\\<mapsto>T),h,sh \\<turnstile> e :' T'; \\<not> assigned V e \\<rbrakk> \\<Longrightarrow>  P,E,h,sh \\<turnstile> {V:T; e} :' T'\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e\\<^sub>1:' T\\<^sub>1;  P,E,h,sh \\<turnstile> e\\<^sub>2:'T\\<^sub>2 \\<rbrakk>  \\<Longrightarrow>  P,E,h,sh \\<turnstile> e\\<^sub>1;;e\\<^sub>2 :' T\\<^sub>2\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' Boolean;  P,E,h,sh \\<turnstile> e\\<^sub>1:' T\\<^sub>1;  P,E,h,sh \\<turnstile> e\\<^sub>2:' T\\<^sub>2;\n    P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or> P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n    P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow> T = T\\<^sub>2; P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow> T = T\\<^sub>1 \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> if (e) e\\<^sub>1 else e\\<^sub>2 :' T\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' Boolean;  P,E,h,sh \\<turnstile> c:' T \\<rbrakk>\n  \\<Longrightarrow>  P,E,h,sh \\<turnstile> while(e) c :' Void\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' T\\<^sub>r; is_refT T\\<^sub>r \\<rbrakk>  \\<Longrightarrow>  P,E,h,sh \\<turnstile> throw e :' T\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;  P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2; P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> try e\\<^sub>1 catch(C V) e\\<^sub>2 :' T\\<^sub>2\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' T; \\<forall>C' \\<in> set (C#Cs). is_class P C'; \\<not>sub_RI e;\n     \\<forall>C' \\<in> set (tl Cs). \\<exists>sfs. sh C' = \\<lfloor>(sfs,Processing)\\<rfloor>;\n     b \\<longrightarrow> (\\<forall>C' \\<in> set Cs. \\<exists>sfs. sh C' = \\<lfloor>(sfs,Processing)\\<rfloor>);\n     distinct Cs; supercls_lst P Cs \\<rbrakk> \\<Longrightarrow> P,E,h,sh \\<turnstile> INIT C (Cs, b) \\<leftarrow> e :' T\"\n| \"\\<lbrakk> P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e' :' T'; \\<forall>C' \\<in> set (C#Cs). is_class P C'; \\<not>sub_RI e';\n     \\<forall>C' \\<in> set (C#Cs). not_init C' e;\n     \\<forall>C' \\<in> set Cs. \\<exists>sfs. sh C' = \\<lfloor>(sfs,Processing)\\<rfloor>;\n     \\<exists>sfs. sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or> (sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and> e = THROW NoClassDefFoundError);\n     distinct (C#Cs); supercls_lst P (C#Cs) \\<rbrakk>\n  \\<Longrightarrow> P,E,h,sh \\<turnstile> RI(C, e);Cs \\<leftarrow> e' :' T'\""], ["", "(*<*)"], ["", "lemmas WTrt'_induct = WTrt'_WTrts'.induct [split_format (complete)]\n  and WTrt'_inducts = WTrt'_WTrts'.inducts [split_format (complete)]"], ["", "inductive_cases WTrt'_elim_cases[elim!]:\n  \"P,E,h,sh \\<turnstile> V :=e :' T\""], ["", "(*>*)"], ["", "lemma [iff]: \"P,E,h,sh \\<turnstile> e\\<^sub>1;;e\\<^sub>2 :' T\\<^sub>2 = (\\<exists>T\\<^sub>1. P,E,h,sh \\<turnstile> e\\<^sub>1:' T\\<^sub>1 \\<and> P,E,h,sh \\<turnstile> e\\<^sub>2:' T\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e\\<^sub>1;; e\\<^sub>2 :' T\\<^sub>2) =\n    (\\<exists>T\\<^sub>1.\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1 \\<and>\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e\\<^sub>1;; e\\<^sub>2 :' T\\<^sub>2) =\n    (\\<exists>T\\<^sub>1.\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1 \\<and>\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2)", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P,E,h,sh \\<turnstile> e\\<^sub>1;;\n    e\\<^sub>2 :' T\\<^sub>2 \\<Longrightarrow>\n    \\<exists>T\\<^sub>1.\n       P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1 \\<and>\n       P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2\n 2. \\<exists>T\\<^sub>1.\n       P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1 \\<and>\n       P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2 \\<Longrightarrow>\n    P,E,h,sh \\<turnstile> e\\<^sub>1;; e\\<^sub>2 :' T\\<^sub>2", "apply (auto elim: WTrt'.cases intro!:WTrt'_WTrts'.intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma [iff]: \"P,E,h,sh \\<turnstile> Val v :' T = (typeof\\<^bsub>h\\<^esub> v = Some T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> Val v :' T) =\n    (typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> Val v :' T) =\n    (typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>)", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P,E,h,sh \\<turnstile> Val v :' T \\<Longrightarrow>\n    typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>\n 2. typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n    P,E,h,sh \\<turnstile> Val v :' T", "apply (auto elim: WTrt'.cases intro!:WTrt'_WTrts'.intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma [iff]: \"P,E,h,sh \\<turnstile> Var v :' T = (E v = Some T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> Var v :' T) = (E v = \\<lfloor>T\\<rfloor>)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> Var v :' T) = (E v = \\<lfloor>T\\<rfloor>)", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P,E,h,sh \\<turnstile> Var v :' T \\<Longrightarrow>\n    E v = \\<lfloor>T\\<rfloor>\n 2. E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n    P,E,h,sh \\<turnstile> Var v :' T", "apply (auto elim: WTrt'.cases intro!:WTrt'_WTrts'.intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma wt_wt': \"P,E,h,sh \\<turnstile> e : T \\<Longrightarrow> P,E,h,sh \\<turnstile> e :' T\"\nand wts_wts': \"P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow> P,E,h,sh \\<turnstile> es [:'] Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e : T \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> e :' T) &&&\n    (P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> es [:'] Ts)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e : T \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> e :' T) &&&\n    (P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> es [:'] Ts)", "apply (induct rule:WTrt_inducts)"], ["proof (prove)\ngoal (26 subgoals):\n 1. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C :' Class C\n 2. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T; P,E,h,sh \\<turnstile> e :' T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e :' Class C\n 3. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v :' T\n 4. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var V :' T\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 :' Boolean\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 :' Integer\n 7. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h,sh \\<turnstile> e : T';\n        P,E,h,sh \\<turnstile> e :' T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e :' Void\n 8. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        P,E,h,sh \\<turnstile> e :' Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\n 9. \\<And>E e F D T.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        P,E,h,sh \\<turnstile> e :' NT\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\n 10. \\<And>C F T D E.\n        P \\<turnstile> C has F,Static:T in D \\<Longrightarrow>\n        P,E,h,sh \\<turnstile> C\\<bullet>\\<^sub>sF{D} :' T\nA total of 26 subgoals...", "prefer 17"], ["proof (prove)\ngoal (26 subgoals):\n 1. \\<And>E V T e T'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e :' T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> {V:T; e} :' T'\n 2. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C :' Class C\n 3. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T; P,E,h,sh \\<turnstile> e :' T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e :' Class C\n 4. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v :' T\n 5. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var V :' T\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 :' Boolean\n 7. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 :' Integer\n 8. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h,sh \\<turnstile> e : T';\n        P,E,h,sh \\<turnstile> e :' T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e :' Void\n 9. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        P,E,h,sh \\<turnstile> e :' Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\n 10. \\<And>E e F D T.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n         P,E,h,sh \\<turnstile> e :' NT\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\nA total of 26 subgoals...", "apply(case_tac \"assigned V e\")"], ["proof (prove)\ngoal (27 subgoals):\n 1. \\<And>E V T e T'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e :' T'; assigned V e\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> {V:T; e} :' T'\n 2. \\<And>E V T e T'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e :' T';\n        \\<not> assigned V e\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> {V:T; e} :' T'\n 3. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C :' Class C\n 4. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T; P,E,h,sh \\<turnstile> e :' T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e :' Class C\n 5. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v :' T\n 6. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var V :' T\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 :' Boolean\n 8. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 :' Integer\n 9. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h,sh \\<turnstile> e : T';\n        P,E,h,sh \\<turnstile> e :' T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e :' Void\n 10. \\<And>E e C F T D.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n         P,E,h,sh \\<turnstile> e :' Class C;\n         P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\nA total of 27 subgoals...", "apply(clarsimp simp add:fun_upd_same assigned_def simp del:fun_upd_apply)"], ["proof (prove)\ngoal (27 subgoals):\n 1. \\<And>E V T' v e' T'a Tb.\n       \\<lbrakk>P,E(V \\<mapsto> Tb),h,sh \\<turnstile> e' :' T';\n        P,E(V \\<mapsto> Tb),h,sh \\<turnstile> e' : T';\n        P \\<turnstile> T'a \\<le> Tb;\n        typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> {V:Tb; V:=Val v;; e'} :' T'\n 2. \\<And>E V T e T'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e :' T';\n        \\<not> assigned V e\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> {V:T; e} :' T'\n 3. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C :' Class C\n 4. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T; P,E,h,sh \\<turnstile> e :' T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e :' Class C\n 5. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v :' T\n 6. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var V :' T\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 :' Boolean\n 8. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 :' Integer\n 9. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h,sh \\<turnstile> e : T';\n        P,E,h,sh \\<turnstile> e :' T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e :' Void\n 10. \\<And>E e C F T D.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n         P,E,h,sh \\<turnstile> e :' Class C;\n         P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\nA total of 27 subgoals...", "apply(erule (2) WTrt'_WTrts'.intros)"], ["proof (prove)\ngoal (26 subgoals):\n 1. \\<And>E V T e T'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e :' T';\n        \\<not> assigned V e\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> {V:T; e} :' T'\n 2. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C :' Class C\n 3. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T; P,E,h,sh \\<turnstile> e :' T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e :' Class C\n 4. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v :' T\n 5. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var V :' T\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 :' Boolean\n 7. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 :' Integer\n 8. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h,sh \\<turnstile> e : T';\n        P,E,h,sh \\<turnstile> e :' T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e :' Void\n 9. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        P,E,h,sh \\<turnstile> e :' Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\n 10. \\<And>E e F D T.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n         P,E,h,sh \\<turnstile> e :' NT\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\nA total of 26 subgoals...", "apply(erule (1) WTrt'_WTrts'.intros)"], ["proof (prove)\ngoal (25 subgoals):\n 1. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C :' Class C\n 2. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T; P,E,h,sh \\<turnstile> e :' T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e :' Class C\n 3. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v :' T\n 4. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var V :' T\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 :' Boolean\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 :' Integer\n 7. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h,sh \\<turnstile> e : T';\n        P,E,h,sh \\<turnstile> e :' T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e :' Void\n 8. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        P,E,h,sh \\<turnstile> e :' Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\n 9. \\<And>E e F D T.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        P,E,h,sh \\<turnstile> e :' NT\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} :' T\n 10. \\<And>C F T D E.\n        P \\<turnstile> C has F,Static:T in D \\<Longrightarrow>\n        P,E,h,sh \\<turnstile> C\\<bullet>\\<^sub>sF{D} :' T\nA total of 25 subgoals...", "apply(blast intro:WTrt'_WTrts'.intros)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma wt'_wt: \"P,E,h,sh \\<turnstile> e :' T \\<Longrightarrow> P,E,h,sh \\<turnstile> e : T\"\nand wts'_wts: \"P,E,h,sh \\<turnstile> es [:'] Ts \\<Longrightarrow> P,E,h,sh \\<turnstile> es [:] Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e :' T \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> e : T) &&&\n    (P,E,h,sh \\<turnstile> es [:'] Ts \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> es [:] Ts)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e :' T \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> e : T) &&&\n    (P,E,h,sh \\<turnstile> es [:'] Ts \\<Longrightarrow>\n     P,E,h,sh \\<turnstile> es [:] Ts)", "apply (induct rule:WTrt'_inducts)"], ["proof (prove)\ngoal (27 subgoals):\n 1. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C : Class C\n 2. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e : T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e : Class C\n 3. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v : T\n 4. \\<And>E v T.\n       E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var v : T\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 : Boolean\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 : Integer\n 7. \\<And>E V T e T'.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V :' T;\n        P,E,h,sh \\<turnstile> Var V : T; P,E,h,sh \\<turnstile> e :' T';\n        P,E,h,sh \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e : Void\n 8. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' Class C;\n        P,E,h,sh \\<turnstile> e : Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\n 9. \\<And>E e F D T.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' NT;\n        P,E,h,sh \\<turnstile> e : NT\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>C F T D E.\n        P \\<turnstile> C has F,Static:T in D \\<Longrightarrow>\n        P,E,h,sh \\<turnstile> C\\<bullet>\\<^sub>sF{D} : T\nA total of 27 subgoals...", "prefer 19"], ["proof (prove)\ngoal (27 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> {V:T; V:=Val v;;\n                         e\\<^sub>2} : T\\<^sub>2\n 2. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C : Class C\n 3. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e : T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e : Class C\n 4. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v : T\n 5. \\<And>E v T.\n       E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var v : T\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 : Boolean\n 7. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 : Integer\n 8. \\<And>E V T e T'.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V :' T;\n        P,E,h,sh \\<turnstile> Var V : T; P,E,h,sh \\<turnstile> e :' T';\n        P,E,h,sh \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e : Void\n 9. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' Class C;\n        P,E,h,sh \\<turnstile> e : Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>E e F D T.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e :' NT;\n         P,E,h,sh \\<turnstile> e : NT\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\nA total of 27 subgoals...", "apply(rule WTrt_WTrts.intros)"], ["proof (prove)\ngoal (27 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E(V \\<mapsto> T),h,sh \\<turnstile> V:=Val v;;\n                         e\\<^sub>2 : T\\<^sub>2\n 2. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C : Class C\n 3. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e : T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e : Class C\n 4. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v : T\n 5. \\<And>E v T.\n       E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var v : T\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 : Boolean\n 7. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 : Integer\n 8. \\<And>E V T e T'.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V :' T;\n        P,E,h,sh \\<turnstile> Var V : T; P,E,h,sh \\<turnstile> e :' T';\n        P,E,h,sh \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e : Void\n 9. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' Class C;\n        P,E,h,sh \\<turnstile> e : Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>E e F D T.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e :' NT;\n         P,E,h,sh \\<turnstile> e : NT\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\nA total of 27 subgoals...", "apply(rule WTrt_WTrts.intros)"], ["proof (prove)\ngoal (28 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E(V \\<mapsto>\n                         T),h,sh \\<turnstile> V:=Val\n            v : ?T\\<^sub>129 v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E(V \\<mapsto>\n                         T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n 3. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C : Class C\n 4. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e : T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e : Class C\n 5. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v : T\n 6. \\<And>E v T.\n       E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var v : T\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 : Boolean\n 8. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 : Integer\n 9. \\<And>E V T e T'.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V :' T;\n        P,E,h,sh \\<turnstile> Var V : T; P,E,h,sh \\<turnstile> e :' T';\n        P,E,h,sh \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e : Void\n 10. \\<And>E e C F T D.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e :' Class C;\n         P,E,h,sh \\<turnstile> e : Class C;\n         P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\nA total of 28 subgoals...", "apply(rule WTrt_WTrts.intros)"], ["proof (prove)\ngoal (30 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> (E(V \\<mapsto> T)) V =\n                         \\<lfloor>?T32 v T\\<^sub>1 T E V e\\<^sub>2\n                                   T\\<^sub>2\\<rfloor>\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E(V \\<mapsto>\n                         T),h,sh \\<turnstile> Val\n         v : ?T'32 v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2\n 3. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> ?T'32 v T\\<^sub>1 T E V e\\<^sub>2\n   T\\<^sub>2 \\<le> ?T32 v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2\n 4. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E(V \\<mapsto>\n                         T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n 5. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C : Class C\n 6. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e : T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e : Class C\n 7. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v : T\n 8. \\<And>E v T.\n       E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var v : T\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 : Boolean\n 10. \\<And>E e\\<^sub>1 e\\<^sub>2.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n         P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 : Integer\nA total of 30 subgoals...", "apply simp"], ["proof (prove)\ngoal (29 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E(V \\<mapsto>\n                         T),h,sh \\<turnstile> Val\n         v : ?T'32 v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> ?T'32 v T\\<^sub>1 T E V e\\<^sub>2\n   T\\<^sub>2 \\<le> T\n 3. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E(V \\<mapsto>\n                         T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n 4. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C : Class C\n 5. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e : T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e : Class C\n 6. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v : T\n 7. \\<And>E v T.\n       E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var v : T\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 : Boolean\n 9. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 : Integer\n 10. \\<And>E V T e T'.\n        \\<lbrakk>P,E,h,sh \\<turnstile> Var V :' T;\n         P,E,h,sh \\<turnstile> Var V : T; P,E,h,sh \\<turnstile> e :' T';\n         P,E,h,sh \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e : Void\nA total of 29 subgoals...", "apply(erule (2) WTrt_WTrts.intros)"], ["proof (prove)\ngoal (26 subgoals):\n 1. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h,sh \\<turnstile> new C : Class C\n 2. \\<And>E e T C.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' T; P,E,h,sh \\<turnstile> e : T;\n        is_refT T; is_class P C\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> Cast C e : Class C\n 3. \\<And>v T E.\n       typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Val v : T\n 4. \\<And>E v T.\n       E v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h,sh \\<turnstile> Var v : T\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' T\\<^sub>2;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2 : Boolean\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 :' Integer;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2 : Integer\n 7. \\<And>E V T e T'.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V :' T;\n        P,E,h,sh \\<turnstile> Var V : T; P,E,h,sh \\<turnstile> e :' T';\n        P,E,h,sh \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> V:=e : Void\n 8. \\<And>E e C F T D.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' Class C;\n        P,E,h,sh \\<turnstile> e : Class C;\n        P \\<turnstile> C has F,NonStatic:T in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\n 9. \\<And>E e F D T.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e :' NT;\n        P,E,h,sh \\<turnstile> e : NT\\<rbrakk>\n       \\<Longrightarrow> P,E,h,sh \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>C F T D E.\n        P \\<turnstile> C has F,Static:T in D \\<Longrightarrow>\n        P,E,h,sh \\<turnstile> C\\<bullet>\\<^sub>sF{D} : T\nA total of 26 subgoals...", "apply(blast intro:WTrt_WTrts.intros)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "corollary wt'_iff_wt: \"(P,E,h,sh \\<turnstile> e :' T) = (P,E,h,sh \\<turnstile> e : T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e :' T) = (P,E,h,sh \\<turnstile> e : T)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e :' T) = (P,E,h,sh \\<turnstile> e : T)", "by(blast intro:wt_wt' wt'_wt)"], ["", "(*>*)"], ["", "corollary wts'_iff_wts: \"(P,E,h,sh \\<turnstile> es [:'] Ts) = (P,E,h,sh \\<turnstile> es [:] Ts)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> es [:'] Ts) = (P,E,h,sh \\<turnstile> es [:] Ts)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> es [:'] Ts) = (P,E,h,sh \\<turnstile> es [:] Ts)", "by(blast intro:wts_wts' wts'_wts)"], ["", "(*>*)\n\n(*<*)"], ["", "lemmas WTrt_inducts2 = WTrt'_inducts [unfolded wt'_iff_wt wts'_iff_wts,\n case_names WTrtNew WTrtCast WTrtVal WTrtVar WTrtBinOpEq WTrtBinOpAdd WTrtLAss\n WTrtFAcc WTrtFAccNT WTrtSFAcc WTrtFAss WTrtFAssNT WTrtSFAss WTrtCall WTrtCallNT WTrtSCall\n WTrtNil WTrtCons WTrtInitBlock WTrtBlock WTrtSeq WTrtCond WTrtWhile WTrtThrow WTrtTry\n WTrtInit WTrtRI, consumes 1]"], ["", "(*>*)"], ["", "theorem assumes wf: \"wwf_J_prog P\" and hconf: \"P \\<turnstile> h \\<surd>\" and shconf: \"P,h \\<turnstile>\\<^sub>s sh \\<surd>\"\nshows progress: \"P,E,h,sh \\<turnstile> e : T \\<Longrightarrow>\n (\\<And>l. \\<lbrakk> \\<D> e \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e \\<rbrakk> \\<Longrightarrow> \\<exists>e' s' b'. P \\<turnstile> \\<langle>e,(h,l,sh),b\\<rangle> \\<rightarrow> \\<langle>e',s',b'\\<rangle>)\"\nand \"P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow>\n (\\<And>l. \\<lbrakk> \\<D>s es \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es \\<rbrakk> \\<Longrightarrow> \\<exists>es' s' b'. P \\<turnstile> \\<langle>es,(h,l,sh),b\\<rangle> [\\<rightarrow>] \\<langle>es',s',b'\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e : T \\<Longrightarrow>\n     (\\<And>l.\n         \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n          P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n         \\<Longrightarrow> \\<exists>e' s' b'.\n                              P \\<turnstile> \\<langle>e,(h, l, sh),\n        b\\<rangle> \\<rightarrow>\n       \\<langle>e',s',b'\\<rangle>)) &&&\n    (P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow>\n     (\\<And>l.\n         \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n          P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n          \\<not> finals es\\<rbrakk>\n         \\<Longrightarrow> \\<exists>es' s' b'.\n                              P \\<turnstile> \\<langle>es,(h, l, sh),\n        b\\<rangle> [\\<rightarrow>]\n       \\<langle>es',s',b'\\<rangle>))", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e : T \\<Longrightarrow>\n     (\\<And>l.\n         \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n          P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n         \\<Longrightarrow> \\<exists>e' s' b'.\n                              P \\<turnstile> \\<langle>e,(h, l, sh),\n        b\\<rangle> \\<rightarrow>\n       \\<langle>e',s',b'\\<rangle>)) &&&\n    (P,E,h,sh \\<turnstile> es [:] Ts \\<Longrightarrow>\n     (\\<And>l.\n         \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n          P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n          \\<not> finals es\\<rbrakk>\n         \\<Longrightarrow> \\<exists>es' s' b'.\n                              P \\<turnstile> \\<langle>es,(h, l, sh),\n        b\\<rangle> [\\<rightarrow>]\n       \\<langle>es',s',b'\\<rangle>))", "proof (induct rule:WTrt_inducts2)"], ["proof (state)\ngoal (27 subgoals):\n 1. \\<And>C E l.\n       \\<lbrakk>is_class P C; \\<D> (new C) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>;\n        \\<not> final (new C)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>new C,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C F T D E l.\n        \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n         \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 27 subgoals...", "case (WTrtNew C)"], ["proof (state)\nthis:\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n\ngoal (27 subgoals):\n 1. \\<And>C E l.\n       \\<lbrakk>is_class P C; \\<D> (new C) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>;\n        \\<not> final (new C)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>new C,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C F T D E l.\n        \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n         \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 27 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (cases b)"], ["proof (state)\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case True"], ["proof (state)\nthis:\n  b\n\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  b", "show ?thesis"], ["proof (prove)\nusing this:\n  b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>b; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>b; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "assume \"\\<exists>a. h a = None\""], ["proof (state)\nthis:\n  \\<exists>a. h a = None\n\ngoal (2 subgoals):\n 1. \\<lbrakk>b; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>b; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with assms WTrtNew True"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  b\n  \\<exists>a. h a = None", "show ?thesis"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  b\n  \\<exists>a. h a = None\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by (fastforce del:exE intro!:RedNew simp add:new_Addr_def\n                     elim!:wf_Fields_Ex[THEN exE])"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b; \\<nexists>a. h a = None\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>b; \\<nexists>a. h a = None\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "assume \"\\<not>(\\<exists>a. h a = None)\""], ["proof (state)\nthis:\n  \\<nexists>a. h a = None\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b; \\<nexists>a. h a = None\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with assms WTrtNew True"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  b\n  \\<nexists>a. h a = None", "show ?thesis"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  b\n  \\<nexists>a. h a = None\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedNewFail simp:new_Addr_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case False"], ["proof (state)\nthis:\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> b", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> b; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>\\<not> b; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "assume \"\\<exists>sfs. sh C = Some (sfs, Done)\""], ["proof (state)\nthis:\n  \\<exists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> b; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>\\<not> b; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with assms WTrtNew False"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  \\<not> b\n  \\<exists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  \\<not> b\n  \\<exists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:NewInitDoneRed simp:new_Addr_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> b;\n     \\<nexists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> b;\n     \\<nexists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "assume \"\\<nexists>sfs. sh C = Some (sfs, Done)\""], ["proof (state)\nthis:\n  \\<nexists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> b;\n     \\<nexists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>new C,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with assms WTrtNew False"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  \\<not> b\n  \\<nexists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  is_class P C\n  \\<D> (new C) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (new C,b) \\<surd>\n  \\<not> final (new C)\n  \\<not> b\n  \\<nexists>sfs. sh C = \\<lfloor>(sfs, Done)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:NewInitRed simp:new_Addr_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>new C,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (26 subgoals):\n 1. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C has F,NonStatic:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 26 subgoals...", "next"], ["proof (state)\ngoal (26 subgoals):\n 1. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C has F,NonStatic:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 26 subgoals...", "case (WTrtCast E e T C)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : T\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  is_refT T\n  is_class P C\n  \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>\n  \\<not> final (Cast C e)\n\ngoal (26 subgoals):\n 1. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C has F,NonStatic:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 26 subgoals...", "have wte: \"P,E,h,sh \\<turnstile> e : T\" and ref: \"is_refT T\"\n   and IH: \"\\<And>l. \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n                \\<Longrightarrow> \\<exists>e' s' b'. P \\<turnstile> \\<langle>e,(h,l,sh),b\\<rangle> \\<rightarrow> \\<langle>e',s',b'\\<rangle>\"\n   and D: \"\\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>\"\n   and castconf: \"P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e : T &&& is_refT T) &&&\n    (\\<And>l.\n        \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>) &&&\n    \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor> &&&\n    P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>", "by fact+"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : T\n  is_refT T\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>\n\ngoal (26 subgoals):\n 1. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C has F,NonStatic:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 26 subgoals...", "from D"], ["proof (chain)\npicking this:\n  \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>", "have De: \"\\<D> e \\<lfloor>dom l\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> e \\<lfloor>dom l\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> e \\<lfloor>dom l\\<rfloor>\n\ngoal (26 subgoals):\n 1. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C has F,NonStatic:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 26 subgoals...", "have bconf: \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using castconf bconf_Cast"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>\n  (?P,?sh \\<turnstile>\\<^sub>b (Cast ?C ?e,?b) \\<surd>) =\n  (?P,?sh \\<turnstile>\\<^sub>b (?e,?b) \\<surd>)\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by fast"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (26 subgoals):\n 1. \\<And>E e T C l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T; is_class P C; \\<D> (Cast C e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Cast C e,b) \\<surd>;\n        \\<not> final (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C has F,NonStatic:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 26 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with wte ref"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : T\n  is_refT T\n  final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : T\n  is_refT T\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalRefE)"], ["proof (state)\ngoal (3 subgoals):\n 1. e = null \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a Ca.\n       \\<lbrakk>e = addr a; T = Class Ca\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e = null\""], ["proof (state)\nthis:\n  e = null\n\ngoal (3 subgoals):\n 1. e = null \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a Ca.\n       \\<lbrakk>e = addr a; T = Class Ca\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  e = null\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedCastNull)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>a Ca.\n       \\<lbrakk>e = addr a; T = Class Ca\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a Ca.\n       \\<lbrakk>e = addr a; T = Class Ca\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix D a"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a Ca.\n       \\<lbrakk>e = addr a; T = Class Ca\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume A: \"T = Class D\" \"e = addr a\""], ["proof (state)\nthis:\n  T = Class D\n  e = addr a\n\ngoal (2 subgoals):\n 1. \\<And>a Ca.\n       \\<lbrakk>e = addr a; T = Class Ca\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"P \\<turnstile> D \\<preceq>\\<^sup>* C\""], ["proof (state)\nthis:\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using A wte"], ["proof (prove)\nusing this:\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n  T = Class D\n  e = addr a\n  P,E,h,sh \\<turnstile> e : T\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedCast)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. (D, C) \\<notin> (subcls1 P)\\<^sup>* \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (D, C) \\<notin> (subcls1 P)\\<^sup>* \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"\\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C\""], ["proof (state)\nthis:\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. (D, C) \\<notin> (subcls1 P)\\<^sup>* \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using A wte"], ["proof (prove)\nusing this:\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n  T = Class D\n  e = addr a\n  P,E,h,sh \\<turnstile> e : T\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce elim!:RedCastFail)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>Cast C e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(blast intro!:red_reds.CastThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from IH[OF De bconf nf]"], ["proof (chain)\npicking this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by (blast intro:CastRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Cast C e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (25 subgoals):\n 1. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 25 subgoals...", "next"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 25 subgoals...", "case WTrtVal"], ["proof (state)\nthis:\n  typeof\\<^bsub>h\\<^esub> v_ = \\<lfloor>T_\\<rfloor>\n  \\<D> (Val v_) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (Val v_,b) \\<surd>\n  \\<not> final (Val v_)\n\ngoal (25 subgoals):\n 1. \\<And>v T E l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Val v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Val v,b) \\<surd>;\n        \\<not> final (Val v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Val v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 25 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>h\\<^esub> v_ = \\<lfloor>T_\\<rfloor>\n  \\<D> (Val v_) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (Val v_,b) \\<surd>\n  \\<not> final (Val v_)\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Val v_,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(simp add:final_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Val v_,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (24 subgoals):\n 1. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 24 subgoals...", "case WTrtVar"], ["proof (state)\nthis:\n  E_ v_ = \\<lfloor>T_\\<rfloor>\n  \\<D> (Var v_) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (Var v_,b) \\<surd>\n  \\<not> final (Var v_)\n\ngoal (24 subgoals):\n 1. \\<And>E v T l.\n       \\<lbrakk>E v = \\<lfloor>T\\<rfloor>;\n        \\<D> (Var v) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (Var v,b) \\<surd>;\n        \\<not> final (Var v)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>Var v,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>2 \\<le> T;\n         \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 24 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E_ v_ = \\<lfloor>T_\\<rfloor>\n  \\<D> (Var v_) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (Var v_,b) \\<surd>\n  \\<not> final (Var v_)\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>Var v_,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedVar simp:hyper_isin_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>Var v_,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (23 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e C M Ts T pns body D es Ts' l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                             body) in D;\n         P,E,h,sh \\<turnstile> es [:] Ts';\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         P \\<turnstile> Ts' [\\<le>] Ts;\n         \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n         \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<bullet>M(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e C M Ts T pns body D es Ts' l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                             body) in D;\n         P,E,h,sh \\<turnstile> es [:] Ts';\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         P \\<turnstile> Ts' [\\<le>] Ts;\n         \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n         \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<bullet>M(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 23 subgoals...", "case (WTrtBinOpEq E e1 T1 e2 T2)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Eq\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Eq\\<guillemotright> e2)\n\ngoal (23 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Eq\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e C M Ts T pns body D es Ts' l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                             body) in D;\n         P,E,h,sh \\<turnstile> es [:] Ts';\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         P \\<turnstile> Ts' [\\<le>] Ts;\n         \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n         \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<bullet>M(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 23 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e1\""], ["proof (state)\nthis:\n  final e1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e1\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v1"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume eV[simp]: \"e1 = Val v1\""], ["proof (state)\nthis:\n  e1 = Val v1\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e2\""], ["proof (state)\nthis:\n  final e2\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e2 = Val v2\""], ["proof (state)\nthis:\n  e2 = Val v2\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e2 = Val v2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using WTrtBinOpEq"], ["proof (prove)\nusing this:\n  e2 = Val v2\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Eq\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Eq\\<guillemotright> e2)\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedBinOp)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e2 = Throw a\""], ["proof (state)\nthis:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using eV"], ["proof (prove)\nusing this:\n  e2 = Throw a\n  e1 = Val v1\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(blast intro:red_reds.BinOpThrow2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e2\""], ["proof (state)\nthis:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e2", "have \"P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\""], ["proof (prove)\nusing this:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "using WTrtBinOpEq.prems(2)"], ["proof (prove)\nusing this:\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "by(simp add:bconf_BinOp)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtBinOpEq nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Eq\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Eq\\<guillemotright> e2)\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Eq\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Eq\\<guillemotright> e2)\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro!:BinOpRed2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e1 = Throw a\""], ["proof (state)\nthis:\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by (fast intro:red_reds.BinOpThrow1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e1\""], ["proof (state)\nthis:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e1", "have e1: \"val_of e1 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. val_of e1 = None", "proof(cases e1)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e1; e1 = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e1; e1 = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e1; e1 = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e1;\n        e1 = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e1; e1 = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e1; e1 = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e1; e1 = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e1; e1 = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e1; e1 = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e1;\n         e1 = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e1 = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e1 = None", "have \"P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "using WTrtBinOpEq.prems(2)"], ["proof (prove)\nusing this:\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "by(simp add:bconf_BinOp)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtBinOpEq nf e1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Eq\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Eq\\<guillemotright> e2)\n  \\<not> final e1\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Eq\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Eq\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Eq\\<guillemotright> e2)\n  \\<not> final e1\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro:BinOpRed1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Eq\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (22 subgoals):\n 1. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e es Ts M T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> es [:] Ts;\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n         \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<bullet>M(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e es Ts M T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> es [:] Ts;\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n         \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<bullet>M(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 22 subgoals...", "case (WTrtBinOpAdd E e1 e2)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e1 : Integer\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : Integer\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Add\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Add\\<guillemotright> e2)\n\ngoal (22 subgoals):\n 1. \\<And>E e\\<^sub>1 e\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : Integer;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\n         \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,b) \\<surd>;\n        \\<not> final\n                (e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>Add\\<guillemotright> e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e es Ts M T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> es [:] Ts;\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n         \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<bullet>M(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 22 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e1\""], ["proof (state)\nthis:\n  final e1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e1\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v1"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume eV[simp]: \"e1 = Val v1\""], ["proof (state)\nthis:\n  e1 = Val v1\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e2\""], ["proof (state)\nthis:\n  final e2\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume eV2:\"e2 = Val v2\""], ["proof (state)\nthis:\n  e2 = Val v2\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e2 = Val v2", "obtain i1 i2 where \"v1 = Intg i1 \\<and> v2 = Intg i2\""], ["proof (prove)\nusing this:\n  e2 = Val v2\n\ngoal (1 subgoal):\n 1. (\\<And>i1 i2.\n        v1 = Intg i1 \\<and> v2 = Intg i2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using WTrtBinOpAdd"], ["proof (prove)\nusing this:\n  e2 = Val v2\n  P,E,h,sh \\<turnstile> e1 : Integer\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : Integer\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Add\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Add\\<guillemotright> e2)\n\ngoal (1 subgoal):\n 1. (\\<And>i1 i2.\n        v1 = Intg i1 \\<and> v2 = Intg i2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by clarsimp"], ["proof (state)\nthis:\n  v1 = Intg i1 \\<and> v2 = Intg i2\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  v1 = Intg i1 \\<and> v2 = Intg i2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using WTrtBinOpAdd eV eV2"], ["proof (prove)\nusing this:\n  v1 = Intg i1 \\<and> v2 = Intg i2\n  P,E,h,sh \\<turnstile> e1 : Integer\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : Integer\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Add\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Add\\<guillemotright> e2)\n  e1 = Val v1\n  e2 = Val v2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedBinOp)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e2 = Throw a\""], ["proof (state)\nthis:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using eV"], ["proof (prove)\nusing this:\n  e2 = Throw a\n  e1 = Val v1\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(blast intro:red_reds.BinOpThrow2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf:\"\\<not> final e2\""], ["proof (state)\nthis:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e2", "have \"P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\""], ["proof (prove)\nusing this:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "using WTrtBinOpAdd.prems(2)"], ["proof (prove)\nusing this:\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "by(simp add:bconf_BinOp)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtBinOpAdd nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : Integer\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : Integer\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Add\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Add\\<guillemotright> e2)\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : Integer\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : Integer\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Add\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Add\\<guillemotright> e2)\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro!:BinOpRed2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e1 = Throw a\""], ["proof (state)\nthis:\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:red_reds.BinOpThrow1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e1\""], ["proof (state)\nthis:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e1", "have e1: \"val_of e1 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. val_of e1 = None", "proof(cases e1)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e1; e1 = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e1; e1 = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e1; e1 = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e1;\n        e1 = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e1; e1 = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e1; e1 = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e1; e1 = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e1; e1 = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e1; e1 = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e1;\n         e1 = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e1 = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e1 = None", "have \"P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "using WTrtBinOpAdd.prems(2)"], ["proof (prove)\nusing this:\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "by(simp add:bconf_BinOp)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtBinOpAdd nf e1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : Integer\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : Integer\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Add\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Add\\<guillemotright> e2)\n  \\<not> final e1\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : Integer\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : Integer\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1 \\<guillemotleft>Add\\<guillemotright> e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1 \\<guillemotleft>Add\\<guillemotright> e2,b) \\<surd>\n  \\<not> final (e1 \\<guillemotleft>Add\\<guillemotright> e2)\n  \\<not> final e1\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro:BinOpRed1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1 \\<guillemotleft>Add\\<guillemotright> e2,\n                     (h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (21 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n        \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                  body) in D;\n         P,E,h,sh \\<turnstile> es [:] Ts';\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         P \\<turnstile> Ts' [\\<le>] Ts;\n         M = clinit \\<longrightarrow>\n         sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n         \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n        \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                  body) in D;\n         P,E,h,sh \\<turnstile> es [:] Ts';\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         P \\<turnstile> Ts' [\\<le>] Ts;\n         M = clinit \\<longrightarrow>\n         sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n         \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 21 subgoals...", "case (WTrtLAss E V T e T')"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)\n\ngoal (21 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n        \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                  body) in D;\n         P,E,h,sh \\<turnstile> es [:] Ts';\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         P \\<turnstile> Ts' [\\<le>] Ts;\n         M = clinit \\<longrightarrow>\n         sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n         \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 21 subgoals...", "then"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)", "have bconf: \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using bconf_LAss"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)\n  (?P,?sh \\<turnstile>\\<^sub>b (?V:=?e,?b) \\<surd>) =\n  (?P,?sh \\<turnstile>\\<^sub>b (?e,?b) \\<surd>)\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by fast"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (21 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> Var V : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> (Var V) \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n            \\<not> final (Var V)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>Var V,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T' \\<le> T; \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>;\n        \\<not> final (V:=e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>V:=e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n        \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                  body) in D;\n         P,E,h,sh \\<turnstile> es [:] Ts';\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         P \\<turnstile> Ts' [\\<le>] Ts;\n         M = clinit \\<longrightarrow>\n         sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n         \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n         \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 21 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtLAss"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)\n  final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce simp:final_def intro: red_reds.RedLAss red_reds.LAssThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtLAss bconf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n  \\<not> final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> Var V : T\n  \\<lbrakk>\\<D> (Var V) \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (Var V,b) \\<surd>;\n   \\<not> final (Var V)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>Var V,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T' \\<le> T\n  \\<D> (V:=e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (V:=e,b) \\<surd>\n  \\<not> final (V:=e)\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro:LAssRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>V:=e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (20 subgoals):\n 1. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E l.\n        \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>[],(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E l.\n        \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>[],(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 20 subgoals...", "case (WTrtFAcc E e C F T D)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n\ngoal (20 subgoals):\n 1. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E l.\n        \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>[],(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 20 subgoals...", "then"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})", "have bconf: \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using bconf_FAcc"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  (?P,?sh \\<turnstile>\\<^sub>b (?e\\<bullet>?F{?D},?b) \\<surd>) =\n  (?P,?sh \\<turnstile>\\<^sub>b (?e,?b) \\<surd>)\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by fast"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (20 subgoals):\n 1. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E l.\n        \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>[],(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 20 subgoals...", "have wte: \"P,E,h,sh \\<turnstile> e : Class C\"\n   and field: \"P \\<turnstile> C has F,NonStatic:T in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,h,sh \\<turnstile> e : Class C &&&\n    P \\<turnstile> C has F,NonStatic:T in D", "by fact+"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : Class C\n  P \\<turnstile> C has F,NonStatic:T in D\n\ngoal (20 subgoals):\n 1. \\<And>E e C F T D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E l.\n        \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>[],(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 20 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with wte"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Class C\n  final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule final_addrE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume e: \"e = addr a\""], ["proof (state)\nthis:\n  e = addr a\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with wte"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Class C\n  e = addr a", "obtain fs where hp: \"h a = Some(C,fs)\""], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  e = addr a\n\ngoal (1 subgoal):\n 1. (\\<And>fs.\n        h a = \\<lfloor>(C, fs)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  h a = \\<lfloor>(C, fs)\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with hconf"], ["proof (chain)\npicking this:\n  P \\<turnstile> h \\<surd>\n  h a = \\<lfloor>(C, fs)\\<rfloor>", "have \"P,h \\<turnstile> (C,fs) \\<surd>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> h \\<surd>\n  h a = \\<lfloor>(C, fs)\\<rfloor>\n\ngoal (1 subgoal):\n 1. P,h \\<turnstile> (C, fs) \\<surd>", "using hconf_def"], ["proof (prove)\nusing this:\n  P \\<turnstile> h \\<surd>\n  h a = \\<lfloor>(C, fs)\\<rfloor>\n  ?P \\<turnstile> ?h \\<surd> \\<equiv>\n  (\\<forall>a obj.\n      ?h a = \\<lfloor>obj\\<rfloor> \\<longrightarrow>\n      ?P,?h \\<turnstile> obj \\<surd>) \\<and>\n  preallocated ?h\n\ngoal (1 subgoal):\n 1. P,h \\<turnstile> (C, fs) \\<surd>", "by fastforce"], ["proof (state)\nthis:\n  P,h \\<turnstile> (C, fs) \\<surd>\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P,h \\<turnstile> (C, fs) \\<surd>", "obtain v where \"fs(F,D) = Some v\""], ["proof (prove)\nusing this:\n  P,h \\<turnstile> (C, fs) \\<surd>\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        fs (F, D) = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using field"], ["proof (prove)\nusing this:\n  P,h \\<turnstile> (C, fs) \\<surd>\n  P \\<turnstile> C has F,NonStatic:T in D\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        fs (F, D) = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(fastforce dest:has_fields_fun simp:oconf_def has_field_def)"], ["proof (state)\nthis:\n  fs (F, D) = \\<lfloor>v\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with hp e"], ["proof (chain)\npicking this:\n  h a = \\<lfloor>(C, fs)\\<rfloor>\n  e = addr a\n  fs (F, D) = \\<lfloor>v\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  h a = \\<lfloor>(C, fs)\\<rfloor>\n  e = addr a\n  fs (F, D) = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by (meson field red_reds.RedFAcc)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:red_reds.FAccThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtFAcc bconf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n  \\<not> final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!:FAccRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (19 subgoals):\n 1. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 10. \\<And>E e T es Ts l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> es [:] Ts;\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n         \\<not> finals (e # es)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>e # es,(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 10. \\<And>E e T es Ts l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> es [:] Ts;\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n         \\<not> finals (e # es)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>e # es,(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 19 subgoals...", "case (WTrtFAccNT E e F D T)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n\ngoal (19 subgoals):\n 1. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 10. \\<And>E e T es Ts l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> es [:] Ts;\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n         \\<not> finals (e # es)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>e # es,(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 19 subgoals...", "then"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})", "have bconf: \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using bconf_FAcc"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  (?P,?sh \\<turnstile>\\<^sub>b (?e\\<bullet>?F{?D},?b) \\<surd>) =\n  (?P,?sh \\<turnstile>\\<^sub>b (?e,?b) \\<surd>)\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by fast"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (19 subgoals):\n 1. \\<And>E e F D T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>;\n        \\<not> final (e\\<bullet>F{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>F{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 10. \\<And>E e T es Ts l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> es [:] Ts;\n         \\<And>l.\n            \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n             \\<not> finals es\\<rbrakk>\n            \\<Longrightarrow> \\<exists>es' s' b'.\n                                 P \\<turnstile> \\<langle>es,(h, l, sh),\n           b\\<rangle> [\\<rightarrow>]\n          \\<langle>es',s',b'\\<rangle>;\n         \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n         \\<not> finals (e # es)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>e # es,(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>\nA total of 19 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\"  \\<comment> \\<open>@{term e} is @{term null} or @{term throw}\\<close>"], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtFAccNT"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce simp:final_def intro: red_reds.RedFAccNull red_reds.FAccThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"\\<not> final e\" \\<comment> \\<open>@{term e} reduces by IH\\<close>"], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtFAccNT bconf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n  \\<not> final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<bullet>F{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>F{D},b) \\<surd>\n  \\<not> final (e\\<bullet>F{D})\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro:FAccRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>F{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (18 subgoals):\n 1. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 9. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 10. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T;\n         P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n         \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n       e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 18 subgoals...", "next"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 9. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 10. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T;\n         P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n         \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n       e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 18 subgoals...", "case (WTrtSFAcc C F T D E)"], ["proof (state)\nthis:\n  P \\<turnstile> C has F,Static:T in D\n  \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D})\n\ngoal (18 subgoals):\n 1. \\<And>C F T D E l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D})\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 9. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 10. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T;\n         P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n         \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n       e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 18 subgoals...", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> C has F,Static:T in D\n  \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D})", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> C has F,Static:T in D\n  \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D})\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (cases b)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "case True"], ["proof (state)\nthis:\n  b\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  b", "obtain sfs i where shD: \"sh D = \\<lfloor>(sfs,i)\\<rfloor>\""], ["proof (prove)\nusing this:\n  b\n\ngoal (1 subgoal):\n 1. (\\<And>sfs i.\n        sh D = \\<lfloor>(sfs, i)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bconf_def[of P sh \"C\\<bullet>\\<^sub>sF{D}\" b] WTrtSFAcc.prems(2) initPD_def"], ["proof (prove)\nusing this:\n  b\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd> \\<equiv>\n  b \\<longrightarrow>\n  (\\<exists>Ca.\n      icheck P Ca (ss_exp (C\\<bullet>\\<^sub>sF{D})) \\<and> initPD sh Ca)\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>\n  initPD ?sh ?C \\<equiv>\n  \\<exists>sfs i.\n     ?sh ?C = \\<lfloor>(sfs, i)\\<rfloor> \\<and>\n     (i = Done \\<or> i = Processing)\n\ngoal (1 subgoal):\n 1. (\\<And>sfs i.\n        sh D = \\<lfloor>(sfs, i)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with shconf"], ["proof (chain)\npicking this:\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>", "have \"P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\""], ["proof (prove)\nusing this:\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n\ngoal (1 subgoal):\n 1. P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>", "using shconf_def[of P h sh]"], ["proof (prove)\nusing this:\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd> \\<equiv>\n  \\<forall>C sfs i.\n     sh C = \\<lfloor>(sfs, i)\\<rfloor> \\<longrightarrow>\n     P,h,C \\<turnstile>\\<^sub>s sfs \\<surd>\n\ngoal (1 subgoal):\n 1. P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>", "by auto"], ["proof (state)\nthis:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>", "obtain v where sfsF: \"sfs F = Some v\""], ["proof (prove)\nusing this:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        sfs F = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using WTrtSFAcc.hyps"], ["proof (prove)\nusing this:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\n  P \\<turnstile> C has F,Static:T in D\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        sfs F = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(unfold soconf_def) (auto dest:has_field_idemp)"], ["proof (state)\nthis:\n  sfs F = \\<lfloor>v\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  sfs F = \\<lfloor>v\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  sfs F = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using WTrtSFAcc.hyps shD sfsF True"], ["proof (prove)\nusing this:\n  sfs F = \\<lfloor>v\\<rfloor>\n  P \\<turnstile> C has F,Static:T in D\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n  sfs F = \\<lfloor>v\\<rfloor>\n  b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce elim:RedSFAcc)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "case False"], ["proof (state)\nthis:\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n     \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>;\n     P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>;\n     \\<not> final (C\\<bullet>\\<^sub>sF{D}); \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with assms WTrtSFAcc"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  P \\<turnstile> C has F,Static:T in D\n  \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D})\n  \\<not> b", "show ?thesis"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  P \\<turnstile> C has F,Static:T in D\n  \\<D> (C\\<bullet>\\<^sub>sF{D}) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D},b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D})\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(metis (full_types) SFAccInitDoneRed SFAccInitRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (17 subgoals):\n 1. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 8. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 9. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E V T e T' l.\n        \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n         \\<not> final {V:T; e}\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 8. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 9. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E V T e T' l.\n        \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n         \\<not> final {V:T; e}\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 17 subgoals...", "case (WTrtFAss E e1 C F T D e2 T2)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T2 \\<le> T\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1\\<bullet>F{D} := e2,b) \\<surd>\n  \\<not> final (e1\\<bullet>F{D} := e2)\n\ngoal (17 subgoals):\n 1. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 8. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 9. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E V T e T' l.\n        \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n         \\<not> final {V:T; e}\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 17 subgoals...", "have wte1: \"P,E,h,sh \\<turnstile> e1 : Class C\" and field: \"P \\<turnstile> C has F,NonStatic:T in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,h,sh \\<turnstile> e1 : Class C &&&\n    P \\<turnstile> C has F,NonStatic:T in D", "by fact+"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  P \\<turnstile> C has F,NonStatic:T in D\n\ngoal (17 subgoals):\n 1. \\<And>E e\\<^sub>1 C F T D e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C has F,NonStatic:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 8. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 9. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E V T e T' l.\n        \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n         \\<not> final {V:T; e}\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 17 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e1\""], ["proof (state)\nthis:\n  final e1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with wte1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  final e1", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  final e1\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule final_addrE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       e1 = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       e1 = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume e1: \"e1 = addr a\""], ["proof (state)\nthis:\n  e1 = addr a\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       e1 = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e2\""], ["proof (state)\nthis:\n  final e2\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e2 = Val v\""], ["proof (state)\nthis:\n  e2 = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e2 = Val v\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using e1 wte1"], ["proof (prove)\nusing this:\n  e2 = Val v\n  e1 = addr a\n  P,E,h,sh \\<turnstile> e1 : Class C\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro: RedFAss[OF field])"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e2 = Throw a\""], ["proof (state)\nthis:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using e1"], ["proof (prove)\nusing this:\n  e2 = Throw a\n  e1 = addr a__\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:red_reds.FAssThrow2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e2\""], ["proof (state)\nthis:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e2", "have \"P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\""], ["proof (prove)\nusing this:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "using WTrtFAss.prems(2) e1"], ["proof (prove)\nusing this:\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e1\\<bullet>F{D} := e2,b) \\<surd>\n  e1 = addr a\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "by(simp add:bconf_FAss)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtFAss e1 nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T2 \\<le> T\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1\\<bullet>F{D} := e2,b) \\<surd>\n  \\<not> final (e1\\<bullet>F{D} := e2)\n  e1 = addr a\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T2 \\<le> T\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1\\<bullet>F{D} := e2,b) \\<surd>\n  \\<not> final (e1\\<bullet>F{D} := e2)\n  e1 = addr a\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro!:FAssRed2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e1 = Throw a\""], ["proof (state)\nthis:\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:red_reds.FAssThrow1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e1\""], ["proof (state)\nthis:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e1", "have e1: \"val_of e1 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. val_of e1 = None", "proof(cases e1)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e1; e1 = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e1; e1 = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e1; e1 = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e1;\n        e1 = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e1; e1 = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e1; e1 = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e1; e1 = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e1; e1 = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e1; e1 = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e1;\n         e1 = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e1 = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e1 = None", "have \"P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "using WTrtFAss.prems(2)"], ["proof (prove)\nusing this:\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1\\<bullet>F{D} := e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "by(simp add:bconf_FAss)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtFAss nf e1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T2 \\<le> T\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1\\<bullet>F{D} := e2,b) \\<surd>\n  \\<not> final (e1\\<bullet>F{D} := e2)\n  \\<not> final e1\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : Class C\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C has F,NonStatic:T in D\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T2 \\<le> T\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1\\<bullet>F{D} := e2,b) \\<surd>\n  \\<not> final (e1\\<bullet>F{D} := e2)\n  \\<not> final e1\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (blast intro!:FAssRed1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1\\<bullet>F{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (16 subgoals):\n 1. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 7. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 8. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 7. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 8. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 16 subgoals...", "case (WTrtFAssNT E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n\ngoal (16 subgoals):\n 1. \\<And>E e\\<^sub>1 e\\<^sub>2 T\\<^sub>2 F D l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 7. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 8. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n         \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 16 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume e1: \"final e\\<^sub>1\"  \\<comment> \\<open>@{term e\\<^sub>1} is @{term null} or @{term throw}\\<close>"], ["proof (state)\nthis:\n  final e\\<^sub>1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\\<^sub>2\"  \\<comment> \\<open>@{term e\\<^sub>2} is @{term Val} or @{term throw}\\<close>"], ["proof (state)\nthis:\n  final e\\<^sub>2\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtFAssNT e1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  final e\\<^sub>1\n  final e\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  final e\\<^sub>1\n  final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce simp:final_def\n                    intro: red_reds.RedFAssNull red_reds.FAssThrow1 red_reds.FAssThrow2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e\\<^sub>2\" \\<comment> \\<open>@{term e\\<^sub>2} reduces by IH\\<close>"], ["proof (state)\nthis:\n  \\<not> final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE[OF e1])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e\\<^sub>1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e\\<^sub>1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume ev: \"e\\<^sub>1 = Val v\""], ["proof (state)\nthis:\n  e\\<^sub>1 = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e\\<^sub>1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e\\<^sub>1 = Val v", "have \"P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>\""], ["proof (prove)\nusing this:\n  e\\<^sub>1 = Val v\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>", "using WTrtFAssNT.prems(2) nf"], ["proof (prove)\nusing this:\n  e\\<^sub>1 = Val v\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>", "by(simp add:bconf_FAss)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e\\<^sub>1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with WTrtFAssNT ev nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  e\\<^sub>1 = Val v\n  \\<not> final e\\<^sub>2\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  e\\<^sub>1 = Val v\n  \\<not> final e\\<^sub>2\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by auto (meson red_reds.FAssRed2)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume et: \"e\\<^sub>1 = Throw a\""], ["proof (state)\nthis:\n  e\\<^sub>1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e\\<^sub>1 = Throw a", "have \"P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>\""], ["proof (prove)\nusing this:\n  e\\<^sub>1 = Throw a\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>", "using WTrtFAssNT.prems(2) nf"], ["proof (prove)\nusing this:\n  e\\<^sub>1 = Throw a\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>", "by(simp add:bconf_FAss)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with WTrtFAssNT et nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  e\\<^sub>1 = Throw a\n  \\<not> final e\\<^sub>2\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  e\\<^sub>1 = Throw a\n  \\<not> final e\\<^sub>2\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro: red_reds.FAssThrow1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e\\<^sub>1\" \\<comment> \\<open>@{term e\\<^sub>1} reduces by IH\\<close>"], ["proof (state)\nthis:\n  \\<not> final e\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e\\<^sub>1", "have e1: \"val_of e\\<^sub>1 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\\<^sub>1\n\ngoal (1 subgoal):\n 1. val_of e\\<^sub>1 = None", "proof(cases e\\<^sub>1)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e\\<^sub>1; e\\<^sub>1 = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e\\<^sub>1; e\\<^sub>1 = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e\\<^sub>1; e\\<^sub>1 = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e\\<^sub>1;\n        e\\<^sub>1 = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e\\<^sub>1; e\\<^sub>1 = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e\\<^sub>1; e\\<^sub>1 = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e\\<^sub>1;\n        e\\<^sub>1 = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e\\<^sub>1;\n        e\\<^sub>1 = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e\\<^sub>1;\n        e\\<^sub>1 = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>1 = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e\\<^sub>1;\n         e\\<^sub>1 = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e\\<^sub>1 = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e\\<^sub>1 = None", "have \"P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e\\<^sub>1 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>", "using WTrtFAssNT.prems(2)"], ["proof (prove)\nusing this:\n  val_of e\\<^sub>1 = None\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>", "by(simp add:bconf_FAss)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtFAssNT nf e1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  \\<not> final e\\<^sub>1\n  val_of e\\<^sub>1 = None\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : NT\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,b) \\<surd>\n  \\<not> final (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2)\n  \\<not> final e\\<^sub>1\n  val_of e\\<^sub>1 = None\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n                       (h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (blast intro!:FAssRed1)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (15 subgoals):\n 1. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 7. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n         T = T\\<^sub>2;\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n         T = T\\<^sub>1;\n         \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n         else e\\<^sub>2,b) \\<surd>;\n         \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n       else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 7. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n         T = T\\<^sub>2;\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n         T = T\\<^sub>1;\n         \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n         else e\\<^sub>2,b) \\<surd>;\n         \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n       else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 15 subgoals...", "case (WTrtSFAss C F T D E e2 T\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> C has F,Static:T in D\n  P,E,h,sh \\<turnstile> e2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\n  \\<D> (C\\<bullet>\\<^sub>sF{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D} := e2)\n\ngoal (15 subgoals):\n 1. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 7. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n         T = T\\<^sub>2;\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n         T = T\\<^sub>1;\n         \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n         else e\\<^sub>2,b) \\<surd>;\n         \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n       else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 15 subgoals...", "have field: \"P \\<turnstile> C has F,Static:T in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> C has F,Static:T in D", "by fact+"], ["proof (state)\nthis:\n  P \\<turnstile> C has F,Static:T in D\n\ngoal (15 subgoals):\n 1. \\<And>C F T D E e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P \\<turnstile> C has F,Static:T in D;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>2 \\<le> T;\n        \\<D> (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 7. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n         T = T\\<^sub>2;\n         P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n         T = T\\<^sub>1;\n         \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n         else e\\<^sub>2,b) \\<surd>;\n         \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n       else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 15 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e2\""], ["proof (state)\nthis:\n  final e2\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume ev: \"e2 = Val v\""], ["proof (state)\nthis:\n  e2 = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e2 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e2 = Val v", "show ?case"], ["proof (prove)\nusing this:\n  e2 = Val v\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (cases b)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>e2 = Val v; b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>e2 = Val v; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "case True"], ["proof (state)\nthis:\n  b\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e2 = Val v; b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>e2 = Val v; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  b", "obtain sfs i where shD: \"sh D = \\<lfloor>(sfs,i)\\<rfloor>\""], ["proof (prove)\nusing this:\n  b\n\ngoal (1 subgoal):\n 1. (\\<And>sfs i.\n        sh D = \\<lfloor>(sfs, i)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bconf_def[of P _ \"C\\<bullet>\\<^sub>sF{D} := e2\"] WTrtSFAss.prems(2) initPD_def ev"], ["proof (prove)\nusing this:\n  b\n  P,?sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,?b) \\<surd> \\<equiv>\n  ?b \\<longrightarrow>\n  (\\<exists>Ca.\n      icheck P Ca (ss_exp (C\\<bullet>\\<^sub>sF{D} := e2)) \\<and>\n      initPD ?sh Ca)\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,b) \\<surd>\n  initPD ?sh ?C \\<equiv>\n  \\<exists>sfs i.\n     ?sh ?C = \\<lfloor>(sfs, i)\\<rfloor> \\<and>\n     (i = Done \\<or> i = Processing)\n  e2 = Val v\n\ngoal (1 subgoal):\n 1. (\\<And>sfs i.\n        sh D = \\<lfloor>(sfs, i)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e2 = Val v; b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>e2 = Val v; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with shconf"], ["proof (chain)\npicking this:\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>", "have \"P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\""], ["proof (prove)\nusing this:\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n\ngoal (1 subgoal):\n 1. P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>", "using shconf_def[of P]"], ["proof (prove)\nusing this:\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n  P,?h \\<turnstile>\\<^sub>s ?sh \\<surd> \\<equiv>\n  \\<forall>C sfs i.\n     ?sh C = \\<lfloor>(sfs, i)\\<rfloor> \\<longrightarrow>\n     P,?h,C \\<turnstile>\\<^sub>s sfs \\<surd>\n\ngoal (1 subgoal):\n 1. P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>", "by auto"], ["proof (state)\nthis:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e2 = Val v; b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>e2 = Val v; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>", "obtain v where sfsF: \"sfs F = Some v\""], ["proof (prove)\nusing this:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        sfs F = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using field"], ["proof (prove)\nusing this:\n  P,h,D \\<turnstile>\\<^sub>s sfs \\<surd>\n  P \\<turnstile> C has F,Static:T in D\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        sfs F = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(unfold soconf_def) (auto dest:has_field_idemp)"], ["proof (state)\nthis:\n  sfs F = \\<lfloor>v\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>e2 = Val v__; b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<lbrakk>e2 = Val v__; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  sfs F = \\<lfloor>v\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  sfs F = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using WTrtSFAss.hyps shD sfsF True ev"], ["proof (prove)\nusing this:\n  sfs F = \\<lfloor>v\\<rfloor>\n  P \\<turnstile> C has F,Static:T in D\n  P,E,h,sh \\<turnstile> e2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\n  sh D = \\<lfloor>(sfs, i)\\<rfloor>\n  sfs F = \\<lfloor>v\\<rfloor>\n  b\n  e2 = Val v__\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce elim:RedSFAss)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>e2 = Val v__; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>e2 = Val v; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "case False"], ["proof (state)\nthis:\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>e2 = Val v; \\<not> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,\n   (h, l, sh),b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>", "with assms WTrtSFAss ev"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  P \\<turnstile> C has F,Static:T in D\n  P,E,h,sh \\<turnstile> e2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\n  \\<D> (C\\<bullet>\\<^sub>sF{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D} := e2)\n  e2 = Val v\n  \\<not> b", "show ?thesis"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> h \\<surd>\n  P,h \\<turnstile>\\<^sub>s sh \\<surd>\n  P \\<turnstile> C has F,Static:T in D\n  P,E,h,sh \\<turnstile> e2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\n  \\<D> (C\\<bullet>\\<^sub>sF{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D} := e2)\n  e2 = Val v\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(metis (full_types) SFAssInitDoneRed SFAssInitRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e2 = Throw a\""], ["proof (state)\nthis:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:red_reds.SFAssThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e2\""], ["proof (state)\nthis:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e2", "have \"val_of e2 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e2\n\ngoal (1 subgoal):\n 1. val_of e2 = None", "using final_def val_of_spec"], ["proof (prove)\nusing this:\n  \\<not> final e2\n  final ?e \\<equiv>\n  (\\<exists>v. ?e = Val v) \\<or> (\\<exists>a. ?e = Throw a)\n  val_of ?e = \\<lfloor>?v\\<rfloor> \\<Longrightarrow> ?e = Val ?v\n\ngoal (1 subgoal):\n 1. val_of e2 = None", "by fastforce"], ["proof (state)\nthis:\n  val_of e2 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e2 = None", "have \"P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e2 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "using WTrtSFAss.prems(2)"], ["proof (prove)\nusing this:\n  val_of e2 = None\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "by(simp add:bconf_SFAss)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtSFAss nf"], ["proof (chain)\npicking this:\n  P \\<turnstile> C has F,Static:T in D\n  P,E,h,sh \\<turnstile> e2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\n  \\<D> (C\\<bullet>\\<^sub>sF{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D} := e2)\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> C has F,Static:T in D\n  P,E,h,sh \\<turnstile> e2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\n  \\<D> (C\\<bullet>\\<^sub>sF{D} := e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sF{D} := e2,b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sF{D} := e2)\n  \\<not> final e2\n  P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro!:SFAssRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sF{D} := e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 5. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e c T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> c : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>;\n             \\<not> final c\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>c,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n         \\<not> final (while (e) c)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 5. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e c T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> c : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>;\n             \\<not> final c\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>c,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n         \\<not> final (while (e) c)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 14 subgoals...", "case (WTrtCall E e C M Ts T pns body D es Ts')"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns, body) in D\n  P,E,h,sh \\<turnstile> es [:] Ts'\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n\ngoal (14 subgoals):\n 1. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 5. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e c T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> c : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>;\n             \\<not> final c\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>c,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n         \\<not> final (while (e) c)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 14 subgoals...", "have wte: \"P,E,h,sh \\<turnstile> e : Class C\"\n   and \"method\": \"P \\<turnstile> C sees M,NonStatic:Ts\\<rightarrow>T = (pns,body) in D\"\n   and wtes: \"P,E,h,sh \\<turnstile> es [:] Ts'\"and sub: \"P \\<turnstile> Ts' [\\<le>] Ts\"\n   and IHes: \"\\<And>l.\n             \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n             \\<Longrightarrow> \\<exists>es' s' b'. P \\<turnstile> \\<langle>es,(h,l,sh),b\\<rangle> [\\<rightarrow>] \\<langle>es',s',b'\\<rangle>\"\n   and D: \"\\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h,sh \\<turnstile> e : Class C &&&\n     P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                         body) in D &&&\n     P,E,h,sh \\<turnstile> es [:] Ts') &&&\n    P \\<turnstile> Ts' [\\<le>] Ts &&&\n    (\\<And>l.\n        \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>es,(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>) &&&\n    \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>", "by fact+"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : Class C\n  P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns, body) in D\n  P,E,h,sh \\<turnstile> es [:] Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>E e C M Ts T pns body D es Ts' l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Class C;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns,\n                            body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 5. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 6. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e c T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> c : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>;\n             \\<not> final c\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>c,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n         \\<not> final (while (e) c)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 14 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with wte"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Class C\n  final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule final_addrE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume e_addr: \"e = addr a\""], ["proof (state)\nthis:\n  e = addr a\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       e = addr a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume es: \"\\<exists>vs. es = map Val vs\""], ["proof (state)\nthis:\n  \\<exists>vs. es = map Val vs\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from wte e_addr"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Class C\n  e = addr a", "obtain fs where ha: \"h a = Some(C,fs)\""], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  e = addr a\n\ngoal (1 subgoal):\n 1. (\\<And>fs.\n        h a = \\<lfloor>(C, fs)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  h a = \\<lfloor>(C, fs)\\<rfloor>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using e_addr ha \"method\" WTrts_same_length[OF wtes] sub es sees_wf_mdecl[OF wf \"method\"]"], ["proof (prove)\nusing this:\n  e = addr a\n  h a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns, body) in D\n  length es = length Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<exists>vs. es = map Val vs\n  wf_mdecl wwf_J_mdecl P D (M, NonStatic, Ts, T, pns, body)\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: RedCall simp:list_all2_iff wf_mdecl_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"\\<not>(\\<exists>vs. es = map Val vs)\""], ["proof (state)\nthis:\n  \\<nexists>vs. es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "hence not_all_Val: \"\\<not>(\\<forall>e \\<in> set es. \\<exists>v. e = Val v)\""], ["proof (prove)\nusing this:\n  \\<nexists>vs. es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)", "by(simp add:ex_map_conv)"], ["proof (state)\nthis:\n  \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?ves = \"takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?rest = \"dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?ex = \"hd ?rest\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?rst = \"tl ?rest\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from not_all_Val"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)", "have nonempty: \"?rest \\<noteq> []\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)\n\ngoal (1 subgoal):\n 1. dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []", "by auto"], ["proof (state)\nthis:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "hence es: \"es = ?ves @ ?ex # ?rst\""], ["proof (prove)\nusing this:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []\n\ngoal (1 subgoal):\n 1. es =\n    takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)", "by simp"], ["proof (state)\nthis:\n  es =\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n  tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"\\<forall>e \\<in> set ?ves. \\<exists>v. e = Val v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n       \\<exists>v. e = Val v", "by(fastforce dest:set_takeWhileD)"], ["proof (state)\nthis:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v", "obtain vs where ves: \"?ves = map Val vs\""], ["proof (prove)\nusing this:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v\n\ngoal (1 subgoal):\n 1. (\\<And>vs.\n        takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es =\n        map Val vs \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using ex_map_conv"], ["proof (prove)\nusing this:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v\n  (\\<exists>xs. ?ys = map ?f xs) =\n  (\\<forall>y\\<in>set ?ys. \\<exists>x. y = ?f x)\n\ngoal (1 subgoal):\n 1. (\\<And>vs.\n        takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es =\n        map Val vs \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final ?ex\""], ["proof (state)\nthis:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from nonempty"], ["proof (chain)\npicking this:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []", "have \"\\<not>(\\<exists>v. ?ex = Val v)\""], ["proof (prove)\nusing this:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<nexists>v.\n       hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v", "by(auto simp:neq_Nil_conv simp del:dropWhile_eq_Nil_conv)\n              (simp add:dropWhile_eq_Cons_conv)"], ["proof (state)\nthis:\n  \\<nexists>v. hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n  \\<nexists>v. hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v", "obtain b where ex_Throw: \"?ex = Throw b\""], ["proof (prove)\nusing this:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n  \\<nexists>v. hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v\n\ngoal (1 subgoal):\n 1. (\\<And>b.\n        hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) =\n        Throw b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(fast elim!:finalE)"], ["proof (state)\nthis:\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Throw b\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using e_addr es ex_Throw ves"], ["proof (prove)\nusing this:\n  e = addr a\n  es =\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n  tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Throw b\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:CallThrowParams)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume not_fin: \"\\<not> final ?ex\""], ["proof (state)\nthis:\n  \\<not> final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"finals es = finals(?ves @ ?ex # ?rst)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals es =\n    finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "using es"], ["proof (prove)\nusing this:\n  es =\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n  tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)\n\ngoal (1 subgoal):\n 1. finals es =\n    finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "by(rule arg_cong)"], ["proof (state)\nthis:\n  finals es =\n  finals\n   (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "also"], ["proof (state)\nthis:\n  finals es =\n  finals\n   (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"\\<dots> = finals(?ex # ?rst)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)) =\n    finals\n     (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "using ves"], ["proof (prove)\nusing this:\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es = map Val vs\n\ngoal (1 subgoal):\n 1. finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)) =\n    finals\n     (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "by simp"], ["proof (state)\nthis:\n  finals\n   (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)) =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "finally"], ["proof (chain)\npicking this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "have \"finals es = finals(?ex # ?rst)\""], ["proof (prove)\nusing this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. finals es =\n    finals\n     (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "."], ["proof (state)\nthis:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "hence fes: \"\\<not> finals es\""], ["proof (prove)\nusing this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> finals es", "using not_finals_ConsI[OF not_fin]"], ["proof (prove)\nusing this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n  \\<not> finals\n          (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) # ?es)\n\ngoal (1 subgoal):\n 1. \\<not> finals es", "by blast"], ["proof (state)\nthis:\n  \\<not> finals es\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "using bconf_Call WTrtCall.prems(2)"], ["proof (prove)\nusing this:\n  (?P,?sh \\<turnstile>\\<^sub>b (?e\\<bullet>?M(?es),?b) \\<surd>) =\n  (case val_of ?e of\n   None \\<Rightarrow> ?P,?sh \\<turnstile>\\<^sub>b (?e,?b) \\<surd>\n   | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n       ?P,?sh \\<turnstile>\\<^sub>b (?es,?b) \\<surd>)\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "by (metis e_addr option.simps(5) val_of.simps(1))"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using fes e_addr D IHes"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n  \\<not> finals es\n  e = addr a\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!:CallParams)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with WTrtCall.prems"], ["proof (chain)\npicking this:\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Throw a", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro!:CallThrowObj)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e", "have e1: \"val_of e = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. val_of e = None", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e; e = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e; e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e; e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e; e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e = None", "have \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using WTrtCall.prems(2)"], ["proof (prove)\nusing this:\n  val_of e = None\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by(simp add:bconf_Call)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtCall nf e1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns, body) in D\n  P,E,h,sh \\<turnstile> es [:] Ts'\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  \\<not> final e\n  val_of e = None\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Class C\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> C sees M, NonStatic :  Ts\\<rightarrow>T = (pns, body) in D\n  P,E,h,sh \\<turnstile> es [:] Ts'\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  \\<not> final e\n  val_of e = None\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (blast intro!:CallObj)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 4. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 5. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T\\<^sub>r T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n         \\<not> final (throw e)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>throw e,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 4. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 5. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T\\<^sub>r T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n         \\<not> final (throw e)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>throw e,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 13 subgoals...", "case (WTrtCallNT E e es Ts M T)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n\ngoal (13 subgoals):\n 1. \\<And>E e es Ts M T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : NT;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>;\n        \\<not> final (e\\<bullet>M(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<bullet>M(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 4. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 5. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T\\<^sub>r T l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n         \\<not> final (throw e)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>throw e,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 13 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "{"], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume e: \"e = Val v\""], ["proof (state)\nthis:\n  e = Val v\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "hence \"e = null\""], ["proof (prove)\nusing this:\n  e = Val v\n\ngoal (1 subgoal):\n 1. e = null", "using WTrtCallNT"], ["proof (prove)\nusing this:\n  e = Val v\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n\ngoal (1 subgoal):\n 1. e = null", "by simp"], ["proof (state)\nthis:\n  e = null\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"finals es\""], ["proof (state)\nthis:\n  finals es\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  finals es\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "{"], ["proof (state)\nthis:\n  finals es\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "fix vs"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"es = map Val vs\""], ["proof (state)\nthis:\n  es = map Val vs\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtCallNT e"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Val v\n  es = map Val vs", "have ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Val v\n  es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro: RedCallNull)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "}"], ["proof (state)\nthis:\n  es = map Val ?vs2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  es = map Val ?vs2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "{"], ["proof (state)\nthis:\n  es = map Val ?vs2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "fix vs a es'"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"es = map Val vs @ Throw a # es'\""], ["proof (state)\nthis:\n  es = map Val vs @ Throw a # es'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtCallNT e"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Val v\n  es = map Val vs @ Throw a # es'", "have ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Val v\n  es = map Val vs @ Throw a # es'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro: CallThrowParams)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "}"], ["proof (state)\nthis:\n  es = map Val ?vs2 @ Throw ?a2 # ?es'2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  finals es\n  es = map Val ?vs2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n  es = map Val ?vs2 @ Throw ?a2 # ?es'2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  finals es\n  es = map Val ?vs2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n  es = map Val ?vs2 @ Throw ?a2 # ?es'2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce simp:finals_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> finals es \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> finals es \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> finals es\" \\<comment> \\<open>@{term es} reduces by IH\\<close>"], ["proof (state)\nthis:\n  \\<not> finals es\n\ngoal (1 subgoal):\n 1. \\<not> finals es \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "using WTrtCallNT.prems(2) e"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  e = Val v\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "by (simp add: bconf_Call)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> finals es \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtCallNT e nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Val v\n  \\<not> finals es\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Val v\n  \\<not> finals es\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro: CallParams)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "}"], ["proof (state)\nthis:\n  e = Val ?v2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  e = Val ?v2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "{"], ["proof (state)\nthis:\n  e = Val ?v2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtCallNT"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Throw a", "have ?case"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro: CallThrowObj)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "}"], ["proof (state)\nthis:\n  e = Throw ?a2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  final e\n  e = Val ?v2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n  e = Throw ?a2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  final e\n  e = Val ?v2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n  e = Throw ?a2 \\<Longrightarrow>\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce simp:final_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e\" \\<comment> \\<open>@{term e} reduces by IH\\<close>"], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e", "have \"val_of e = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. val_of e = None", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e; e = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e; e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e; e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e; e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e = None", "have \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using WTrtCallNT.prems(2)"], ["proof (prove)\nusing this:\n  val_of e = None\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by(simp add:bconf_Call)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtCallNT nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : NT\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D> (e\\<bullet>M(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e\\<bullet>M(es),b) \\<surd>\n  \\<not> final (e\\<bullet>M(es))\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by (fastforce intro:CallObj)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<bullet>M(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 3. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 4. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n         \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n         catch(C V) e\\<^sub>2,b) \\<surd>;\n         \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>try e\\<^sub>1\n       catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 3. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 4. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n         \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n         catch(C V) e\\<^sub>2,b) \\<surd>;\n         \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>try e\\<^sub>1\n       catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 12 subgoals...", "case (WTrtSCall C M Ts T pns body D E es Ts' sfs vs)"], ["proof (state)\nthis:\n  P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns, body) in D\n  P,E,h,sh \\<turnstile> es [:] Ts'\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  P \\<turnstile> Ts' [\\<le>] Ts\n  M = clinit \\<longrightarrow>\n  sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs\n  \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>\n  \\<not> final (C\\<bullet>\\<^sub>sM(es))\n\ngoal (12 subgoals):\n 1. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 3. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 4. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n         \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n         catch(C V) e\\<^sub>2,b) \\<surd>;\n         \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>try e\\<^sub>1\n       catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 12 subgoals...", "have \"method\": \"P \\<turnstile> C sees M,Static:Ts\\<rightarrow>T = (pns,body) in D\"\n   and wtes: \"P,E,h,sh \\<turnstile> es [:] Ts'\"and sub: \"P \\<turnstile> Ts' [\\<le>] Ts\"\n   and IHes: \"\\<And>l.\n             \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n             \\<Longrightarrow> \\<exists>es' s' b'. P \\<turnstile> \\<langle>es,(h,l,sh),b\\<rangle> [\\<rightarrow>] \\<langle>es',s',b'\\<rangle>\"\n   and clinit: \"M = clinit \\<longrightarrow> sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs\"\n   and D: \"\\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                      body) in D &&&\n     P,E,h,sh \\<turnstile> es [:] Ts' &&& P \\<turnstile> Ts' [\\<le>] Ts) &&&\n    (\\<And>l.\n        \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n        \\<Longrightarrow> \\<exists>es' s' b'.\n                             P \\<turnstile> \\<langle>es,(h, l, sh),\n       b\\<rangle> [\\<rightarrow>]\n      \\<langle>es',s',b'\\<rangle>) &&&\n    M = clinit \\<longrightarrow>\n    sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs &&&\n    \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>", "by fact+"], ["proof (state)\nthis:\n  P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns, body) in D\n  P,E,h,sh \\<turnstile> es [:] Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  M = clinit \\<longrightarrow>\n  sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs\n  \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>\n\ngoal (12 subgoals):\n 1. \\<And>C M Ts T pns body D E es Ts' sfs vs l.\n       \\<lbrakk>P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns,\n                                 body) in D;\n        P,E,h,sh \\<turnstile> es [:] Ts';\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        P \\<turnstile> Ts' [\\<le>] Ts;\n        M = clinit \\<longrightarrow>\n        sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs;\n        \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (C\\<bullet>\\<^sub>sM(es),b) \\<surd>;\n        \\<not> final (C\\<bullet>\\<^sub>sM(es))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 3. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 4. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n             \\<not> final e\\<^sub>1\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>1,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         \\<And>l.\n            \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n             \\<not> final e\\<^sub>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e\\<^sub>2,\n           (h, l, sh),b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n         \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n         catch(C V) e\\<^sub>2,b) \\<surd>;\n         \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>try e\\<^sub>1\n       catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 12 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume es: \"\\<exists>vs. es = map Val vs\""], ["proof (state)\nthis:\n  \\<exists>vs. es = map Val vs\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (cases b)"], ["proof (state)\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case True"], ["proof (state)\nthis:\n  b\n\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  b", "show ?thesis"], ["proof (prove)\nusing this:\n  b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using \"method\" WTrts_same_length[OF wtes] sub es sees_wf_mdecl[OF wf \"method\"] True"], ["proof (prove)\nusing this:\n  b\n  P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns, body) in D\n  length es = length Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<exists>vs. es = map Val vs\n  wf_mdecl wwf_J_mdecl P D (M, Static, Ts, T, pns, body)\n  b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: RedSCall simp:list_all2_iff wf_mdecl_def)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case False"], ["proof (state)\nthis:\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using \"method\" clinit WTrts_same_length[OF wtes] sub es False"], ["proof (prove)\nusing this:\n  P \\<turnstile> C sees M, Static :  Ts\\<rightarrow>T = (pns, body) in D\n  M = clinit \\<longrightarrow>\n  sh D = \\<lfloor>(sfs, Processing)\\<rfloor> \\<and> es = map Val vs\n  length es = length Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n  \\<exists>vs. es = map Val vs\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by (metis (full_types) red_reds.SCallInitDoneRed red_reds.SCallInitRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nmap: \"\\<not>(\\<exists>vs. es = map Val vs)\""], ["proof (state)\nthis:\n  \\<nexists>vs. es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "hence not_all_Val: \"\\<not>(\\<forall>e \\<in> set es. \\<exists>v. e = Val v)\""], ["proof (prove)\nusing this:\n  \\<nexists>vs. es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)", "by(simp add:ex_map_conv)"], ["proof (state)\nthis:\n  \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?ves = \"takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?rest = \"dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?ex = \"hd ?rest\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "let ?rst = \"tl ?rest\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from not_all_Val"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)", "have nonempty: \"?rest \\<noteq> []\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>e\\<in>set es. \\<exists>v. e = Val v)\n\ngoal (1 subgoal):\n 1. dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []", "by auto"], ["proof (state)\nthis:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "hence es: \"es = ?ves @ ?ex # ?rst\""], ["proof (prove)\nusing this:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []\n\ngoal (1 subgoal):\n 1. es =\n    takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)", "by simp"], ["proof (state)\nthis:\n  es =\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n  tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"\\<forall>e \\<in> set ?ves. \\<exists>v. e = Val v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n       \\<exists>v. e = Val v", "by(fastforce dest:set_takeWhileD)"], ["proof (state)\nthis:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v", "obtain vs where ves: \"?ves = map Val vs\""], ["proof (prove)\nusing this:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v\n\ngoal (1 subgoal):\n 1. (\\<And>vs.\n        takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es =\n        map Val vs \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using ex_map_conv"], ["proof (prove)\nusing this:\n  \\<forall>e\\<in>set (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es).\n     \\<exists>v. e = Val v\n  (\\<exists>xs. ?ys = map ?f xs) =\n  (\\<forall>y\\<in>set ?ys. \\<exists>x. y = ?f x)\n\ngoal (1 subgoal):\n 1. (\\<And>vs.\n        takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es =\n        map Val vs \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<nexists>vs. es = map Val vs \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final ?ex\""], ["proof (state)\nthis:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from nonempty"], ["proof (chain)\npicking this:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []", "have \"\\<not>(\\<exists>v. ?ex = Val v)\""], ["proof (prove)\nusing this:\n  dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<nexists>v.\n       hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v", "by(auto simp:neq_Nil_conv simp del:dropWhile_eq_Nil_conv)\n          (simp add:dropWhile_eq_Cons_conv)"], ["proof (state)\nthis:\n  \\<nexists>v. hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n  \\<nexists>v. hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v", "obtain b where ex_Throw: \"?ex = Throw b\""], ["proof (prove)\nusing this:\n  final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n  \\<nexists>v. hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Val v\n\ngoal (1 subgoal):\n 1. (\\<And>b.\n        hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) =\n        Throw b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(fast elim!:finalE)"], ["proof (state)\nthis:\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Throw b\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using es ex_Throw ves"], ["proof (prove)\nusing this:\n  es =\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n  tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) = Throw b\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es = map Val vs\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:SCallThrowParams)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume not_fin: \"\\<not> final ?ex\""], ["proof (state)\nthis:\n  \\<not> final (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"finals es = finals(?ves @ ?ex # ?rst)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals es =\n    finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "using es"], ["proof (prove)\nusing this:\n  es =\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n  hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n  tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)\n\ngoal (1 subgoal):\n 1. finals es =\n    finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "by(rule arg_cong)"], ["proof (state)\nthis:\n  finals es =\n  finals\n   (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "also"], ["proof (state)\nthis:\n  finals es =\n  finals\n   (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"\\<dots> = finals(?ex # ?rst)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)) =\n    finals\n     (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "using ves"], ["proof (prove)\nusing this:\n  takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es = map Val vs\n\ngoal (1 subgoal):\n 1. finals\n     (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n      hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)) =\n    finals\n     (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "by simp"], ["proof (state)\nthis:\n  finals\n   (takeWhile (\\<lambda>e. \\<exists>v. e = Val v) es @\n    hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es)) =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "finally"], ["proof (chain)\npicking this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "have \"finals es = finals(?ex # ?rst)\""], ["proof (prove)\nusing this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. finals es =\n    finals\n     (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n      tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))", "."], ["proof (state)\nthis:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "hence fes: \"\\<not> finals es\""], ["proof (prove)\nusing this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n\ngoal (1 subgoal):\n 1. \\<not> finals es", "using not_finals_ConsI[OF not_fin]"], ["proof (prove)\nusing this:\n  finals es =\n  finals\n   (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) #\n    tl (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es))\n  \\<not> finals\n          (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v) es) # ?es)\n\ngoal (1 subgoal):\n 1. \\<not> finals es", "by blast"], ["proof (state)\nthis:\n  \\<not> finals es\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have \"P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "by (meson WTrtSCall.prems(2) nmap bconf_SCall map_vals_of_spec not_None_eq)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final\n            (hd (dropWhile (\\<lambda>e. \\<exists>v. e = Val v)\n                  es)) \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using fes D IHes"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n  \\<not> finals es\n  \\<D> (C\\<bullet>\\<^sub>sM(es)) \\<lfloor>dom l\\<rfloor>\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!:SCallParams)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>C\\<bullet>\\<^sub>sM(es),(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 3. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T C Cs ba l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n         \\<forall>C'\\<in>set (tl Cs).\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         ba \\<longrightarrow>\n         (\\<forall>C'\\<in>set Cs.\n             \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n         distinct Cs; supercls_lst P Cs;\n         \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n         \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 3. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T C Cs ba l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n         \\<forall>C'\\<in>set (tl Cs).\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         ba \\<longrightarrow>\n         (\\<forall>C'\\<in>set Cs.\n             \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n         distinct Cs; supercls_lst P Cs;\n         \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n         \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 11 subgoals...", "case WTrtNil"], ["proof (state)\nthis:\n  \\<D>s [] \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>\n  \\<not> finals []\n\ngoal (11 subgoals):\n 1. \\<And>E l.\n       \\<lbrakk>\\<D>s [] \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>; \\<not> finals []\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>[],(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 3. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T C Cs ba l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n         \\<forall>C'\\<in>set (tl Cs).\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         ba \\<longrightarrow>\n         (\\<forall>C'\\<in>set Cs.\n             \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n         distinct Cs; supercls_lst P Cs;\n         \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n         \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<D>s [] \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b ([],b) \\<surd>\n  \\<not> finals []\n\ngoal (1 subgoal):\n 1. \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>[],(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<exists>es' s' b'.\n     P \\<turnstile> \\<langle>[],(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',s',b'\\<rangle>\n\ngoal (10 subgoals):\n 1. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T e' T' C Cs l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e' : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n             \\<not> final e'\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e'a s' b'.\n                                 P \\<turnstile> \\<langle>e',(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e'a,s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n         \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n         \\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         \\<exists>sfs.\n            sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n            sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n            e = THROW NoClassDefFoundError;\n         distinct (C # Cs); supercls_lst P (C # Cs);\n         \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n         \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e'a s' b'.\n                             P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T e' T' C Cs l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e' : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n             \\<not> final e'\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e'a s' b'.\n                                 P \\<turnstile> \\<langle>e',(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e'a,s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n         \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n         \\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         \\<exists>sfs.\n            sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n            sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n            e = THROW NoClassDefFoundError;\n         distinct (C # Cs); supercls_lst P (C # Cs);\n         \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n         \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e'a s' b'.\n                             P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e'a,s',b'\\<rangle>", "case (WTrtCons E e T es Ts)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : T\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> es [:] Ts\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>\n  \\<not> finals (e # es)\n\ngoal (10 subgoals):\n 1. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T e' T' C Cs l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e' : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n             \\<not> final e'\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e'a s' b'.\n                                 P \\<turnstile> \\<langle>e',(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e'a,s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n         \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n         \\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         \\<exists>sfs.\n            sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n            sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n            e = THROW NoClassDefFoundError;\n         distinct (C # Cs); supercls_lst P (C # Cs);\n         \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n         \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e'a s' b'.\n                             P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e'a,s',b'\\<rangle>", "have IHe: \"\\<And>l. \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n                \\<Longrightarrow> \\<exists>e' s' b'. P \\<turnstile> \\<langle>e,(h,l,sh),b\\<rangle> \\<rightarrow> \\<langle>e',s',b'\\<rangle>\"\n   and IHes: \"\\<And>l. \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n             \\<Longrightarrow> \\<exists>es' s' b'. P \\<turnstile> \\<langle>es,(h,l,sh),b\\<rangle> [\\<rightarrow>] \\<langle>es',s',b'\\<rangle>\"\n   and D: \"\\<D>s (e#es) \\<lfloor>dom l\\<rfloor>\" and not_fins: \"\\<not> finals(e # es)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>l.\n         \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n          P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n         \\<Longrightarrow> \\<exists>e' s' b'.\n                              P \\<turnstile> \\<langle>e,(h, l, sh),\n        b\\<rangle> \\<rightarrow>\n       \\<langle>e',s',b'\\<rangle>) &&&\n     (\\<And>l.\n         \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n          P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n          \\<not> finals es\\<rbrakk>\n         \\<Longrightarrow> \\<exists>es' s' b'.\n                              P \\<turnstile> \\<langle>es,(h, l, sh),\n        b\\<rangle> [\\<rightarrow>]\n       \\<langle>es',s',b'\\<rangle>)) &&&\n    \\<D>s (e # es) \\<lfloor>dom l\\<rfloor> &&& \\<not> finals (e # es)", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<lbrakk>\\<D>s es \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>; \\<not> finals es\\<rbrakk>\n  \\<Longrightarrow> \\<exists>es' s' b'.\n                       P \\<turnstile> \\<langle>es,(h, ?l, sh),\n b\\<rangle> [\\<rightarrow>]\n\\<langle>es',s',b'\\<rangle>\n  \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>\n  \\<not> finals (e # es)\n\ngoal (10 subgoals):\n 1. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T e' T' C Cs l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e' : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n             \\<not> final e'\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e'a s' b'.\n                                 P \\<turnstile> \\<langle>e',(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e'a,s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n         \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n         \\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         \\<exists>sfs.\n            sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n            sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n            e = THROW NoClassDefFoundError;\n         distinct (C # Cs); supercls_lst P (C # Cs);\n         \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n         \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e'a s' b'.\n                             P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e'a,s',b'\\<rangle>", "have De: \"\\<D> e \\<lfloor>dom l\\<rfloor>\" and Des: \"\\<D>s es (\\<lfloor>dom l\\<rfloor> \\<squnion> \\<A> e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> e \\<lfloor>dom l\\<rfloor> &&&\n    \\<D>s es (\\<lfloor>dom l\\<rfloor> \\<squnion> \\<A> e)", "using D"], ["proof (prove)\nusing this:\n  \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> e \\<lfloor>dom l\\<rfloor> &&&\n    \\<D>s es (\\<lfloor>dom l\\<rfloor> \\<squnion> \\<A> e)", "by auto"], ["proof (state)\nthis:\n  \\<D> e \\<lfloor>dom l\\<rfloor>\n  \\<D>s es (\\<lfloor>dom l\\<rfloor> \\<squnion> \\<A> e)\n\ngoal (10 subgoals):\n 1. \\<And>E e T es Ts l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> es [:] Ts;\n        \\<And>l.\n           \\<lbrakk>\\<D>s es \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>;\n            \\<not> finals es\\<rbrakk>\n           \\<Longrightarrow> \\<exists>es' s' b'.\n                                P \\<turnstile> \\<langle>es,(h, l, sh),\n          b\\<rangle> [\\<rightarrow>]\n         \\<langle>es',s',b'\\<rangle>;\n        \\<D>s (e # es) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>;\n        \\<not> finals (e # es)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>es' s' b'.\n                            P \\<turnstile> \\<langle>e # es,(h, l, sh),\n      b\\<rangle> [\\<rightarrow>]\n     \\<langle>es',s',b'\\<rangle>\n 2. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 10. \\<And>E e T e' T' C Cs l.\n        \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n         \\<And>l.\n            \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>;\n             \\<not> final e\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e' s' b'.\n                                 P \\<turnstile> \\<langle>e,(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e',s',b'\\<rangle>;\n         P,E,h,sh \\<turnstile> e' : T';\n         \\<And>l.\n            \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n             P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n             \\<not> final e'\\<rbrakk>\n            \\<Longrightarrow> \\<exists>e'a s' b'.\n                                 P \\<turnstile> \\<langle>e',(h, l, sh),\n           b\\<rangle> \\<rightarrow>\n          \\<langle>e'a,s',b'\\<rangle>;\n         \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n         \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n         \\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n         \\<exists>sfs.\n            sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n            sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n            e = THROW NoClassDefFoundError;\n         distinct (C # Cs); supercls_lst P (C # Cs);\n         \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n         \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e'a s' b'.\n                             P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n       (h, l, sh),b\\<rangle> \\<rightarrow>\n      \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "assume e: \"e = Val v\""], ["proof (state)\nthis:\n  e = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "hence Des': \"\\<D>s es \\<lfloor>dom l\\<rfloor>\""], ["proof (prove)\nusing this:\n  e = Val v\n\ngoal (1 subgoal):\n 1. \\<D>s es \\<lfloor>dom l\\<rfloor>", "using De Des"], ["proof (prove)\nusing this:\n  e = Val v\n  \\<D> e \\<lfloor>dom l\\<rfloor>\n  \\<D>s es (\\<lfloor>dom l\\<rfloor> \\<squnion> \\<A> e)\n\ngoal (1 subgoal):\n 1. \\<D>s es \\<lfloor>dom l\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>s es \\<lfloor>dom l\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "have bconfs: \"P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "using WTrtCons.prems(2) e"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>\n  e = Val v\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>", "by(simp add: bconf_Cons)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (es,b) \\<surd>\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "have not_fins_tl: \"\\<not> finals es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> finals es", "using not_fins e"], ["proof (prove)\nusing this:\n  \\<not> finals (e # es)\n  e = Val v\n\ngoal (1 subgoal):\n 1. \\<not> finals es", "by simp"], ["proof (state)\nthis:\n  \\<not> finals es\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "using e IHes[OF Des' bconfs not_fins_tl]"], ["proof (prove)\nusing this:\n  e = Val v\n  \\<exists>es' s' b'.\n     P \\<turnstile> \\<langle>es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "by (blast intro!:ListRed2)"], ["proof (state)\nthis:\n  \\<exists>es' s' b'.\n     P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "assume \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "hence False"], ["proof (prove)\nusing this:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. False", "using not_fins"], ["proof (prove)\nusing this:\n  e = Throw a\n  \\<not> finals (e # es)\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>es' s' b'.\n          P \\<turnstile> \\<langle>e # es,(h, l, sh),\n                          b\\<rangle> [\\<rightarrow>]\n                         \\<langle>es',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", ".."], ["proof (state)\nthis:\n  \\<exists>es' s' b'.\n     P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>es' s' b'.\n     P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "assume nf:\"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e", "have \"val_of e = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. val_of e = None", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e; e = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e; e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e; e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e; e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e = None", "have bconf: \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using WTrtCons.prems(2)"], ["proof (prove)\nusing this:\n  val_of e = None\n  P,sh \\<turnstile>\\<^sub>b (e # es,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by(simp add: bconf_Cons)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "with IHe[OF De bconf nf]"], ["proof (chain)\npicking this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>es' s' b'.\n       P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                      \\<langle>es',s',b'\\<rangle>", "by(fast intro!:ListRed1)"], ["proof (state)\nthis:\n  \\<exists>es' s' b'.\n     P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>es' s' b'.\n     P \\<turnstile> \\<langle>e # es,(h, l, sh),b\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',s',b'\\<rangle>\n\ngoal (9 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtInitBlock v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2)"], ["proof (state)\nthis:\n  typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>\n  P \\<turnstile> T\\<^sub>1 \\<le> T\n  P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>\n  \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\n\ngoal (9 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "have IH2: \"\\<And>l. \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>; \\<not> final e\\<^sub>2\\<rbrakk>\n                  \\<Longrightarrow> \\<exists>e' s' b'. P \\<turnstile> \\<langle>e\\<^sub>2,(h,l,sh),b\\<rangle> \\<rightarrow> \\<langle>e',s',b'\\<rangle>\"\n   and D: \"\\<D> {V:T := Val v; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l.\n        \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n         \\<not> final e\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e\\<^sub>2,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>) &&&\n    \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>\n\ngoal (9 subgoals):\n 1. \\<And>v T\\<^sub>1 T E V e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<^sub>1\\<rfloor>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T;\n        P,E(V \\<mapsto> T),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>;\n        \\<not> final {V:T; V:=Val v;; e\\<^sub>2}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;;\n      e\\<^sub>2},(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 9. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\\<^sub>2\""], ["proof (state)\nthis:\n  final e\\<^sub>2\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  final e\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>va.\n       e\\<^sub>2 = Val va \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e\\<^sub>2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v\\<^sub>2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>va.\n       e\\<^sub>2 = Val va \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e\\<^sub>2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e\\<^sub>2 = Val v\\<^sub>2\""], ["proof (state)\nthis:\n  e\\<^sub>2 = Val v\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>va.\n       e\\<^sub>2 = Val va \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e\\<^sub>2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e\\<^sub>2 = Val v\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:RedInitBlock)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e\\<^sub>2 = Throw a\""], ["proof (state)\nthis:\n  e\\<^sub>2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e\\<^sub>2 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e\\<^sub>2 = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:red_reds.InitBlockThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume not_fin2: \"\\<not> final e\\<^sub>2\""], ["proof (state)\nthis:\n  \\<not> final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e\\<^sub>2", "have \"val_of e\\<^sub>2 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. val_of e\\<^sub>2 = None", "proof(cases e\\<^sub>2)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e\\<^sub>2; e\\<^sub>2 = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e\\<^sub>2; e\\<^sub>2 = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e\\<^sub>2; e\\<^sub>2 = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e\\<^sub>2;\n        e\\<^sub>2 = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e\\<^sub>2; e\\<^sub>2 = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e\\<^sub>2; e\\<^sub>2 = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e\\<^sub>2;\n        e\\<^sub>2 = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e\\<^sub>2;\n        e\\<^sub>2 = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e\\<^sub>2;\n        e\\<^sub>2 = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e\\<^sub>2 = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e\\<^sub>2;\n         e\\<^sub>2 = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e\\<^sub>2 = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e\\<^sub>2 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from D"], ["proof (chain)\npicking this:\n  \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>", "have D2: \"\\<D> e\\<^sub>2 \\<lfloor>dom(l(V\\<mapsto>v))\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> {V:T; V:=Val v;; e\\<^sub>2} \\<lfloor>dom l\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> e\\<^sub>2 \\<lfloor>dom (l(V \\<mapsto> v))\\<rfloor>", "by (auto simp:hyperset_defs)"], ["proof (state)\nthis:\n  \\<D> e\\<^sub>2 \\<lfloor>dom (l(V \\<mapsto> v))\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have e2conf: \"P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>", "using WTrtInitBlock.prems(2)"], ["proof (prove)\nusing this:\n  P,sh \\<turnstile>\\<^sub>b ({V:T; V:=Val v;; e\\<^sub>2},b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>", "by(simp add: bconf_InitBlock)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from IH2[OF D2 e2conf not_fin2]"], ["proof (chain)\npicking this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>2,(h, l(V \\<mapsto> v), sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>", "obtain h' l' sh' e' b' where red2: \"P \\<turnstile> \\<langle>e\\<^sub>2,(h, l(V\\<mapsto>v),sh),b\\<rangle> \\<rightarrow> \\<langle>e',(h', l',sh'),b'\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e\\<^sub>2,(h, l(V \\<mapsto> v), sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>e' h' l' sh' b'.\n        P \\<turnstile> \\<langle>e\\<^sub>2,(h, l(V \\<mapsto> v), sh),\n                        b\\<rangle> \\<rightarrow>\n                       \\<langle>e',(h', l', sh'),\n                        b'\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>2,(h, l(V \\<mapsto> v), sh),\n                  b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from red_lcl_incr[OF red2]"], ["proof (chain)\npicking this:\n  dom (l(V \\<mapsto> v)) \\<subseteq> dom l'", "have \"V \\<in> dom l'\""], ["proof (prove)\nusing this:\n  dom (l(V \\<mapsto> v)) \\<subseteq> dom l'\n\ngoal (1 subgoal):\n 1. V \\<in> dom l'", "by auto"], ["proof (state)\nthis:\n  V \\<in> dom l'\n\ngoal (1 subgoal):\n 1. \\<not> final e\\<^sub>2 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with red2"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e\\<^sub>2,(h, l(V \\<mapsto> v), sh),\n                  b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n  V \\<in> dom l'", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>2,(h, l(V \\<mapsto> v), sh),\n                  b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n  V \\<in> dom l'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:InitBlockRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>2},(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (8 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtBlock E V T e T')"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<not> assigned V e\n  \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>\n  \\<not> final {V:T; e}\n\ngoal (8 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "have IH: \"\\<And>l. \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>; P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n                 \\<Longrightarrow> \\<exists>e' s' b'. P \\<turnstile> \\<langle>e,(h,l,sh),b\\<rangle> \\<rightarrow> \\<langle>e',s',b'\\<rangle>\"\n   and unass: \"\\<not> assigned V e\" and D: \"\\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l.\n        \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n         P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n        \\<Longrightarrow> \\<exists>e' s' b'.\n                             P \\<turnstile> \\<langle>e,(h, l, sh),\n       b\\<rangle> \\<rightarrow>\n      \\<langle>e',s',b'\\<rangle>) &&&\n    \\<not> assigned V e &&& \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<not> assigned V e\n  \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>\n\ngoal (8 subgoals):\n 1. \\<And>E V T e T' l.\n       \\<lbrakk>P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<not> assigned V e; \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>;\n        \\<not> final {V:T; e}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 8. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e = Val v\""], ["proof (state)\nthis:\n  e = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e = Val v\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:RedBlock)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:red_reds.BlockThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume not_fin: \"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e", "have \"val_of e = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. val_of e = None", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e; e = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e; e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e; e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e; e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from D"], ["proof (chain)\npicking this:\n  \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>", "have De: \"\\<D> e \\<lfloor>dom(l(V:=None))\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> e \\<lfloor>dom (l(V := None))\\<rfloor>", "by(simp add:hyperset_defs)"], ["proof (state)\nthis:\n  \\<D> e \\<lfloor>dom (l(V := None))\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "have bconf: \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using WTrtBlock"], ["proof (prove)\nusing this:\n  P,E(V \\<mapsto> T),h,sh \\<turnstile> e : T'\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<not> assigned V e\n  \\<D> {V:T; e} \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b ({V:T; e},b) \\<surd>\n  \\<not> final {V:T; e}\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by(simp add: bconf_Block)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "from IH[OF De bconf not_fin]"], ["proof (chain)\npicking this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e,(h, l(V := None), sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>", "obtain h' l' sh' e' b' where red: \"P \\<turnstile> \\<langle>e,(h,l(V:=None),sh),b\\<rangle> \\<rightarrow> \\<langle>e',(h',l',sh'),b'\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e,(h, l(V := None), sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>e' h' l' sh' b'.\n        P \\<turnstile> \\<langle>e,(h, l(V := None), sh),\n                        b\\<rangle> \\<rightarrow>\n                       \\<langle>e',(h', l', sh'),\n                        b'\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h, l(V := None), sh),b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (cases \"l' V\")"], ["proof (state)\ngoal (2 subgoals):\n 1. l' V = None \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       l' V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"l' V = None\""], ["proof (state)\nthis:\n  l' V = None\n\ngoal (2 subgoals):\n 1. l' V = None \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       l' V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with red unass"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e,(h, l(V := None), sh),b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n  \\<not> assigned V e\n  l' V = None", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,(h, l(V := None), sh),b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n  \\<not> assigned V e\n  l' V = None\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(blast intro: BlockRedNone)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l' V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       l' V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       l' V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"l' V = Some v\""], ["proof (state)\nthis:\n  l' V = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l' V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with red unass"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e,(h, l(V := None), sh),b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n  \\<not> assigned V e\n  l' V = \\<lfloor>v\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,(h, l(V := None), sh),b\\<rangle> \\<rightarrow>\n                 \\<langle>e',(h', l', sh'),b'\\<rangle>\n  \\<not> assigned V e\n  l' V = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(blast intro: BlockRedSome)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>{V:T; e},(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtSeq E e1 T1 e2 T2)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1;; e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1;; e2,b) \\<surd>\n  \\<not> final (e1;; e2)\n\ngoal (7 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (e\\<^sub>1;; e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1;; e\\<^sub>2,b) \\<surd>;\n        \\<not> final (e\\<^sub>1;; e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 7. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e1\""], ["proof (state)\nthis:\n  final e1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e1\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast elim:finalE intro:RedSeq red_reds.SeqThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e1\""], ["proof (state)\nthis:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e1", "have e1: \"val_of e1 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. val_of e1 = None", "proof(cases e1)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e1; e1 = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e1; e1 = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e1; e1 = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e1;\n        e1 = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e1; e1 = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e1; e1 = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e1; e1 = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e1; e1 = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e1; e1 = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e1;\n         e1 = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e1 = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e1 = None", "show ?thesis"], ["proof (prove)\nusing this:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof(cases \"lass_val_of e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>val_of e1 = None; lass_val_of e1 = None\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       \\<lbrakk>val_of e1 = None;\n        lass_val_of e1 = \\<lfloor>a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>", "case None"], ["proof (state)\nthis:\n  lass_val_of e1 = None\n\ngoal (2 subgoals):\n 1. \\<lbrakk>val_of e1 = None; lass_val_of e1 = None\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       \\<lbrakk>val_of e1 = None;\n        lass_val_of e1 = \\<lfloor>a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  lass_val_of e1 = None", "have \"P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\""], ["proof (prove)\nusing this:\n  lass_val_of e1 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "using WTrtSeq.prems(2) e1"], ["proof (prove)\nusing this:\n  lass_val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1;; e2,b) \\<surd>\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "by(simp add: bconf_Seq)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>val_of e1 = None; lass_val_of e1 = None\\<rbrakk>\n    \\<Longrightarrow> \\<exists>e' s' b'.\n                         P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       \\<lbrakk>val_of e1 = None;\n        lass_val_of e1 = \\<lfloor>a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>", "with WTrtSeq nf e1 None"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1;; e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1;; e2,b) \\<surd>\n  \\<not> final (e1;; e2)\n  \\<not> final e1\n  val_of e1 = None\n  lass_val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (e1;; e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (e1;; e2,b) \\<surd>\n  \\<not> final (e1;; e2)\n  \\<not> final e1\n  val_of e1 = None\n  lass_val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (blast intro:SeqRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>val_of e1 = None;\n        lass_val_of e1 = \\<lfloor>a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>val_of e1 = None;\n        lass_val_of e1 = \\<lfloor>a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>", "case (Some p)"], ["proof (state)\nthis:\n  lass_val_of e1 = \\<lfloor>p\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>val_of e1 = None;\n        lass_val_of e1 = \\<lfloor>a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>", "obtain V v where \"e1 = V:=Val v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>V v. e1 = V:=Val v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using lass_val_of_spec[OF Some]"], ["proof (prove)\nusing this:\n  e1 = fst p:=Val (snd p)\n\ngoal (1 subgoal):\n 1. (\\<And>V v. e1 = V:=Val v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  e1 = V:=Val v\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>val_of e1 = None;\n        lass_val_of e1 = \\<lfloor>a\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e1 = V:=Val v", "show ?thesis"], ["proof (prove)\nusing this:\n  e1 = V:=Val v\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using SeqRed[OF RedLAss]"], ["proof (prove)\nusing this:\n  e1 = V:=Val v\n  ?P \\<turnstile> \\<langle>?V1:=Val ?v1;; ?e\\<^sub>2,(?h1, ?l1, ?sh1),\n                   ?b\\<rangle> \\<rightarrow>\n                  \\<langle>unit;; ?e\\<^sub>2,\n                   (?h1, ?l1(?V1 \\<mapsto> ?v1), ?sh1),?b\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by blast"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>e1;; e2,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtCond E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : Boolean\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1\n  P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow> T = T\\<^sub>2\n  P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow> T = T\\<^sub>1\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1 else e\\<^sub>2,b) \\<surd>\n  \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\n\ngoal (6 subgoals):\n 1. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "have wt: \"P,E,h,sh \\<turnstile> e : Boolean\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,h,sh \\<turnstile> e : Boolean", "by fact"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : Boolean\n\ngoal (6 subgoals):\n 1. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow>\n        T = T\\<^sub>2;\n        P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow>\n        T = T\\<^sub>1;\n        \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1\n        else e\\<^sub>2,b) \\<surd>;\n        \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n      else e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 6. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume val: \"e = Val v\""], ["proof (state)\nthis:\n  e = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e = Val v", "obtain b where v: \"v = Bool b\""], ["proof (prove)\nusing this:\n  e = Val v\n\ngoal (1 subgoal):\n 1. (\\<And>b. v = Bool b \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using wt"], ["proof (prove)\nusing this:\n  e = Val v\n  P,E,h,sh \\<turnstile> e : Boolean\n\ngoal (1 subgoal):\n 1. (\\<And>b. v = Bool b \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  v = Bool b\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (cases b)"], ["proof (state)\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case True"], ["proof (state)\nthis:\n  b\n\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with val v"], ["proof (chain)\npicking this:\n  e = Val v\n  v = Bool b\n  b", "show ?thesis"], ["proof (prove)\nusing this:\n  e = Val v\n  v = Bool b\n  b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedCondT simp: prod_cases3)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case False"], ["proof (state)\nthis:\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with val v"], ["proof (chain)\npicking this:\n  e = Val v\n  v = Bool b\n  \\<not> b", "show ?thesis"], ["proof (prove)\nusing this:\n  e = Val v\n  v = Bool b\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro:RedCondF simp: prod_cases3)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                          (h, l, sh),b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:red_reds.CondThrow)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e", "have \"bool_of e = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. bool_of e = None", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e; e = new x1\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e; e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e; e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e; e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> bool_of e = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> bool_of e = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  bool_of e = None\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  bool_of e = None", "have \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  bool_of e = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using WTrtCond.prems(2)"], ["proof (prove)\nusing this:\n  bool_of e = None\n  P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1 else e\\<^sub>2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by(simp add: bconf_Cond)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtCond nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : Boolean\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1\n  P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow> T = T\\<^sub>2\n  P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow> T = T\\<^sub>1\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1 else e\\<^sub>2,b) \\<surd>\n  \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : Boolean\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1\n  \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n   \\<not> final e\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n   \\<not> final e\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e\\<^sub>2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<or>\n  P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1\n  P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2 \\<longrightarrow> T = T\\<^sub>2\n  P \\<turnstile> T\\<^sub>2 \\<le> T\\<^sub>1 \\<longrightarrow> T = T\\<^sub>1\n  \\<D> (if (e) e\\<^sub>1 else e\\<^sub>2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (if (e) e\\<^sub>1 else e\\<^sub>2,b) \\<surd>\n  \\<not> final (if (e) e\\<^sub>1 else e\\<^sub>2)\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (blast intro:CondRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case WTrtWhile"], ["proof (state)\nthis:\n  P,E_,h,sh \\<turnstile> e_ : Boolean\n  \\<lbrakk>\\<D> e_ \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e_,b) \\<surd>; \\<not> final e_\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e_,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E_,h,sh \\<turnstile> c_ : T_\n  \\<lbrakk>\\<D> c_ \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (c_,b) \\<surd>; \\<not> final c_\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>c_,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<D> (while (e_) c_) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (while (e_) c_,b) \\<surd>\n  \\<not> final (while (e_) c_)\n\ngoal (5 subgoals):\n 1. \\<And>E e c T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : Boolean;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> c : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> c \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (c,b) \\<surd>; \\<not> final c\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>c,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<D> (while (e) c) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (while (e) c,b) \\<surd>;\n        \\<not> final (while (e) c)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>while (e) c,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 5. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>while (e_) c_,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:RedWhile)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>while (e_) c_,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtThrow E e T\\<^sub>r T)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  is_refT T\\<^sub>r\n  \\<D> (throw e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>\n  \\<not> final (throw e)\n\ngoal (4 subgoals):\n 1. \\<And>E e T\\<^sub>r T l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T\\<^sub>r;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        is_refT T\\<^sub>r; \\<D> (throw e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>;\n        \\<not> final (throw e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>throw e,(h, l, sh),\n      b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 4. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e\" \\<comment> \\<open>Then @{term e} must be @{term throw} or @{term null}\\<close>"], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtThrow"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  is_refT T\\<^sub>r\n  \\<D> (throw e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>\n  \\<not> final (throw e)\n  final e", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  is_refT T\\<^sub>r\n  \\<D> (throw e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>\n  \\<not> final (throw e)\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce simp:final_def is_refT_def\n                  intro:red_reds.ThrowThrow red_reds.RedThrowNull)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e\" \\<comment> \\<open>Then @{term e} must reduce\\<close>"], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e", "have \"val_of e = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. val_of e = None", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e; e = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e; e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e; e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e; e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e = None", "have \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using WTrtThrow.prems(2)"], ["proof (prove)\nusing this:\n  val_of e = None\n  P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by(simp add: bconf_Throw)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtThrow nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  is_refT T\\<^sub>r\n  \\<D> (throw e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>\n  \\<not> final (throw e)\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  is_refT T\\<^sub>r\n  \\<D> (throw e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (throw e,b) \\<surd>\n  \\<not> final (throw e)\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (blast intro:ThrowRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>throw e,(h, l, sh),b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtTry E e1 T1 V C e2 T2)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T1 \\<le> T2\n  \\<D> (try e1 catch(C V) e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (try e1 catch(C V) e2,b) \\<surd>\n  \\<not> final (try e1 catch(C V) e2)\n\ngoal (3 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "have wt1: \"P,E,h,sh \\<turnstile> e1 : T1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,h,sh \\<turnstile> e1 : T1", "by fact"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e1 : T1\n\ngoal (3 subgoals):\n 1. \\<And>E e\\<^sub>1 T\\<^sub>1 V C e\\<^sub>2 T\\<^sub>2 l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>1 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>1,b) \\<surd>;\n            \\<not> final e\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>1,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        \\<And>l.\n           \\<lbrakk>\\<D> e\\<^sub>2 \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e\\<^sub>2,b) \\<surd>;\n            \\<not> final e\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e\\<^sub>2,\n          (h, l, sh),b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P \\<turnstile> T\\<^sub>1 \\<le> T\\<^sub>2;\n        \\<D> (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (try e\\<^sub>1\n        catch(C V) e\\<^sub>2,b) \\<surd>;\n        \\<not> final (try e\\<^sub>1 catch(C V) e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>try e\\<^sub>1\n      catch(C V) e\\<^sub>2,(h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 3. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"final e1\""], ["proof (state)\nthis:\n  final e1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  final e1\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume \"e1 = Val v\""], ["proof (state)\nthis:\n  e1 = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e1 = Val v \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  e1 = Val v\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fast intro:RedTry)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "assume e1_Throw: \"e1 = Throw a\""], ["proof (state)\nthis:\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "with wt1"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  e1 = Throw a", "obtain D fs where ha: \"h a = Some(D,fs)\""], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  e1 = Throw a\n\ngoal (1 subgoal):\n 1. (\\<And>D fs.\n        h a = \\<lfloor>(D, fs)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  h a = \\<lfloor>(D, fs)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e1 = Throw a \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"P \\<turnstile> D \\<preceq>\\<^sup>* C\""], ["proof (state)\nthis:\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with e1_Throw ha"], ["proof (chain)\npicking this:\n  e1 = Throw a\n  h a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> D \\<preceq>\\<^sup>* C", "show ?thesis"], ["proof (prove)\nusing this:\n  e1 = Throw a\n  h a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!:RedTryCatch)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. (D, C) \\<notin> (subcls1 P)\\<^sup>* \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (D, C) \\<notin> (subcls1 P)\\<^sup>* \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"\\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C\""], ["proof (state)\nthis:\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. (D, C) \\<notin> (subcls1 P)\\<^sup>* \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with e1_Throw ha"], ["proof (chain)\npicking this:\n  e1 = Throw a\n  h a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*", "show ?thesis"], ["proof (prove)\nusing this:\n  e1 = Throw a\n  h a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!:RedTryFail)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume nf: \"\\<not> final e1\""], ["proof (state)\nthis:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e1", "have \"val_of e1 = None\""], ["proof (prove)\nusing this:\n  \\<not> final e1\n\ngoal (1 subgoal):\n 1. val_of e1 = None", "proof(cases e1)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e1; e1 = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e1; e1 = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e1; e1 = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e1;\n        e1 = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e1; e1 = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e1; e1 = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e1; e1 = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e1; e1 = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e1; e1 = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e1 = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e1;\n         e1 = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e1 = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e1 = None", "have \"P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e1 = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "using WTrtTry.prems(2)"], ["proof (prove)\nusing this:\n  val_of e1 = None\n  P,sh \\<turnstile>\\<^sub>b (try e1 catch(C V) e2,b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "by(simp add: bconf_Try)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e1 \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "with WTrtTry nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T1 \\<le> T2\n  \\<D> (try e1 catch(C V) e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (try e1 catch(C V) e2,b) \\<surd>\n  \\<not> final (try e1 catch(C V) e2)\n  \\<not> final e1\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e1 : T1\n  \\<lbrakk>\\<D> e1 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>; \\<not> final e1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e1,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E(V \\<mapsto> Class C),h,sh \\<turnstile> e2 : T2\n  \\<lbrakk>\\<D> e2 \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e2,b) \\<surd>; \\<not> final e2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e2,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P \\<turnstile> T1 \\<le> T2\n  \\<D> (try e1 catch(C V) e2) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (try e1 catch(C V) e2,b) \\<surd>\n  \\<not> final (try e1 catch(C V) e2)\n  \\<not> final e1\n  P,sh \\<turnstile>\\<^sub>b (e1,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by simp (fast intro:TryRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>try e1 catch(C V) e2,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtInit E e T\\<^sub>r C Cs b)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<forall>C'\\<in>set (C # Cs). is_class P C'\n  \\<not> sub_RI e\n  \\<forall>C'\\<in>set (tl Cs).\n     \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>\n  b \\<longrightarrow>\n  (\\<forall>C'\\<in>set Cs.\n      \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>)\n  distinct Cs\n  supercls_lst P Cs\n  \\<D> (INIT C (Cs,b) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,b) \\<leftarrow> e,b) \\<surd>\n  \\<not> final (INIT C (Cs,b) \\<leftarrow> e)\n\ngoal (2 subgoals):\n 1. \\<And>E e T C Cs ba l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e;\n        \\<forall>C'\\<in>set (tl Cs).\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        ba \\<longrightarrow>\n        (\\<forall>C'\\<in>set Cs.\n            \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>);\n        distinct Cs; supercls_lst P Cs;\n        \\<D> (INIT C (Cs,ba) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,ba) \\<leftarrow> e,b) \\<surd>;\n        \\<not> final (INIT C (Cs,ba) \\<leftarrow> e)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e' s' b'.\n                            P \\<turnstile> \\<langle>INIT C (Cs,ba) \\<leftarrow> e,\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e',s',b'\\<rangle>\n 2. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof(cases Cs)"], ["proof (state)\ngoal (2 subgoals):\n 1. Cs = [] \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "case Nil"], ["proof (state)\nthis:\n  Cs = []\n\ngoal (2 subgoals):\n 1. Cs = [] \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  Cs = []", "show ?thesis"], ["proof (prove)\nusing this:\n  Cs = []\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using WTrtInit"], ["proof (prove)\nusing this:\n  Cs = []\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  \\<forall>C'\\<in>set (C # Cs). is_class P C'\n  \\<not> sub_RI e\n  \\<forall>C'\\<in>set (tl Cs).\n     \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>\n  b \\<longrightarrow>\n  (\\<forall>C'\\<in>set Cs.\n      \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>)\n  distinct Cs\n  supercls_lst P Cs\n  \\<D> (INIT C (Cs,b) \\<leftarrow> e) \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (INIT C (Cs,b) \\<leftarrow> e,b) \\<surd>\n  \\<not> final (INIT C (Cs,b) \\<leftarrow> e)\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: RedInit)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "case (Cons C' Cs')"], ["proof (state)\nthis:\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof(cases b)"], ["proof (state)\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case True"], ["proof (state)\nthis:\n  b\n\ngoal (2 subgoals):\n 1. b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  b", "show ?thesis"], ["proof (prove)\nusing this:\n  b\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using Cons"], ["proof (prove)\nusing this:\n  b\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: RedInitRInit)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case False"], ["proof (state)\nthis:\n  \\<not> b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof(cases \"sh C'\")"], ["proof (state)\ngoal (2 subgoals):\n 1. sh C' = None \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       sh C' = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "case None"], ["proof (state)\nthis:\n  sh C' = None\n\ngoal (2 subgoals):\n 1. sh C' = None \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<And>a.\n       sh C' = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  sh C' = None", "show ?thesis"], ["proof (prove)\nusing this:\n  sh C' = None\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using False Cons"], ["proof (prove)\nusing this:\n  sh C' = None\n  \\<not> b\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: InitNoneRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       sh C' = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       sh C' = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "case (Some sfsi)"], ["proof (state)\nthis:\n  sh C' = \\<lfloor>sfsi\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       sh C' = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  sh C' = \\<lfloor>sfsi\\<rfloor>", "obtain sfs i where sfsi:\"sfsi = (sfs,i)\""], ["proof (prove)\nusing this:\n  sh C' = \\<lfloor>sfsi\\<rfloor>\n\ngoal (1 subgoal):\n 1. (\\<And>sfs i.\n        sfsi = (sfs, i) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(cases sfsi)"], ["proof (state)\nthis:\n  sfsi = (sfs, i)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       sh C' = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<exists>e' s' b'.\n          P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof(cases i)"], ["proof (state)\ngoal (4 subgoals):\n 1. i = Done \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Processing \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 3. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 4. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case Done"], ["proof (state)\nthis:\n  i = Done\n\ngoal (4 subgoals):\n 1. i = Done \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Processing \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 3. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 4. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i = Done", "show ?thesis"], ["proof (prove)\nusing this:\n  i = Done\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using False Some sfsi Cons"], ["proof (prove)\nusing this:\n  i = Done\n  \\<not> b\n  sh C' = \\<lfloor>sfsi\\<rfloor>\n  sfsi = (sfs, i)\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: RedInitDone)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (3 subgoals):\n 1. i = Processing \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 3. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. i = Processing \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 3. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case Processing"], ["proof (state)\nthis:\n  i = Processing\n\ngoal (3 subgoals):\n 1. i = Processing \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 3. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i = Processing", "show ?thesis"], ["proof (prove)\nusing this:\n  i = Processing\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using False Some sfsi Cons"], ["proof (prove)\nusing this:\n  i = Processing\n  \\<not> b\n  sh C' = \\<lfloor>sfsi\\<rfloor>\n  sfsi = (sfs, i)\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: RedInitProcessing)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (2 subgoals):\n 1. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case Error"], ["proof (state)\nthis:\n  i = Error\n\ngoal (2 subgoals):\n 1. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. i = Error \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i = Error", "show ?thesis"], ["proof (prove)\nusing this:\n  i = Error\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using False Some sfsi Cons"], ["proof (prove)\nusing this:\n  i = Error\n  \\<not> b\n  sh C' = \\<lfloor>sfsi\\<rfloor>\n  sfsi = (sfs, i)\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro!: RedInitError)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "case Prepared"], ["proof (state)\nthis:\n  i = Prepared\n\ngoal (1 subgoal):\n 1. i = Prepared \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"C' = Object\""], ["proof (state)\nthis:\n  C' = Object\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  C' = Object", "show ?thesis"], ["proof (prove)\nusing this:\n  C' = Object\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using False Some sfsi Prepared Cons"], ["proof (prove)\nusing this:\n  C' = Object\n  \\<not> b\n  sh C' = \\<lfloor>sfsi\\<rfloor>\n  sfsi = (sfs, i)\n  i = Prepared\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(fastforce intro: InitObjectRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. C' \\<noteq> Object \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. C' \\<noteq> Object \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "assume \"C' \\<noteq> Object\""], ["proof (state)\nthis:\n  C' \\<noteq> Object\n\ngoal (1 subgoal):\n 1. C' \\<noteq> Object \\<Longrightarrow>\n    \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  C' \\<noteq> Object", "show ?thesis"], ["proof (prove)\nusing this:\n  C' \\<noteq> Object\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "using False Some sfsi Prepared WTrtInit.hyps(3) Cons"], ["proof (prove)\nusing this:\n  C' \\<noteq> Object\n  \\<not> b\n  sh C' = \\<lfloor>sfsi\\<rfloor>\n  sfsi = (sfs, i)\n  i = Prepared\n  \\<forall>C'\\<in>set (C # Cs). is_class P C'\n  Cs = C' # Cs'\n\ngoal (1 subgoal):\n 1. \\<exists>e' s' b'.\n       P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e',s',b'\\<rangle>", "by(simp only: is_class_def)(fastforce intro!: InitNonObjectSuperRed)"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e' s' b'.\n     P \\<turnstile> \\<langle>INIT C (Cs,b) \\<leftarrow> e,(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e',s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "case (WTrtRI E e T\\<^sub>r e' T\\<^sub>r' C Cs)"], ["proof (state)\nthis:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e' : T\\<^sub>r'\n  \\<lbrakk>\\<D> e' \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>; \\<not> final e'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e'a s' b'.\n                       P \\<turnstile> \\<langle>e',(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e'a,s',b'\\<rangle>\n  \\<forall>C'\\<in>set (C # Cs). is_class P C'\n  \\<not> sub_RI e'\n  \\<forall>C'\\<in>set (C # Cs). not_init C' e\n  \\<forall>C'\\<in>set Cs.\n     \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>\n  \\<exists>sfs.\n     sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n     sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n     e = THROW NoClassDefFoundError\n  distinct (C # Cs)\n  supercls_lst P (C # Cs)\n  \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>\n  \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\n\ngoal (1 subgoal):\n 1. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "obtain sfs i where shC: \"sh C = \\<lfloor>(sfs, i)\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>sfs i.\n        sh C = \\<lfloor>(sfs, i)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using WTrtRI.hyps(9)"], ["proof (prove)\nusing this:\n  \\<exists>sfs.\n     sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n     sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n     e = THROW NoClassDefFoundError\n\ngoal (1 subgoal):\n 1. (\\<And>sfs i.\n        sh C = \\<lfloor>(sfs, i)\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  sh C = \\<lfloor>(sfs, i)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>E e T e' T' C Cs l.\n       \\<lbrakk>P,E,h,sh \\<turnstile> e : T;\n        \\<And>l.\n           \\<lbrakk>\\<D> e \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e' s' b'.\n                                P \\<turnstile> \\<langle>e,(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e',s',b'\\<rangle>;\n        P,E,h,sh \\<turnstile> e' : T';\n        \\<And>l.\n           \\<lbrakk>\\<D> e' \\<lfloor>dom l\\<rfloor>;\n            P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>;\n            \\<not> final e'\\<rbrakk>\n           \\<Longrightarrow> \\<exists>e'a s' b'.\n                                P \\<turnstile> \\<langle>e',(h, l, sh),\n          b\\<rangle> \\<rightarrow>\n         \\<langle>e'a,s',b'\\<rangle>;\n        \\<forall>C'\\<in>set (C # Cs). is_class P C'; \\<not> sub_RI e';\n        \\<forall>C'\\<in>set (C # Cs). not_init C' e;\n        \\<forall>C'\\<in>set Cs.\n           \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>;\n        \\<exists>sfs.\n           sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n           sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n           e = THROW NoClassDefFoundError;\n        distinct (C # Cs); supercls_lst P (C # Cs);\n        \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>;\n        P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>;\n        \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e'a s' b'.\n                            P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',\n      (h, l, sh),b\\<rangle> \\<rightarrow>\n     \\<langle>e'a,s',b'\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "assume fin: \"final e\""], ["proof (state)\nthis:\n  final e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  final e", "show ?thesis"], ["proof (prove)\nusing this:\n  final e\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "proof (rule finalE)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "fix v"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "assume e: \"e = Val v\""], ["proof (state)\nthis:\n  e = Val v\n\ngoal (2 subgoals):\n 1. \\<And>v.\n       e = Val v \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>\n 2. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e = Val v", "show ?thesis"], ["proof (prove)\nusing this:\n  e = Val v\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "using shC e"], ["proof (prove)\nusing this:\n  e = Val v\n  sh C = \\<lfloor>(sfs, i)\\<rfloor>\n  e = Val v\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "by(fast intro:RedRInit)"], ["proof (state)\nthis:\n  \\<exists>e'a s' b'.\n     P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e'a,s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "assume eThrow: \"e = Throw a\""], ["proof (state)\nthis:\n  e = Throw a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       e = Throw a \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "proof(cases Cs)"], ["proof (state)\ngoal (2 subgoals):\n 1. Cs = [] \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>\n 2. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "case Nil"], ["proof (state)\nthis:\n  Cs = []\n\ngoal (2 subgoals):\n 1. Cs = [] \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>\n 2. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  Cs = []", "show ?thesis"], ["proof (prove)\nusing this:\n  Cs = []\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "using eThrow shC"], ["proof (prove)\nusing this:\n  Cs = []\n  e = Throw a\n  sh C = \\<lfloor>(sfs, i)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "by(fastforce intro!: RInitThrow)"], ["proof (state)\nthis:\n  \\<exists>e'a s' b'.\n     P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e'a,s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "case Cons"], ["proof (state)\nthis:\n  Cs = a_ # list_\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       Cs = a # list \\<Longrightarrow>\n       \\<exists>e'a s' b'.\n          P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                          b\\<rangle> \\<rightarrow>\n                         \\<langle>e'a,s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  Cs = a_ # list_", "show ?thesis"], ["proof (prove)\nusing this:\n  Cs = a_ # list_\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "using eThrow shC"], ["proof (prove)\nusing this:\n  Cs = a_ # list_\n  e = Throw a\n  sh C = \\<lfloor>(sfs, i)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "by(fastforce intro!: RInitInitThrow)"], ["proof (state)\nthis:\n  \\<exists>e'a s' b'.\n     P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e'a,s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e'a s' b'.\n     P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e'a,s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e'a s' b'.\n     P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e'a,s',b'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "assume nf: \"\\<not> final e\""], ["proof (state)\nthis:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<not> final e", "have \"val_of e = None\""], ["proof (prove)\nusing this:\n  \\<not> final e\n\ngoal (1 subgoal):\n 1. val_of e = None", "proof(cases e)"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<not> final e; e = new x1\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 2. \\<And>x21 x22.\n       \\<lbrakk>\\<not> final e; e = Cast x21 x22\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 3. \\<And>x3.\n       \\<lbrakk>\\<not> final e; e = Val x3\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 4. \\<And>x41 x42 x43.\n       \\<lbrakk>\\<not> final e;\n        e = x41 \\<guillemotleft>x42\\<guillemotright> x43\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 5. \\<And>x5.\n       \\<lbrakk>\\<not> final e; e = Var x5\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 6. \\<And>x61 x62.\n       \\<lbrakk>\\<not> final e; e = x61:=x62\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<not> final e; e = x71\\<bullet>x72{x73}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 8. \\<And>x81 x82 x83.\n       \\<lbrakk>\\<not> final e; e = x81\\<bullet>\\<^sub>sx82{x83}\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 9. \\<And>x91 x92 x93 x94.\n       \\<lbrakk>\\<not> final e; e = x91\\<bullet>x92{x93} := x94\\<rbrakk>\n       \\<Longrightarrow> val_of e = None\n 10. \\<And>x101 x102 x103 x104.\n        \\<lbrakk>\\<not> final e;\n         e = x101\\<bullet>\\<^sub>sx102{x103} := x104\\<rbrakk>\n        \\<Longrightarrow> val_of e = None\nA total of 20 subgoals...", "qed(auto)"], ["proof (state)\nthis:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  val_of e = None", "have \"P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\""], ["proof (prove)\nusing this:\n  val_of e = None\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "using WTrtRI.prems(2)"], ["proof (prove)\nusing this:\n  val_of e = None\n  P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>\n\ngoal (1 subgoal):\n 1. P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "by(simp add: bconf_RI)"], ["proof (state)\nthis:\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<not> final e \\<Longrightarrow>\n    \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "with WTrtRI nf"], ["proof (chain)\npicking this:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e' : T\\<^sub>r'\n  \\<lbrakk>\\<D> e' \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>; \\<not> final e'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e'a s' b'.\n                       P \\<turnstile> \\<langle>e',(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e'a,s',b'\\<rangle>\n  \\<forall>C'\\<in>set (C # Cs). is_class P C'\n  \\<not> sub_RI e'\n  \\<forall>C'\\<in>set (C # Cs). not_init C' e\n  \\<forall>C'\\<in>set Cs.\n     \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>\n  \\<exists>sfs.\n     sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n     sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n     e = THROW NoClassDefFoundError\n  distinct (C # Cs)\n  supercls_lst P (C # Cs)\n  \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>\n  \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,h,sh \\<turnstile> e : T\\<^sub>r\n  \\<lbrakk>\\<D> e \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>; \\<not> final e\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e' s' b'.\n                       P \\<turnstile> \\<langle>e,(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e',s',b'\\<rangle>\n  P,E,h,sh \\<turnstile> e' : T\\<^sub>r'\n  \\<lbrakk>\\<D> e' \\<lfloor>dom ?l\\<rfloor>;\n   P,sh \\<turnstile>\\<^sub>b (e',b) \\<surd>; \\<not> final e'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>e'a s' b'.\n                       P \\<turnstile> \\<langle>e',(h, ?l, sh),\n b\\<rangle> \\<rightarrow>\n\\<langle>e'a,s',b'\\<rangle>\n  \\<forall>C'\\<in>set (C # Cs). is_class P C'\n  \\<not> sub_RI e'\n  \\<forall>C'\\<in>set (C # Cs). not_init C' e\n  \\<forall>C'\\<in>set Cs.\n     \\<exists>sfs. sh C' = \\<lfloor>(sfs, Processing)\\<rfloor>\n  \\<exists>sfs.\n     sh C = \\<lfloor>(sfs, Processing)\\<rfloor> \\<or>\n     sh C = \\<lfloor>(sfs, Error)\\<rfloor> \\<and>\n     e = THROW NoClassDefFoundError\n  distinct (C # Cs)\n  supercls_lst P (C # Cs)\n  \\<D> (RI (C,e) ; Cs \\<leftarrow> e') \\<lfloor>dom l\\<rfloor>\n  P,sh \\<turnstile>\\<^sub>b (RI (C,e) ; Cs \\<leftarrow> e',b) \\<surd>\n  \\<not> final (RI (C,e) ; Cs \\<leftarrow> e')\n  \\<not> final e\n  P,sh \\<turnstile>\\<^sub>b (e,b) \\<surd>\n\ngoal (1 subgoal):\n 1. \\<exists>e'a s' b'.\n       P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                       b\\<rangle> \\<rightarrow>\n                      \\<langle>e'a,s',b'\\<rangle>", "by simp (meson red_reds.RInitRed)"], ["proof (state)\nthis:\n  \\<exists>e'a s' b'.\n     P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e'a,s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>e'a s' b'.\n     P \\<turnstile> \\<langle>RI (C,e) ; Cs \\<leftarrow> e',(h, l, sh),\n                     b\\<rangle> \\<rightarrow>\n                    \\<langle>e'a,s',b'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "end"]]}